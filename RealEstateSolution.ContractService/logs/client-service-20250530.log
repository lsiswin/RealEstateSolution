2025-05-30 11:49:38.184 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-30 11:49:38.862 +08:00 [INF] Now listening on: https://localhost:5004
2025-05-30 11:49:39.442 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 11:49:39.618 +08:00 [INF] Hosting environment: Development
2025-05-30 11:49:39.730 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.ContractService
2025-05-30 11:49:41.338 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5004/_framework/aspnetcore-browser-refresh.js - null null
2025-05-30 11:49:41.500 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5004/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 160.4312ms
2025-05-30 11:49:42.180 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5004/_vs/browserLink - null null
2025-05-30 11:49:42.898 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5004/_vs/browserLink - 200 null text/javascript; charset=UTF-8 719.7888ms
2025-05-30 11:49:43.824 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5004/swagger/v1/swagger.json - null null
2025-05-30 11:49:44.065 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 240.2794ms
2025-05-30 11:50:20.205 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetContracts?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 11:50:20.247 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:50:20.250 +08:00 [INF] 请求路径: /api/contract/GetContracts
2025-05-30 11:50:20.251 +08:00 [INF] 请求方法: GET
2025-05-30 11:50:20.253 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:50:20.254 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 11:50:20.255 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:50:20.257 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:50:20.258 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:50:20.259 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMjFkYzA1MjYtZmYxOS00ZTI5LThlNWMtOTI5OThmMTM2OGRhIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzc2MDEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.DLrbDiLxi48wUnP_ebrJK2p2UaD1MgEGoj-ZPRzFse0
2025-05-30 11:50:20.261 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:50:20.262 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:50:20.263 +08:00 [INF] 请求头: traceparent = 00-ae533d2f1fe255070ec09333ff1bca9f-cfb1feeb834a2de6-00
2025-05-30 11:50:20.264 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:50:20.266 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:50:20.267 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:50:20.268 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:50:20.270 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:50:20.272 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:50:20.273 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:50:20.274 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:50:20.276 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:50:20.277 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:50:20.323 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:50:20.324 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:50:20.326 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:50:20.327 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:50:20.329 +08:00 [INF] JWT Claim: jti = 21dc0526-ff19-4e29-8e5c-92998f1368da
2025-05-30 11:50:20.330 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:50:20.331 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:50:20.333 +08:00 [INF] JWT Claim: exp = 1748577601
2025-05-30 11:50:20.334 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:50:20.335 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:50:20.337 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:50:20.431 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10503: Signature validation failed. Token does not have a kid. Keys tried: '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-30 11:50:20.435 +08:00 [ERR] JWT认证失败: IDX10503: Signature validation failed. Token does not have a kid. Keys tried: '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-05-30 11:50:20.440 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10503: Signature validation failed. Token does not have a kid. Keys tried: '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-05-30 11:50:20.475 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin|broker)
2025-05-30 11:50:20.480 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-05-30 11:50:20.490 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetContracts?keyword=&pageIndex=1&pageSize=10 - 401 0 null 284.3322ms
2025-05-30 11:50:37.408 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5004/api/Contract/GetContracts - null null
2025-05-30 11:50:37.415 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:50:37.416 +08:00 [INF] 请求路径: /api/Contract/GetContracts
2025-05-30 11:50:37.417 +08:00 [INF] 请求方法: GET
2025-05-30 11:50:37.418 +08:00 [INF] 请求头: Accept = text/plain
2025-05-30 11:50:37.421 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 11:50:37.423 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:50:37.424 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:50:37.426 +08:00 [INF] 请求头: Accept-Language = zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6
2025-05-30 11:50:37.428 +08:00 [INF] 请求头: Referer = https://localhost:5004/swagger/index.html
2025-05-30 11:50:37.429 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:50:37.431 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:50:37.432 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:50:37.434 +08:00 [INF] 请求头: sec-fetch-site = same-origin
2025-05-30 11:50:37.435 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:50:37.436 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:50:37.437 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:50:37.439 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:50:37.440 +08:00 [INF] 未检测到Authorization头部
2025-05-30 11:50:37.441 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:50:37.448 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin|broker)
2025-05-30 11:50:37.450 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-05-30 11:50:37.452 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5004/api/Contract/GetContracts - 401 0 null 43.8457ms
2025-05-30 11:51:21.960 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5004/api/Contract/GetContracts - null null
2025-05-30 11:51:21.982 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:51:21.983 +08:00 [INF] 请求路径: /api/Contract/GetContracts
2025-05-30 11:51:21.985 +08:00 [INF] 请求方法: GET
2025-05-30 11:51:21.986 +08:00 [INF] 请求头: Accept = text/plain
2025-05-30 11:51:21.988 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 11:51:21.989 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:51:21.991 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:51:21.992 +08:00 [INF] 请求头: Accept-Language = zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6
2025-05-30 11:51:21.993 +08:00 [INF] 请求头: Referer = https://localhost:5004/swagger/index.html
2025-05-30 11:51:21.995 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:51:21.996 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:51:21.998 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:51:21.999 +08:00 [INF] 请求头: sec-fetch-site = same-origin
2025-05-30 11:51:22.000 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:51:22.001 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:51:22.002 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:51:22.004 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:51:22.005 +08:00 [INF] 未检测到Authorization头部
2025-05-30 11:51:22.006 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:51:22.009 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin|broker)
2025-05-30 11:51:22.010 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-05-30 11:51:22.012 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5004/api/Contract/GetContracts - 401 0 null 51.7582ms
2025-05-30 11:51:31.928 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetContracts?pageIndex=1&pageSize=10 - null 0
2025-05-30 11:51:31.931 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:51:31.932 +08:00 [INF] 请求路径: /api/contract/GetContracts
2025-05-30 11:51:31.933 +08:00 [INF] 请求方法: GET
2025-05-30 11:51:31.934 +08:00 [INF] 请求头: Accept = */*
2025-05-30 11:51:31.935 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-30 11:51:31.936 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 11:51:31.937 +08:00 [INF] 请求头: User-Agent = Apifox/1.0.0 (https://apifox.com)
2025-05-30 11:51:31.938 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br
2025-05-30 11:51:31.940 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZTNjZGI3MzEtODJlZC00ZDIyLWIyMjEtN2RkZDY4NDBiN2E4IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzc2NTksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.a0ckygbKXB77EJqPIl358QW917vABm3vzuUQy0irZ3o
2025-05-30 11:51:31.941 +08:00 [INF] 请求头: traceparent = 00-aed0ad28d777e538de8d15b7354fe947-2ae496c5c7c70bb6-00
2025-05-30 11:51:31.942 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:51:31.944 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:51:31.945 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:51:31.945 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:51:31.946 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:51:31.947 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:51:31.949 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:51:31.950 +08:00 [INF] JWT Claim: jti = e3cdb731-82ed-4d22-b221-7ddd6840b7a8
2025-05-30 11:51:31.951 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:51:31.952 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:51:31.954 +08:00 [INF] JWT Claim: exp = 1748577659
2025-05-30 11:51:31.956 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:51:31.957 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:51:31.958 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:51:31.961 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10503: Signature validation failed. Token does not have a kid. Keys tried: '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-30 11:51:31.963 +08:00 [ERR] JWT认证失败: IDX10503: Signature validation failed. Token does not have a kid. Keys tried: '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-05-30 11:51:31.964 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10503: Signature validation failed. Token does not have a kid. Keys tried: '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-05-30 11:51:31.965 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin|broker)
2025-05-30 11:51:31.966 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-05-30 11:51:31.967 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetContracts?pageIndex=1&pageSize=10 - 401 0 null 39.612ms
2025-05-30 11:51:37.231 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetContracts - null 0
2025-05-30 11:51:37.234 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:51:37.235 +08:00 [INF] 请求路径: /api/contract/GetContracts
2025-05-30 11:51:37.236 +08:00 [INF] 请求方法: GET
2025-05-30 11:51:37.237 +08:00 [INF] 请求头: Accept = */*
2025-05-30 11:51:37.238 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-30 11:51:37.239 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 11:51:37.240 +08:00 [INF] 请求头: User-Agent = Apifox/1.0.0 (https://apifox.com)
2025-05-30 11:51:37.241 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br
2025-05-30 11:51:37.242 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZTNjZGI3MzEtODJlZC00ZDIyLWIyMjEtN2RkZDY4NDBiN2E4IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzc2NTksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.a0ckygbKXB77EJqPIl358QW917vABm3vzuUQy0irZ3o
2025-05-30 11:51:37.243 +08:00 [INF] 请求头: traceparent = 00-5286f1a04aa54db1675a9c4060ecdcaa-5fc55ce542ea8ee2-00
2025-05-30 11:51:37.245 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:51:37.246 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:51:37.247 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:51:37.248 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:51:37.249 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:51:37.250 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:51:37.251 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:51:37.252 +08:00 [INF] JWT Claim: jti = e3cdb731-82ed-4d22-b221-7ddd6840b7a8
2025-05-30 11:51:37.253 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:51:37.254 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:51:37.255 +08:00 [INF] JWT Claim: exp = 1748577659
2025-05-30 11:51:37.256 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:51:37.257 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:51:37.258 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:51:37.260 +08:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10503: Signature validation failed. Token does not have a kid. Keys tried: '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-30 11:51:37.262 +08:00 [ERR] JWT认证失败: IDX10503: Signature validation failed. Token does not have a kid. Keys tried: '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-05-30 11:51:37.263 +08:00 [INF] Bearer was not authenticated. Failure message: IDX10503: Signature validation failed. Token does not have a kid. Keys tried: '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-05-30 11:51:37.264 +08:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin|broker)
2025-05-30 11:51:37.265 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-05-30 11:51:37.266 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetContracts - 401 0 null 34.7891ms
2025-05-30 11:52:20.731 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-30 11:52:20.951 +08:00 [INF] Now listening on: https://localhost:5004
2025-05-30 11:52:21.077 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 11:52:21.080 +08:00 [INF] Hosting environment: Development
2025-05-30 11:52:21.082 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.ContractService
2025-05-30 11:52:21.445 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5004/_framework/aspnetcore-browser-refresh.js - null null
2025-05-30 11:52:21.476 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5004/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 37.5732ms
2025-05-30 11:52:21.650 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5004/_vs/browserLink - null null
2025-05-30 11:52:21.746 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5004/_vs/browserLink - 200 null text/javascript; charset=UTF-8 97.4656ms
2025-05-30 11:52:21.937 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5004/swagger/v1/swagger.json - null null
2025-05-30 11:52:22.006 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 69.3018ms
2025-05-30 11:53:59.600 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-30 11:54:00.054 +08:00 [INF] Now listening on: https://localhost:5004
2025-05-30 11:54:00.259 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 11:54:00.264 +08:00 [INF] Hosting environment: Development
2025-05-30 11:54:00.266 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.ContractService
2025-05-30 11:54:02.836 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5004/_framework/aspnetcore-browser-refresh.js - null null
2025-05-30 11:54:02.837 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5004/_vs/browserLink - null null
2025-05-30 11:54:02.996 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5004/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 163.9051ms
2025-05-30 11:54:03.262 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5004/_vs/browserLink - 200 null text/javascript; charset=UTF-8 431.8633ms
2025-05-30 11:54:04.397 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5004/swagger/v1/swagger.json - null null
2025-05-30 11:54:04.455 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 58.2179ms
2025-05-30 11:54:19.157 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetContracts?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 11:54:19.211 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:54:19.215 +08:00 [INF] 请求路径: /api/contract/GetContracts
2025-05-30 11:54:19.216 +08:00 [INF] 请求方法: GET
2025-05-30 11:54:19.218 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:54:19.220 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 11:54:19.221 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:54:19.223 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:54:19.225 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:54:19.226 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZTgzMDVmNzYtOTEwYi00NDgzLWJmZDktYmMyNmM2NDA1MTU0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzc2MjIsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.78M2kpXAG7oxQJTIOgv1n84vS8q2FIHHzzRvca_SHZQ
2025-05-30 11:54:19.228 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:54:19.229 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:54:19.231 +08:00 [INF] 请求头: traceparent = 00-214e34aab747314c2fd0a7e6ba0440ae-7dbfa397bb571e2a-00
2025-05-30 11:54:19.232 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:54:19.234 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:54:19.235 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:54:19.237 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:54:19.239 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:54:19.240 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:54:19.241 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:54:19.243 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:54:19.244 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:54:19.245 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:54:19.296 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:54:19.298 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:54:19.300 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:54:19.301 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:54:19.303 +08:00 [INF] JWT Claim: jti = e8305f76-910b-4483-bfd9-bc26c6405154
2025-05-30 11:54:19.304 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:54:19.306 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:54:19.307 +08:00 [INF] JWT Claim: exp = 1748577622
2025-05-30 11:54:19.309 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:54:19.310 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:54:19.311 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:54:19.404 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:54:19.440 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContracts (RealEstateSolution.ContractService)'
2025-05-30 11:54:19.473 +08:00 [INF] Route matched with {action = "GetContracts", controller = "Contract"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractDto]]] GetContracts(RealEstateSolution.ContractService.Models.ContractQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractController (RealEstateSolution.ContractService).
2025-05-30 11:54:20.304 +08:00 [WRN] No store type was specified for the decimal property 'MaxArea' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 11:54:20.307 +08:00 [WRN] No store type was specified for the decimal property 'MaxPrice' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 11:54:20.308 +08:00 [WRN] No store type was specified for the decimal property 'MinArea' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 11:54:20.309 +08:00 [WRN] No store type was specified for the decimal property 'MinPrice' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 11:54:20.310 +08:00 [WRN] No store type was specified for the decimal property 'Area' on entity type 'Property'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 11:54:20.311 +08:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Property'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 11:54:25.161 +08:00 [ERR] Failed executing DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Amount], [c].[Content], [c].[ContractNumber], [c].[CreatedAt], [c].[CreatedBy], [c].[EffectiveDate], [c].[ExpiryDate], [c].[IsDeleted], [c].[Notes], [c].[PartyAId], [c].[PartyBId], [c].[PropertyId], [c].[SignDate], [c].[Status], [c].[Title], [c].[Type], [c].[UpdatedAt], [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime], [c0].[Id], [c0].[Address], [c0].[CreateTime], [c0].[Email], [c0].[Name], [c0].[Phone], [c0].[Source], [c0].[Status], [c0].[Type], [c0].[UpdateTime], [c1].[Id], [c1].[Address], [c1].[CreateTime], [c1].[Email], [c1].[Name], [c1].[Phone], [c1].[Source], [c1].[Status], [c1].[Type], [c1].[UpdateTime]
FROM [Contracts] AS [c]
INNER JOIN [Properties] AS [p] ON [c].[PropertyId] = [p].[Id]
INNER JOIN [Clients] AS [c0] ON [c].[PartyAId] = [c0].[Id]
INNER JOIN [Clients] AS [c1] ON [c].[PartyBId] = [c1].[Id]
WHERE [c].[IsDeleted] = CAST(0 AS bit)
2025-05-30 11:54:25.196 +08:00 [ERR] An exception occurred while iterating over the results of a query for context type 'RealEstateSolution.ContractService.Data.ContractDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): 对象名 'Properties' 无效。
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:4a04f416-a40d-4df8-904f-e67efa3a120b
Error Number:208,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): 对象名 'Properties' 无效。
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:4a04f416-a40d-4df8-904f-e67efa3a120b
Error Number:208,State:1,Class:16
2025-05-30 11:54:25.263 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:54:25.299 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractController.GetContracts (RealEstateSolution.ContractService) in 5818.6655ms
2025-05-30 11:54:25.302 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContracts (RealEstateSolution.ContractService)'
2025-05-30 11:54:25.314 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetContracts?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 6156.5785ms
2025-05-30 11:55:43.674 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetContracts?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 11:55:43.677 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:55:43.678 +08:00 [INF] 请求路径: /api/contract/GetContracts
2025-05-30 11:55:43.678 +08:00 [INF] 请求方法: GET
2025-05-30 11:55:43.679 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:55:43.680 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 11:55:43.681 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:55:43.682 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:55:43.683 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:55:43.684 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZTgzMDVmNzYtOTEwYi00NDgzLWJmZDktYmMyNmM2NDA1MTU0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzc2MjIsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.78M2kpXAG7oxQJTIOgv1n84vS8q2FIHHzzRvca_SHZQ
2025-05-30 11:55:43.685 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:55:43.686 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:55:43.687 +08:00 [INF] 请求头: traceparent = 00-d815182364d14c79e43debc4dbadcfec-303ff8db3de6a9d7-00
2025-05-30 11:55:43.688 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:55:43.689 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:55:43.690 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:55:43.692 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:55:43.693 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:55:43.694 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:55:43.695 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:55:43.696 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:55:43.697 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:55:43.698 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:55:43.699 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:55:43.701 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:55:43.702 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:55:43.703 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:55:43.704 +08:00 [INF] JWT Claim: jti = e8305f76-910b-4483-bfd9-bc26c6405154
2025-05-30 11:55:43.705 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:55:43.706 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:55:43.707 +08:00 [INF] JWT Claim: exp = 1748577622
2025-05-30 11:55:43.708 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:55:43.709 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:55:43.710 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:55:43.713 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:55:43.717 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContracts (RealEstateSolution.ContractService)'
2025-05-30 11:55:43.719 +08:00 [INF] Route matched with {action = "GetContracts", controller = "Contract"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractDto]]] GetContracts(RealEstateSolution.ContractService.Models.ContractQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractController (RealEstateSolution.ContractService).
2025-05-30 11:55:45.731 +08:00 [ERR] Failed executing DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Amount], [c].[Content], [c].[ContractNumber], [c].[CreatedAt], [c].[CreatedBy], [c].[EffectiveDate], [c].[ExpiryDate], [c].[IsDeleted], [c].[Notes], [c].[PartyAId], [c].[PartyBId], [c].[PropertyId], [c].[SignDate], [c].[Status], [c].[Title], [c].[Type], [c].[UpdatedAt], [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime], [c0].[Id], [c0].[Address], [c0].[CreateTime], [c0].[Email], [c0].[Name], [c0].[Phone], [c0].[Source], [c0].[Status], [c0].[Type], [c0].[UpdateTime], [c1].[Id], [c1].[Address], [c1].[CreateTime], [c1].[Email], [c1].[Name], [c1].[Phone], [c1].[Source], [c1].[Status], [c1].[Type], [c1].[UpdateTime]
FROM [Contracts] AS [c]
INNER JOIN [Properties] AS [p] ON [c].[PropertyId] = [p].[Id]
INNER JOIN [Clients] AS [c0] ON [c].[PartyAId] = [c0].[Id]
INNER JOIN [Clients] AS [c1] ON [c].[PartyBId] = [c1].[Id]
WHERE [c].[IsDeleted] = CAST(0 AS bit)
2025-05-30 11:55:45.734 +08:00 [ERR] An exception occurred while iterating over the results of a query for context type 'RealEstateSolution.ContractService.Data.ContractDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): 对象名 'Properties' 无效。
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:4a04f416-a40d-4df8-904f-e67efa3a120b
Error Number:208,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): 对象名 'Properties' 无效。
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:4a04f416-a40d-4df8-904f-e67efa3a120b
Error Number:208,State:1,Class:16
2025-05-30 11:55:45.775 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:55:45.777 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractController.GetContracts (RealEstateSolution.ContractService) in 2055.8067ms
2025-05-30 11:55:45.778 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContracts (RealEstateSolution.ContractService)'
2025-05-30 11:55:45.779 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetContracts?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 2105.3157ms
2025-05-30 11:55:57.385 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetContracts?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 11:55:57.387 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:55:57.388 +08:00 [INF] 请求路径: /api/contract/GetContracts
2025-05-30 11:55:57.389 +08:00 [INF] 请求方法: GET
2025-05-30 11:55:57.390 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:55:57.391 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 11:55:57.392 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:55:57.393 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:55:57.394 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:55:57.396 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZTgzMDVmNzYtOTEwYi00NDgzLWJmZDktYmMyNmM2NDA1MTU0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzc2MjIsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.78M2kpXAG7oxQJTIOgv1n84vS8q2FIHHzzRvca_SHZQ
2025-05-30 11:55:57.397 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:55:57.398 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:55:57.400 +08:00 [INF] 请求头: traceparent = 00-a062cdddf506346deb443463a9440863-21a1332c35e712cc-00
2025-05-30 11:55:57.401 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:55:57.402 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:55:57.403 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:55:57.404 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:55:57.406 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:55:57.407 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:55:57.408 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:55:57.409 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:55:57.410 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:55:57.411 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:55:57.412 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:55:57.414 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:55:57.415 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:55:57.416 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:55:57.417 +08:00 [INF] JWT Claim: jti = e8305f76-910b-4483-bfd9-bc26c6405154
2025-05-30 11:55:57.418 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:55:57.419 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:55:57.420 +08:00 [INF] JWT Claim: exp = 1748577622
2025-05-30 11:55:57.423 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:55:57.425 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:55:57.427 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:55:57.431 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:55:57.434 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContracts (RealEstateSolution.ContractService)'
2025-05-30 11:55:57.436 +08:00 [INF] Route matched with {action = "GetContracts", controller = "Contract"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractDto]]] GetContracts(RealEstateSolution.ContractService.Models.ContractQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractController (RealEstateSolution.ContractService).
2025-05-30 11:55:59.524 +08:00 [ERR] Failed executing DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Amount], [c].[Content], [c].[ContractNumber], [c].[CreatedAt], [c].[CreatedBy], [c].[EffectiveDate], [c].[ExpiryDate], [c].[IsDeleted], [c].[Notes], [c].[PartyAId], [c].[PartyBId], [c].[PropertyId], [c].[SignDate], [c].[Status], [c].[Title], [c].[Type], [c].[UpdatedAt], [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime], [c0].[Id], [c0].[Address], [c0].[CreateTime], [c0].[Email], [c0].[Name], [c0].[Phone], [c0].[Source], [c0].[Status], [c0].[Type], [c0].[UpdateTime], [c1].[Id], [c1].[Address], [c1].[CreateTime], [c1].[Email], [c1].[Name], [c1].[Phone], [c1].[Source], [c1].[Status], [c1].[Type], [c1].[UpdateTime]
FROM [Contracts] AS [c]
INNER JOIN [Properties] AS [p] ON [c].[PropertyId] = [p].[Id]
INNER JOIN [Clients] AS [c0] ON [c].[PartyAId] = [c0].[Id]
INNER JOIN [Clients] AS [c1] ON [c].[PartyBId] = [c1].[Id]
WHERE [c].[IsDeleted] = CAST(0 AS bit)
2025-05-30 11:55:59.528 +08:00 [ERR] An exception occurred while iterating over the results of a query for context type 'RealEstateSolution.ContractService.Data.ContractDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): 对象名 'Properties' 无效。
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:4a04f416-a40d-4df8-904f-e67efa3a120b
Error Number:208,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): 对象名 'Properties' 无效。
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:4a04f416-a40d-4df8-904f-e67efa3a120b
Error Number:208,State:1,Class:16
2025-05-30 11:56:06.537 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:56:06.539 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractController.GetContracts (RealEstateSolution.ContractService) in 9100.4877ms
2025-05-30 11:56:06.541 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContracts (RealEstateSolution.ContractService)'
2025-05-30 11:56:06.542 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetContracts?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 9157.1527ms
2025-05-30 11:56:09.588 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetContracts?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 11:56:09.591 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:56:09.591 +08:00 [INF] 请求路径: /api/contract/GetContracts
2025-05-30 11:56:09.592 +08:00 [INF] 请求方法: GET
2025-05-30 11:56:09.593 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:56:09.594 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 11:56:09.596 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:56:09.597 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:56:09.598 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:56:09.599 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZTgzMDVmNzYtOTEwYi00NDgzLWJmZDktYmMyNmM2NDA1MTU0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzc2MjIsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.78M2kpXAG7oxQJTIOgv1n84vS8q2FIHHzzRvca_SHZQ
2025-05-30 11:56:09.600 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:56:09.601 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:56:09.602 +08:00 [INF] 请求头: traceparent = 00-6eed09852b248f84b47c4caf3fc76fb2-166de818af80bf1e-00
2025-05-30 11:56:09.603 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:56:09.604 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:56:09.605 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:56:09.606 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:56:09.607 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:56:09.608 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:56:09.609 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:56:09.610 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:56:09.611 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:56:09.611 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:56:09.612 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:56:09.613 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:56:09.614 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:56:09.615 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:56:09.616 +08:00 [INF] JWT Claim: jti = e8305f76-910b-4483-bfd9-bc26c6405154
2025-05-30 11:56:09.617 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:56:09.618 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:56:09.619 +08:00 [INF] JWT Claim: exp = 1748577622
2025-05-30 11:56:09.620 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:56:09.621 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:56:09.622 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:56:09.623 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:56:09.624 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContracts (RealEstateSolution.ContractService)'
2025-05-30 11:56:09.625 +08:00 [INF] Route matched with {action = "GetContracts", controller = "Contract"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractDto]]] GetContracts(RealEstateSolution.ContractService.Models.ContractQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractController (RealEstateSolution.ContractService).
2025-05-30 11:56:32.111 +08:00 [ERR] Failed executing DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Amount], [c].[Content], [c].[ContractNumber], [c].[CreatedAt], [c].[CreatedBy], [c].[EffectiveDate], [c].[ExpiryDate], [c].[IsDeleted], [c].[Notes], [c].[PartyAId], [c].[PartyBId], [c].[PropertyId], [c].[SignDate], [c].[Status], [c].[Title], [c].[Type], [c].[UpdatedAt], [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime], [c0].[Id], [c0].[Address], [c0].[CreateTime], [c0].[Email], [c0].[Name], [c0].[Phone], [c0].[Source], [c0].[Status], [c0].[Type], [c0].[UpdateTime], [c1].[Id], [c1].[Address], [c1].[CreateTime], [c1].[Email], [c1].[Name], [c1].[Phone], [c1].[Source], [c1].[Status], [c1].[Type], [c1].[UpdateTime]
FROM [Contracts] AS [c]
INNER JOIN [Properties] AS [p] ON [c].[PropertyId] = [p].[Id]
INNER JOIN [Clients] AS [c0] ON [c].[PartyAId] = [c0].[Id]
INNER JOIN [Clients] AS [c1] ON [c].[PartyBId] = [c1].[Id]
WHERE [c].[IsDeleted] = CAST(0 AS bit)
2025-05-30 11:56:32.114 +08:00 [ERR] An exception occurred while iterating over the results of a query for context type 'RealEstateSolution.ContractService.Data.ContractDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): 对象名 'Properties' 无效。
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:4a04f416-a40d-4df8-904f-e67efa3a120b
Error Number:208,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): 对象名 'Properties' 无效。
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:4a04f416-a40d-4df8-904f-e67efa3a120b
Error Number:208,State:1,Class:16
2025-05-30 11:56:46.320 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:56:46.325 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractController.GetContracts (RealEstateSolution.ContractService) in 36698.953ms
2025-05-30 11:56:46.327 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContracts (RealEstateSolution.ContractService)'
2025-05-30 11:56:46.329 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetContracts?keyword=&pageIndex=1&pageSize=10 - 499 null application/json; charset=utf-8 36740.7601ms
2025-05-30 11:59:04.971 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetContracts?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 11:59:04.984 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:59:04.986 +08:00 [INF] 请求路径: /api/contract/GetContracts
2025-05-30 11:59:04.987 +08:00 [INF] 请求方法: GET
2025-05-30 11:59:04.988 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:59:04.989 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 11:59:04.990 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:59:04.992 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:59:04.993 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:59:04.994 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZTgzMDVmNzYtOTEwYi00NDgzLWJmZDktYmMyNmM2NDA1MTU0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzc2MjIsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.78M2kpXAG7oxQJTIOgv1n84vS8q2FIHHzzRvca_SHZQ
2025-05-30 11:59:04.995 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:59:04.996 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:59:04.997 +08:00 [INF] 请求头: traceparent = 00-e0b0da9df9523b5c3a45174b9e31f884-662955fa0cd79639-00
2025-05-30 11:59:04.999 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:59:05.001 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:59:05.002 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:59:05.003 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:59:05.004 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:59:05.005 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:59:05.006 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:59:05.007 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:59:05.009 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:59:05.009 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:59:05.010 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:59:05.011 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:59:05.012 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:59:05.013 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:59:05.014 +08:00 [INF] JWT Claim: jti = e8305f76-910b-4483-bfd9-bc26c6405154
2025-05-30 11:59:05.015 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:59:05.016 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:59:05.017 +08:00 [INF] JWT Claim: exp = 1748577622
2025-05-30 11:59:05.018 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:59:05.019 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:59:05.020 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:59:05.021 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:59:05.022 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContracts (RealEstateSolution.ContractService)'
2025-05-30 11:59:05.023 +08:00 [INF] Route matched with {action = "GetContracts", controller = "Contract"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractDto]]] GetContracts(RealEstateSolution.ContractService.Models.ContractQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractController (RealEstateSolution.ContractService).
2025-05-30 11:59:46.973 +08:00 [ERR] Failed executing DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Amount], [c].[Content], [c].[ContractNumber], [c].[CreatedAt], [c].[CreatedBy], [c].[EffectiveDate], [c].[ExpiryDate], [c].[IsDeleted], [c].[Notes], [c].[PartyAId], [c].[PartyBId], [c].[PropertyId], [c].[SignDate], [c].[Status], [c].[Title], [c].[Type], [c].[UpdatedAt], [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime], [c0].[Id], [c0].[Address], [c0].[CreateTime], [c0].[Email], [c0].[Name], [c0].[Phone], [c0].[Source], [c0].[Status], [c0].[Type], [c0].[UpdateTime], [c1].[Id], [c1].[Address], [c1].[CreateTime], [c1].[Email], [c1].[Name], [c1].[Phone], [c1].[Source], [c1].[Status], [c1].[Type], [c1].[UpdateTime]
FROM [Contracts] AS [c]
INNER JOIN [Properties] AS [p] ON [c].[PropertyId] = [p].[Id]
INNER JOIN [Clients] AS [c0] ON [c].[PartyAId] = [c0].[Id]
INNER JOIN [Clients] AS [c1] ON [c].[PartyBId] = [c1].[Id]
WHERE [c].[IsDeleted] = CAST(0 AS bit)
2025-05-30 11:59:46.976 +08:00 [ERR] An exception occurred while iterating over the results of a query for context type 'RealEstateSolution.ContractService.Data.ContractDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): 对象名 'Properties' 无效。
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:4a04f416-a40d-4df8-904f-e67efa3a120b
Error Number:208,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): 对象名 'Properties' 无效。
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:4a04f416-a40d-4df8-904f-e67efa3a120b
Error Number:208,State:1,Class:16
2025-05-30 12:00:50.052 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-30 12:00:50.504 +08:00 [INF] Now listening on: https://localhost:5004
2025-05-30 12:00:50.807 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 12:00:50.811 +08:00 [INF] Hosting environment: Development
2025-05-30 12:00:50.814 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.ContractService
2025-05-30 12:00:52.957 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5004/_vs/browserLink - null null
2025-05-30 12:00:52.956 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5004/_framework/aspnetcore-browser-refresh.js - null null
2025-05-30 12:00:53.085 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5004/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 131.0712ms
2025-05-30 12:00:53.135 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5004/_vs/browserLink - 200 null text/javascript; charset=UTF-8 182.4525ms
2025-05-30 12:00:53.709 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5004/swagger/v1/swagger.json - null null
2025-05-30 12:00:53.784 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 75.1557ms
2025-05-30 12:12:49.071 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetContracts?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 12:12:49.117 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 12:12:49.119 +08:00 [INF] 请求路径: /api/contract/GetContracts
2025-05-30 12:12:49.120 +08:00 [INF] 请求方法: GET
2025-05-30 12:12:49.121 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 12:12:49.123 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 12:12:49.124 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 12:12:49.125 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 12:12:49.126 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 12:12:49.127 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiN2VkNTU0YjYtZDcyNS00ZGY0LWFlZjctOWVhNzY1Y2M1MWFlIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzg5NTcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.VxNE7A29hV5W46r9r5Ot9e7rVUMv4L_SY2Z2LqKpKLQ
2025-05-30 12:12:49.128 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 12:12:49.129 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 12:12:49.131 +08:00 [INF] 请求头: traceparent = 00-1209878a2a74cc7e4c55db11e59cc717-78965cb8cccda4c9-00
2025-05-30 12:12:49.132 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 12:12:49.134 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 12:12:49.135 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 12:12:49.136 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 12:12:49.137 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 12:12:49.139 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 12:12:49.140 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 12:12:49.141 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 12:12:49.142 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 12:12:49.143 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 12:12:49.181 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 12:12:49.182 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 12:12:49.183 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 12:12:49.184 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 12:12:49.185 +08:00 [INF] JWT Claim: jti = 7ed554b6-d725-4df4-aef7-9ea765cc51ae
2025-05-30 12:12:49.186 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 12:12:49.187 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 12:12:49.188 +08:00 [INF] JWT Claim: exp = 1748578957
2025-05-30 12:12:49.190 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 12:12:49.191 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 12:12:49.192 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 12:12:49.252 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 12:12:49.278 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContracts (RealEstateSolution.ContractService)'
2025-05-30 12:12:49.301 +08:00 [INF] Route matched with {action = "GetContracts", controller = "Contract"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractDto]]] GetContracts(RealEstateSolution.ContractService.Models.ContractQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractController (RealEstateSolution.ContractService).
2025-05-30 12:12:49.818 +08:00 [WRN] No store type was specified for the decimal property 'MaxArea' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 12:12:49.819 +08:00 [WRN] No store type was specified for the decimal property 'MaxPrice' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 12:12:49.820 +08:00 [WRN] No store type was specified for the decimal property 'MinArea' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 12:12:49.821 +08:00 [WRN] No store type was specified for the decimal property 'MinPrice' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 12:12:49.822 +08:00 [WRN] No store type was specified for the decimal property 'Area' on entity type 'Property'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 12:12:49.824 +08:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Property'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 12:12:56.996 +08:00 [ERR] Failed executing DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Amount], [c].[Content], [c].[ContractNumber], [c].[CreatedAt], [c].[CreatedBy], [c].[EffectiveDate], [c].[ExpiryDate], [c].[IsDeleted], [c].[Notes], [c].[PartyAId], [c].[PartyBId], [c].[PropertyId], [c].[SignDate], [c].[Status], [c].[Title], [c].[Type], [c].[UpdatedAt], [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime], [c0].[Id], [c0].[Address], [c0].[CreateTime], [c0].[Email], [c0].[Name], [c0].[Phone], [c0].[Source], [c0].[Status], [c0].[Type], [c0].[UpdateTime], [c1].[Id], [c1].[Address], [c1].[CreateTime], [c1].[Email], [c1].[Name], [c1].[Phone], [c1].[Source], [c1].[Status], [c1].[Type], [c1].[UpdateTime]
FROM [Contracts] AS [c]
INNER JOIN [Property] AS [p] ON [c].[PropertyId] = [p].[Id]
INNER JOIN [Clients] AS [c0] ON [c].[PartyAId] = [c0].[Id]
INNER JOIN [Clients] AS [c1] ON [c].[PartyBId] = [c1].[Id]
WHERE [c].[IsDeleted] = CAST(0 AS bit)
2025-05-30 12:12:57.013 +08:00 [ERR] An exception occurred while iterating over the results of a query for context type 'RealEstateSolution.ContractService.Data.ContractDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): 列名 'PartyAId' 无效。
列名 'PartyBId' 无效。
列名 'IsDeleted' 无效。
列名 'Content' 无效。
列名 'CreatedAt' 无效。
列名 'CreatedBy' 无效。
列名 'EffectiveDate' 无效。
列名 'ExpiryDate' 无效。
列名 'IsDeleted' 无效。
列名 'Notes' 无效。
列名 'PartyAId' 无效。
列名 'PartyBId' 无效。
列名 'SignDate' 无效。
列名 'Title' 无效。
列名 'UpdatedAt' 无效。
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:dbbc6cf0-953e-4032-8a7d-6e4947686181
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): 列名 'PartyAId' 无效。
列名 'PartyBId' 无效。
列名 'IsDeleted' 无效。
列名 'Content' 无效。
列名 'CreatedAt' 无效。
列名 'CreatedBy' 无效。
列名 'EffectiveDate' 无效。
列名 'ExpiryDate' 无效。
列名 'IsDeleted' 无效。
列名 'Notes' 无效。
列名 'PartyAId' 无效。
列名 'PartyBId' 无效。
列名 'SignDate' 无效。
列名 'Title' 无效。
列名 'UpdatedAt' 无效。
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:dbbc6cf0-953e-4032-8a7d-6e4947686181
Error Number:207,State:1,Class:16
2025-05-30 12:13:25.275 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 12:13:25.303 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractController.GetContracts (RealEstateSolution.ContractService) in 35997.7694ms
2025-05-30 12:13:25.304 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContracts (RealEstateSolution.ContractService)'
2025-05-30 12:13:25.311 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetContracts?keyword=&pageIndex=1&pageSize=10 - 499 null application/json; charset=utf-8 36240.2969ms
2025-05-30 12:14:29.353 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetContracts?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 12:14:29.356 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 12:14:29.357 +08:00 [INF] 请求路径: /api/contract/GetContracts
2025-05-30 12:14:29.358 +08:00 [INF] 请求方法: GET
2025-05-30 12:14:29.359 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 12:14:29.360 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 12:14:29.360 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 12:14:29.362 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 12:14:29.363 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 12:14:29.364 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiN2VkNTU0YjYtZDcyNS00ZGY0LWFlZjctOWVhNzY1Y2M1MWFlIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzg5NTcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.VxNE7A29hV5W46r9r5Ot9e7rVUMv4L_SY2Z2LqKpKLQ
2025-05-30 12:14:29.365 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 12:14:29.367 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 12:14:29.368 +08:00 [INF] 请求头: traceparent = 00-2222da21c0e945d886b75ce2daebdc69-cf35094aaf143e97-00
2025-05-30 12:14:29.370 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 12:14:29.371 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 12:14:29.373 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 12:14:29.375 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 12:14:29.377 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 12:14:29.377 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 12:14:29.379 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 12:14:29.381 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 12:14:29.382 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 12:14:29.383 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 12:14:29.384 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 12:14:29.385 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 12:14:29.386 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 12:14:29.387 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 12:14:29.389 +08:00 [INF] JWT Claim: jti = 7ed554b6-d725-4df4-aef7-9ea765cc51ae
2025-05-30 12:14:29.390 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 12:14:29.391 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 12:14:29.392 +08:00 [INF] JWT Claim: exp = 1748578957
2025-05-30 12:14:29.393 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 12:14:29.394 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 12:14:29.395 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 12:14:29.398 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 12:14:29.402 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContracts (RealEstateSolution.ContractService)'
2025-05-30 12:14:29.403 +08:00 [INF] Route matched with {action = "GetContracts", controller = "Contract"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractDto]]] GetContracts(RealEstateSolution.ContractService.Models.ContractQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractController (RealEstateSolution.ContractService).
2025-05-30 12:15:02.982 +08:00 [ERR] Failed executing DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Amount], [c].[Content], [c].[ContractNumber], [c].[CreatedAt], [c].[CreatedBy], [c].[EffectiveDate], [c].[ExpiryDate], [c].[IsDeleted], [c].[Notes], [c].[PartyAId], [c].[PartyBId], [c].[PropertyId], [c].[SignDate], [c].[Status], [c].[Title], [c].[Type], [c].[UpdatedAt], [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime], [c0].[Id], [c0].[Address], [c0].[CreateTime], [c0].[Email], [c0].[Name], [c0].[Phone], [c0].[Source], [c0].[Status], [c0].[Type], [c0].[UpdateTime], [c1].[Id], [c1].[Address], [c1].[CreateTime], [c1].[Email], [c1].[Name], [c1].[Phone], [c1].[Source], [c1].[Status], [c1].[Type], [c1].[UpdateTime]
FROM [Contracts] AS [c]
INNER JOIN [Property] AS [p] ON [c].[PropertyId] = [p].[Id]
INNER JOIN [Clients] AS [c0] ON [c].[PartyAId] = [c0].[Id]
INNER JOIN [Clients] AS [c1] ON [c].[PartyBId] = [c1].[Id]
WHERE [c].[IsDeleted] = CAST(0 AS bit)
2025-05-30 12:15:02.985 +08:00 [ERR] An exception occurred while iterating over the results of a query for context type 'RealEstateSolution.ContractService.Data.ContractDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): 列名 'PartyAId' 无效。
列名 'PartyBId' 无效。
列名 'IsDeleted' 无效。
列名 'Content' 无效。
列名 'CreatedAt' 无效。
列名 'CreatedBy' 无效。
列名 'EffectiveDate' 无效。
列名 'ExpiryDate' 无效。
列名 'IsDeleted' 无效。
列名 'Notes' 无效。
列名 'PartyAId' 无效。
列名 'PartyBId' 无效。
列名 'SignDate' 无效。
列名 'Title' 无效。
列名 'UpdatedAt' 无效。
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:dbbc6cf0-953e-4032-8a7d-6e4947686181
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): 列名 'PartyAId' 无效。
列名 'PartyBId' 无效。
列名 'IsDeleted' 无效。
列名 'Content' 无效。
列名 'CreatedAt' 无效。
列名 'CreatedBy' 无效。
列名 'EffectiveDate' 无效。
列名 'ExpiryDate' 无效。
列名 'IsDeleted' 无效。
列名 'Notes' 无效。
列名 'PartyAId' 无效。
列名 'PartyBId' 无效。
列名 'SignDate' 无效。
列名 'Title' 无效。
列名 'UpdatedAt' 无效。
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:dbbc6cf0-953e-4032-8a7d-6e4947686181
Error Number:207,State:1,Class:16
2025-05-30 12:15:03.039 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 12:15:03.042 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractController.GetContracts (RealEstateSolution.ContractService) in 33637.8885ms
2025-05-30 12:15:03.043 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContracts (RealEstateSolution.ContractService)'
2025-05-30 12:15:03.045 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetContracts?keyword=&pageIndex=1&pageSize=10 - 499 null application/json; charset=utf-8 33691.9257ms
2025-05-30 12:16:35.699 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetContracts?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 12:16:35.703 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 12:16:35.704 +08:00 [INF] 请求路径: /api/contract/GetContracts
2025-05-30 12:16:35.705 +08:00 [INF] 请求方法: GET
2025-05-30 12:16:35.706 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 12:16:35.707 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 12:16:35.707 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 12:16:35.709 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 12:16:35.710 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 12:16:35.711 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiN2VkNTU0YjYtZDcyNS00ZGY0LWFlZjctOWVhNzY1Y2M1MWFlIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzg5NTcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.VxNE7A29hV5W46r9r5Ot9e7rVUMv4L_SY2Z2LqKpKLQ
2025-05-30 12:16:35.712 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 12:16:35.713 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 12:16:35.714 +08:00 [INF] 请求头: traceparent = 00-43bce5125b6a7738e0a3ec9b3453f036-a278286b87986a28-00
2025-05-30 12:16:35.715 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 12:16:35.716 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 12:16:35.717 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 12:16:35.718 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 12:16:35.719 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 12:16:35.721 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 12:16:35.721 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 12:16:35.722 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 12:16:35.723 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 12:16:35.724 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 12:16:35.725 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 12:16:35.726 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 12:16:35.727 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 12:16:35.728 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 12:16:35.729 +08:00 [INF] JWT Claim: jti = 7ed554b6-d725-4df4-aef7-9ea765cc51ae
2025-05-30 12:16:35.730 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 12:16:35.731 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 12:16:35.732 +08:00 [INF] JWT Claim: exp = 1748578957
2025-05-30 12:16:35.733 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 12:16:35.734 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 12:16:35.735 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 12:16:35.737 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 12:16:35.739 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContracts (RealEstateSolution.ContractService)'
2025-05-30 12:16:35.740 +08:00 [INF] Route matched with {action = "GetContracts", controller = "Contract"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractDto]]] GetContracts(RealEstateSolution.ContractService.Models.ContractQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractController (RealEstateSolution.ContractService).
2025-05-30 12:16:50.287 +08:00 [ERR] Failed executing DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Amount], [c].[Content], [c].[ContractNumber], [c].[CreatedAt], [c].[CreatedBy], [c].[EffectiveDate], [c].[ExpiryDate], [c].[IsDeleted], [c].[Notes], [c].[PartyAId], [c].[PartyBId], [c].[PropertyId], [c].[SignDate], [c].[Status], [c].[Title], [c].[Type], [c].[UpdatedAt], [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime], [c0].[Id], [c0].[Address], [c0].[CreateTime], [c0].[Email], [c0].[Name], [c0].[Phone], [c0].[Source], [c0].[Status], [c0].[Type], [c0].[UpdateTime], [c1].[Id], [c1].[Address], [c1].[CreateTime], [c1].[Email], [c1].[Name], [c1].[Phone], [c1].[Source], [c1].[Status], [c1].[Type], [c1].[UpdateTime]
FROM [Contracts] AS [c]
INNER JOIN [Property] AS [p] ON [c].[PropertyId] = [p].[Id]
INNER JOIN [Clients] AS [c0] ON [c].[PartyAId] = [c0].[Id]
INNER JOIN [Clients] AS [c1] ON [c].[PartyBId] = [c1].[Id]
WHERE [c].[IsDeleted] = CAST(0 AS bit)
2025-05-30 12:16:50.290 +08:00 [ERR] An exception occurred while iterating over the results of a query for context type 'RealEstateSolution.ContractService.Data.ContractDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): 列名 'PartyAId' 无效。
列名 'PartyBId' 无效。
列名 'IsDeleted' 无效。
列名 'Content' 无效。
列名 'CreatedAt' 无效。
列名 'CreatedBy' 无效。
列名 'EffectiveDate' 无效。
列名 'ExpiryDate' 无效。
列名 'IsDeleted' 无效。
列名 'Notes' 无效。
列名 'PartyAId' 无效。
列名 'PartyBId' 无效。
列名 'SignDate' 无效。
列名 'Title' 无效。
列名 'UpdatedAt' 无效。
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:dbbc6cf0-953e-4032-8a7d-6e4947686181
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): 列名 'PartyAId' 无效。
列名 'PartyBId' 无效。
列名 'IsDeleted' 无效。
列名 'Content' 无效。
列名 'CreatedAt' 无效。
列名 'CreatedBy' 无效。
列名 'EffectiveDate' 无效。
列名 'ExpiryDate' 无效。
列名 'IsDeleted' 无效。
列名 'Notes' 无效。
列名 'PartyAId' 无效。
列名 'PartyBId' 无效。
列名 'SignDate' 无效。
列名 'Title' 无效。
列名 'UpdatedAt' 无效。
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:dbbc6cf0-953e-4032-8a7d-6e4947686181
Error Number:207,State:1,Class:16
2025-05-30 12:23:47.445 +08:00 [WRN] No store type was specified for the decimal property 'MaxArea' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 12:23:47.475 +08:00 [WRN] No store type was specified for the decimal property 'MaxPrice' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 12:23:47.477 +08:00 [WRN] No store type was specified for the decimal property 'MinArea' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 12:23:47.478 +08:00 [WRN] No store type was specified for the decimal property 'MinPrice' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 12:23:47.482 +08:00 [WRN] No store type was specified for the decimal property 'Area' on entity type 'Property'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 12:23:47.483 +08:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Property'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 12:23:47.602 +08:00 [WRN] No store type was specified for the decimal property 'MaxArea' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 12:23:47.603 +08:00 [WRN] No store type was specified for the decimal property 'MaxPrice' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 12:23:47.604 +08:00 [WRN] No store type was specified for the decimal property 'MinArea' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 12:23:47.606 +08:00 [WRN] No store type was specified for the decimal property 'MinPrice' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 12:23:47.607 +08:00 [WRN] No store type was specified for the decimal property 'Area' on entity type 'Property'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 12:23:47.608 +08:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Property'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 12:27:32.114 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-30 12:27:32.893 +08:00 [INF] Now listening on: https://localhost:5004
2025-05-30 12:27:33.322 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 12:27:33.329 +08:00 [INF] Hosting environment: Development
2025-05-30 12:27:33.333 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.ContractService
2025-05-30 12:27:34.001 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5004/_framework/aspnetcore-browser-refresh.js - null null
2025-05-30 12:27:34.071 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5004/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 73.6909ms
2025-05-30 12:27:34.461 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5004/_vs/browserLink - null null
2025-05-30 12:27:34.748 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5004/_vs/browserLink - 200 null text/javascript; charset=UTF-8 291.7553ms
2025-05-30 12:27:35.921 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5004/swagger/v1/swagger.json - null null
2025-05-30 12:27:36.055 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 142.229ms
2025-05-30 12:28:25.842 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetContracts?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 12:28:25.903 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 12:28:25.906 +08:00 [INF] 请求路径: /api/contract/GetContracts
2025-05-30 12:28:25.907 +08:00 [INF] 请求方法: GET
2025-05-30 12:28:25.910 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 12:28:25.911 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 12:28:25.913 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 12:28:25.914 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 12:28:25.916 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 12:28:25.917 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODQ2Njg5NTQtZTBmMi00ZWY2LTlmOGYtOGRhOTJjZDllNDZmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzk4NzEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.lAoIAfJ6uBp9SIPe3_BU-CsurbR7-n3LKsx91ssN0KI
2025-05-30 12:28:25.919 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 12:28:25.921 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 12:28:25.922 +08:00 [INF] 请求头: traceparent = 00-d3d4988ded0240ac1009d0d9e8975052-8af4ab3dd5aa3fa9-00
2025-05-30 12:28:25.923 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 12:28:25.925 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 12:28:25.927 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 12:28:25.929 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 12:28:25.930 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 12:28:25.932 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 12:28:25.933 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 12:28:25.935 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 12:28:25.936 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 12:28:25.938 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 12:28:25.995 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 12:28:25.996 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 12:28:25.998 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 12:28:25.999 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 12:28:26.001 +08:00 [INF] JWT Claim: jti = 84668954-e0f2-4ef6-9f8f-8da92cd9e46f
2025-05-30 12:28:26.002 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 12:28:26.004 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 12:28:26.005 +08:00 [INF] JWT Claim: exp = 1748579871
2025-05-30 12:28:26.007 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 12:28:26.008 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 12:28:26.010 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 12:28:26.104 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 12:28:26.145 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContracts (RealEstateSolution.ContractService)'
2025-05-30 12:28:26.177 +08:00 [INF] Route matched with {action = "GetContracts", controller = "Contract"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractDto]]] GetContracts(RealEstateSolution.ContractService.Models.ContractQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractController (RealEstateSolution.ContractService).
2025-05-30 12:28:27.047 +08:00 [WRN] No store type was specified for the decimal property 'MaxArea' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 12:28:27.049 +08:00 [WRN] No store type was specified for the decimal property 'MaxPrice' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 12:28:27.052 +08:00 [WRN] No store type was specified for the decimal property 'MinArea' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 12:28:27.053 +08:00 [WRN] No store type was specified for the decimal property 'MinPrice' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 12:28:27.054 +08:00 [WRN] No store type was specified for the decimal property 'Area' on entity type 'Property'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 12:28:27.055 +08:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Property'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 12:28:32.850 +08:00 [INF] Executed DbCommand (64ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Amount], [c].[CancelTime], [c].[ClientId], [c].[ClientId1], [c].[CompleteTime], [c].[ContractNumber], [c].[CreateTime], [c].[EndDate], [c].[PaymentMethod], [c].[PropertyId], [c].[Remark], [c].[SignTime], [c].[StartDate], [c].[Status], [c].[Terms], [c].[Type], [c].[UpdateTime], [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime], [c0].[Id], [c0].[Address], [c0].[CreateTime], [c0].[Email], [c0].[Name], [c0].[Phone], [c0].[Source], [c0].[Status], [c0].[Type], [c0].[UpdateTime], [c1].[Id], [c1].[Address], [c1].[CreateTime], [c1].[Email], [c1].[Name], [c1].[Phone], [c1].[Source], [c1].[Status], [c1].[Type], [c1].[UpdateTime]
FROM [Contracts] AS [c]
INNER JOIN [Property] AS [p] ON [c].[PropertyId] = [p].[Id]
INNER JOIN [Clients] AS [c0] ON [c].[ClientId] = [c0].[Id]
LEFT JOIN [Clients] AS [c1] ON [c].[ClientId1] = [c1].[Id]
2025-05-30 12:28:41.257 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 12:28:41.288 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractController.GetContracts (RealEstateSolution.ContractService) in 15106.27ms
2025-05-30 12:28:41.290 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContracts (RealEstateSolution.ContractService)'
2025-05-30 12:28:41.298 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetContracts?keyword=&pageIndex=1&pageSize=10 - 499 null application/json; charset=utf-8 15456.3556ms
2025-05-30 12:28:51.929 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetContracts?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 12:28:51.932 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 12:28:51.932 +08:00 [INF] 请求路径: /api/contract/GetContracts
2025-05-30 12:28:51.933 +08:00 [INF] 请求方法: GET
2025-05-30 12:28:51.934 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 12:28:51.936 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 12:28:51.937 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 12:28:51.938 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 12:28:51.939 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 12:28:51.940 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODQ2Njg5NTQtZTBmMi00ZWY2LTlmOGYtOGRhOTJjZDllNDZmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzk4NzEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.lAoIAfJ6uBp9SIPe3_BU-CsurbR7-n3LKsx91ssN0KI
2025-05-30 12:28:51.941 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 12:28:51.942 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 12:28:51.943 +08:00 [INF] 请求头: traceparent = 00-a3e099d870ca5e110a1707deb7ca8378-83b60b025eb8ea23-00
2025-05-30 12:28:51.944 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 12:28:51.945 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 12:28:51.946 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 12:28:51.947 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 12:28:51.948 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 12:28:51.949 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 12:28:51.951 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 12:28:51.952 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 12:28:51.953 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 12:28:51.954 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 12:28:51.955 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 12:28:51.955 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 12:28:51.956 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 12:28:51.958 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 12:28:51.959 +08:00 [INF] JWT Claim: jti = 84668954-e0f2-4ef6-9f8f-8da92cd9e46f
2025-05-30 12:28:51.960 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 12:28:51.961 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 12:28:51.963 +08:00 [INF] JWT Claim: exp = 1748579871
2025-05-30 12:28:51.964 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 12:28:51.965 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 12:28:51.966 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 12:28:51.969 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 12:28:51.974 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContracts (RealEstateSolution.ContractService)'
2025-05-30 12:28:51.975 +08:00 [INF] Route matched with {action = "GetContracts", controller = "Contract"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractDto]]] GetContracts(RealEstateSolution.ContractService.Models.ContractQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractController (RealEstateSolution.ContractService).
2025-05-30 12:28:55.444 +08:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Amount], [c].[CancelTime], [c].[ClientId], [c].[ClientId1], [c].[CompleteTime], [c].[ContractNumber], [c].[CreateTime], [c].[EndDate], [c].[PaymentMethod], [c].[PropertyId], [c].[Remark], [c].[SignTime], [c].[StartDate], [c].[Status], [c].[Terms], [c].[Type], [c].[UpdateTime], [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime], [c0].[Id], [c0].[Address], [c0].[CreateTime], [c0].[Email], [c0].[Name], [c0].[Phone], [c0].[Source], [c0].[Status], [c0].[Type], [c0].[UpdateTime], [c1].[Id], [c1].[Address], [c1].[CreateTime], [c1].[Email], [c1].[Name], [c1].[Phone], [c1].[Source], [c1].[Status], [c1].[Type], [c1].[UpdateTime]
FROM [Contracts] AS [c]
INNER JOIN [Property] AS [p] ON [c].[PropertyId] = [p].[Id]
INNER JOIN [Clients] AS [c0] ON [c].[ClientId] = [c0].[Id]
LEFT JOIN [Clients] AS [c1] ON [c].[ClientId1] = [c1].[Id]
2025-05-30 12:29:21.915 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 12:29:21.954 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractController.GetContracts (RealEstateSolution.ContractService) in 29976.3473ms
2025-05-30 12:29:21.956 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContracts (RealEstateSolution.ContractService)'
2025-05-30 12:29:23.274 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetContracts?keyword=&pageIndex=1&pageSize=10 - 499 null application/json; charset=utf-8 31345.1397ms
2025-05-30 12:30:49.628 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetContracts?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 12:30:49.637 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 12:30:49.639 +08:00 [INF] 请求路径: /api/contract/GetContracts
2025-05-30 12:30:49.641 +08:00 [INF] 请求方法: GET
2025-05-30 12:30:49.643 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 12:30:49.645 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 12:30:49.646 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 12:30:49.649 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 12:30:49.652 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 12:30:49.653 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODQ2Njg5NTQtZTBmMi00ZWY2LTlmOGYtOGRhOTJjZDllNDZmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzk4NzEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.lAoIAfJ6uBp9SIPe3_BU-CsurbR7-n3LKsx91ssN0KI
2025-05-30 12:30:49.656 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 12:30:49.659 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 12:30:49.661 +08:00 [INF] 请求头: traceparent = 00-9059d051ae35a9d93ebb379a9b1104b9-4ed4a310128449c1-00
2025-05-30 12:30:49.663 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 12:30:49.666 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 12:30:49.668 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 12:30:49.670 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 12:30:49.672 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 12:30:49.675 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 12:30:49.677 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 12:30:49.679 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 12:30:49.682 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 12:30:49.684 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 12:30:49.686 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 12:30:49.687 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 12:30:49.690 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 12:30:49.692 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 12:30:49.694 +08:00 [INF] JWT Claim: jti = 84668954-e0f2-4ef6-9f8f-8da92cd9e46f
2025-05-30 12:30:49.696 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 12:30:49.699 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 12:30:49.701 +08:00 [INF] JWT Claim: exp = 1748579871
2025-05-30 12:30:49.703 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 12:30:49.705 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 12:30:49.708 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 12:30:49.713 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 12:30:49.718 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContracts (RealEstateSolution.ContractService)'
2025-05-30 12:30:49.720 +08:00 [INF] Route matched with {action = "GetContracts", controller = "Contract"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractDto]]] GetContracts(RealEstateSolution.ContractService.Models.ContractQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractController (RealEstateSolution.ContractService).
2025-05-30 12:30:55.009 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Amount], [c].[CancelTime], [c].[ClientId], [c].[ClientId1], [c].[CompleteTime], [c].[ContractNumber], [c].[CreateTime], [c].[EndDate], [c].[PaymentMethod], [c].[PropertyId], [c].[Remark], [c].[SignTime], [c].[StartDate], [c].[Status], [c].[Terms], [c].[Type], [c].[UpdateTime], [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime], [c0].[Id], [c0].[Address], [c0].[CreateTime], [c0].[Email], [c0].[Name], [c0].[Phone], [c0].[Source], [c0].[Status], [c0].[Type], [c0].[UpdateTime], [c1].[Id], [c1].[Address], [c1].[CreateTime], [c1].[Email], [c1].[Name], [c1].[Phone], [c1].[Source], [c1].[Status], [c1].[Type], [c1].[UpdateTime]
FROM [Contracts] AS [c]
INNER JOIN [Property] AS [p] ON [c].[PropertyId] = [p].[Id]
INNER JOIN [Clients] AS [c0] ON [c].[ClientId] = [c0].[Id]
LEFT JOIN [Clients] AS [c1] ON [c].[ClientId1] = [c1].[Id]
2025-05-30 12:30:55.014 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 12:30:55.018 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractController.GetContracts (RealEstateSolution.ContractService) in 5294.6791ms
2025-05-30 12:30:55.019 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContracts (RealEstateSolution.ContractService)'
2025-05-30 12:30:55.021 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetContracts?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 5393.0687ms
2025-05-30 12:31:01.289 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetContracts?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 12:31:01.293 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 12:31:01.293 +08:00 [INF] 请求路径: /api/contract/GetContracts
2025-05-30 12:31:01.294 +08:00 [INF] 请求方法: GET
2025-05-30 12:31:01.295 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 12:31:01.296 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 12:31:01.297 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 12:31:01.298 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 12:31:01.299 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 12:31:01.300 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODQ2Njg5NTQtZTBmMi00ZWY2LTlmOGYtOGRhOTJjZDllNDZmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzk4NzEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.lAoIAfJ6uBp9SIPe3_BU-CsurbR7-n3LKsx91ssN0KI
2025-05-30 12:31:01.302 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 12:31:01.302 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 12:31:01.303 +08:00 [INF] 请求头: traceparent = 00-9ef7a96ee19362ead75b38922a0576f4-740bb3e53a4db6ec-00
2025-05-30 12:31:01.304 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 12:31:01.305 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 12:31:01.307 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 12:31:01.308 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 12:31:01.309 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 12:31:01.310 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 12:31:01.311 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 12:31:01.311 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 12:31:01.312 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 12:31:01.313 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 12:31:01.314 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 12:31:01.315 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 12:31:01.316 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 12:31:01.317 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 12:31:01.318 +08:00 [INF] JWT Claim: jti = 84668954-e0f2-4ef6-9f8f-8da92cd9e46f
2025-05-30 12:31:01.319 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 12:31:01.320 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 12:31:01.321 +08:00 [INF] JWT Claim: exp = 1748579871
2025-05-30 12:31:01.322 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 12:31:01.323 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 12:31:01.325 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 12:31:01.326 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 12:31:01.327 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContracts (RealEstateSolution.ContractService)'
2025-05-30 12:31:01.328 +08:00 [INF] Route matched with {action = "GetContracts", controller = "Contract"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractDto]]] GetContracts(RealEstateSolution.ContractService.Models.ContractQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractController (RealEstateSolution.ContractService).
2025-05-30 12:31:01.333 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Amount], [c].[CancelTime], [c].[ClientId], [c].[ClientId1], [c].[CompleteTime], [c].[ContractNumber], [c].[CreateTime], [c].[EndDate], [c].[PaymentMethod], [c].[PropertyId], [c].[Remark], [c].[SignTime], [c].[StartDate], [c].[Status], [c].[Terms], [c].[Type], [c].[UpdateTime], [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime], [c0].[Id], [c0].[Address], [c0].[CreateTime], [c0].[Email], [c0].[Name], [c0].[Phone], [c0].[Source], [c0].[Status], [c0].[Type], [c0].[UpdateTime], [c1].[Id], [c1].[Address], [c1].[CreateTime], [c1].[Email], [c1].[Name], [c1].[Phone], [c1].[Source], [c1].[Status], [c1].[Type], [c1].[UpdateTime]
FROM [Contracts] AS [c]
INNER JOIN [Property] AS [p] ON [c].[PropertyId] = [p].[Id]
INNER JOIN [Clients] AS [c0] ON [c].[ClientId] = [c0].[Id]
LEFT JOIN [Clients] AS [c1] ON [c].[ClientId1] = [c1].[Id]
2025-05-30 12:31:01.336 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 12:31:01.339 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractController.GetContracts (RealEstateSolution.ContractService) in 9.6708ms
2025-05-30 12:31:01.343 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContracts (RealEstateSolution.ContractService)'
2025-05-30 12:31:01.345 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetContracts?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 56.0198ms
2025-05-30 12:32:12.046 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetContract/2 - null 0
2025-05-30 12:32:12.049 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 12:32:12.050 +08:00 [INF] 请求路径: /api/contract/GetContract/2
2025-05-30 12:32:12.051 +08:00 [INF] 请求方法: GET
2025-05-30 12:32:12.051 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 12:32:12.052 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 12:32:12.053 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 12:32:12.055 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 12:32:12.056 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 12:32:12.057 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODQ2Njg5NTQtZTBmMi00ZWY2LTlmOGYtOGRhOTJjZDllNDZmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzk4NzEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.lAoIAfJ6uBp9SIPe3_BU-CsurbR7-n3LKsx91ssN0KI
2025-05-30 12:32:12.058 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 12:32:12.059 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 12:32:12.060 +08:00 [INF] 请求头: traceparent = 00-cbd9f5f33fb21b68ace033bef40cd59b-4a334261ecad8de5-00
2025-05-30 12:32:12.061 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 12:32:12.062 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 12:32:12.064 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 12:32:12.065 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 12:32:12.066 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 12:32:12.067 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 12:32:12.068 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 12:32:12.068 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 12:32:12.070 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 12:32:12.070 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 12:32:12.071 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 12:32:12.072 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 12:32:12.073 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 12:32:12.074 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 12:32:12.075 +08:00 [INF] JWT Claim: jti = 84668954-e0f2-4ef6-9f8f-8da92cd9e46f
2025-05-30 12:32:12.076 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 12:32:12.077 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 12:32:12.078 +08:00 [INF] JWT Claim: exp = 1748579871
2025-05-30 12:32:12.079 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 12:32:12.080 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 12:32:12.081 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 12:32:12.082 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 12:32:12.083 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContract (RealEstateSolution.ContractService)'
2025-05-30 12:32:12.089 +08:00 [INF] Route matched with {action = "GetContract", controller = "Contract"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ContractService.Models.ContractDto]] GetContract(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractController (RealEstateSolution.ContractService).
2025-05-30 12:32:12.154 +08:00 [INF] Executed DbCommand (31ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Amount], [c].[CancelTime], [c].[ClientId], [c].[ClientId1], [c].[CompleteTime], [c].[ContractNumber], [c].[CreateTime], [c].[EndDate], [c].[PaymentMethod], [c].[PropertyId], [c].[Remark], [c].[SignTime], [c].[StartDate], [c].[Status], [c].[Terms], [c].[Type], [c].[UpdateTime]
FROM [Contracts] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 12:32:12.161 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ContractService.Models.ContractDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 12:32:12.164 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractController.GetContract (RealEstateSolution.ContractService) in 73.731ms
2025-05-30 12:32:12.165 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContract (RealEstateSolution.ContractService)'
2025-05-30 12:32:12.167 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetContract/2 - 200 null application/json; charset=utf-8 120.4114ms
2025-05-30 12:32:14.720 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetContract/3 - null 0
2025-05-30 12:32:14.723 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 12:32:14.724 +08:00 [INF] 请求路径: /api/contract/GetContract/3
2025-05-30 12:32:14.725 +08:00 [INF] 请求方法: GET
2025-05-30 12:32:14.725 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 12:32:14.726 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 12:32:14.727 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 12:32:14.728 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 12:32:14.729 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 12:32:14.731 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODQ2Njg5NTQtZTBmMi00ZWY2LTlmOGYtOGRhOTJjZDllNDZmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzk4NzEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.lAoIAfJ6uBp9SIPe3_BU-CsurbR7-n3LKsx91ssN0KI
2025-05-30 12:32:14.732 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 12:32:14.733 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 12:32:14.734 +08:00 [INF] 请求头: traceparent = 00-c4bb13860b39b997039331d0b5dc98fd-aca268220f69a578-00
2025-05-30 12:32:14.735 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 12:32:14.736 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 12:32:14.737 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 12:32:14.738 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 12:32:14.739 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 12:32:14.740 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 12:32:14.741 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 12:32:14.742 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 12:32:14.743 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 12:32:14.744 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 12:32:14.745 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 12:32:14.746 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 12:32:14.747 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 12:32:14.748 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 12:32:14.749 +08:00 [INF] JWT Claim: jti = 84668954-e0f2-4ef6-9f8f-8da92cd9e46f
2025-05-30 12:32:14.751 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 12:32:14.752 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 12:32:14.753 +08:00 [INF] JWT Claim: exp = 1748579871
2025-05-30 12:32:14.754 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 12:32:14.754 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 12:32:14.755 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 12:32:14.756 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 12:32:14.757 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContract (RealEstateSolution.ContractService)'
2025-05-30 12:32:14.758 +08:00 [INF] Route matched with {action = "GetContract", controller = "Contract"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ContractService.Models.ContractDto]] GetContract(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractController (RealEstateSolution.ContractService).
2025-05-30 12:32:14.764 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Amount], [c].[CancelTime], [c].[ClientId], [c].[ClientId1], [c].[CompleteTime], [c].[ContractNumber], [c].[CreateTime], [c].[EndDate], [c].[PaymentMethod], [c].[PropertyId], [c].[Remark], [c].[SignTime], [c].[StartDate], [c].[Status], [c].[Terms], [c].[Type], [c].[UpdateTime]
FROM [Contracts] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 12:32:14.766 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ContractService.Models.ContractDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 12:32:14.768 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractController.GetContract (RealEstateSolution.ContractService) in 7.7128ms
2025-05-30 12:32:14.769 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContract (RealEstateSolution.ContractService)'
2025-05-30 12:32:14.770 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetContract/3 - 200 null application/json; charset=utf-8 50.2527ms
2025-05-30 12:32:21.111 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetContract/4 - null 0
2025-05-30 12:32:21.113 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 12:32:21.114 +08:00 [INF] 请求路径: /api/contract/GetContract/4
2025-05-30 12:32:21.115 +08:00 [INF] 请求方法: GET
2025-05-30 12:32:21.116 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 12:32:21.117 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 12:32:21.118 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 12:32:21.119 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 12:32:21.120 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 12:32:21.121 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODQ2Njg5NTQtZTBmMi00ZWY2LTlmOGYtOGRhOTJjZDllNDZmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzk4NzEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.lAoIAfJ6uBp9SIPe3_BU-CsurbR7-n3LKsx91ssN0KI
2025-05-30 12:32:21.123 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 12:32:21.124 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 12:32:21.125 +08:00 [INF] 请求头: traceparent = 00-aa73cb3e352a49d8e8683cdd0adb2df8-a3648ba9cd651990-00
2025-05-30 12:32:21.126 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 12:32:21.127 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 12:32:21.128 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 12:32:21.129 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 12:32:21.130 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 12:32:21.131 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 12:32:21.132 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 12:32:21.133 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 12:32:21.134 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 12:32:21.134 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 12:32:21.135 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 12:32:21.136 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 12:32:21.137 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 12:32:21.138 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 12:32:21.139 +08:00 [INF] JWT Claim: jti = 84668954-e0f2-4ef6-9f8f-8da92cd9e46f
2025-05-30 12:32:21.140 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 12:32:21.141 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 12:32:21.142 +08:00 [INF] JWT Claim: exp = 1748579871
2025-05-30 12:32:21.142 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 12:32:21.143 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 12:32:21.144 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 12:32:21.145 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 12:32:21.146 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContract (RealEstateSolution.ContractService)'
2025-05-30 12:32:21.147 +08:00 [INF] Route matched with {action = "GetContract", controller = "Contract"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ContractService.Models.ContractDto]] GetContract(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractController (RealEstateSolution.ContractService).
2025-05-30 12:32:21.152 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Amount], [c].[CancelTime], [c].[ClientId], [c].[ClientId1], [c].[CompleteTime], [c].[ContractNumber], [c].[CreateTime], [c].[EndDate], [c].[PaymentMethod], [c].[PropertyId], [c].[Remark], [c].[SignTime], [c].[StartDate], [c].[Status], [c].[Terms], [c].[Type], [c].[UpdateTime]
FROM [Contracts] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 12:32:21.154 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ContractService.Models.ContractDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 12:32:21.155 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractController.GetContract (RealEstateSolution.ContractService) in 6.4536ms
2025-05-30 12:32:21.156 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContract (RealEstateSolution.ContractService)'
2025-05-30 12:32:21.158 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetContract/4 - 200 null application/json; charset=utf-8 46.7386ms
2025-05-30 12:32:23.381 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetContract/6 - null 0
2025-05-30 12:32:23.385 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 12:32:23.385 +08:00 [INF] 请求路径: /api/contract/GetContract/6
2025-05-30 12:32:23.386 +08:00 [INF] 请求方法: GET
2025-05-30 12:32:23.387 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 12:32:23.388 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 12:32:23.390 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 12:32:23.391 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 12:32:23.392 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 12:32:23.393 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODQ2Njg5NTQtZTBmMi00ZWY2LTlmOGYtOGRhOTJjZDllNDZmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzk4NzEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.lAoIAfJ6uBp9SIPe3_BU-CsurbR7-n3LKsx91ssN0KI
2025-05-30 12:32:23.394 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 12:32:23.395 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 12:32:23.396 +08:00 [INF] 请求头: traceparent = 00-feebe65b54fd27cba7196a53ed78a55b-68e0a8afc4d148c2-00
2025-05-30 12:32:23.397 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 12:32:23.398 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 12:32:23.400 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 12:32:23.400 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 12:32:23.401 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 12:32:23.402 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 12:32:23.403 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 12:32:23.404 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 12:32:23.405 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 12:32:23.406 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 12:32:23.407 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 12:32:23.407 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 12:32:23.408 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 12:32:23.409 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 12:32:23.410 +08:00 [INF] JWT Claim: jti = 84668954-e0f2-4ef6-9f8f-8da92cd9e46f
2025-05-30 12:32:23.411 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 12:32:23.412 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 12:32:23.413 +08:00 [INF] JWT Claim: exp = 1748579871
2025-05-30 12:32:23.414 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 12:32:23.415 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 12:32:23.416 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 12:32:23.417 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 12:32:23.418 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContract (RealEstateSolution.ContractService)'
2025-05-30 12:32:23.418 +08:00 [INF] Route matched with {action = "GetContract", controller = "Contract"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ContractService.Models.ContractDto]] GetContract(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractController (RealEstateSolution.ContractService).
2025-05-30 12:32:23.423 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Amount], [c].[CancelTime], [c].[ClientId], [c].[ClientId1], [c].[CompleteTime], [c].[ContractNumber], [c].[CreateTime], [c].[EndDate], [c].[PaymentMethod], [c].[PropertyId], [c].[Remark], [c].[SignTime], [c].[StartDate], [c].[Status], [c].[Terms], [c].[Type], [c].[UpdateTime]
FROM [Contracts] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 12:32:23.425 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ContractService.Models.ContractDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 12:32:23.427 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractController.GetContract (RealEstateSolution.ContractService) in 6.846ms
2025-05-30 12:32:23.428 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContract (RealEstateSolution.ContractService)'
2025-05-30 12:32:23.429 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetContract/6 - 200 null application/json; charset=utf-8 47.9961ms
2025-05-30 12:32:26.970 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetContract/2 - null 0
2025-05-30 12:32:26.973 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 12:32:26.974 +08:00 [INF] 请求路径: /api/contract/GetContract/2
2025-05-30 12:32:26.975 +08:00 [INF] 请求方法: GET
2025-05-30 12:32:26.976 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 12:32:26.976 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 12:32:26.977 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 12:32:26.978 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 12:32:26.979 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 12:32:26.981 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODQ2Njg5NTQtZTBmMi00ZWY2LTlmOGYtOGRhOTJjZDllNDZmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzk4NzEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.lAoIAfJ6uBp9SIPe3_BU-CsurbR7-n3LKsx91ssN0KI
2025-05-30 12:32:26.982 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 12:32:26.983 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 12:32:26.984 +08:00 [INF] 请求头: traceparent = 00-381ec8471912132c415dc4dd51128c8f-2eeea774615bd8e3-00
2025-05-30 12:32:26.985 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 12:32:26.986 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 12:32:26.987 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 12:32:26.988 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 12:32:26.990 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 12:32:26.991 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 12:32:26.992 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 12:32:26.993 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 12:32:26.994 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 12:32:26.994 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 12:32:26.995 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 12:32:26.996 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 12:32:26.997 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 12:32:26.999 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 12:32:27.000 +08:00 [INF] JWT Claim: jti = 84668954-e0f2-4ef6-9f8f-8da92cd9e46f
2025-05-30 12:32:27.000 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 12:32:27.001 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 12:32:27.002 +08:00 [INF] JWT Claim: exp = 1748579871
2025-05-30 12:32:27.003 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 12:32:27.004 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 12:32:27.005 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 12:32:27.006 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 12:32:27.007 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContract (RealEstateSolution.ContractService)'
2025-05-30 12:32:27.008 +08:00 [INF] Route matched with {action = "GetContract", controller = "Contract"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ContractService.Models.ContractDto]] GetContract(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractController (RealEstateSolution.ContractService).
2025-05-30 12:32:27.013 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Amount], [c].[CancelTime], [c].[ClientId], [c].[ClientId1], [c].[CompleteTime], [c].[ContractNumber], [c].[CreateTime], [c].[EndDate], [c].[PaymentMethod], [c].[PropertyId], [c].[Remark], [c].[SignTime], [c].[StartDate], [c].[Status], [c].[Terms], [c].[Type], [c].[UpdateTime]
FROM [Contracts] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 12:32:27.015 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ContractService.Models.ContractDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 12:32:27.016 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractController.GetContract (RealEstateSolution.ContractService) in 6.7886ms
2025-05-30 12:32:27.018 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContract (RealEstateSolution.ContractService)'
2025-05-30 12:32:27.019 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetContract/2 - 200 null application/json; charset=utf-8 48.5354ms
2025-05-30 12:32:34.743 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetContract/5 - null 0
2025-05-30 12:32:34.746 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 12:32:34.747 +08:00 [INF] 请求路径: /api/contract/GetContract/5
2025-05-30 12:32:34.748 +08:00 [INF] 请求方法: GET
2025-05-30 12:32:34.749 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 12:32:34.750 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 12:32:34.751 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 12:32:34.752 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 12:32:34.753 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 12:32:34.754 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODQ2Njg5NTQtZTBmMi00ZWY2LTlmOGYtOGRhOTJjZDllNDZmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzk4NzEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.lAoIAfJ6uBp9SIPe3_BU-CsurbR7-n3LKsx91ssN0KI
2025-05-30 12:32:34.755 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 12:32:34.757 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 12:32:34.758 +08:00 [INF] 请求头: traceparent = 00-74c8e944f87ee47d5d9c847acba4a93b-d98b77ff4ed9c09b-00
2025-05-30 12:32:34.759 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 12:32:34.760 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 12:32:34.761 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 12:32:34.761 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 12:32:34.762 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 12:32:34.763 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 12:32:34.765 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 12:32:34.766 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 12:32:34.767 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 12:32:34.767 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 12:32:34.768 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 12:32:34.769 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 12:32:34.770 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 12:32:34.771 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 12:32:34.772 +08:00 [INF] JWT Claim: jti = 84668954-e0f2-4ef6-9f8f-8da92cd9e46f
2025-05-30 12:32:34.773 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 12:32:34.774 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 12:32:34.775 +08:00 [INF] JWT Claim: exp = 1748579871
2025-05-30 12:32:34.776 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 12:32:34.777 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 12:32:34.778 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 12:32:34.779 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 12:32:34.780 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContract (RealEstateSolution.ContractService)'
2025-05-30 12:32:34.781 +08:00 [INF] Route matched with {action = "GetContract", controller = "Contract"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ContractService.Models.ContractDto]] GetContract(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractController (RealEstateSolution.ContractService).
2025-05-30 12:32:34.786 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Amount], [c].[CancelTime], [c].[ClientId], [c].[ClientId1], [c].[CompleteTime], [c].[ContractNumber], [c].[CreateTime], [c].[EndDate], [c].[PaymentMethod], [c].[PropertyId], [c].[Remark], [c].[SignTime], [c].[StartDate], [c].[Status], [c].[Terms], [c].[Type], [c].[UpdateTime]
FROM [Contracts] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 12:32:34.788 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ContractService.Models.ContractDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 12:32:34.790 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractController.GetContract (RealEstateSolution.ContractService) in 7.4606ms
2025-05-30 12:32:34.792 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContract (RealEstateSolution.ContractService)'
2025-05-30 12:32:34.793 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetContract/5 - 200 null application/json; charset=utf-8 49.8023ms
2025-05-30 12:32:37.198 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetContractTemplates - null 0
2025-05-30 12:32:37.201 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 12:32:37.202 +08:00 [INF] 请求路径: /api/contract/GetContractTemplates
2025-05-30 12:32:37.203 +08:00 [INF] 请求方法: GET
2025-05-30 12:32:37.204 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 12:32:37.205 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 12:32:37.206 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 12:32:37.208 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 12:32:37.209 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 12:32:37.210 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODQ2Njg5NTQtZTBmMi00ZWY2LTlmOGYtOGRhOTJjZDllNDZmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzk4NzEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.lAoIAfJ6uBp9SIPe3_BU-CsurbR7-n3LKsx91ssN0KI
2025-05-30 12:32:37.211 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 12:32:37.212 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 12:32:37.213 +08:00 [INF] 请求头: traceparent = 00-6845169fc1ae95ecf5a58cf2ab9f3ac6-b53298f9abaf5c50-00
2025-05-30 12:32:37.215 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 12:32:37.216 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 12:32:37.217 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 12:32:37.218 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 12:32:37.219 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 12:32:37.220 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 12:32:37.221 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 12:32:37.222 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 12:32:37.224 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 12:32:37.224 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 12:32:37.225 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 12:32:37.226 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 12:32:37.227 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 12:32:37.228 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 12:32:37.229 +08:00 [INF] JWT Claim: jti = 84668954-e0f2-4ef6-9f8f-8da92cd9e46f
2025-05-30 12:32:37.230 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 12:32:37.231 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 12:32:37.232 +08:00 [INF] JWT Claim: exp = 1748579871
2025-05-30 12:32:37.233 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 12:32:37.234 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 12:32:37.235 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 12:32:37.236 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 12:32:37.237 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContractTemplates (RealEstateSolution.ContractService)'
2025-05-30 12:32:37.242 +08:00 [INF] Route matched with {action = "GetContractTemplates", controller = "Contract"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[System.Collections.Generic.List`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetContractTemplates(System.Nullable`1[RealEstateSolution.Database.Models.ContractType]) on controller RealEstateSolution.ContractService.Controllers.ContractController (RealEstateSolution.ContractService).
2025-05-30 12:32:37.246 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[System.Collections.Generic.List`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-30 12:32:37.250 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractController.GetContractTemplates (RealEstateSolution.ContractService) in 5.8606ms
2025-05-30 12:32:37.251 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContractTemplates (RealEstateSolution.ContractService)'
2025-05-30 12:32:37.252 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetContractTemplates - 200 null application/json; charset=utf-8 54.4777ms
2025-05-30 12:32:39.385 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetContractTemplates - null 0
2025-05-30 12:32:39.387 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 12:32:39.388 +08:00 [INF] 请求路径: /api/contract/GetContractTemplates
2025-05-30 12:32:39.390 +08:00 [INF] 请求方法: GET
2025-05-30 12:32:39.391 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 12:32:39.392 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 12:32:39.393 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 12:32:39.394 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 12:32:39.395 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 12:32:39.396 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODQ2Njg5NTQtZTBmMi00ZWY2LTlmOGYtOGRhOTJjZDllNDZmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzk4NzEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.lAoIAfJ6uBp9SIPe3_BU-CsurbR7-n3LKsx91ssN0KI
2025-05-30 12:32:39.398 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 12:32:39.399 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 12:32:39.400 +08:00 [INF] 请求头: traceparent = 00-f5616d0d31f64457662c0cb3f35e7420-ddc10a3f0b7c380f-00
2025-05-30 12:32:39.401 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 12:32:39.402 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 12:32:39.403 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 12:32:39.404 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 12:32:39.406 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 12:32:39.407 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 12:32:39.408 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 12:32:39.409 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 12:32:39.410 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 12:32:39.411 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 12:32:39.412 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 12:32:39.412 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 12:32:39.414 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 12:32:39.415 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 12:32:39.416 +08:00 [INF] JWT Claim: jti = 84668954-e0f2-4ef6-9f8f-8da92cd9e46f
2025-05-30 12:32:39.417 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 12:32:39.418 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 12:32:39.419 +08:00 [INF] JWT Claim: exp = 1748579871
2025-05-30 12:32:39.420 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 12:32:39.421 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 12:32:39.423 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 12:32:39.424 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 12:32:39.425 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContractTemplates (RealEstateSolution.ContractService)'
2025-05-30 12:32:39.426 +08:00 [INF] Route matched with {action = "GetContractTemplates", controller = "Contract"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[System.Collections.Generic.List`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetContractTemplates(System.Nullable`1[RealEstateSolution.Database.Models.ContractType]) on controller RealEstateSolution.ContractService.Controllers.ContractController (RealEstateSolution.ContractService).
2025-05-30 12:32:39.429 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[System.Collections.Generic.List`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-30 12:32:39.431 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractController.GetContractTemplates (RealEstateSolution.ContractService) in 2.6886ms
2025-05-30 12:32:39.433 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContractTemplates (RealEstateSolution.ContractService)'
2025-05-30 12:32:39.434 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetContractTemplates - 200 null application/json; charset=utf-8 48.5508ms
2025-05-30 12:33:09.838 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetContractTemplates - null 0
2025-05-30 12:33:09.841 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 12:33:09.842 +08:00 [INF] 请求路径: /api/contract/GetContractTemplates
2025-05-30 12:33:09.843 +08:00 [INF] 请求方法: GET
2025-05-30 12:33:09.844 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 12:33:09.845 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 12:33:09.846 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 12:33:09.848 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 12:33:09.850 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 12:33:09.851 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODQ2Njg5NTQtZTBmMi00ZWY2LTlmOGYtOGRhOTJjZDllNDZmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzk4NzEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.lAoIAfJ6uBp9SIPe3_BU-CsurbR7-n3LKsx91ssN0KI
2025-05-30 12:33:09.853 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 12:33:09.854 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 12:33:09.856 +08:00 [INF] 请求头: traceparent = 00-04976aa3caa2d577132251dd6664afac-0a396abeafa3d1a1-00
2025-05-30 12:33:09.857 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 12:33:09.858 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 12:33:09.859 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 12:33:09.860 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 12:33:09.861 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 12:33:09.862 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 12:33:09.864 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 12:33:09.865 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 12:33:09.866 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 12:33:09.867 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 12:33:09.869 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 12:33:09.870 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 12:33:09.872 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 12:33:09.873 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 12:33:09.875 +08:00 [INF] JWT Claim: jti = 84668954-e0f2-4ef6-9f8f-8da92cd9e46f
2025-05-30 12:33:09.877 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 12:33:09.878 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 12:33:09.879 +08:00 [INF] JWT Claim: exp = 1748579871
2025-05-30 12:33:09.881 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 12:33:09.883 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 12:33:09.884 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 12:33:09.886 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 12:33:09.887 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContractTemplates (RealEstateSolution.ContractService)'
2025-05-30 12:33:09.889 +08:00 [INF] Route matched with {action = "GetContractTemplates", controller = "Contract"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[System.Collections.Generic.List`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetContractTemplates(System.Nullable`1[RealEstateSolution.Database.Models.ContractType]) on controller RealEstateSolution.ContractService.Controllers.ContractController (RealEstateSolution.ContractService).
2025-05-30 12:33:17.555 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[System.Collections.Generic.List`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-30 12:33:17.557 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractController.GetContractTemplates (RealEstateSolution.ContractService) in 7665.6913ms
2025-05-30 12:33:17.559 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContractTemplates (RealEstateSolution.ContractService)'
2025-05-30 12:33:17.560 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetContractTemplates - 200 null application/json; charset=utf-8 7722.4036ms
2025-05-30 12:58:42.686 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-30 12:58:43.009 +08:00 [INF] Now listening on: https://localhost:5004
2025-05-30 12:58:43.090 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 12:58:43.092 +08:00 [INF] Hosting environment: Development
2025-05-30 12:58:43.094 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.ContractService
2025-05-30 12:58:43.936 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5004/_framework/aspnetcore-browser-refresh.js - null null
2025-05-30 12:58:43.972 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5004/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 48.9995ms
2025-05-30 12:58:44.142 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5004/_vs/browserLink - null null
2025-05-30 12:58:44.234 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5004/_vs/browserLink - 200 null text/javascript; charset=UTF-8 92.623ms
2025-05-30 12:58:44.398 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5004/swagger/v1/swagger.json - null null
2025-05-30 12:58:44.462 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 64.5513ms
2025-05-30 12:59:26.591 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-30 12:59:27.181 +08:00 [INF] Now listening on: https://localhost:5004
2025-05-30 12:59:28.075 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 12:59:28.078 +08:00 [INF] Hosting environment: Development
2025-05-30 12:59:28.080 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.ContractService
2025-05-30 12:59:29.190 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5004/_framework/aspnetcore-browser-refresh.js - null null
2025-05-30 12:59:29.200 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5004/_vs/browserLink - null null
2025-05-30 12:59:29.314 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5004/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 126.8484ms
2025-05-30 12:59:29.453 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5004/_vs/browserLink - 200 null text/javascript; charset=UTF-8 254.1157ms
2025-05-30 12:59:29.687 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5004/swagger/v1/swagger.json - null null
2025-05-30 12:59:29.752 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 65.0482ms
2025-05-30 13:01:14.140 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetContracts?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 13:01:14.196 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:01:14.199 +08:00 [INF] 请求路径: /api/contract/GetContracts
2025-05-30 13:01:14.200 +08:00 [INF] 请求方法: GET
2025-05-30 13:01:14.203 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:01:14.205 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 13:01:14.206 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:01:14.207 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:01:14.208 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:01:14.209 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOTFhOTBhMDktYzVmMy00ZjBhLTg0ODctZjA3ZGI5MWEzYjBiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODE4NjQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.yOfsgUvWiHhPvofwzifGyIrwpxAJ5_sAW4cX5oUaJHo
2025-05-30 13:01:14.211 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:01:14.213 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:01:14.214 +08:00 [INF] 请求头: traceparent = 00-ea1bfec85fca8294dc9e33e9b1b1f52b-cb7d06ed6f2d2e35-00
2025-05-30 13:01:14.215 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:01:14.216 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:01:14.218 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:01:14.221 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:01:14.223 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:01:14.224 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:01:14.225 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:01:14.227 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:01:14.228 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:01:14.229 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:01:14.277 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:01:14.279 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:01:14.280 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:01:14.281 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:01:14.282 +08:00 [INF] JWT Claim: jti = 91a90a09-c5f3-4f0a-8487-f07db91a3b0b
2025-05-30 13:01:14.284 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:01:14.285 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:01:14.287 +08:00 [INF] JWT Claim: exp = 1748581864
2025-05-30 13:01:14.288 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:01:14.289 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:01:14.291 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:01:14.372 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:01:14.407 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContracts (RealEstateSolution.ContractService)'
2025-05-30 13:01:14.434 +08:00 [INF] Route matched with {action = "GetContracts", controller = "Contract"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractDto]]] GetContracts(RealEstateSolution.ContractService.Models.ContractQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractController (RealEstateSolution.ContractService).
2025-05-30 13:01:15.224 +08:00 [WRN] No store type was specified for the decimal property 'MaxArea' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 13:01:15.227 +08:00 [WRN] No store type was specified for the decimal property 'MaxPrice' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 13:01:15.228 +08:00 [WRN] No store type was specified for the decimal property 'MinArea' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 13:01:15.229 +08:00 [WRN] No store type was specified for the decimal property 'MinPrice' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 13:01:15.230 +08:00 [WRN] No store type was specified for the decimal property 'Area' on entity type 'Property'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 13:01:15.232 +08:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Property'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 13:01:16.250 +08:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Amount], [c].[CancelTime], [c].[ClientId], [c].[ClientId1], [c].[CompleteTime], [c].[ContractNumber], [c].[CreateTime], [c].[EndDate], [c].[PaymentMethod], [c].[PropertyId], [c].[Remark], [c].[SignTime], [c].[StartDate], [c].[Status], [c].[Terms], [c].[Type], [c].[UpdateTime], [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime], [c0].[Id], [c0].[Address], [c0].[CreateTime], [c0].[Email], [c0].[Name], [c0].[Phone], [c0].[Source], [c0].[Status], [c0].[Type], [c0].[UpdateTime], [c1].[Id], [c1].[Address], [c1].[CreateTime], [c1].[Email], [c1].[Name], [c1].[Phone], [c1].[Source], [c1].[Status], [c1].[Type], [c1].[UpdateTime]
FROM [Contracts] AS [c]
INNER JOIN [Property] AS [p] ON [c].[PropertyId] = [p].[Id]
INNER JOIN [Clients] AS [c0] ON [c].[ClientId] = [c0].[Id]
LEFT JOIN [Clients] AS [c1] ON [c].[ClientId1] = [c1].[Id]
2025-05-30 13:01:16.438 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:01:16.482 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractController.GetContracts (RealEstateSolution.ContractService) in 2042.6821ms
2025-05-30 13:01:16.484 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContracts (RealEstateSolution.ContractService)'
2025-05-30 13:01:16.495 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetContracts?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 2354.5831ms
2025-05-30 13:10:29.992 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetContracts?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 13:10:30.002 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:10:30.003 +08:00 [INF] 请求路径: /api/contract/GetContracts
2025-05-30 13:10:30.005 +08:00 [INF] 请求方法: GET
2025-05-30 13:10:30.006 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:10:30.009 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 13:10:30.011 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:10:30.013 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:10:30.015 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:10:30.017 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOTFhOTBhMDktYzVmMy00ZjBhLTg0ODctZjA3ZGI5MWEzYjBiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODE4NjQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.yOfsgUvWiHhPvofwzifGyIrwpxAJ5_sAW4cX5oUaJHo
2025-05-30 13:10:30.019 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:10:30.020 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:10:30.022 +08:00 [INF] 请求头: traceparent = 00-2c1e93e5166a4fd8d20dfcd8b1f2d378-b3cae83586067626-00
2025-05-30 13:10:30.024 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:10:30.026 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:10:30.027 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:10:30.029 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:10:30.031 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:10:30.033 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:10:30.035 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:10:30.037 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:10:30.039 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:10:30.040 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:10:30.042 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:10:30.043 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:10:30.045 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:10:30.046 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:10:30.048 +08:00 [INF] JWT Claim: jti = 91a90a09-c5f3-4f0a-8487-f07db91a3b0b
2025-05-30 13:10:30.050 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:10:30.052 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:10:30.055 +08:00 [INF] JWT Claim: exp = 1748581864
2025-05-30 13:10:30.057 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:10:30.059 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:10:30.060 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:10:30.065 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:10:30.073 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContracts (RealEstateSolution.ContractService)'
2025-05-30 13:10:30.076 +08:00 [INF] Route matched with {action = "GetContracts", controller = "Contract"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractDto]]] GetContracts(RealEstateSolution.ContractService.Models.ContractQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractController (RealEstateSolution.ContractService).
2025-05-30 13:10:30.203 +08:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Amount], [c].[CancelTime], [c].[ClientId], [c].[ClientId1], [c].[CompleteTime], [c].[ContractNumber], [c].[CreateTime], [c].[EndDate], [c].[PaymentMethod], [c].[PropertyId], [c].[Remark], [c].[SignTime], [c].[StartDate], [c].[Status], [c].[Terms], [c].[Type], [c].[UpdateTime], [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime], [c0].[Id], [c0].[Address], [c0].[CreateTime], [c0].[Email], [c0].[Name], [c0].[Phone], [c0].[Source], [c0].[Status], [c0].[Type], [c0].[UpdateTime], [c1].[Id], [c1].[Address], [c1].[CreateTime], [c1].[Email], [c1].[Name], [c1].[Phone], [c1].[Source], [c1].[Status], [c1].[Type], [c1].[UpdateTime]
FROM [Contracts] AS [c]
INNER JOIN [Property] AS [p] ON [c].[PropertyId] = [p].[Id]
INNER JOIN [Clients] AS [c0] ON [c].[ClientId] = [c0].[Id]
LEFT JOIN [Clients] AS [c1] ON [c].[ClientId1] = [c1].[Id]
2025-05-30 13:10:30.214 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:10:30.218 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractController.GetContracts (RealEstateSolution.ContractService) in 138.8101ms
2025-05-30 13:10:30.220 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContracts (RealEstateSolution.ContractService)'
2025-05-30 13:10:30.222 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetContracts?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 232.466ms
2025-05-30 13:14:31.464 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-30 13:14:32.164 +08:00 [INF] Now listening on: https://localhost:5004
2025-05-30 13:14:32.492 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 13:14:32.508 +08:00 [INF] Hosting environment: Development
2025-05-30 13:14:32.514 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.ContractService
2025-05-30 13:14:33.473 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5004/_framework/aspnetcore-browser-refresh.js - null null
2025-05-30 13:14:33.572 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5004/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 99.6407ms
2025-05-30 13:14:34.310 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5004/_vs/browserLink - null null
2025-05-30 13:14:34.514 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5004/_vs/browserLink - 200 null text/javascript; charset=UTF-8 204.6241ms
2025-05-30 13:14:35.203 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5004/swagger/v1/swagger.json - null null
2025-05-30 13:14:35.321 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 118.1721ms
2025-05-30 13:15:12.351 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetContracts?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 13:15:12.413 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:15:12.416 +08:00 [INF] 请求路径: /api/contract/GetContracts
2025-05-30 13:15:12.417 +08:00 [INF] 请求方法: GET
2025-05-30 13:15:12.419 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:15:12.422 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 13:15:12.424 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:15:12.425 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:15:12.427 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:15:12.428 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMjUwNjVlY2YtYzFiNS00ZmM2LWI3N2MtOGFiMmIzMTVhN2I4IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODI3MDUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.NFGr7-ad3vTcgUN1tndn3aNg7pCWMzFGAAGYrlB5DOA
2025-05-30 13:15:12.431 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:15:12.432 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:15:12.434 +08:00 [INF] 请求头: traceparent = 00-94da5e22c5c1f027dadad5c834cbbfd5-a128fc6c6fd141d8-00
2025-05-30 13:15:12.435 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:15:12.438 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:15:12.440 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:15:12.442 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:15:12.443 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:15:12.445 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:15:12.447 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:15:12.448 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:15:12.450 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:15:12.451 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:15:12.505 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:15:12.507 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:15:12.509 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:15:12.510 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:15:12.513 +08:00 [INF] JWT Claim: jti = 25065ecf-c1b5-4fc6-b77c-8ab2b315a7b8
2025-05-30 13:15:12.514 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:15:12.516 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:15:12.517 +08:00 [INF] JWT Claim: exp = 1748582705
2025-05-30 13:15:12.518 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:15:12.520 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:15:12.522 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:15:12.607 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:15:12.641 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContracts (RealEstateSolution.ContractService)'
2025-05-30 13:15:12.667 +08:00 [INF] Route matched with {action = "GetContracts", controller = "Contract"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractDto]]] GetContracts(RealEstateSolution.ContractService.Models.ContractQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractController (RealEstateSolution.ContractService).
2025-05-30 13:15:13.448 +08:00 [WRN] No store type was specified for the decimal property 'MaxArea' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 13:15:13.450 +08:00 [WRN] No store type was specified for the decimal property 'MaxPrice' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 13:15:13.452 +08:00 [WRN] No store type was specified for the decimal property 'MinArea' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 13:15:13.454 +08:00 [WRN] No store type was specified for the decimal property 'MinPrice' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 13:15:13.456 +08:00 [WRN] No store type was specified for the decimal property 'Area' on entity type 'Property'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 13:15:13.458 +08:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Property'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 13:15:14.394 +08:00 [INF] Executed DbCommand (103ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Amount], [c].[CancelTime], [c].[ClientId], [c].[ClientId1], [c].[CompleteTime], [c].[ContractNumber], [c].[CreateTime], [c].[EndDate], [c].[PaymentMethod], [c].[PropertyId], [c].[Remark], [c].[SignTime], [c].[StartDate], [c].[Status], [c].[Terms], [c].[Type], [c].[UpdateTime], [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime], [c0].[Id], [c0].[Address], [c0].[CreateTime], [c0].[Email], [c0].[Name], [c0].[Phone], [c0].[Source], [c0].[Status], [c0].[Type], [c0].[UpdateTime], [c1].[Id], [c1].[Address], [c1].[CreateTime], [c1].[Email], [c1].[Name], [c1].[Phone], [c1].[Source], [c1].[Status], [c1].[Type], [c1].[UpdateTime]
FROM [Contracts] AS [c]
INNER JOIN [Property] AS [p] ON [c].[PropertyId] = [p].[Id]
INNER JOIN [Clients] AS [c0] ON [c].[ClientId] = [c0].[Id]
LEFT JOIN [Clients] AS [c1] ON [c].[ClientId1] = [c1].[Id]
2025-05-30 13:15:14.554 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:15:14.588 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractController.GetContracts (RealEstateSolution.ContractService) in 1915.5721ms
2025-05-30 13:15:14.590 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContracts (RealEstateSolution.ContractService)'
2025-05-30 13:15:14.597 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetContracts?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 2246.4962ms
2025-05-30 13:15:15.841 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 13:15:15.844 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:15:15.845 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 13:15:15.846 +08:00 [INF] 请求方法: GET
2025-05-30 13:15:15.847 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:15:15.849 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 13:15:15.850 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:15:15.851 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:15:15.852 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:15:15.853 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMjUwNjVlY2YtYzFiNS00ZmM2LWI3N2MtOGFiMmIzMTVhN2I4IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODI3MDUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.NFGr7-ad3vTcgUN1tndn3aNg7pCWMzFGAAGYrlB5DOA
2025-05-30 13:15:15.855 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:15:15.856 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:15:15.857 +08:00 [INF] 请求头: traceparent = 00-e8da01ddacb9419a8aef9d63fa4c91af-98a9ebe91c72a71b-00
2025-05-30 13:15:15.858 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:15:15.859 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:15:15.861 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:15:15.862 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:15:15.863 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:15:15.865 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:15:15.866 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:15:15.867 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:15:15.868 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:15:15.869 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:15:15.871 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:15:15.873 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:15:15.874 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:15:15.875 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:15:15.877 +08:00 [INF] JWT Claim: jti = 25065ecf-c1b5-4fc6-b77c-8ab2b315a7b8
2025-05-30 13:15:15.879 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:15:15.880 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:15:15.882 +08:00 [INF] JWT Claim: exp = 1748582705
2025-05-30 13:15:15.883 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:15:15.884 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:15:15.886 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:15:15.888 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:15:15.893 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:15:15.899 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 13:15:15.976 +08:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 13:15:16.001 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:15:16.013 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 111.3732ms
2025-05-30 13:15:16.015 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:15:16.016 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 175.4913ms
2025-05-30 13:15:40.909 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 13:15:40.917 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:15:40.918 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 13:15:40.919 +08:00 [INF] 请求方法: GET
2025-05-30 13:15:40.920 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:15:40.921 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 13:15:40.922 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:15:40.924 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:15:40.925 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:15:40.926 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMjUwNjVlY2YtYzFiNS00ZmM2LWI3N2MtOGFiMmIzMTVhN2I4IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODI3MDUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.NFGr7-ad3vTcgUN1tndn3aNg7pCWMzFGAAGYrlB5DOA
2025-05-30 13:15:40.927 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:15:40.929 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:15:40.930 +08:00 [INF] 请求头: traceparent = 00-8078e683f3031cf9a4f7905b1cc5e454-00fc8e5a6d36308a-00
2025-05-30 13:15:40.932 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:15:40.933 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:15:40.934 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:15:40.935 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:15:40.937 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:15:40.938 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:15:40.939 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:15:40.941 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:15:40.942 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:15:40.943 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:15:40.943 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:15:40.944 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:15:40.946 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:15:40.947 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:15:40.949 +08:00 [INF] JWT Claim: jti = 25065ecf-c1b5-4fc6-b77c-8ab2b315a7b8
2025-05-30 13:15:40.950 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:15:40.951 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:15:40.952 +08:00 [INF] JWT Claim: exp = 1748582705
2025-05-30 13:15:40.954 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:15:40.955 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:15:40.956 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:15:40.959 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:15:40.961 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:15:40.963 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 13:15:40.982 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 13:15:40.987 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:15:40.991 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 26.3105ms
2025-05-30 13:15:40.993 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:15:40.995 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 86.058ms
2025-05-30 13:19:14.794 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 13:19:14.808 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:19:14.809 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 13:19:14.811 +08:00 [INF] 请求方法: GET
2025-05-30 13:19:14.812 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:19:14.814 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 13:19:14.815 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:19:14.817 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:19:14.819 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:19:14.820 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMjUwNjVlY2YtYzFiNS00ZmM2LWI3N2MtOGFiMmIzMTVhN2I4IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODI3MDUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.NFGr7-ad3vTcgUN1tndn3aNg7pCWMzFGAAGYrlB5DOA
2025-05-30 13:19:14.822 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:19:14.823 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:19:14.825 +08:00 [INF] 请求头: traceparent = 00-eea8fb3d87ef9e8877e90819bb58c04d-a814d7efb24cda5d-00
2025-05-30 13:19:14.826 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:19:14.828 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:19:14.829 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:19:14.831 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:19:14.832 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:19:14.834 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:19:14.836 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:19:14.838 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:19:14.839 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:19:14.841 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:19:14.842 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:19:14.843 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:19:14.845 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:19:14.846 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:19:14.848 +08:00 [INF] JWT Claim: jti = 25065ecf-c1b5-4fc6-b77c-8ab2b315a7b8
2025-05-30 13:19:14.850 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:19:14.851 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:19:14.853 +08:00 [INF] JWT Claim: exp = 1748582705
2025-05-30 13:19:14.855 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:19:14.856 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:19:14.858 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:19:14.860 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:19:14.862 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:19:14.864 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 13:19:14.876 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 13:19:14.881 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:19:14.884 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 17.9486ms
2025-05-30 13:19:14.886 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:19:14.889 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 94.9036ms
2025-05-30 13:19:24.824 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 13:19:24.828 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:19:24.829 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 13:19:24.830 +08:00 [INF] 请求方法: GET
2025-05-30 13:19:24.831 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:19:24.832 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 13:19:24.833 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:19:24.835 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:19:24.837 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:19:24.839 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMjUwNjVlY2YtYzFiNS00ZmM2LWI3N2MtOGFiMmIzMTVhN2I4IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODI3MDUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.NFGr7-ad3vTcgUN1tndn3aNg7pCWMzFGAAGYrlB5DOA
2025-05-30 13:19:24.840 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:19:24.842 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:19:24.843 +08:00 [INF] 请求头: traceparent = 00-814d03181f39eeb6b8da02302c78da83-5045d3256807c2e8-00
2025-05-30 13:19:24.845 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:19:24.847 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:19:24.848 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:19:24.850 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:19:24.851 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:19:24.852 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:19:24.854 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:19:24.855 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:19:24.856 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:19:24.857 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:19:24.858 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:19:24.859 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:19:24.860 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:19:24.862 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:19:24.863 +08:00 [INF] JWT Claim: jti = 25065ecf-c1b5-4fc6-b77c-8ab2b315a7b8
2025-05-30 13:19:24.864 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:19:24.865 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:19:24.867 +08:00 [INF] JWT Claim: exp = 1748582705
2025-05-30 13:19:24.868 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:19:24.869 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:19:24.870 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:19:24.872 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:19:24.873 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:19:24.874 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 13:19:24.882 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 13:19:24.886 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:19:24.888 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 12.199ms
2025-05-30 13:19:24.890 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:19:24.891 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 67.2282ms
2025-05-30 13:19:38.386 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 13:19:38.392 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:19:38.396 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 13:19:38.398 +08:00 [INF] 请求方法: GET
2025-05-30 13:19:38.401 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:19:38.404 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 13:19:38.407 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:19:38.410 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:19:38.413 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:19:38.415 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMjUwNjVlY2YtYzFiNS00ZmM2LWI3N2MtOGFiMmIzMTVhN2I4IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODI3MDUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.NFGr7-ad3vTcgUN1tndn3aNg7pCWMzFGAAGYrlB5DOA
2025-05-30 13:19:38.419 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:19:38.422 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:19:38.424 +08:00 [INF] 请求头: traceparent = 00-4ca5ec757971a440be78ff9bed8131d5-b2a42bab8b0f5434-00
2025-05-30 13:19:38.427 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:19:38.430 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:19:38.433 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:19:38.436 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:19:38.440 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:19:38.443 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:19:38.448 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:19:38.451 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:19:38.461 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:19:38.482 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:19:38.507 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:19:38.541 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:19:38.569 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:19:38.574 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:19:38.580 +08:00 [INF] JWT Claim: jti = 25065ecf-c1b5-4fc6-b77c-8ab2b315a7b8
2025-05-30 13:19:38.584 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:19:38.590 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:19:38.599 +08:00 [INF] JWT Claim: exp = 1748582705
2025-05-30 13:19:38.605 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:19:38.608 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:19:38.612 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:19:38.615 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:19:38.617 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:19:38.621 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 13:19:38.642 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 13:19:38.650 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:19:38.658 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 29.8774ms
2025-05-30 13:19:38.664 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:19:38.667 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 281.6024ms
2025-05-30 13:22:28.082 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 13:22:28.086 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:22:28.087 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 13:22:28.088 +08:00 [INF] 请求方法: GET
2025-05-30 13:22:28.089 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:22:28.090 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 13:22:28.091 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:22:28.093 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:22:28.095 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:22:28.096 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMjUwNjVlY2YtYzFiNS00ZmM2LWI3N2MtOGFiMmIzMTVhN2I4IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODI3MDUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.NFGr7-ad3vTcgUN1tndn3aNg7pCWMzFGAAGYrlB5DOA
2025-05-30 13:22:28.097 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:22:28.098 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:22:28.100 +08:00 [INF] 请求头: traceparent = 00-8242c4d0100665439ddf0acf9459c5c2-bb1ab460aa954fee-00
2025-05-30 13:22:28.101 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:22:28.102 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:22:28.103 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:22:28.104 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:22:28.105 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:22:28.106 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:22:28.107 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:22:28.108 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:22:28.109 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:22:28.110 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:22:28.111 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:22:28.112 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:22:28.114 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:22:28.115 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:22:28.116 +08:00 [INF] JWT Claim: jti = 25065ecf-c1b5-4fc6-b77c-8ab2b315a7b8
2025-05-30 13:22:28.117 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:22:28.118 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:22:28.120 +08:00 [INF] JWT Claim: exp = 1748582705
2025-05-30 13:22:28.121 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:22:28.122 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:22:28.123 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:22:28.124 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:22:28.125 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:22:28.127 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 13:22:28.134 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 13:22:28.137 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:22:28.139 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 10.4361ms
2025-05-30 13:22:28.140 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:22:28.142 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 59.516ms
2025-05-30 13:23:05.262 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 13:23:05.264 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:23:05.265 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 13:23:05.266 +08:00 [INF] 请求方法: GET
2025-05-30 13:23:05.268 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:23:05.269 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 13:23:05.270 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:23:05.271 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:23:05.272 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:23:05.274 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMjUwNjVlY2YtYzFiNS00ZmM2LWI3N2MtOGFiMmIzMTVhN2I4IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODI3MDUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.NFGr7-ad3vTcgUN1tndn3aNg7pCWMzFGAAGYrlB5DOA
2025-05-30 13:23:05.275 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:23:05.276 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:23:05.277 +08:00 [INF] 请求头: traceparent = 00-97cfa59f783d7aba318a13e58e60f667-622ebd5ad3310501-00
2025-05-30 13:23:05.279 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:23:05.280 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:23:05.281 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:23:05.282 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:23:05.283 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:23:05.284 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:23:05.285 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:23:05.286 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:23:05.287 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:23:05.288 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:23:05.289 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:23:05.290 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:23:05.291 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:23:05.292 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:23:05.293 +08:00 [INF] JWT Claim: jti = 25065ecf-c1b5-4fc6-b77c-8ab2b315a7b8
2025-05-30 13:23:05.294 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:23:05.295 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:23:05.296 +08:00 [INF] JWT Claim: exp = 1748582705
2025-05-30 13:23:05.297 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:23:05.298 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:23:05.299 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:23:05.300 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:23:05.302 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:23:05.303 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 13:23:05.310 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 13:23:05.313 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:23:05.315 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 10.7088ms
2025-05-30 13:23:05.317 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:23:05.318 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 55.9935ms
2025-05-30 13:23:27.038 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 13:23:27.048 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:23:27.049 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 13:23:27.051 +08:00 [INF] 请求方法: GET
2025-05-30 13:23:27.052 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:23:27.053 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 13:23:27.054 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:23:27.055 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:23:27.056 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:23:27.057 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMjUwNjVlY2YtYzFiNS00ZmM2LWI3N2MtOGFiMmIzMTVhN2I4IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODI3MDUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.NFGr7-ad3vTcgUN1tndn3aNg7pCWMzFGAAGYrlB5DOA
2025-05-30 13:23:27.058 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:23:27.059 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:23:27.060 +08:00 [INF] 请求头: traceparent = 00-8171ae10cb23b6bd63530067c4f03fb8-3e851ff3f93450b9-00
2025-05-30 13:23:27.061 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:23:27.062 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:23:27.063 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:23:27.064 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:23:27.065 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:23:27.067 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:23:27.068 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:23:27.069 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:23:27.070 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:23:27.071 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:23:27.072 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:23:27.074 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:23:27.075 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:23:27.076 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:23:27.077 +08:00 [INF] JWT Claim: jti = 25065ecf-c1b5-4fc6-b77c-8ab2b315a7b8
2025-05-30 13:23:27.078 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:23:27.079 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:23:27.080 +08:00 [INF] JWT Claim: exp = 1748582705
2025-05-30 13:23:27.081 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:23:27.082 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:23:27.083 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:23:27.084 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:23:27.086 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:23:27.087 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 13:23:27.094 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 13:23:27.103 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:23:27.105 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 16.1959ms
2025-05-30 13:23:27.106 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:23:27.107 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 69.8724ms
2025-05-30 13:24:15.700 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 13:24:15.710 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:24:15.711 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 13:24:15.712 +08:00 [INF] 请求方法: GET
2025-05-30 13:24:15.713 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:24:15.714 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 13:24:15.715 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:24:15.716 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:24:15.718 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:24:15.719 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMjUwNjVlY2YtYzFiNS00ZmM2LWI3N2MtOGFiMmIzMTVhN2I4IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODI3MDUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.NFGr7-ad3vTcgUN1tndn3aNg7pCWMzFGAAGYrlB5DOA
2025-05-30 13:24:15.720 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:24:15.721 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:24:15.722 +08:00 [INF] 请求头: traceparent = 00-68613a208f8faa4557f98812f44e0608-c4d0406a17ba98f7-00
2025-05-30 13:24:15.723 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:24:15.725 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:24:15.726 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:24:15.727 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:24:15.728 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:24:15.729 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:24:15.731 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:24:15.732 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:24:15.733 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:24:15.734 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:24:15.735 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:24:15.736 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:24:15.737 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:24:15.738 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:24:15.739 +08:00 [INF] JWT Claim: jti = 25065ecf-c1b5-4fc6-b77c-8ab2b315a7b8
2025-05-30 13:24:15.740 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:24:15.742 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:24:15.743 +08:00 [INF] JWT Claim: exp = 1748582705
2025-05-30 13:24:15.744 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:24:15.745 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:24:15.746 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:24:15.747 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:24:15.748 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:24:15.749 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 13:24:15.766 +08:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 13:24:15.775 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:24:15.781 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 29.5007ms
2025-05-30 13:24:15.783 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:24:15.784 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 84.8178ms
2025-05-30 13:24:48.300 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 13:24:48.333 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:24:48.334 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 13:24:48.335 +08:00 [INF] 请求方法: GET
2025-05-30 13:24:48.336 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:24:48.337 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 13:24:48.339 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:24:48.340 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:24:48.342 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:24:48.343 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMjUwNjVlY2YtYzFiNS00ZmM2LWI3N2MtOGFiMmIzMTVhN2I4IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODI3MDUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.NFGr7-ad3vTcgUN1tndn3aNg7pCWMzFGAAGYrlB5DOA
2025-05-30 13:24:48.345 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:24:48.346 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:24:48.348 +08:00 [INF] 请求头: traceparent = 00-2c7b5b2dd9d2698dc8bd0c93ab6a6504-24559526f28c4b16-00
2025-05-30 13:24:48.349 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:24:48.351 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:24:48.353 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:24:48.354 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:24:48.355 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:24:48.356 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:24:48.358 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:24:48.359 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:24:48.361 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:24:48.362 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:24:48.363 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:24:48.363 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:24:48.365 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:24:48.366 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:24:48.368 +08:00 [INF] JWT Claim: jti = 25065ecf-c1b5-4fc6-b77c-8ab2b315a7b8
2025-05-30 13:24:48.369 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:24:48.371 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:24:48.372 +08:00 [INF] JWT Claim: exp = 1748582705
2025-05-30 13:24:48.373 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:24:48.374 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:24:48.375 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:24:48.376 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:24:48.377 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:24:48.378 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 13:24:48.391 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 13:24:48.395 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:24:48.402 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 21.7281ms
2025-05-30 13:24:48.404 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:24:48.405 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 104.3931ms
2025-05-30 13:24:59.436 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 13:24:59.440 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:24:59.442 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 13:24:59.443 +08:00 [INF] 请求方法: GET
2025-05-30 13:24:59.445 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:24:59.446 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 13:24:59.448 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:24:59.450 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:24:59.452 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:24:59.453 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMjUwNjVlY2YtYzFiNS00ZmM2LWI3N2MtOGFiMmIzMTVhN2I4IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODI3MDUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.NFGr7-ad3vTcgUN1tndn3aNg7pCWMzFGAAGYrlB5DOA
2025-05-30 13:24:59.455 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:24:59.457 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:24:59.459 +08:00 [INF] 请求头: traceparent = 00-a6dbd229595ff6e6db7eacce9e4914e4-ab8e670b3352c434-00
2025-05-30 13:24:59.461 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:24:59.463 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:24:59.465 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:24:59.468 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:24:59.470 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:24:59.471 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:24:59.473 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:24:59.474 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:24:59.476 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:24:59.477 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:24:59.478 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:24:59.479 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:24:59.481 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:24:59.483 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:24:59.485 +08:00 [INF] JWT Claim: jti = 25065ecf-c1b5-4fc6-b77c-8ab2b315a7b8
2025-05-30 13:24:59.486 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:24:59.488 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:24:59.489 +08:00 [INF] JWT Claim: exp = 1748582705
2025-05-30 13:24:59.491 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:24:59.493 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:24:59.495 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:24:59.496 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:24:59.497 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:24:59.499 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 13:24:59.508 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 13:24:59.513 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:24:59.517 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 15.2434ms
2025-05-30 13:24:59.520 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:24:59.521 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 85.5878ms
2025-05-30 13:33:47.925 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-30 13:33:48.895 +08:00 [INF] Now listening on: https://localhost:5004
2025-05-30 13:33:49.211 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 13:33:49.224 +08:00 [INF] Hosting environment: Development
2025-05-30 13:33:49.229 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.ContractService
2025-05-30 13:33:50.426 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5004/_framework/aspnetcore-browser-refresh.js - null null
2025-05-30 13:33:50.496 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5004/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 70.9203ms
2025-05-30 13:33:51.724 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5004/_vs/browserLink - null null
2025-05-30 13:33:51.881 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5004/_vs/browserLink - 200 null text/javascript; charset=UTF-8 156.9388ms
2025-05-30 13:33:52.044 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5004/swagger/v1/swagger.json - null null
2025-05-30 13:33:52.127 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 83.5368ms
2025-05-30 13:34:55.045 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetContracts?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 13:34:55.106 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:34:55.109 +08:00 [INF] 请求路径: /api/contract/GetContracts
2025-05-30 13:34:55.110 +08:00 [INF] 请求方法: GET
2025-05-30 13:34:55.112 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:34:55.114 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 13:34:55.115 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:34:55.117 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:34:55.118 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:34:55.120 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdmNTY5NTMtYTE2Yy00ZDNhLTkzMTAtOTYxM2RhN2QxZDg1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODM4ODYsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.DF9mPzkoIU0znT0YA9YJFRYIQdtijFBxdCYj6Fzy15U
2025-05-30 13:34:55.121 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:34:55.122 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:34:55.124 +08:00 [INF] 请求头: traceparent = 00-600d799c2d31fd7fba0e351709d20fa7-c7f52fe32b8803e0-00
2025-05-30 13:34:55.125 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:34:55.128 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:34:55.129 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:34:55.131 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:34:55.133 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:34:55.134 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:34:55.136 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:34:55.137 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:34:55.139 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:34:55.140 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:34:55.196 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:34:55.197 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:34:55.199 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:34:55.200 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:34:55.201 +08:00 [INF] JWT Claim: jti = 57f56953-a16c-4d3a-9310-9613da7d1d85
2025-05-30 13:34:55.203 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:34:55.204 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:34:55.205 +08:00 [INF] JWT Claim: exp = 1748583886
2025-05-30 13:34:55.206 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:34:55.208 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:34:55.209 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:34:55.308 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:34:55.355 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContracts (RealEstateSolution.ContractService)'
2025-05-30 13:34:55.388 +08:00 [INF] Route matched with {action = "GetContracts", controller = "Contract"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractDto]]] GetContracts(RealEstateSolution.ContractService.Models.ContractQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractController (RealEstateSolution.ContractService).
2025-05-30 13:34:56.332 +08:00 [WRN] No store type was specified for the decimal property 'MaxArea' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 13:34:56.335 +08:00 [WRN] No store type was specified for the decimal property 'MaxPrice' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 13:34:56.338 +08:00 [WRN] No store type was specified for the decimal property 'MinArea' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 13:34:56.340 +08:00 [WRN] No store type was specified for the decimal property 'MinPrice' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 13:34:56.342 +08:00 [WRN] No store type was specified for the decimal property 'Area' on entity type 'Property'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 13:34:56.344 +08:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Property'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 13:34:57.536 +08:00 [INF] Executed DbCommand (61ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Amount], [c].[CancelTime], [c].[ClientId], [c].[ClientId1], [c].[CompleteTime], [c].[ContractNumber], [c].[CreateTime], [c].[EndDate], [c].[PaymentMethod], [c].[PropertyId], [c].[Remark], [c].[SignTime], [c].[StartDate], [c].[Status], [c].[Terms], [c].[Type], [c].[UpdateTime], [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime], [c0].[Id], [c0].[Address], [c0].[CreateTime], [c0].[Email], [c0].[Name], [c0].[Phone], [c0].[Source], [c0].[Status], [c0].[Type], [c0].[UpdateTime], [c1].[Id], [c1].[Address], [c1].[CreateTime], [c1].[Email], [c1].[Name], [c1].[Phone], [c1].[Source], [c1].[Status], [c1].[Type], [c1].[UpdateTime]
FROM [Contracts] AS [c]
INNER JOIN [Property] AS [p] ON [c].[PropertyId] = [p].[Id]
INNER JOIN [Clients] AS [c0] ON [c].[ClientId] = [c0].[Id]
LEFT JOIN [Clients] AS [c1] ON [c].[ClientId1] = [c1].[Id]
2025-05-30 13:34:57.771 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:34:57.817 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractController.GetContracts (RealEstateSolution.ContractService) in 2422.8901ms
2025-05-30 13:34:57.819 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContracts (RealEstateSolution.ContractService)'
2025-05-30 13:34:57.829 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetContracts?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 2784.106ms
2025-05-30 13:35:01.138 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 13:35:01.142 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:35:01.143 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 13:35:01.144 +08:00 [INF] 请求方法: GET
2025-05-30 13:35:01.145 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:35:01.146 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 13:35:01.147 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:35:01.149 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:35:01.150 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:35:01.151 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdmNTY5NTMtYTE2Yy00ZDNhLTkzMTAtOTYxM2RhN2QxZDg1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODM4ODYsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.DF9mPzkoIU0znT0YA9YJFRYIQdtijFBxdCYj6Fzy15U
2025-05-30 13:35:01.153 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:35:01.154 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:35:01.155 +08:00 [INF] 请求头: traceparent = 00-dc82567a154c7206a5a3b39de67bdfbf-688fb13d5462dd0c-00
2025-05-30 13:35:01.156 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:35:01.158 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:35:01.159 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:35:01.161 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:35:01.162 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:35:01.163 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:35:01.165 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:35:01.166 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:35:01.168 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:35:01.169 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:35:01.170 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:35:01.171 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:35:01.172 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:35:01.173 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:35:01.174 +08:00 [INF] JWT Claim: jti = 57f56953-a16c-4d3a-9310-9613da7d1d85
2025-05-30 13:35:01.176 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:35:01.177 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:35:01.179 +08:00 [INF] JWT Claim: exp = 1748583886
2025-05-30 13:35:01.180 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:35:01.181 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:35:01.182 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:35:01.185 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:35:01.191 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:35:01.198 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 13:35:01.288 +08:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 13:35:01.323 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:35:01.338 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 136.8022ms
2025-05-30 13:35:01.339 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:35:01.341 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 203.2018ms
2025-05-30 13:36:19.086 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 13:36:19.096 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:36:19.097 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 13:36:19.098 +08:00 [INF] 请求方法: GET
2025-05-30 13:36:19.099 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:36:19.100 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 13:36:19.101 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:36:19.103 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:36:19.104 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:36:19.105 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdmNTY5NTMtYTE2Yy00ZDNhLTkzMTAtOTYxM2RhN2QxZDg1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODM4ODYsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.DF9mPzkoIU0znT0YA9YJFRYIQdtijFBxdCYj6Fzy15U
2025-05-30 13:36:19.106 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:36:19.108 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:36:19.109 +08:00 [INF] 请求头: traceparent = 00-31a5e6f39a71e8220a87b0ceae2a7834-e315e803b2a41692-00
2025-05-30 13:36:19.111 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:36:19.112 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:36:19.113 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:36:19.114 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:36:19.116 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:36:19.117 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:36:19.119 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:36:19.120 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:36:19.121 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:36:19.122 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:36:19.123 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:36:19.124 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:36:19.125 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:36:19.126 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:36:19.128 +08:00 [INF] JWT Claim: jti = 57f56953-a16c-4d3a-9310-9613da7d1d85
2025-05-30 13:36:19.129 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:36:19.130 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:36:19.131 +08:00 [INF] JWT Claim: exp = 1748583886
2025-05-30 13:36:19.133 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:36:19.134 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:36:19.136 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:36:19.139 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:36:19.142 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:36:19.144 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 13:36:19.170 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 13:36:19.175 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:36:19.179 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 33.5369ms
2025-05-30 13:36:19.181 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:36:19.183 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 96.835ms
2025-05-30 13:38:24.549 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 13:38:24.558 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:38:24.559 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 13:38:24.560 +08:00 [INF] 请求方法: GET
2025-05-30 13:38:24.561 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:38:24.562 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 13:38:24.563 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:38:24.564 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:38:24.565 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:38:24.566 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdmNTY5NTMtYTE2Yy00ZDNhLTkzMTAtOTYxM2RhN2QxZDg1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODM4ODYsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.DF9mPzkoIU0znT0YA9YJFRYIQdtijFBxdCYj6Fzy15U
2025-05-30 13:38:24.567 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:38:24.569 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:38:24.570 +08:00 [INF] 请求头: traceparent = 00-997faecda321efeaecd72f0f55036771-86a3cab0e6648a81-00
2025-05-30 13:38:24.571 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:38:24.572 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:38:24.573 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:38:24.575 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:38:24.576 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:38:24.577 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:38:24.578 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:38:24.579 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:38:24.580 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:38:24.581 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:38:24.582 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:38:24.582 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:38:24.584 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:38:24.585 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:38:24.586 +08:00 [INF] JWT Claim: jti = 57f56953-a16c-4d3a-9310-9613da7d1d85
2025-05-30 13:38:24.587 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:38:24.588 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:38:24.589 +08:00 [INF] JWT Claim: exp = 1748583886
2025-05-30 13:38:24.590 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:38:24.591 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:38:24.593 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:38:24.594 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:38:24.595 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:38:24.596 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 13:38:24.605 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 13:38:24.609 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:38:24.611 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 13.5894ms
2025-05-30 13:38:24.613 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:38:24.615 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 67.2329ms
2025-05-30 13:38:33.231 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 13:38:33.236 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:38:33.237 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 13:38:33.238 +08:00 [INF] 请求方法: GET
2025-05-30 13:38:33.240 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:38:33.241 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 13:38:33.243 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:38:33.244 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:38:33.246 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:38:33.247 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdmNTY5NTMtYTE2Yy00ZDNhLTkzMTAtOTYxM2RhN2QxZDg1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODM4ODYsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.DF9mPzkoIU0znT0YA9YJFRYIQdtijFBxdCYj6Fzy15U
2025-05-30 13:38:33.249 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:38:33.251 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:38:33.253 +08:00 [INF] 请求头: traceparent = 00-48911f97bb6a410bf6656cf0d53c1081-30bb840fd217d40c-00
2025-05-30 13:38:33.254 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:38:33.256 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:38:33.257 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:38:33.259 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:38:33.260 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:38:33.263 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:38:33.265 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:38:33.266 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:38:33.268 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:38:33.269 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:38:33.270 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:38:33.271 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:38:33.272 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:38:33.274 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:38:33.277 +08:00 [INF] JWT Claim: jti = 57f56953-a16c-4d3a-9310-9613da7d1d85
2025-05-30 13:38:33.279 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:38:33.280 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:38:33.282 +08:00 [INF] JWT Claim: exp = 1748583886
2025-05-30 13:38:33.283 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:38:33.285 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:38:33.286 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:38:33.287 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:38:33.289 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:38:33.290 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 13:38:33.298 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 13:38:33.302 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:38:33.305 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 12.4571ms
2025-05-30 13:38:33.307 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:38:33.309 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 77.5041ms
2025-05-30 13:38:57.468 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 13:38:57.479 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:38:57.480 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 13:38:57.481 +08:00 [INF] 请求方法: GET
2025-05-30 13:38:57.482 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:38:57.484 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 13:38:57.485 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:38:57.487 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:38:57.488 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:38:57.490 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdmNTY5NTMtYTE2Yy00ZDNhLTkzMTAtOTYxM2RhN2QxZDg1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODM4ODYsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.DF9mPzkoIU0znT0YA9YJFRYIQdtijFBxdCYj6Fzy15U
2025-05-30 13:38:57.492 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:38:57.494 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:38:57.495 +08:00 [INF] 请求头: traceparent = 00-26392ad33c5266c775b258c18e002235-31d4e8f44f42eb4e-00
2025-05-30 13:38:57.497 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:38:57.498 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:38:57.500 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:38:57.501 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:38:57.503 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:38:57.504 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:38:57.507 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:38:57.509 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:38:57.510 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:38:57.511 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:38:57.512 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:38:57.514 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:38:57.515 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:38:57.517 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:38:57.518 +08:00 [INF] JWT Claim: jti = 57f56953-a16c-4d3a-9310-9613da7d1d85
2025-05-30 13:38:57.520 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:38:57.521 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:38:57.523 +08:00 [INF] JWT Claim: exp = 1748583886
2025-05-30 13:38:57.524 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:38:57.526 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:38:57.527 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:38:57.529 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:38:57.530 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:38:57.532 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 13:38:57.540 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 13:38:57.550 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:38:57.557 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 22.3759ms
2025-05-30 13:38:57.559 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:38:57.561 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 92.9315ms
2025-05-30 13:39:04.142 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 13:39:04.145 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:39:04.147 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 13:39:04.148 +08:00 [INF] 请求方法: GET
2025-05-30 13:39:04.150 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:39:04.152 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 13:39:04.153 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:39:04.155 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:39:04.156 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:39:04.157 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdmNTY5NTMtYTE2Yy00ZDNhLTkzMTAtOTYxM2RhN2QxZDg1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODM4ODYsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.DF9mPzkoIU0znT0YA9YJFRYIQdtijFBxdCYj6Fzy15U
2025-05-30 13:39:04.159 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:39:04.160 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:39:04.161 +08:00 [INF] 请求头: traceparent = 00-9eb4f329f7fdb11bf32159905eb1a49c-9979ffc2cad7ba53-00
2025-05-30 13:39:04.162 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:39:04.164 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:39:04.166 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:39:04.167 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:39:04.169 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:39:04.170 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:39:04.171 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:39:04.172 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:39:04.174 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:39:04.175 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:39:04.176 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:39:04.177 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:39:04.179 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:39:04.181 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:39:04.182 +08:00 [INF] JWT Claim: jti = 57f56953-a16c-4d3a-9310-9613da7d1d85
2025-05-30 13:39:04.184 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:39:04.186 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:39:04.187 +08:00 [INF] JWT Claim: exp = 1748583886
2025-05-30 13:39:04.189 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:39:04.191 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:39:04.193 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:39:04.195 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:39:04.197 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:39:04.199 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 13:39:04.208 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 13:39:04.213 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:39:04.215 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 13.7238ms
2025-05-30 13:39:04.217 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:39:04.219 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 76.5236ms
2025-05-30 13:40:15.243 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 13:40:15.249 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:40:15.250 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 13:40:15.253 +08:00 [INF] 请求方法: GET
2025-05-30 13:40:15.254 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:40:15.257 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 13:40:15.259 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:40:15.261 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:40:15.264 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:40:15.267 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdmNTY5NTMtYTE2Yy00ZDNhLTkzMTAtOTYxM2RhN2QxZDg1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODM4ODYsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.DF9mPzkoIU0znT0YA9YJFRYIQdtijFBxdCYj6Fzy15U
2025-05-30 13:40:15.269 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:40:15.272 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:40:15.274 +08:00 [INF] 请求头: traceparent = 00-c94c5733b063f38d050c54fff45ad9d0-fe4332625534e8e7-00
2025-05-30 13:40:15.277 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:40:15.279 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:40:15.281 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:40:15.284 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:40:15.286 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:40:15.288 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:40:15.291 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:40:15.294 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:40:15.296 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:40:15.298 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:40:15.300 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:40:15.302 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:40:15.304 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:40:15.306 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:40:15.308 +08:00 [INF] JWT Claim: jti = 57f56953-a16c-4d3a-9310-9613da7d1d85
2025-05-30 13:40:15.311 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:40:15.313 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:40:15.315 +08:00 [INF] JWT Claim: exp = 1748583886
2025-05-30 13:40:15.318 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:40:15.320 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:40:15.322 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:40:15.325 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:40:15.327 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:40:15.329 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 13:40:15.498 +08:00 [INF] Executed DbCommand (161ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 13:40:15.504 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:40:15.507 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 173.4062ms
2025-05-30 13:40:15.510 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:40:15.513 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 269.5046ms
2025-05-30 13:40:22.907 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 13:40:22.911 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:40:22.912 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 13:40:22.913 +08:00 [INF] 请求方法: GET
2025-05-30 13:40:22.915 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:40:22.916 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 13:40:22.918 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:40:22.919 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:40:22.921 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:40:22.923 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdmNTY5NTMtYTE2Yy00ZDNhLTkzMTAtOTYxM2RhN2QxZDg1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODM4ODYsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.DF9mPzkoIU0znT0YA9YJFRYIQdtijFBxdCYj6Fzy15U
2025-05-30 13:40:22.925 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:40:22.926 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:40:22.928 +08:00 [INF] 请求头: traceparent = 00-3313e9f8e1926c1b5a9b3be0df98dd6a-4c914a018cf35e97-00
2025-05-30 13:40:22.929 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:40:22.931 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:40:22.933 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:40:22.934 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:40:22.936 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:40:22.937 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:40:22.939 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:40:22.941 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:40:22.942 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:40:22.944 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:40:22.945 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:40:22.947 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:40:22.948 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:40:22.950 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:40:22.952 +08:00 [INF] JWT Claim: jti = 57f56953-a16c-4d3a-9310-9613da7d1d85
2025-05-30 13:40:22.954 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:40:22.956 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:40:22.958 +08:00 [INF] JWT Claim: exp = 1748583886
2025-05-30 13:40:22.960 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:40:22.962 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:40:22.964 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:40:22.966 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:40:22.967 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:40:22.969 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 13:40:22.977 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 13:40:22.982 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:40:22.985 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 14.2065ms
2025-05-30 13:40:22.988 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:40:22.989 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 82.0047ms
2025-05-30 13:43:26.149 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 13:43:26.158 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:43:26.160 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 13:43:26.161 +08:00 [INF] 请求方法: GET
2025-05-30 13:43:26.162 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:43:26.163 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 13:43:26.165 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:43:26.167 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:43:26.168 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:43:26.170 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdmNTY5NTMtYTE2Yy00ZDNhLTkzMTAtOTYxM2RhN2QxZDg1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODM4ODYsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.DF9mPzkoIU0znT0YA9YJFRYIQdtijFBxdCYj6Fzy15U
2025-05-30 13:43:26.171 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:43:26.172 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:43:26.173 +08:00 [INF] 请求头: traceparent = 00-ae9f7bb1392835c1c8ba5235a3736474-024afb8793b9264b-00
2025-05-30 13:43:26.175 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:43:26.176 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:43:26.177 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:43:26.178 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:43:26.179 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:43:26.180 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:43:26.183 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:43:26.184 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:43:26.185 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:43:26.186 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:43:26.187 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:43:26.188 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:43:26.189 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:43:26.190 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:43:26.192 +08:00 [INF] JWT Claim: jti = 57f56953-a16c-4d3a-9310-9613da7d1d85
2025-05-30 13:43:26.193 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:43:26.194 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:43:26.195 +08:00 [INF] JWT Claim: exp = 1748583886
2025-05-30 13:43:26.196 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:43:26.198 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:43:26.199 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:43:26.200 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:43:26.202 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:43:26.203 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 13:43:26.216 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 13:43:26.220 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:43:26.222 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 17.0675ms
2025-05-30 13:43:26.224 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:43:26.225 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 76.528ms
2025-05-30 13:43:56.616 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 13:43:56.625 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:43:56.626 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 13:43:56.627 +08:00 [INF] 请求方法: GET
2025-05-30 13:43:56.628 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:43:56.630 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 13:43:56.631 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:43:56.633 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:43:56.634 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:43:56.635 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdmNTY5NTMtYTE2Yy00ZDNhLTkzMTAtOTYxM2RhN2QxZDg1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODM4ODYsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.DF9mPzkoIU0znT0YA9YJFRYIQdtijFBxdCYj6Fzy15U
2025-05-30 13:43:56.636 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:43:56.638 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:43:56.640 +08:00 [INF] 请求头: traceparent = 00-da9bdb7c8adf0f5dc98f44d0ef603648-5e26f2439627392a-00
2025-05-30 13:43:56.641 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:43:56.642 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:43:56.644 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:43:56.645 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:43:56.647 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:43:56.648 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:43:56.649 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:43:56.650 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:43:56.651 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:43:56.652 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:43:56.653 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:43:56.655 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:43:56.656 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:43:56.658 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:43:56.659 +08:00 [INF] JWT Claim: jti = 57f56953-a16c-4d3a-9310-9613da7d1d85
2025-05-30 13:43:56.660 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:43:56.662 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:43:56.664 +08:00 [INF] JWT Claim: exp = 1748583886
2025-05-30 13:43:56.665 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:43:56.667 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:43:56.668 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:43:56.670 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:43:56.671 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:43:56.673 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 13:43:56.689 +08:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 13:43:56.694 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:43:56.697 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 21.5191ms
2025-05-30 13:43:56.699 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:43:56.700 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 83.8302ms
2025-05-30 13:44:10.133 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 13:44:10.136 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:44:10.137 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 13:44:10.138 +08:00 [INF] 请求方法: GET
2025-05-30 13:44:10.139 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:44:10.140 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 13:44:10.141 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:44:10.142 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:44:10.143 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:44:10.144 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdmNTY5NTMtYTE2Yy00ZDNhLTkzMTAtOTYxM2RhN2QxZDg1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODM4ODYsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.DF9mPzkoIU0znT0YA9YJFRYIQdtijFBxdCYj6Fzy15U
2025-05-30 13:44:10.146 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:44:10.147 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:44:10.149 +08:00 [INF] 请求头: traceparent = 00-1a4e14f10731a2fb0d5eb605e4f649f7-5544f80e8b69c34e-00
2025-05-30 13:44:10.150 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:44:10.151 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:44:10.153 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:44:10.154 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:44:10.156 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:44:10.157 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:44:10.158 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:44:10.160 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:44:10.161 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:44:10.162 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:44:10.163 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:44:10.164 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:44:10.165 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:44:10.166 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:44:10.167 +08:00 [INF] JWT Claim: jti = 57f56953-a16c-4d3a-9310-9613da7d1d85
2025-05-30 13:44:10.168 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:44:10.169 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:44:10.171 +08:00 [INF] JWT Claim: exp = 1748583886
2025-05-30 13:44:10.173 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:44:10.174 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:44:10.175 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:44:10.176 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:44:10.177 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:44:10.178 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 13:44:10.185 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 13:44:10.197 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:44:10.201 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 20.3526ms
2025-05-30 13:44:10.202 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:44:10.203 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 70.5886ms
2025-05-30 13:44:58.174 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetContracts?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 13:44:58.184 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:44:58.185 +08:00 [INF] 请求路径: /api/contract/GetContracts
2025-05-30 13:44:58.187 +08:00 [INF] 请求方法: GET
2025-05-30 13:44:58.189 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:44:58.191 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 13:44:58.193 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:44:58.195 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:44:58.197 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:44:58.199 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNDI4N2U0MmYtYTY4ZC00MTgzLTg3NzgtNzJhY2YzMDgzMzFiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODQ0OTUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Mppf8HR7jbE7hhPiwKi8YH_ndwAiuzBkBrtC__tule8
2025-05-30 13:44:58.200 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:44:58.202 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:44:58.204 +08:00 [INF] 请求头: traceparent = 00-0909863ba22f1b1e63b497c4d347a7d6-ade5c48c1d6378ea-00
2025-05-30 13:44:58.206 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:44:58.208 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:44:58.210 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:44:58.212 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:44:58.214 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:44:58.215 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:44:58.217 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:44:58.218 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:44:58.220 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:44:58.222 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:44:58.223 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:44:58.225 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:44:58.226 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:44:58.228 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:44:58.230 +08:00 [INF] JWT Claim: jti = 4287e42f-a68d-4183-8778-72acf308331b
2025-05-30 13:44:58.231 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:44:58.233 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:44:58.234 +08:00 [INF] JWT Claim: exp = 1748584495
2025-05-30 13:44:58.236 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:44:58.238 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:44:58.240 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:44:58.241 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:44:58.243 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContracts (RealEstateSolution.ContractService)'
2025-05-30 13:44:58.244 +08:00 [INF] Route matched with {action = "GetContracts", controller = "Contract"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractDto]]] GetContracts(RealEstateSolution.ContractService.Models.ContractQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractController (RealEstateSolution.ContractService).
2025-05-30 13:44:58.262 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Amount], [c].[CancelTime], [c].[ClientId], [c].[ClientId1], [c].[CompleteTime], [c].[ContractNumber], [c].[CreateTime], [c].[EndDate], [c].[PaymentMethod], [c].[PropertyId], [c].[Remark], [c].[SignTime], [c].[StartDate], [c].[Status], [c].[Terms], [c].[Type], [c].[UpdateTime], [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime], [c0].[Id], [c0].[Address], [c0].[CreateTime], [c0].[Email], [c0].[Name], [c0].[Phone], [c0].[Source], [c0].[Status], [c0].[Type], [c0].[UpdateTime], [c1].[Id], [c1].[Address], [c1].[CreateTime], [c1].[Email], [c1].[Name], [c1].[Phone], [c1].[Source], [c1].[Status], [c1].[Type], [c1].[UpdateTime]
FROM [Contracts] AS [c]
INNER JOIN [Property] AS [p] ON [c].[PropertyId] = [p].[Id]
INNER JOIN [Clients] AS [c0] ON [c].[ClientId] = [c0].[Id]
LEFT JOIN [Clients] AS [c1] ON [c].[ClientId1] = [c1].[Id]
2025-05-30 13:44:58.269 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:44:58.272 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractController.GetContracts (RealEstateSolution.ContractService) in 24.833ms
2025-05-30 13:44:58.275 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContracts (RealEstateSolution.ContractService)'
2025-05-30 13:44:58.277 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetContracts?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 102.8355ms
2025-05-30 13:45:00.742 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 13:45:00.746 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:45:00.747 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 13:45:00.748 +08:00 [INF] 请求方法: GET
2025-05-30 13:45:00.749 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:45:00.750 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 13:45:00.752 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:45:00.753 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:45:00.754 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:45:00.756 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNDI4N2U0MmYtYTY4ZC00MTgzLTg3NzgtNzJhY2YzMDgzMzFiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODQ0OTUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Mppf8HR7jbE7hhPiwKi8YH_ndwAiuzBkBrtC__tule8
2025-05-30 13:45:00.757 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:45:00.758 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:45:00.759 +08:00 [INF] 请求头: traceparent = 00-944d8a67f0b4b5c220478ca88db48f6d-dd81fd2bcaa4c602-00
2025-05-30 13:45:00.761 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:45:00.762 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:45:00.763 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:45:00.765 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:45:00.766 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:45:00.767 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:45:00.769 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:45:00.770 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:45:00.772 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:45:00.773 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:45:00.774 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:45:00.775 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:45:00.776 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:45:00.777 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:45:00.778 +08:00 [INF] JWT Claim: jti = 4287e42f-a68d-4183-8778-72acf308331b
2025-05-30 13:45:00.780 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:45:00.781 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:45:00.782 +08:00 [INF] JWT Claim: exp = 1748584495
2025-05-30 13:45:00.783 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:45:00.784 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:45:00.785 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:45:00.787 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:45:00.788 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:45:00.790 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 13:45:00.797 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 13:45:00.800 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:45:00.802 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 10.1737ms
2025-05-30 13:45:00.804 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:45:00.805 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 63.2524ms
2025-05-30 13:45:17.767 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 13:45:17.775 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:45:17.778 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 13:45:17.782 +08:00 [INF] 请求方法: GET
2025-05-30 13:45:17.784 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:45:17.785 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 13:45:17.791 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:45:17.793 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:45:17.798 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:45:17.801 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNDI4N2U0MmYtYTY4ZC00MTgzLTg3NzgtNzJhY2YzMDgzMzFiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODQ0OTUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Mppf8HR7jbE7hhPiwKi8YH_ndwAiuzBkBrtC__tule8
2025-05-30 13:45:17.803 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:45:17.805 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:45:17.807 +08:00 [INF] 请求头: traceparent = 00-8b3274c3fa95772287604335e9247b09-f4d13bbe1920e23d-00
2025-05-30 13:45:17.809 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:45:17.810 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:45:17.812 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:45:17.814 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:45:17.816 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:45:17.817 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:45:17.818 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:45:17.820 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:45:17.822 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:45:17.823 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:45:17.825 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:45:17.826 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:45:17.828 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:45:17.830 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:45:17.835 +08:00 [INF] JWT Claim: jti = 4287e42f-a68d-4183-8778-72acf308331b
2025-05-30 13:45:17.849 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:45:17.851 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:45:17.858 +08:00 [INF] JWT Claim: exp = 1748584495
2025-05-30 13:45:17.861 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:45:17.866 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:45:17.868 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:45:17.869 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:45:17.872 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:45:17.873 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 13:45:17.882 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 13:45:17.892 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:45:17.895 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 18.9191ms
2025-05-30 13:45:17.898 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:45:17.900 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 133.1382ms
2025-05-30 13:45:30.931 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 13:45:30.936 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:45:30.938 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 13:45:30.939 +08:00 [INF] 请求方法: GET
2025-05-30 13:45:30.941 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:45:30.943 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 13:45:30.946 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:45:30.949 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:45:30.951 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:45:30.953 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNDI4N2U0MmYtYTY4ZC00MTgzLTg3NzgtNzJhY2YzMDgzMzFiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODQ0OTUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Mppf8HR7jbE7hhPiwKi8YH_ndwAiuzBkBrtC__tule8
2025-05-30 13:45:30.955 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:45:30.957 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:45:30.959 +08:00 [INF] 请求头: traceparent = 00-c46ac9f66f1df2a691bbb3724ae1424f-dd6d06e35bb2a860-00
2025-05-30 13:45:30.961 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:45:30.964 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:45:30.966 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:45:30.968 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:45:30.970 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:45:30.972 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:45:30.975 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:45:30.976 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:45:30.979 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:45:30.980 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:45:30.982 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:45:30.983 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:45:30.985 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:45:30.988 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:45:30.990 +08:00 [INF] JWT Claim: jti = 4287e42f-a68d-4183-8778-72acf308331b
2025-05-30 13:45:30.992 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:45:30.994 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:45:30.996 +08:00 [INF] JWT Claim: exp = 1748584495
2025-05-30 13:45:30.998 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:45:31.000 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:45:31.002 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:45:31.004 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:45:31.006 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:45:31.008 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 13:45:31.019 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 13:45:31.025 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:45:31.029 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 17.8913ms
2025-05-30 13:45:31.032 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:45:31.034 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 102.8666ms
2025-05-30 13:45:36.015 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 13:45:36.018 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:45:36.019 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 13:45:36.020 +08:00 [INF] 请求方法: GET
2025-05-30 13:45:36.021 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:45:36.022 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 13:45:36.023 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:45:36.025 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:45:36.026 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:45:36.028 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNDI4N2U0MmYtYTY4ZC00MTgzLTg3NzgtNzJhY2YzMDgzMzFiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODQ0OTUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Mppf8HR7jbE7hhPiwKi8YH_ndwAiuzBkBrtC__tule8
2025-05-30 13:45:36.029 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:45:36.031 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:45:36.032 +08:00 [INF] 请求头: traceparent = 00-fec9e72b8fa4c6edcbfdee4c9d961f12-66e2f6fdbdf4de58-00
2025-05-30 13:45:36.034 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:45:36.035 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:45:36.036 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:45:36.037 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:45:36.039 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:45:36.040 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:45:36.041 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:45:36.043 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:45:36.044 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:45:36.046 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:45:36.047 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:45:36.048 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:45:36.049 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:45:36.051 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:45:36.052 +08:00 [INF] JWT Claim: jti = 4287e42f-a68d-4183-8778-72acf308331b
2025-05-30 13:45:36.053 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:45:36.055 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:45:36.056 +08:00 [INF] JWT Claim: exp = 1748584495
2025-05-30 13:45:36.057 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:45:36.059 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:45:36.060 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:45:36.061 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:45:36.062 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:45:36.063 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 13:45:36.071 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 13:45:36.074 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:45:36.075 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 9.8569ms
2025-05-30 13:45:36.077 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:45:36.078 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 63.2018ms
2025-05-30 13:46:02.902 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 13:46:02.912 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:46:02.913 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 13:46:02.914 +08:00 [INF] 请求方法: GET
2025-05-30 13:46:02.915 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:46:02.917 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 13:46:02.918 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:46:02.920 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:46:02.921 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:46:02.922 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNDI4N2U0MmYtYTY4ZC00MTgzLTg3NzgtNzJhY2YzMDgzMzFiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODQ0OTUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Mppf8HR7jbE7hhPiwKi8YH_ndwAiuzBkBrtC__tule8
2025-05-30 13:46:02.924 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:46:02.925 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:46:02.927 +08:00 [INF] 请求头: traceparent = 00-939d61d158eb5e994af958112c473da8-af49ae0e98777808-00
2025-05-30 13:46:02.928 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:46:02.930 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:46:02.931 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:46:02.932 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:46:02.934 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:46:02.935 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:46:02.937 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:46:02.938 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:46:02.940 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:46:02.941 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:46:02.943 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:46:02.945 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:46:02.947 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:46:02.948 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:46:02.949 +08:00 [INF] JWT Claim: jti = 4287e42f-a68d-4183-8778-72acf308331b
2025-05-30 13:46:02.951 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:46:02.952 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:46:02.954 +08:00 [INF] JWT Claim: exp = 1748584495
2025-05-30 13:46:02.955 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:46:02.956 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:46:02.958 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:46:02.959 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:46:02.960 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:46:02.962 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 13:46:02.970 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 13:46:02.975 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:46:02.981 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 17.0952ms
2025-05-30 13:46:02.983 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:46:02.985 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 83.1453ms
2025-05-30 13:48:32.764 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 13:48:32.772 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:48:32.773 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 13:48:32.774 +08:00 [INF] 请求方法: GET
2025-05-30 13:48:32.775 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:48:32.776 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 13:48:32.778 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:48:32.780 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:48:32.781 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:48:32.782 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNDI4N2U0MmYtYTY4ZC00MTgzLTg3NzgtNzJhY2YzMDgzMzFiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODQ0OTUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Mppf8HR7jbE7hhPiwKi8YH_ndwAiuzBkBrtC__tule8
2025-05-30 13:48:32.784 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:48:32.785 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:48:32.787 +08:00 [INF] 请求头: traceparent = 00-3f4e1dbaaa5021750d62885ca160163d-a39e704bb3174be0-00
2025-05-30 13:48:32.788 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:48:32.789 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:48:32.790 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:48:32.792 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:48:32.793 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:48:32.795 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:48:32.796 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:48:32.798 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:48:32.799 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:48:32.800 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:48:32.801 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:48:32.802 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:48:32.803 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:48:32.805 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:48:32.806 +08:00 [INF] JWT Claim: jti = 4287e42f-a68d-4183-8778-72acf308331b
2025-05-30 13:48:32.807 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:48:32.809 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:48:32.810 +08:00 [INF] JWT Claim: exp = 1748584495
2025-05-30 13:48:32.812 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:48:32.813 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:48:32.814 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:48:32.816 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:48:32.817 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:48:32.819 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 13:48:32.833 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 13:48:32.838 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:48:32.840 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 19.1464ms
2025-05-30 13:48:32.843 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:48:32.845 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 81.2137ms
2025-05-30 13:50:34.119 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetContracts?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 13:50:34.128 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:50:34.129 +08:00 [INF] 请求路径: /api/contract/GetContracts
2025-05-30 13:50:34.130 +08:00 [INF] 请求方法: GET
2025-05-30 13:50:34.131 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:50:34.132 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 13:50:34.133 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:50:34.135 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:50:34.137 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:50:34.138 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNDI4N2U0MmYtYTY4ZC00MTgzLTg3NzgtNzJhY2YzMDgzMzFiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODQ0OTUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Mppf8HR7jbE7hhPiwKi8YH_ndwAiuzBkBrtC__tule8
2025-05-30 13:50:34.139 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:50:34.141 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:50:34.142 +08:00 [INF] 请求头: traceparent = 00-fa3bfe114a56af6ee3c75c43ed0f11c6-27dee91b652f6755-00
2025-05-30 13:50:34.144 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:50:34.145 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:50:34.146 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:50:34.148 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:50:34.149 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:50:34.150 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:50:34.152 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:50:34.153 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:50:34.155 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:50:34.156 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:50:34.156 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:50:34.158 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:50:34.159 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:50:34.161 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:50:34.162 +08:00 [INF] JWT Claim: jti = 4287e42f-a68d-4183-8778-72acf308331b
2025-05-30 13:50:34.163 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:50:34.165 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:50:34.166 +08:00 [INF] JWT Claim: exp = 1748584495
2025-05-30 13:50:34.167 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:50:34.169 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:50:34.170 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:50:34.171 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:50:34.172 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContracts (RealEstateSolution.ContractService)'
2025-05-30 13:50:34.174 +08:00 [INF] Route matched with {action = "GetContracts", controller = "Contract"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractDto]]] GetContracts(RealEstateSolution.ContractService.Models.ContractQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractController (RealEstateSolution.ContractService).
2025-05-30 13:50:34.187 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Amount], [c].[CancelTime], [c].[ClientId], [c].[ClientId1], [c].[CompleteTime], [c].[ContractNumber], [c].[CreateTime], [c].[EndDate], [c].[PaymentMethod], [c].[PropertyId], [c].[Remark], [c].[SignTime], [c].[StartDate], [c].[Status], [c].[Terms], [c].[Type], [c].[UpdateTime], [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime], [c0].[Id], [c0].[Address], [c0].[CreateTime], [c0].[Email], [c0].[Name], [c0].[Phone], [c0].[Source], [c0].[Status], [c0].[Type], [c0].[UpdateTime], [c1].[Id], [c1].[Address], [c1].[CreateTime], [c1].[Email], [c1].[Name], [c1].[Phone], [c1].[Source], [c1].[Status], [c1].[Type], [c1].[UpdateTime]
FROM [Contracts] AS [c]
INNER JOIN [Property] AS [p] ON [c].[PropertyId] = [p].[Id]
INNER JOIN [Clients] AS [c0] ON [c].[ClientId] = [c0].[Id]
LEFT JOIN [Clients] AS [c1] ON [c].[ClientId1] = [c1].[Id]
2025-05-30 13:50:34.191 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:50:34.193 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractController.GetContracts (RealEstateSolution.ContractService) in 17.5734ms
2025-05-30 13:50:34.195 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContracts (RealEstateSolution.ContractService)'
2025-05-30 13:50:34.196 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetContracts?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 77.0832ms
2025-05-30 13:50:35.123 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 13:50:35.127 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:50:35.128 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 13:50:35.129 +08:00 [INF] 请求方法: GET
2025-05-30 13:50:35.130 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:50:35.132 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 13:50:35.133 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:50:35.135 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:50:35.136 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:50:35.137 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNDI4N2U0MmYtYTY4ZC00MTgzLTg3NzgtNzJhY2YzMDgzMzFiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODQ0OTUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Mppf8HR7jbE7hhPiwKi8YH_ndwAiuzBkBrtC__tule8
2025-05-30 13:50:35.139 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:50:35.140 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:50:35.141 +08:00 [INF] 请求头: traceparent = 00-e70cf960ca7297a018df990426fb9b9c-6eb6045f9a48c038-00
2025-05-30 13:50:35.142 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:50:35.144 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:50:35.146 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:50:35.148 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:50:35.149 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:50:35.151 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:50:35.153 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:50:35.154 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:50:35.156 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:50:35.157 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:50:35.158 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:50:35.159 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:50:35.161 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:50:35.162 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:50:35.163 +08:00 [INF] JWT Claim: jti = 4287e42f-a68d-4183-8778-72acf308331b
2025-05-30 13:50:35.164 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:50:35.166 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:50:35.167 +08:00 [INF] JWT Claim: exp = 1748584495
2025-05-30 13:50:35.169 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:50:35.170 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:50:35.171 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:50:35.172 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:50:35.174 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:50:35.175 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 13:50:35.183 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 13:50:35.187 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:50:35.189 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 11.5056ms
2025-05-30 13:50:35.191 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:50:35.192 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 69.6167ms
2025-05-30 13:51:14.094 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 13:51:14.103 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:51:14.104 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 13:51:14.105 +08:00 [INF] 请求方法: GET
2025-05-30 13:51:14.106 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:51:14.107 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 13:51:14.109 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:51:14.111 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:51:14.112 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:51:14.114 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNDI4N2U0MmYtYTY4ZC00MTgzLTg3NzgtNzJhY2YzMDgzMzFiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODQ0OTUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Mppf8HR7jbE7hhPiwKi8YH_ndwAiuzBkBrtC__tule8
2025-05-30 13:51:14.115 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:51:14.117 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:51:14.119 +08:00 [INF] 请求头: traceparent = 00-8bd7e3115a23a97b24049e11575ac7be-88e40731ebc895f3-00
2025-05-30 13:51:14.121 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:51:14.122 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:51:14.123 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:51:14.125 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:51:14.126 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:51:14.127 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:51:14.129 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:51:14.130 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:51:14.131 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:51:14.132 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:51:14.134 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:51:14.135 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:51:14.136 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:51:14.138 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:51:14.139 +08:00 [INF] JWT Claim: jti = 4287e42f-a68d-4183-8778-72acf308331b
2025-05-30 13:51:14.141 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:51:14.142 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:51:14.144 +08:00 [INF] JWT Claim: exp = 1748584495
2025-05-30 13:51:14.146 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:51:14.147 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:51:14.149 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:51:14.151 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:51:14.152 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:51:14.153 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 13:51:14.161 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 13:51:14.170 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:51:14.172 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 16.4641ms
2025-05-30 13:51:14.174 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:51:14.175 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 81.2841ms
2025-05-30 13:51:28.881 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 13:51:28.885 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:51:28.886 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 13:51:28.887 +08:00 [INF] 请求方法: GET
2025-05-30 13:51:28.888 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:51:28.889 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 13:51:28.890 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:51:28.891 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:51:28.893 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:51:28.894 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNDI4N2U0MmYtYTY4ZC00MTgzLTg3NzgtNzJhY2YzMDgzMzFiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODQ0OTUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Mppf8HR7jbE7hhPiwKi8YH_ndwAiuzBkBrtC__tule8
2025-05-30 13:51:28.895 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:51:28.897 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:51:28.898 +08:00 [INF] 请求头: traceparent = 00-1f8841951edd62f0b948a5f8049828f8-8e681ecd0e097569-00
2025-05-30 13:51:28.900 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:51:28.901 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:51:28.903 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:51:28.905 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:51:28.906 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:51:28.908 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:51:28.910 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:51:28.911 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:51:28.913 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:51:28.914 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:51:28.915 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:51:28.916 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:51:28.918 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:51:28.919 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:51:28.920 +08:00 [INF] JWT Claim: jti = 4287e42f-a68d-4183-8778-72acf308331b
2025-05-30 13:51:28.922 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:51:28.923 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:51:28.924 +08:00 [INF] JWT Claim: exp = 1748584495
2025-05-30 13:51:28.926 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:51:28.927 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:51:28.928 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:51:28.929 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:51:28.930 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:51:28.932 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 13:51:28.943 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 13:51:28.947 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:51:28.949 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 14.8239ms
2025-05-30 13:51:28.951 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:51:28.953 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 71.1615ms
2025-05-30 13:52:34.063 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 13:52:34.071 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:52:34.072 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 13:52:34.073 +08:00 [INF] 请求方法: GET
2025-05-30 13:52:34.074 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:52:34.076 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 13:52:34.077 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:52:34.079 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:52:34.080 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:52:34.081 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNDI4N2U0MmYtYTY4ZC00MTgzLTg3NzgtNzJhY2YzMDgzMzFiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODQ0OTUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Mppf8HR7jbE7hhPiwKi8YH_ndwAiuzBkBrtC__tule8
2025-05-30 13:52:34.082 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:52:34.084 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:52:34.085 +08:00 [INF] 请求头: traceparent = 00-cbc6851738684cb32498df6924bd7aa4-b38d3b3a1ab9d983-00
2025-05-30 13:52:34.086 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:52:34.088 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:52:34.089 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:52:34.090 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:52:34.091 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:52:34.093 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:52:34.094 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:52:34.095 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:52:34.096 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:52:34.097 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:52:34.098 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:52:34.099 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:52:34.101 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:52:34.102 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:52:34.103 +08:00 [INF] JWT Claim: jti = 4287e42f-a68d-4183-8778-72acf308331b
2025-05-30 13:52:34.105 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:52:34.106 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:52:34.107 +08:00 [INF] JWT Claim: exp = 1748584495
2025-05-30 13:52:34.109 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:52:34.110 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:52:34.111 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:52:34.113 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:52:34.114 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:52:34.115 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 13:52:34.125 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 13:52:34.129 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:52:34.131 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 13.3372ms
2025-05-30 13:52:34.133 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:52:34.134 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 71.2015ms
2025-05-30 13:53:47.163 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 13:53:47.170 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:53:47.171 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 13:53:47.172 +08:00 [INF] 请求方法: GET
2025-05-30 13:53:47.173 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:53:47.174 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 13:53:47.175 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:53:47.176 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:53:47.178 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:53:47.179 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNDI4N2U0MmYtYTY4ZC00MTgzLTg3NzgtNzJhY2YzMDgzMzFiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODQ0OTUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Mppf8HR7jbE7hhPiwKi8YH_ndwAiuzBkBrtC__tule8
2025-05-30 13:53:47.180 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:53:47.182 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:53:47.183 +08:00 [INF] 请求头: traceparent = 00-e0a10f44a4e6f409a9d0ce3bcdb80812-47df4be54aa769c8-00
2025-05-30 13:53:47.184 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:53:47.185 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:53:47.186 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:53:47.188 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:53:47.189 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:53:47.190 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:53:47.191 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:53:47.193 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:53:47.194 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:53:47.195 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:53:47.196 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:53:47.197 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:53:47.198 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:53:47.199 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:53:47.200 +08:00 [INF] JWT Claim: jti = 4287e42f-a68d-4183-8778-72acf308331b
2025-05-30 13:53:47.201 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:53:47.203 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:53:47.205 +08:00 [INF] JWT Claim: exp = 1748584495
2025-05-30 13:53:47.206 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:53:47.207 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:53:47.209 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:53:47.210 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:53:47.211 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:53:47.213 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 13:53:47.225 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 13:53:47.228 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:53:47.230 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 15.5578ms
2025-05-30 13:53:47.232 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:53:47.234 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 70.1773ms
2025-05-30 13:54:11.088 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 13:54:11.092 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:54:11.093 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 13:54:11.094 +08:00 [INF] 请求方法: GET
2025-05-30 13:54:11.095 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:54:11.096 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 13:54:11.098 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:54:11.099 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:54:11.101 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:54:11.103 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNDI4N2U0MmYtYTY4ZC00MTgzLTg3NzgtNzJhY2YzMDgzMzFiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODQ0OTUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Mppf8HR7jbE7hhPiwKi8YH_ndwAiuzBkBrtC__tule8
2025-05-30 13:54:11.104 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:54:11.106 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:54:11.108 +08:00 [INF] 请求头: traceparent = 00-2de38bf093829310637665795c27a8a5-8a6d762bbf5c5f8b-00
2025-05-30 13:54:11.110 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:54:11.111 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:54:11.113 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:54:11.114 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:54:11.115 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:54:11.117 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:54:11.118 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:54:11.119 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:54:11.120 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:54:11.121 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:54:11.122 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:54:11.123 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:54:11.125 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:54:11.126 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:54:11.128 +08:00 [INF] JWT Claim: jti = 4287e42f-a68d-4183-8778-72acf308331b
2025-05-30 13:54:11.129 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:54:11.131 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:54:11.132 +08:00 [INF] JWT Claim: exp = 1748584495
2025-05-30 13:54:11.133 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:54:11.135 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:54:11.136 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:54:11.137 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:54:11.138 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:54:11.139 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 13:54:11.147 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 13:54:11.158 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:54:11.160 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 17.9527ms
2025-05-30 13:54:11.162 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:54:11.163 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 74.9682ms
2025-05-30 13:55:08.802 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetContracts?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 13:55:08.811 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:55:08.812 +08:00 [INF] 请求路径: /api/contract/GetContracts
2025-05-30 13:55:08.812 +08:00 [INF] 请求方法: GET
2025-05-30 13:55:08.813 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:55:08.815 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 13:55:08.816 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:55:08.817 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:55:08.819 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:55:08.820 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNzU5MWE5MjktNzI2My00YjQxLWJkY2EtZjg3OWUyN2FlNWEwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODUxMDUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.pQ-HCsXmzkjNqVl5_Z6bmH1OXkviPYwM6zdqGSKrvMw
2025-05-30 13:55:08.821 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:55:08.823 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:55:08.824 +08:00 [INF] 请求头: traceparent = 00-38e5ac7fe476de76406fffdf2de412b7-8eec6ccc59961ccd-00
2025-05-30 13:55:08.825 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:55:08.827 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:55:08.828 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:55:08.829 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:55:08.830 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:55:08.832 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:55:08.833 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:55:08.834 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:55:08.836 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:55:08.837 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:55:08.837 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:55:08.838 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:55:08.840 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:55:08.841 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:55:08.843 +08:00 [INF] JWT Claim: jti = 7591a929-7263-4b41-bdca-f879e27ae5a0
2025-05-30 13:55:08.844 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:55:08.845 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:55:08.846 +08:00 [INF] JWT Claim: exp = 1748585105
2025-05-30 13:55:08.848 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:55:08.849 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:55:08.850 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:55:08.852 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:55:08.853 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContracts (RealEstateSolution.ContractService)'
2025-05-30 13:55:08.854 +08:00 [INF] Route matched with {action = "GetContracts", controller = "Contract"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractDto]]] GetContracts(RealEstateSolution.ContractService.Models.ContractQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractController (RealEstateSolution.ContractService).
2025-05-30 13:55:08.867 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Amount], [c].[CancelTime], [c].[ClientId], [c].[ClientId1], [c].[CompleteTime], [c].[ContractNumber], [c].[CreateTime], [c].[EndDate], [c].[PaymentMethod], [c].[PropertyId], [c].[Remark], [c].[SignTime], [c].[StartDate], [c].[Status], [c].[Terms], [c].[Type], [c].[UpdateTime], [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime], [c0].[Id], [c0].[Address], [c0].[CreateTime], [c0].[Email], [c0].[Name], [c0].[Phone], [c0].[Source], [c0].[Status], [c0].[Type], [c0].[UpdateTime], [c1].[Id], [c1].[Address], [c1].[CreateTime], [c1].[Email], [c1].[Name], [c1].[Phone], [c1].[Source], [c1].[Status], [c1].[Type], [c1].[UpdateTime]
FROM [Contracts] AS [c]
INNER JOIN [Property] AS [p] ON [c].[PropertyId] = [p].[Id]
INNER JOIN [Clients] AS [c0] ON [c].[ClientId] = [c0].[Id]
LEFT JOIN [Clients] AS [c1] ON [c].[ClientId1] = [c1].[Id]
2025-05-30 13:55:08.870 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:55:08.872 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractController.GetContracts (RealEstateSolution.ContractService) in 16.2342ms
2025-05-30 13:55:08.875 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContracts (RealEstateSolution.ContractService)'
2025-05-30 13:55:08.876 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetContracts?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 73.9011ms
2025-05-30 13:55:09.634 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 13:55:09.637 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:55:09.638 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 13:55:09.639 +08:00 [INF] 请求方法: GET
2025-05-30 13:55:09.641 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:55:09.642 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 13:55:09.644 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:55:09.645 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:55:09.646 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:55:09.648 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNzU5MWE5MjktNzI2My00YjQxLWJkY2EtZjg3OWUyN2FlNWEwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODUxMDUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.pQ-HCsXmzkjNqVl5_Z6bmH1OXkviPYwM6zdqGSKrvMw
2025-05-30 13:55:09.649 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:55:09.651 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:55:09.652 +08:00 [INF] 请求头: traceparent = 00-f7017103af8b1131e826090dab1729c0-8ba88614e08a842a-00
2025-05-30 13:55:09.653 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:55:09.655 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:55:09.656 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:55:09.657 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:55:09.659 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:55:09.660 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:55:09.661 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:55:09.663 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:55:09.664 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:55:09.665 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:55:09.666 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:55:09.667 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:55:09.669 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:55:09.670 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:55:09.671 +08:00 [INF] JWT Claim: jti = 7591a929-7263-4b41-bdca-f879e27ae5a0
2025-05-30 13:55:09.672 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:55:09.674 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:55:09.675 +08:00 [INF] JWT Claim: exp = 1748585105
2025-05-30 13:55:09.676 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:55:09.678 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:55:09.679 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:55:09.680 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:55:09.681 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:55:09.682 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 13:55:09.689 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 13:55:09.694 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:55:09.695 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 10.9018ms
2025-05-30 13:55:09.697 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:55:09.699 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 64.4256ms
2025-05-30 13:55:36.138 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 13:55:36.146 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:55:36.148 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 13:55:36.149 +08:00 [INF] 请求方法: GET
2025-05-30 13:55:36.150 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:55:36.151 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 13:55:36.152 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:55:36.154 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:55:36.155 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:55:36.157 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNzU5MWE5MjktNzI2My00YjQxLWJkY2EtZjg3OWUyN2FlNWEwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODUxMDUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.pQ-HCsXmzkjNqVl5_Z6bmH1OXkviPYwM6zdqGSKrvMw
2025-05-30 13:55:36.158 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:55:36.160 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:55:36.161 +08:00 [INF] 请求头: traceparent = 00-60b61dc075378771f0b4d6567d4b5a9a-cfd5a35d7a321087-00
2025-05-30 13:55:36.162 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:55:36.164 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:55:36.165 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:55:36.167 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:55:36.168 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:55:36.170 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:55:36.171 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:55:36.172 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:55:36.174 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:55:36.175 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:55:36.177 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:55:36.178 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:55:36.179 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:55:36.180 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:55:36.182 +08:00 [INF] JWT Claim: jti = 7591a929-7263-4b41-bdca-f879e27ae5a0
2025-05-30 13:55:36.184 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:55:36.185 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:55:36.187 +08:00 [INF] JWT Claim: exp = 1748585105
2025-05-30 13:55:36.188 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:55:36.190 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:55:36.191 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:55:36.193 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:55:36.195 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:55:36.197 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 13:55:36.205 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 13:55:36.216 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:55:36.219 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 19.1352ms
2025-05-30 13:55:36.222 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:55:36.224 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 86.1058ms
2025-05-30 13:55:48.598 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 13:55:48.601 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:55:48.602 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 13:55:48.603 +08:00 [INF] 请求方法: GET
2025-05-30 13:55:48.604 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:55:48.606 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 13:55:48.607 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:55:48.609 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:55:48.610 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:55:48.611 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNzU5MWE5MjktNzI2My00YjQxLWJkY2EtZjg3OWUyN2FlNWEwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODUxMDUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.pQ-HCsXmzkjNqVl5_Z6bmH1OXkviPYwM6zdqGSKrvMw
2025-05-30 13:55:48.613 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:55:48.614 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:55:48.616 +08:00 [INF] 请求头: traceparent = 00-2d7d8ce0a216e85804855cfdf6f6804c-7bfde9915488c89b-00
2025-05-30 13:55:48.617 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:55:48.619 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:55:48.620 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:55:48.621 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:55:48.623 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:55:48.624 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:55:48.626 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:55:48.628 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:55:48.629 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:55:48.630 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:55:48.632 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:55:48.633 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:55:48.634 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:55:48.636 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:55:48.637 +08:00 [INF] JWT Claim: jti = 7591a929-7263-4b41-bdca-f879e27ae5a0
2025-05-30 13:55:48.638 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:55:48.640 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:55:48.641 +08:00 [INF] JWT Claim: exp = 1748585105
2025-05-30 13:55:48.642 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:55:48.644 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:55:48.645 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:55:48.646 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:55:48.647 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:55:48.649 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 13:55:48.660 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 13:55:48.663 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:55:48.666 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 14.3077ms
2025-05-30 13:55:48.667 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:55:48.669 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 71.0564ms
2025-05-30 13:56:05.314 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 13:56:05.323 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:56:05.324 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 13:56:05.325 +08:00 [INF] 请求方法: GET
2025-05-30 13:56:05.326 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:56:05.327 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 13:56:05.328 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:56:05.330 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:56:05.331 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:56:05.332 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNzU5MWE5MjktNzI2My00YjQxLWJkY2EtZjg3OWUyN2FlNWEwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODUxMDUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.pQ-HCsXmzkjNqVl5_Z6bmH1OXkviPYwM6zdqGSKrvMw
2025-05-30 13:56:05.334 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:56:05.335 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:56:05.336 +08:00 [INF] 请求头: traceparent = 00-83410fce322ab58a21809d84f06d9fb7-8971a73b8c5e6ba2-00
2025-05-30 13:56:05.337 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:56:05.338 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:56:05.340 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:56:05.341 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:56:05.343 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:56:05.344 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:56:05.346 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:56:05.347 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:56:05.348 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:56:05.349 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:56:05.350 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:56:05.351 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:56:05.352 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:56:05.353 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:56:05.354 +08:00 [INF] JWT Claim: jti = 7591a929-7263-4b41-bdca-f879e27ae5a0
2025-05-30 13:56:05.356 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:56:05.357 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:56:05.358 +08:00 [INF] JWT Claim: exp = 1748585105
2025-05-30 13:56:05.359 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:56:05.360 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:56:05.361 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:56:05.362 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:56:05.364 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:56:05.365 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 13:56:05.371 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 13:56:05.375 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:56:05.377 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 10.4965ms
2025-05-30 13:56:05.379 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:56:05.380 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 65.5833ms
2025-05-30 13:56:24.089 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/4 - null 0
2025-05-30 13:56:24.093 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:56:24.094 +08:00 [INF] 请求路径: /api/contract/GetTemplateById/4
2025-05-30 13:56:24.095 +08:00 [INF] 请求方法: GET
2025-05-30 13:56:24.096 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:56:24.097 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 13:56:24.099 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:56:24.100 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:56:24.102 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:56:24.103 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNzU5MWE5MjktNzI2My00YjQxLWJkY2EtZjg3OWUyN2FlNWEwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODUxMDUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.pQ-HCsXmzkjNqVl5_Z6bmH1OXkviPYwM6zdqGSKrvMw
2025-05-30 13:56:24.104 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:56:24.106 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:56:24.107 +08:00 [INF] 请求头: traceparent = 00-f6d45cd3fdc212c75315191acec3c6f7-d2e6d426008cdb3c-00
2025-05-30 13:56:24.109 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:56:24.110 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:56:24.111 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:56:24.113 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:56:24.114 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:56:24.116 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:56:24.117 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:56:24.119 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:56:24.121 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:56:24.122 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:56:24.123 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:56:24.125 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:56:24.126 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:56:24.128 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:56:24.130 +08:00 [INF] JWT Claim: jti = 7591a929-7263-4b41-bdca-f879e27ae5a0
2025-05-30 13:56:24.132 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:56:24.133 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:56:24.135 +08:00 [INF] JWT Claim: exp = 1748585105
2025-05-30 13:56:24.137 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:56:24.138 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:56:24.140 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:56:24.141 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:56:24.144 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 13:56:24.153 +08:00 [INF] Route matched with {action = "GetTemplateById", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]] GetTemplateById(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 13:56:24.261 +08:00 [INF] Executed DbCommand (49ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 13:56:24.271 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:56:24.276 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService) in 121.4231ms
2025-05-30 13:56:24.279 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 13:56:24.280 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/4 - 200 null application/json; charset=utf-8 190.9602ms
2025-05-30 13:56:24.447 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 13:56:24.450 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:56:24.451 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 13:56:24.453 +08:00 [INF] 请求方法: GET
2025-05-30 13:56:24.453 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:56:24.455 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 13:56:24.456 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:56:24.458 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:56:24.459 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:56:24.460 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNzU5MWE5MjktNzI2My00YjQxLWJkY2EtZjg3OWUyN2FlNWEwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODUxMDUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.pQ-HCsXmzkjNqVl5_Z6bmH1OXkviPYwM6zdqGSKrvMw
2025-05-30 13:56:24.461 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:56:24.462 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:56:24.463 +08:00 [INF] 请求头: traceparent = 00-1df44747ece767d7ac96d008afec8041-5eeb707dc597ec28-00
2025-05-30 13:56:24.465 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:56:24.466 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:56:24.468 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:56:24.469 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:56:24.470 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:56:24.471 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:56:24.473 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:56:24.474 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:56:24.475 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:56:24.476 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:56:24.477 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:56:24.478 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:56:24.480 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:56:24.481 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:56:24.482 +08:00 [INF] JWT Claim: jti = 7591a929-7263-4b41-bdca-f879e27ae5a0
2025-05-30 13:56:24.484 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:56:24.485 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:56:24.486 +08:00 [INF] JWT Claim: exp = 1748585105
2025-05-30 13:56:24.487 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:56:24.488 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:56:24.490 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:56:24.491 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:56:24.492 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:56:24.494 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 13:56:24.499 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 13:56:24.503 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:56:24.505 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 9.1639ms
2025-05-30 13:56:24.507 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:56:24.508 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 61.378ms
2025-05-30 13:56:26.773 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/4 - null 0
2025-05-30 13:56:26.777 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:56:26.777 +08:00 [INF] 请求路径: /api/contract/GetTemplateById/4
2025-05-30 13:56:26.778 +08:00 [INF] 请求方法: GET
2025-05-30 13:56:26.779 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:56:26.781 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 13:56:26.782 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:56:26.783 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:56:26.785 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:56:26.786 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNzU5MWE5MjktNzI2My00YjQxLWJkY2EtZjg3OWUyN2FlNWEwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODUxMDUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.pQ-HCsXmzkjNqVl5_Z6bmH1OXkviPYwM6zdqGSKrvMw
2025-05-30 13:56:26.787 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:56:26.788 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:56:26.790 +08:00 [INF] 请求头: traceparent = 00-ea8143f5de8f5b74d3c86d4fc6fa01eb-cd2ad2ae519de4fd-00
2025-05-30 13:56:26.791 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:56:26.792 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:56:26.794 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:56:26.795 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:56:26.796 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:56:26.797 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:56:26.799 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:56:26.800 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:56:26.802 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:56:26.802 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:56:26.803 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:56:26.804 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:56:26.806 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:56:26.807 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:56:26.808 +08:00 [INF] JWT Claim: jti = 7591a929-7263-4b41-bdca-f879e27ae5a0
2025-05-30 13:56:26.810 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:56:26.811 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:56:26.812 +08:00 [INF] JWT Claim: exp = 1748585105
2025-05-30 13:56:26.813 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:56:26.815 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:56:26.816 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:56:26.817 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:56:26.818 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 13:56:26.819 +08:00 [INF] Route matched with {action = "GetTemplateById", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]] GetTemplateById(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 13:56:26.827 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 13:56:26.830 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:56:26.831 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService) in 10.4095ms
2025-05-30 13:56:26.833 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 13:56:26.835 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/4 - 200 null application/json; charset=utf-8 61.6386ms
2025-05-30 13:56:26.999 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 13:56:27.003 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:56:27.004 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 13:56:27.005 +08:00 [INF] 请求方法: GET
2025-05-30 13:56:27.006 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:56:27.008 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 13:56:27.009 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:56:27.010 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:56:27.011 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:56:27.013 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNzU5MWE5MjktNzI2My00YjQxLWJkY2EtZjg3OWUyN2FlNWEwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODUxMDUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.pQ-HCsXmzkjNqVl5_Z6bmH1OXkviPYwM6zdqGSKrvMw
2025-05-30 13:56:27.014 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:56:27.016 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:56:27.017 +08:00 [INF] 请求头: traceparent = 00-2841f814eb88637980f6e4d2af5baa2c-2b12977cb9b0a41c-00
2025-05-30 13:56:27.018 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:56:27.019 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:56:27.021 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:56:27.022 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:56:27.023 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:56:27.025 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:56:27.026 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:56:27.027 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:56:27.028 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:56:27.029 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:56:27.030 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:56:27.031 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:56:27.032 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:56:27.033 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:56:27.035 +08:00 [INF] JWT Claim: jti = 7591a929-7263-4b41-bdca-f879e27ae5a0
2025-05-30 13:56:27.036 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:56:27.037 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:56:27.038 +08:00 [INF] JWT Claim: exp = 1748585105
2025-05-30 13:56:27.040 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:56:27.041 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:56:27.042 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:56:27.043 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:56:27.044 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:56:27.045 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 13:56:27.051 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 13:56:27.055 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:56:27.057 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 9.4529ms
2025-05-30 13:56:27.059 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:56:27.060 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 60.3189ms
2025-05-30 13:56:41.508 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/4 - null 0
2025-05-30 13:56:41.511 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:56:41.511 +08:00 [INF] 请求路径: /api/contract/GetTemplateById/4
2025-05-30 13:56:41.512 +08:00 [INF] 请求方法: GET
2025-05-30 13:56:41.513 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:56:41.515 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 13:56:41.516 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:56:41.517 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:56:41.519 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:56:41.520 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNzU5MWE5MjktNzI2My00YjQxLWJkY2EtZjg3OWUyN2FlNWEwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODUxMDUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.pQ-HCsXmzkjNqVl5_Z6bmH1OXkviPYwM6zdqGSKrvMw
2025-05-30 13:56:41.521 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:56:41.523 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:56:41.524 +08:00 [INF] 请求头: traceparent = 00-d52e23c02ca7c94a9064db3cde3e4e7b-a98248c5ba1854fc-00
2025-05-30 13:56:41.525 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:56:41.526 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:56:41.528 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:56:41.529 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:56:41.530 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:56:41.532 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:56:41.533 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:56:41.534 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:56:41.535 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:56:41.536 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:56:41.537 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:56:41.538 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:56:41.539 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:56:41.541 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:56:41.542 +08:00 [INF] JWT Claim: jti = 7591a929-7263-4b41-bdca-f879e27ae5a0
2025-05-30 13:56:41.543 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:56:41.544 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:56:41.545 +08:00 [INF] JWT Claim: exp = 1748585105
2025-05-30 13:56:41.547 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:56:41.548 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:56:41.550 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:56:41.551 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:56:41.552 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 13:56:41.553 +08:00 [INF] Route matched with {action = "GetTemplateById", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]] GetTemplateById(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 13:56:41.559 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 13:56:41.562 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:56:41.564 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService) in 9.0178ms
2025-05-30 13:56:41.566 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 13:56:41.567 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/4 - 200 null application/json; charset=utf-8 59.4247ms
2025-05-30 13:56:41.763 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 13:56:41.768 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:56:41.769 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 13:56:41.770 +08:00 [INF] 请求方法: GET
2025-05-30 13:56:41.772 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:56:41.777 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 13:56:41.779 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:56:41.782 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:56:41.784 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:56:41.786 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNzU5MWE5MjktNzI2My00YjQxLWJkY2EtZjg3OWUyN2FlNWEwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODUxMDUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.pQ-HCsXmzkjNqVl5_Z6bmH1OXkviPYwM6zdqGSKrvMw
2025-05-30 13:56:41.787 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:56:41.790 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:56:41.792 +08:00 [INF] 请求头: traceparent = 00-6f894e9cc9bf721d22629ae0ffcd109e-1991ef2ee636577e-00
2025-05-30 13:56:41.793 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:56:41.795 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:56:41.797 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:56:41.798 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:56:41.800 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:56:41.801 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:56:41.802 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:56:41.804 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:56:41.805 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:56:41.806 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:56:41.808 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:56:41.809 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:56:41.810 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:56:41.811 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:56:41.813 +08:00 [INF] JWT Claim: jti = 7591a929-7263-4b41-bdca-f879e27ae5a0
2025-05-30 13:56:41.814 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:56:41.816 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:56:41.817 +08:00 [INF] JWT Claim: exp = 1748585105
2025-05-30 13:56:41.818 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:56:41.819 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:56:41.821 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:56:41.822 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:56:41.823 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:56:41.825 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 13:56:41.830 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 13:56:41.835 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:56:41.837 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 10.0902ms
2025-05-30 13:56:41.838 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:56:41.840 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 76.7983ms
2025-05-30 13:57:41.425 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/4 - null 0
2025-05-30 13:57:41.434 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:57:41.435 +08:00 [INF] 请求路径: /api/contract/GetTemplateById/4
2025-05-30 13:57:41.436 +08:00 [INF] 请求方法: GET
2025-05-30 13:57:41.437 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:57:41.438 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 13:57:41.440 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:57:41.441 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:57:41.443 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:57:41.444 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNzU5MWE5MjktNzI2My00YjQxLWJkY2EtZjg3OWUyN2FlNWEwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODUxMDUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.pQ-HCsXmzkjNqVl5_Z6bmH1OXkviPYwM6zdqGSKrvMw
2025-05-30 13:57:41.446 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:57:41.448 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:57:41.449 +08:00 [INF] 请求头: traceparent = 00-50e10351230938991ae3b0f0168bf363-498070844bcfe5b6-00
2025-05-30 13:57:41.451 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:57:41.452 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:57:41.454 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:57:41.455 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:57:41.457 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:57:41.459 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:57:41.460 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:57:41.461 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:57:41.463 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:57:41.464 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:57:41.465 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:57:41.466 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:57:41.468 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:57:41.469 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:57:41.470 +08:00 [INF] JWT Claim: jti = 7591a929-7263-4b41-bdca-f879e27ae5a0
2025-05-30 13:57:41.472 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:57:41.474 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:57:41.475 +08:00 [INF] JWT Claim: exp = 1748585105
2025-05-30 13:57:41.476 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:57:41.478 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:57:41.479 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:57:41.481 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:57:41.482 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 13:57:41.484 +08:00 [INF] Route matched with {action = "GetTemplateById", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]] GetTemplateById(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 13:57:41.494 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 13:57:41.496 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:57:41.498 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService) in 11.7891ms
2025-05-30 13:57:41.500 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 13:57:41.501 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/4 - 200 null application/json; charset=utf-8 76.385ms
2025-05-30 13:57:41.695 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 13:57:41.699 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:57:41.700 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 13:57:41.702 +08:00 [INF] 请求方法: GET
2025-05-30 13:57:41.703 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:57:41.705 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 13:57:41.707 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:57:41.708 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:57:41.710 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:57:41.712 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNzU5MWE5MjktNzI2My00YjQxLWJkY2EtZjg3OWUyN2FlNWEwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODUxMDUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.pQ-HCsXmzkjNqVl5_Z6bmH1OXkviPYwM6zdqGSKrvMw
2025-05-30 13:57:41.713 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:57:41.715 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:57:41.716 +08:00 [INF] 请求头: traceparent = 00-42f4052b6c19d6beaf0c0ebc55a69238-4afb5065572f3b5e-00
2025-05-30 13:57:41.718 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:57:41.719 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:57:41.720 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:57:41.721 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:57:41.723 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:57:41.724 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:57:41.726 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:57:41.727 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:57:41.728 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:57:41.729 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:57:41.731 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:57:41.732 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:57:41.733 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:57:41.735 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:57:41.736 +08:00 [INF] JWT Claim: jti = 7591a929-7263-4b41-bdca-f879e27ae5a0
2025-05-30 13:57:41.737 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:57:41.739 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:57:41.741 +08:00 [INF] JWT Claim: exp = 1748585105
2025-05-30 13:57:41.742 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:57:41.743 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:57:41.745 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:57:41.746 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:57:41.747 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:57:41.749 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 13:57:41.756 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 13:57:41.765 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:57:41.767 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 16.2463ms
2025-05-30 13:57:41.769 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:57:41.770 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 75.0323ms
2025-05-30 13:58:32.831 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/4 - null 0
2025-05-30 13:58:32.849 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:58:32.851 +08:00 [INF] 请求路径: /api/contract/GetTemplateById/4
2025-05-30 13:58:32.852 +08:00 [INF] 请求方法: GET
2025-05-30 13:58:32.854 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:58:32.857 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 13:58:32.859 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:58:32.861 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:58:32.862 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:58:32.865 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNzU5MWE5MjktNzI2My00YjQxLWJkY2EtZjg3OWUyN2FlNWEwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODUxMDUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.pQ-HCsXmzkjNqVl5_Z6bmH1OXkviPYwM6zdqGSKrvMw
2025-05-30 13:58:32.867 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:58:32.869 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:58:32.871 +08:00 [INF] 请求头: traceparent = 00-c5d689e0b0963b2587d603a157ae3c28-5b6b209df8a4a018-00
2025-05-30 13:58:32.873 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:58:32.875 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:58:32.877 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:58:32.879 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:58:32.881 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:58:32.883 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:58:32.885 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:58:32.888 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:58:32.890 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:58:32.892 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:58:32.893 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:58:32.895 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:58:32.898 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:58:32.901 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:58:32.903 +08:00 [INF] JWT Claim: jti = 7591a929-7263-4b41-bdca-f879e27ae5a0
2025-05-30 13:58:32.905 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:58:32.907 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:58:32.909 +08:00 [INF] JWT Claim: exp = 1748585105
2025-05-30 13:58:32.911 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:58:32.914 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:58:32.916 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:58:32.918 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:58:32.920 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 13:58:32.922 +08:00 [INF] Route matched with {action = "GetTemplateById", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]] GetTemplateById(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 13:58:32.934 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 13:58:32.939 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:58:32.942 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService) in 16.3921ms
2025-05-30 13:58:32.945 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 13:58:32.947 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/4 - 200 null application/json; charset=utf-8 116.0396ms
2025-05-30 13:58:33.262 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 13:58:33.267 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:58:33.268 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 13:58:33.270 +08:00 [INF] 请求方法: GET
2025-05-30 13:58:33.271 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:58:33.273 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 13:58:33.275 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:58:33.277 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:58:33.279 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:58:33.282 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNzU5MWE5MjktNzI2My00YjQxLWJkY2EtZjg3OWUyN2FlNWEwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODUxMDUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.pQ-HCsXmzkjNqVl5_Z6bmH1OXkviPYwM6zdqGSKrvMw
2025-05-30 13:58:33.284 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:58:33.286 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:58:33.287 +08:00 [INF] 请求头: traceparent = 00-b8cc5e9ba4495b956bf88b67c95146b4-b8a47ec54320d0c1-00
2025-05-30 13:58:33.290 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:58:33.292 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:58:33.294 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:58:33.296 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:58:33.298 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:58:33.300 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:58:33.302 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:58:33.304 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:58:33.306 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:58:33.308 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:58:33.309 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:58:33.311 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:58:33.313 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:58:33.315 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:58:33.317 +08:00 [INF] JWT Claim: jti = 7591a929-7263-4b41-bdca-f879e27ae5a0
2025-05-30 13:58:33.319 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:58:33.320 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:58:33.323 +08:00 [INF] JWT Claim: exp = 1748585105
2025-05-30 13:58:33.325 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:58:33.327 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:58:33.328 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:58:33.330 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:58:33.332 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:58:33.334 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 13:58:33.344 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 13:58:33.349 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:58:33.351 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 14.8003ms
2025-05-30 13:58:33.354 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:58:33.356 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 93.9671ms
2025-05-30 13:58:55.486 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/4 - null 0
2025-05-30 13:58:55.492 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:58:55.493 +08:00 [INF] 请求路径: /api/contract/GetTemplateById/4
2025-05-30 13:58:55.494 +08:00 [INF] 请求方法: GET
2025-05-30 13:58:55.495 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:58:55.497 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 13:58:55.498 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:58:55.500 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:58:55.501 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:58:55.502 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNzU5MWE5MjktNzI2My00YjQxLWJkY2EtZjg3OWUyN2FlNWEwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODUxMDUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.pQ-HCsXmzkjNqVl5_Z6bmH1OXkviPYwM6zdqGSKrvMw
2025-05-30 13:58:55.504 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:58:55.505 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:58:55.507 +08:00 [INF] 请求头: traceparent = 00-bc64dab9a078075d8098922c4a32f5cc-170fbfe2cc1a4b50-00
2025-05-30 13:58:55.508 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:58:55.510 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:58:55.511 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:58:55.512 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:58:55.514 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:58:55.516 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:58:55.517 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:58:55.518 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:58:55.521 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:58:55.522 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:58:55.523 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:58:55.524 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:58:55.526 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:58:55.527 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:58:55.529 +08:00 [INF] JWT Claim: jti = 7591a929-7263-4b41-bdca-f879e27ae5a0
2025-05-30 13:58:55.530 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:58:55.532 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:58:55.533 +08:00 [INF] JWT Claim: exp = 1748585105
2025-05-30 13:58:55.534 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:58:55.536 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:58:55.537 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:58:55.539 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:58:55.540 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 13:58:55.541 +08:00 [INF] Route matched with {action = "GetTemplateById", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]] GetTemplateById(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 13:58:55.557 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 13:58:55.568 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:58:55.570 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService) in 26.2956ms
2025-05-30 13:58:55.572 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 13:58:55.574 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/4 - 200 null application/json; charset=utf-8 87.9611ms
2025-05-30 13:58:55.859 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 13:58:55.864 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:58:55.866 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 13:58:55.868 +08:00 [INF] 请求方法: GET
2025-05-30 13:58:55.869 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:58:55.872 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 13:58:55.874 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:58:55.876 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:58:55.878 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:58:55.881 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNzU5MWE5MjktNzI2My00YjQxLWJkY2EtZjg3OWUyN2FlNWEwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODUxMDUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.pQ-HCsXmzkjNqVl5_Z6bmH1OXkviPYwM6zdqGSKrvMw
2025-05-30 13:58:55.883 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:58:55.885 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:58:55.887 +08:00 [INF] 请求头: traceparent = 00-0ee3c53ae5ba629551a8c08b706ee87e-da6eb547dc8561d7-00
2025-05-30 13:58:55.889 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:58:55.891 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:58:55.893 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:58:55.895 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:58:55.897 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:58:55.899 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:58:55.901 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:58:55.903 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:58:55.905 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:58:55.906 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:58:55.908 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:58:55.910 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:58:55.911 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:58:55.914 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:58:55.916 +08:00 [INF] JWT Claim: jti = 7591a929-7263-4b41-bdca-f879e27ae5a0
2025-05-30 13:58:55.918 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:58:55.920 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:58:55.922 +08:00 [INF] JWT Claim: exp = 1748585105
2025-05-30 13:58:55.925 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:58:55.927 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:58:55.929 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:58:55.931 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:58:55.933 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:58:55.935 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 13:58:55.942 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 13:58:55.948 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:58:55.951 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 13.4886ms
2025-05-30 13:58:55.953 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:58:55.956 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 96.5598ms
2025-05-30 13:59:25.241 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/4 - null 0
2025-05-30 13:59:25.251 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:59:25.252 +08:00 [INF] 请求路径: /api/contract/GetTemplateById/4
2025-05-30 13:59:25.253 +08:00 [INF] 请求方法: GET
2025-05-30 13:59:25.254 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:59:25.256 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 13:59:25.257 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:59:25.259 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:59:25.260 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:59:25.262 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNzU5MWE5MjktNzI2My00YjQxLWJkY2EtZjg3OWUyN2FlNWEwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODUxMDUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.pQ-HCsXmzkjNqVl5_Z6bmH1OXkviPYwM6zdqGSKrvMw
2025-05-30 13:59:25.264 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:59:25.266 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:59:25.267 +08:00 [INF] 请求头: traceparent = 00-1563b83c8e4a9db0be82a04a8318d556-e316161efb2ea007-00
2025-05-30 13:59:25.269 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:59:25.271 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:59:25.273 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:59:25.275 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:59:25.276 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:59:25.278 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:59:25.279 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:59:25.281 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:59:25.282 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:59:25.283 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:59:25.285 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:59:25.286 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:59:25.287 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:59:25.289 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:59:25.291 +08:00 [INF] JWT Claim: jti = 7591a929-7263-4b41-bdca-f879e27ae5a0
2025-05-30 13:59:25.292 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:59:25.294 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:59:25.295 +08:00 [INF] JWT Claim: exp = 1748585105
2025-05-30 13:59:25.297 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:59:25.299 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:59:25.300 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:59:25.302 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:59:25.303 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 13:59:25.305 +08:00 [INF] Route matched with {action = "GetTemplateById", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]] GetTemplateById(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 13:59:25.320 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 13:59:25.330 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:59:25.332 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService) in 24.5987ms
2025-05-30 13:59:25.334 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 13:59:25.335 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/4 - 200 null application/json; charset=utf-8 94.7868ms
2025-05-30 13:59:25.574 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 13:59:25.577 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:59:25.579 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 13:59:25.580 +08:00 [INF] 请求方法: GET
2025-05-30 13:59:25.582 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:59:25.583 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 13:59:25.585 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:59:25.586 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:59:25.588 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:59:25.589 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNzU5MWE5MjktNzI2My00YjQxLWJkY2EtZjg3OWUyN2FlNWEwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODUxMDUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.pQ-HCsXmzkjNqVl5_Z6bmH1OXkviPYwM6zdqGSKrvMw
2025-05-30 13:59:25.591 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:59:25.592 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:59:25.594 +08:00 [INF] 请求头: traceparent = 00-f3ba3aa6d8336dc6408a710c9ed53ec5-07d4e6809ab47ce0-00
2025-05-30 13:59:25.595 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:59:25.597 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:59:25.598 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:59:25.600 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:59:25.602 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:59:25.603 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:59:25.605 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:59:25.607 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:59:25.609 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:59:25.610 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:59:25.611 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:59:25.612 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:59:25.614 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:59:25.616 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:59:25.617 +08:00 [INF] JWT Claim: jti = 7591a929-7263-4b41-bdca-f879e27ae5a0
2025-05-30 13:59:25.619 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:59:25.620 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:59:25.622 +08:00 [INF] JWT Claim: exp = 1748585105
2025-05-30 13:59:25.623 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:59:25.624 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:59:25.626 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:59:25.627 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:59:25.628 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:59:25.630 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 13:59:25.637 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 13:59:25.641 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:59:25.643 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 11.3362ms
2025-05-30 13:59:25.645 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 13:59:25.647 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 73.2366ms
2025-05-30 14:00:16.162 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/4 - null 0
2025-05-30 14:00:16.172 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 14:00:16.173 +08:00 [INF] 请求路径: /api/contract/GetTemplateById/4
2025-05-30 14:00:16.174 +08:00 [INF] 请求方法: GET
2025-05-30 14:00:16.175 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 14:00:16.177 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 14:00:16.178 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 14:00:16.180 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 14:00:16.182 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 14:00:16.183 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNzU5MWE5MjktNzI2My00YjQxLWJkY2EtZjg3OWUyN2FlNWEwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODUxMDUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.pQ-HCsXmzkjNqVl5_Z6bmH1OXkviPYwM6zdqGSKrvMw
2025-05-30 14:00:16.184 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 14:00:16.186 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 14:00:16.187 +08:00 [INF] 请求头: traceparent = 00-a30e14dc0ce9767c827f058f90f364d2-5b156017e84269c0-00
2025-05-30 14:00:16.189 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 14:00:16.190 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 14:00:16.191 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 14:00:16.193 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 14:00:16.194 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 14:00:16.195 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 14:00:16.197 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 14:00:16.198 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 14:00:16.199 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 14:00:16.200 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 14:00:16.201 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 14:00:16.202 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 14:00:16.203 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 14:00:16.205 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 14:00:16.207 +08:00 [INF] JWT Claim: jti = 7591a929-7263-4b41-bdca-f879e27ae5a0
2025-05-30 14:00:16.208 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 14:00:16.209 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 14:00:16.211 +08:00 [INF] JWT Claim: exp = 1748585105
2025-05-30 14:00:16.212 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 14:00:16.214 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 14:00:16.215 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 14:00:16.216 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 14:00:16.217 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 14:00:16.219 +08:00 [INF] Route matched with {action = "GetTemplateById", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]] GetTemplateById(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 14:00:16.230 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 14:00:16.233 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 14:00:16.234 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService) in 13.6072ms
2025-05-30 14:00:16.236 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 14:00:16.238 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/4 - 200 null application/json; charset=utf-8 76.2929ms
2025-05-30 14:00:16.459 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 14:00:16.462 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 14:00:16.463 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 14:00:16.464 +08:00 [INF] 请求方法: GET
2025-05-30 14:00:16.465 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 14:00:16.467 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 14:00:16.468 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 14:00:16.470 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 14:00:16.471 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 14:00:16.473 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNzU5MWE5MjktNzI2My00YjQxLWJkY2EtZjg3OWUyN2FlNWEwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODUxMDUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.pQ-HCsXmzkjNqVl5_Z6bmH1OXkviPYwM6zdqGSKrvMw
2025-05-30 14:00:16.474 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 14:00:16.476 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 14:00:16.477 +08:00 [INF] 请求头: traceparent = 00-351309078b47bde0f591042fc20654c0-aa6cac19cbe3ab8a-00
2025-05-30 14:00:16.478 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 14:00:16.480 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 14:00:16.481 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 14:00:16.482 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 14:00:16.484 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 14:00:16.485 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 14:00:16.487 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 14:00:16.489 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 14:00:16.490 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 14:00:16.491 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 14:00:16.492 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 14:00:16.493 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 14:00:16.495 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 14:00:16.496 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 14:00:16.498 +08:00 [INF] JWT Claim: jti = 7591a929-7263-4b41-bdca-f879e27ae5a0
2025-05-30 14:00:16.499 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 14:00:16.500 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 14:00:16.502 +08:00 [INF] JWT Claim: exp = 1748585105
2025-05-30 14:00:16.503 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 14:00:16.506 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 14:00:16.507 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 14:00:16.508 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 14:00:16.510 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 14:00:16.511 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 14:00:16.518 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 14:00:16.522 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 14:00:16.524 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 10.6261ms
2025-05-30 14:00:16.526 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 14:00:16.527 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 68.0471ms
2025-05-30 14:00:46.346 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/4 - null 0
2025-05-30 14:00:46.362 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 14:00:46.363 +08:00 [INF] 请求路径: /api/contract/GetTemplateById/4
2025-05-30 14:00:46.365 +08:00 [INF] 请求方法: GET
2025-05-30 14:00:46.366 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 14:00:46.368 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 14:00:46.370 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 14:00:46.373 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 14:00:46.375 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 14:00:46.376 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNzU5MWE5MjktNzI2My00YjQxLWJkY2EtZjg3OWUyN2FlNWEwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODUxMDUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.pQ-HCsXmzkjNqVl5_Z6bmH1OXkviPYwM6zdqGSKrvMw
2025-05-30 14:00:46.378 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 14:00:46.381 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 14:00:46.382 +08:00 [INF] 请求头: traceparent = 00-964d67455387f5685256e1c38118a3e1-4c427b05b6ba4f71-00
2025-05-30 14:00:46.384 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 14:00:46.386 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 14:00:46.388 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 14:00:46.390 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 14:00:46.392 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 14:00:46.394 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 14:00:46.396 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 14:00:46.398 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 14:00:46.400 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 14:00:46.401 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 14:00:46.402 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 14:00:46.404 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 14:00:46.405 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 14:00:46.407 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 14:00:46.409 +08:00 [INF] JWT Claim: jti = 7591a929-7263-4b41-bdca-f879e27ae5a0
2025-05-30 14:00:46.411 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 14:00:46.412 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 14:00:46.414 +08:00 [INF] JWT Claim: exp = 1748585105
2025-05-30 14:00:46.416 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 14:00:46.418 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 14:00:46.421 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 14:00:46.423 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 14:00:46.424 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 14:00:46.426 +08:00 [INF] Route matched with {action = "GetTemplateById", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]] GetTemplateById(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 14:00:46.435 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 14:00:46.448 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 14:00:46.450 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService) in 21.4845ms
2025-05-30 14:00:46.453 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 14:00:46.455 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/4 - 200 null application/json; charset=utf-8 108.4086ms
2025-05-30 14:01:06.863 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/4 - null 0
2025-05-30 14:01:06.871 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 14:01:06.873 +08:00 [INF] 请求路径: /api/contract/GetTemplateById/4
2025-05-30 14:01:06.874 +08:00 [INF] 请求方法: GET
2025-05-30 14:01:06.875 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 14:01:06.876 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 14:01:06.878 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 14:01:06.880 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 14:01:06.882 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 14:01:06.883 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNzU5MWE5MjktNzI2My00YjQxLWJkY2EtZjg3OWUyN2FlNWEwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODUxMDUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.pQ-HCsXmzkjNqVl5_Z6bmH1OXkviPYwM6zdqGSKrvMw
2025-05-30 14:01:06.884 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 14:01:06.886 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 14:01:06.887 +08:00 [INF] 请求头: traceparent = 00-abe62bd1d28f51f578951365eddc253e-b5b3acd1e256ac3c-00
2025-05-30 14:01:06.889 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 14:01:06.890 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 14:01:06.892 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 14:01:06.893 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 14:01:06.895 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 14:01:06.896 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 14:01:06.898 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 14:01:06.899 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 14:01:06.900 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 14:01:06.901 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 14:01:06.902 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 14:01:06.904 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 14:01:06.905 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 14:01:06.907 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 14:01:06.909 +08:00 [INF] JWT Claim: jti = 7591a929-7263-4b41-bdca-f879e27ae5a0
2025-05-30 14:01:06.911 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 14:01:06.913 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 14:01:06.915 +08:00 [INF] JWT Claim: exp = 1748585105
2025-05-30 14:01:06.917 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 14:01:06.919 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 14:01:06.920 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 14:01:06.922 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 14:01:06.924 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 14:01:06.925 +08:00 [INF] Route matched with {action = "GetTemplateById", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]] GetTemplateById(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 14:01:06.933 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 14:01:06.948 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 14:01:06.951 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService) in 22.0119ms
2025-05-30 14:01:06.955 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 14:01:06.958 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/4 - 200 null application/json; charset=utf-8 96.6122ms
2025-05-30 14:01:07.421 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 14:01:07.425 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 14:01:07.427 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 14:01:07.428 +08:00 [INF] 请求方法: GET
2025-05-30 14:01:07.430 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 14:01:07.432 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 14:01:07.434 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 14:01:07.436 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 14:01:07.438 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 14:01:07.440 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNzU5MWE5MjktNzI2My00YjQxLWJkY2EtZjg3OWUyN2FlNWEwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODUxMDUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.pQ-HCsXmzkjNqVl5_Z6bmH1OXkviPYwM6zdqGSKrvMw
2025-05-30 14:01:07.442 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 14:01:07.444 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 14:01:07.447 +08:00 [INF] 请求头: traceparent = 00-56756b8e044d3fea80694e081073bebb-e2ba8c59bbaaa8e1-00
2025-05-30 14:01:07.449 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 14:01:07.450 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 14:01:07.452 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 14:01:07.454 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 14:01:07.456 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 14:01:07.458 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 14:01:07.460 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 14:01:07.461 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 14:01:07.463 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 14:01:07.465 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 14:01:07.466 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 14:01:07.467 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 14:01:07.469 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 14:01:07.471 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 14:01:07.473 +08:00 [INF] JWT Claim: jti = 7591a929-7263-4b41-bdca-f879e27ae5a0
2025-05-30 14:01:07.474 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 14:01:07.476 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 14:01:07.478 +08:00 [INF] JWT Claim: exp = 1748585105
2025-05-30 14:01:07.480 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 14:01:07.481 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 14:01:07.483 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 14:01:07.484 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 14:01:07.485 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 14:01:07.487 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 14:01:07.493 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 14:01:07.498 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 14:01:07.500 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 10.4922ms
2025-05-30 14:01:07.502 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 14:01:07.504 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 82.2187ms
2025-05-30 14:01:08.704 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/4 - null 0
2025-05-30 14:01:08.714 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 14:01:08.716 +08:00 [INF] 请求路径: /api/contract/GetTemplateById/4
2025-05-30 14:01:08.720 +08:00 [INF] 请求方法: GET
2025-05-30 14:01:08.722 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 14:01:08.725 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 14:01:08.731 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 14:01:08.733 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 14:01:08.737 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 14:01:08.739 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNzU5MWE5MjktNzI2My00YjQxLWJkY2EtZjg3OWUyN2FlNWEwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODUxMDUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.pQ-HCsXmzkjNqVl5_Z6bmH1OXkviPYwM6zdqGSKrvMw
2025-05-30 14:01:08.741 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 14:01:08.743 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 14:01:08.748 +08:00 [INF] 请求头: traceparent = 00-a7780108093bf8ceffb07fb73966f0f8-3bb9705e1a1ea242-00
2025-05-30 14:01:08.750 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 14:01:08.752 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 14:01:08.755 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 14:01:08.757 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 14:01:08.759 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 14:01:08.760 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 14:01:08.762 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 14:01:08.765 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 14:01:08.766 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 14:01:08.768 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 14:01:08.769 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 14:01:08.771 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 14:01:08.773 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 14:01:08.775 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 14:01:08.777 +08:00 [INF] JWT Claim: jti = 7591a929-7263-4b41-bdca-f879e27ae5a0
2025-05-30 14:01:08.779 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 14:01:08.781 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 14:01:08.783 +08:00 [INF] JWT Claim: exp = 1748585105
2025-05-30 14:01:08.785 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 14:01:08.787 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 14:01:08.789 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 14:01:08.791 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 14:01:08.792 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 14:01:08.794 +08:00 [INF] Route matched with {action = "GetTemplateById", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]] GetTemplateById(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 14:01:08.804 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 14:01:08.809 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 14:01:08.812 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService) in 13.6191ms
2025-05-30 14:01:08.816 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 14:01:08.818 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/4 - 200 null application/json; charset=utf-8 114.5526ms
2025-05-30 14:01:09.066 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 14:01:09.071 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 14:01:09.072 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 14:01:09.074 +08:00 [INF] 请求方法: GET
2025-05-30 14:01:09.075 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 14:01:09.077 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 14:01:09.080 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 14:01:09.086 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 14:01:09.095 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 14:01:09.101 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNzU5MWE5MjktNzI2My00YjQxLWJkY2EtZjg3OWUyN2FlNWEwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODUxMDUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.pQ-HCsXmzkjNqVl5_Z6bmH1OXkviPYwM6zdqGSKrvMw
2025-05-30 14:01:09.103 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 14:01:09.106 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 14:01:09.108 +08:00 [INF] 请求头: traceparent = 00-822105afea6a43de0a57252f8a52eabc-a5e0a827181aff1e-00
2025-05-30 14:01:09.110 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 14:01:09.114 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 14:01:09.116 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 14:01:09.118 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 14:01:09.120 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 14:01:09.122 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 14:01:09.124 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 14:01:09.126 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 14:01:09.128 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 14:01:09.129 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 14:01:09.131 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 14:01:09.132 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 14:01:09.134 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 14:01:09.136 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 14:01:09.138 +08:00 [INF] JWT Claim: jti = 7591a929-7263-4b41-bdca-f879e27ae5a0
2025-05-30 14:01:09.140 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 14:01:09.142 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 14:01:09.144 +08:00 [INF] JWT Claim: exp = 1748585105
2025-05-30 14:01:09.146 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 14:01:09.148 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 14:01:09.150 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 14:01:09.151 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 14:01:09.153 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 14:01:09.155 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 14:01:09.162 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 14:01:09.168 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 14:01:09.171 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 13.3188ms
2025-05-30 14:01:09.174 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 14:01:09.176 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 110.0129ms
2025-05-30 14:01:17.052 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/4 - null 0
2025-05-30 14:01:17.057 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 14:01:17.059 +08:00 [INF] 请求路径: /api/contract/GetTemplateById/4
2025-05-30 14:01:17.060 +08:00 [INF] 请求方法: GET
2025-05-30 14:01:17.062 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 14:01:17.064 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 14:01:17.066 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 14:01:17.068 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 14:01:17.070 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 14:01:17.072 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNzU5MWE5MjktNzI2My00YjQxLWJkY2EtZjg3OWUyN2FlNWEwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODUxMDUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.pQ-HCsXmzkjNqVl5_Z6bmH1OXkviPYwM6zdqGSKrvMw
2025-05-30 14:01:17.074 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 14:01:17.076 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 14:01:17.078 +08:00 [INF] 请求头: traceparent = 00-972cfdc3d6e95796e1149f81d770b511-33714e4b93c1c1e6-00
2025-05-30 14:01:17.080 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 14:01:17.082 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 14:01:17.084 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 14:01:17.086 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 14:01:17.088 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 14:01:17.090 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 14:01:17.092 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 14:01:17.094 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 14:01:17.096 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 14:01:17.098 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 14:01:17.099 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 14:01:17.101 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 14:01:17.102 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 14:01:17.105 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 14:01:17.107 +08:00 [INF] JWT Claim: jti = 7591a929-7263-4b41-bdca-f879e27ae5a0
2025-05-30 14:01:17.109 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 14:01:17.111 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 14:01:17.113 +08:00 [INF] JWT Claim: exp = 1748585105
2025-05-30 14:01:17.115 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 14:01:17.117 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 14:01:17.119 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 14:01:17.120 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 14:01:17.122 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 14:01:17.124 +08:00 [INF] Route matched with {action = "GetTemplateById", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]] GetTemplateById(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 14:01:17.142 +08:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 14:01:17.147 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 14:01:17.150 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService) in 22.2923ms
2025-05-30 14:01:17.152 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 14:01:17.155 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/4 - 200 null application/json; charset=utf-8 102.4313ms
2025-05-30 14:02:14.077 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 14:02:14.090 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 14:02:14.091 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 14:02:14.092 +08:00 [INF] 请求方法: GET
2025-05-30 14:02:14.093 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 14:02:14.095 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 14:02:14.096 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 14:02:14.098 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 14:02:14.099 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 14:02:14.100 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNzU5MWE5MjktNzI2My00YjQxLWJkY2EtZjg3OWUyN2FlNWEwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODUxMDUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.pQ-HCsXmzkjNqVl5_Z6bmH1OXkviPYwM6zdqGSKrvMw
2025-05-30 14:02:14.102 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 14:02:14.104 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 14:02:14.105 +08:00 [INF] 请求头: traceparent = 00-d7fac859f2fa54d45dbc66ded92f831e-cbe3265ae1e9d18d-00
2025-05-30 14:02:14.107 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 14:02:14.108 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 14:02:14.110 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 14:02:14.111 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 14:02:14.113 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 14:02:14.115 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 14:02:14.116 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 14:02:14.118 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 14:02:14.119 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 14:02:14.120 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 14:02:14.121 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 14:02:14.123 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 14:02:14.124 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 14:02:14.126 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 14:02:14.127 +08:00 [INF] JWT Claim: jti = 7591a929-7263-4b41-bdca-f879e27ae5a0
2025-05-30 14:02:14.128 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 14:02:14.130 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 14:02:14.131 +08:00 [INF] JWT Claim: exp = 1748585105
2025-05-30 14:02:14.133 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 14:02:14.134 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 14:02:14.136 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 14:02:14.137 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 14:02:14.139 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 14:02:14.140 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 14:02:14.148 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 14:02:14.164 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 14:02:14.167 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 23.8651ms
2025-05-30 14:02:14.169 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 14:02:14.171 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 93.6698ms
2025-05-30 14:02:16.071 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/4 - null 0
2025-05-30 14:02:16.074 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 14:02:16.075 +08:00 [INF] 请求路径: /api/contract/GetTemplateById/4
2025-05-30 14:02:16.076 +08:00 [INF] 请求方法: GET
2025-05-30 14:02:16.077 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 14:02:16.078 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 14:02:16.080 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 14:02:16.081 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 14:02:16.082 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 14:02:16.084 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNzU5MWE5MjktNzI2My00YjQxLWJkY2EtZjg3OWUyN2FlNWEwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODUxMDUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.pQ-HCsXmzkjNqVl5_Z6bmH1OXkviPYwM6zdqGSKrvMw
2025-05-30 14:02:16.085 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 14:02:16.086 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 14:02:16.088 +08:00 [INF] 请求头: traceparent = 00-178f7fe155cbabfa9e17e9296b0c98bc-d0faef626ab3050f-00
2025-05-30 14:02:16.089 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 14:02:16.090 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 14:02:16.092 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 14:02:16.093 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 14:02:16.095 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 14:02:16.096 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 14:02:16.098 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 14:02:16.099 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 14:02:16.101 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 14:02:16.102 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 14:02:16.103 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 14:02:16.105 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 14:02:16.106 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 14:02:16.107 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 14:02:16.108 +08:00 [INF] JWT Claim: jti = 7591a929-7263-4b41-bdca-f879e27ae5a0
2025-05-30 14:02:16.110 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 14:02:16.111 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 14:02:16.113 +08:00 [INF] JWT Claim: exp = 1748585105
2025-05-30 14:02:16.114 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 14:02:16.115 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 14:02:16.117 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 14:02:16.118 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 14:02:16.120 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 14:02:16.121 +08:00 [INF] Route matched with {action = "GetTemplateById", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]] GetTemplateById(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 14:02:16.127 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 14:02:16.135 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 14:02:16.137 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService) in 14.0142ms
2025-05-30 14:02:16.139 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 14:02:16.140 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/4 - 200 null application/json; charset=utf-8 69.1837ms
2025-05-30 14:02:19.067 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 14:02:19.071 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 14:02:19.072 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 14:02:19.073 +08:00 [INF] 请求方法: GET
2025-05-30 14:02:19.074 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 14:02:19.075 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 14:02:19.077 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 14:02:19.078 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 14:02:19.079 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 14:02:19.081 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNzU5MWE5MjktNzI2My00YjQxLWJkY2EtZjg3OWUyN2FlNWEwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODUxMDUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.pQ-HCsXmzkjNqVl5_Z6bmH1OXkviPYwM6zdqGSKrvMw
2025-05-30 14:02:19.083 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 14:02:19.084 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 14:02:19.085 +08:00 [INF] 请求头: traceparent = 00-da4d29780331a26416eefd0e80db47f0-620032b3f14d3dd4-00
2025-05-30 14:02:19.087 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 14:02:19.088 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 14:02:19.089 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 14:02:19.090 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 14:02:19.091 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 14:02:19.092 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 14:02:19.094 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 14:02:19.095 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 14:02:19.096 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 14:02:19.097 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 14:02:19.098 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 14:02:19.099 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 14:02:19.100 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 14:02:19.101 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 14:02:19.103 +08:00 [INF] JWT Claim: jti = 7591a929-7263-4b41-bdca-f879e27ae5a0
2025-05-30 14:02:19.104 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 14:02:19.105 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 14:02:19.106 +08:00 [INF] JWT Claim: exp = 1748585105
2025-05-30 14:02:19.108 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 14:02:19.109 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 14:02:19.110 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 14:02:19.111 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 14:02:19.112 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 14:02:19.113 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 14:02:19.164 +08:00 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 14:02:19.167 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 14:02:19.169 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 53.3319ms
2025-05-30 14:02:19.171 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 14:02:19.172 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 104.4942ms
2025-05-30 15:56:32.048 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetContracts?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 15:56:32.059 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 15:56:32.060 +08:00 [INF] 请求路径: /api/contract/GetContracts
2025-05-30 15:56:32.061 +08:00 [INF] 请求方法: GET
2025-05-30 15:56:32.063 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 15:56:32.064 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 15:56:32.066 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 15:56:32.068 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 15:56:32.069 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 15:56:32.071 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNzNjNTQ1MzYtNzZhNi00NjNjLTk2N2MtMmJmZDgzMWJhNjZkIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTIzODgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.FzTdHKtiS9Vsqf6LWEPtyPD3FGVM1DYtxGn6g__y7B4
2025-05-30 15:56:32.073 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 15:56:32.074 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 15:56:32.075 +08:00 [INF] 请求头: traceparent = 00-76764e65b4533a47c94084d1304024af-77c4ee720f282972-00
2025-05-30 15:56:32.077 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 15:56:32.078 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 15:56:32.080 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 15:56:32.082 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 15:56:32.083 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 15:56:32.085 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 15:56:32.086 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 15:56:32.088 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 15:56:32.090 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 15:56:32.091 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 15:56:32.093 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 15:56:32.094 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 15:56:32.096 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 15:56:32.098 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 15:56:32.099 +08:00 [INF] JWT Claim: jti = 73c54536-76a6-463c-967c-2bfd831ba66d
2025-05-30 15:56:32.101 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 15:56:32.103 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 15:56:32.105 +08:00 [INF] JWT Claim: exp = 1748592388
2025-05-30 15:56:32.106 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 15:56:32.108 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 15:56:32.109 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 15:56:32.111 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 15:56:32.112 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContracts (RealEstateSolution.ContractService)'
2025-05-30 15:56:32.114 +08:00 [INF] Route matched with {action = "GetContracts", controller = "Contract"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractDto]]] GetContracts(RealEstateSolution.ContractService.Models.ContractQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractController (RealEstateSolution.ContractService).
2025-05-30 15:56:32.152 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Amount], [c].[CancelTime], [c].[ClientId], [c].[ClientId1], [c].[CompleteTime], [c].[ContractNumber], [c].[CreateTime], [c].[EndDate], [c].[PaymentMethod], [c].[PropertyId], [c].[Remark], [c].[SignTime], [c].[StartDate], [c].[Status], [c].[Terms], [c].[Type], [c].[UpdateTime], [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime], [c0].[Id], [c0].[Address], [c0].[CreateTime], [c0].[Email], [c0].[Name], [c0].[Phone], [c0].[Source], [c0].[Status], [c0].[Type], [c0].[UpdateTime], [c1].[Id], [c1].[Address], [c1].[CreateTime], [c1].[Email], [c1].[Name], [c1].[Phone], [c1].[Source], [c1].[Status], [c1].[Type], [c1].[UpdateTime]
FROM [Contracts] AS [c]
INNER JOIN [Property] AS [p] ON [c].[PropertyId] = [p].[Id]
INNER JOIN [Clients] AS [c0] ON [c].[ClientId] = [c0].[Id]
LEFT JOIN [Clients] AS [c1] ON [c].[ClientId1] = [c1].[Id]
2025-05-30 15:56:32.157 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 15:56:32.160 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractController.GetContracts (RealEstateSolution.ContractService) in 43.282ms
2025-05-30 15:56:32.162 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContracts (RealEstateSolution.ContractService)'
2025-05-30 15:56:32.163 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetContracts?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 115.0307ms
2025-05-30 15:56:33.790 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetContract/2 - null 0
2025-05-30 15:56:33.792 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 15:56:33.793 +08:00 [INF] 请求路径: /api/contract/GetContract/2
2025-05-30 15:56:33.794 +08:00 [INF] 请求方法: GET
2025-05-30 15:56:33.795 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 15:56:33.796 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 15:56:33.797 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 15:56:33.798 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 15:56:33.799 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 15:56:33.801 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNzNjNTQ1MzYtNzZhNi00NjNjLTk2N2MtMmJmZDgzMWJhNjZkIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTIzODgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.FzTdHKtiS9Vsqf6LWEPtyPD3FGVM1DYtxGn6g__y7B4
2025-05-30 15:56:33.802 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 15:56:33.804 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 15:56:33.806 +08:00 [INF] 请求头: traceparent = 00-f259a13962a20f80d23ebf1b1a1984fa-632a7b10cff367dd-00
2025-05-30 15:56:33.807 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 15:56:33.808 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 15:56:33.810 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 15:56:33.811 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 15:56:33.812 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 15:56:33.813 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 15:56:33.814 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 15:56:33.815 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 15:56:33.817 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 15:56:33.817 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 15:56:33.818 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 15:56:33.820 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 15:56:33.821 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 15:56:33.822 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 15:56:33.824 +08:00 [INF] JWT Claim: jti = 73c54536-76a6-463c-967c-2bfd831ba66d
2025-05-30 15:56:33.825 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 15:56:33.826 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 15:56:33.827 +08:00 [INF] JWT Claim: exp = 1748592388
2025-05-30 15:56:33.828 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 15:56:33.829 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 15:56:33.831 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 15:56:33.831 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 15:56:33.833 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContract (RealEstateSolution.ContractService)'
2025-05-30 15:56:33.840 +08:00 [INF] Route matched with {action = "GetContract", controller = "Contract"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ContractService.Models.ContractDto]] GetContract(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractController (RealEstateSolution.ContractService).
2025-05-30 15:56:33.860 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Amount], [c].[CancelTime], [c].[ClientId], [c].[ClientId1], [c].[CompleteTime], [c].[ContractNumber], [c].[CreateTime], [c].[EndDate], [c].[PaymentMethod], [c].[PropertyId], [c].[Remark], [c].[SignTime], [c].[StartDate], [c].[Status], [c].[Terms], [c].[Type], [c].[UpdateTime]
FROM [Contracts] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 15:56:33.868 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ContractService.Models.ContractDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 15:56:33.873 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractController.GetContract (RealEstateSolution.ContractService) in 31.5892ms
2025-05-30 15:56:33.875 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContract (RealEstateSolution.ContractService)'
2025-05-30 15:56:33.876 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetContract/2 - 200 null application/json; charset=utf-8 86.5701ms
2025-05-30 15:56:36.506 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetContract/2 - null 0
2025-05-30 15:56:36.509 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 15:56:36.510 +08:00 [INF] 请求路径: /api/contract/GetContract/2
2025-05-30 15:56:36.511 +08:00 [INF] 请求方法: GET
2025-05-30 15:56:36.512 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 15:56:36.514 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 15:56:36.515 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 15:56:36.517 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 15:56:36.518 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 15:56:36.520 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNzNjNTQ1MzYtNzZhNi00NjNjLTk2N2MtMmJmZDgzMWJhNjZkIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTIzODgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.FzTdHKtiS9Vsqf6LWEPtyPD3FGVM1DYtxGn6g__y7B4
2025-05-30 15:56:36.521 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 15:56:36.523 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 15:56:36.524 +08:00 [INF] 请求头: traceparent = 00-b9deae402c6148cd8d885cac41ad2912-3a60ad7c740962bc-00
2025-05-30 15:56:36.526 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 15:56:36.527 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 15:56:36.529 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 15:56:36.531 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 15:56:36.532 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 15:56:36.533 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 15:56:36.535 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 15:56:36.536 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 15:56:36.538 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 15:56:36.539 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 15:56:36.540 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 15:56:36.541 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 15:56:36.542 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 15:56:36.543 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 15:56:36.545 +08:00 [INF] JWT Claim: jti = 73c54536-76a6-463c-967c-2bfd831ba66d
2025-05-30 15:56:36.547 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 15:56:36.548 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 15:56:36.549 +08:00 [INF] JWT Claim: exp = 1748592388
2025-05-30 15:56:36.551 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 15:56:36.552 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 15:56:36.553 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 15:56:36.554 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 15:56:36.555 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContract (RealEstateSolution.ContractService)'
2025-05-30 15:56:36.557 +08:00 [INF] Route matched with {action = "GetContract", controller = "Contract"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ContractService.Models.ContractDto]] GetContract(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractController (RealEstateSolution.ContractService).
2025-05-30 15:56:36.564 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Amount], [c].[CancelTime], [c].[ClientId], [c].[ClientId1], [c].[CompleteTime], [c].[ContractNumber], [c].[CreateTime], [c].[EndDate], [c].[PaymentMethod], [c].[PropertyId], [c].[Remark], [c].[SignTime], [c].[StartDate], [c].[Status], [c].[Terms], [c].[Type], [c].[UpdateTime]
FROM [Contracts] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 15:56:36.567 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ContractService.Models.ContractDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 15:56:36.568 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractController.GetContract (RealEstateSolution.ContractService) in 9.7229ms
2025-05-30 15:56:36.570 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContract (RealEstateSolution.ContractService)'
2025-05-30 15:56:36.571 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetContract/2 - 200 null application/json; charset=utf-8 65.0608ms
2025-05-30 15:56:38.514 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetContract/2 - null 0
2025-05-30 15:56:38.516 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 15:56:38.517 +08:00 [INF] 请求路径: /api/contract/GetContract/2
2025-05-30 15:56:38.518 +08:00 [INF] 请求方法: GET
2025-05-30 15:56:38.519 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 15:56:38.520 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 15:56:38.522 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 15:56:38.523 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 15:56:38.524 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 15:56:38.525 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNzNjNTQ1MzYtNzZhNi00NjNjLTk2N2MtMmJmZDgzMWJhNjZkIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTIzODgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.FzTdHKtiS9Vsqf6LWEPtyPD3FGVM1DYtxGn6g__y7B4
2025-05-30 15:56:38.526 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 15:56:38.527 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 15:56:38.529 +08:00 [INF] 请求头: traceparent = 00-8aab81b12f3047892686acd10df65673-a8a5bc32ade008a7-00
2025-05-30 15:56:38.530 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 15:56:38.531 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 15:56:38.532 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 15:56:38.533 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 15:56:38.535 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 15:56:38.536 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 15:56:38.537 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 15:56:38.539 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 15:56:38.540 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 15:56:38.540 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 15:56:38.541 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 15:56:38.542 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 15:56:38.543 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 15:56:38.544 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 15:56:38.545 +08:00 [INF] JWT Claim: jti = 73c54536-76a6-463c-967c-2bfd831ba66d
2025-05-30 15:56:38.546 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 15:56:38.547 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 15:56:38.548 +08:00 [INF] JWT Claim: exp = 1748592388
2025-05-30 15:56:38.549 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 15:56:38.550 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 15:56:38.551 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 15:56:38.552 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 15:56:38.553 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContract (RealEstateSolution.ContractService)'
2025-05-30 15:56:38.554 +08:00 [INF] Route matched with {action = "GetContract", controller = "Contract"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ContractService.Models.ContractDto]] GetContract(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractController (RealEstateSolution.ContractService).
2025-05-30 15:56:38.560 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Amount], [c].[CancelTime], [c].[ClientId], [c].[ClientId1], [c].[CompleteTime], [c].[ContractNumber], [c].[CreateTime], [c].[EndDate], [c].[PaymentMethod], [c].[PropertyId], [c].[Remark], [c].[SignTime], [c].[StartDate], [c].[Status], [c].[Terms], [c].[Type], [c].[UpdateTime]
FROM [Contracts] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 15:56:38.562 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ContractService.Models.ContractDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 15:56:38.564 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractController.GetContract (RealEstateSolution.ContractService) in 7.9861ms
2025-05-30 15:56:38.565 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContract (RealEstateSolution.ContractService)'
2025-05-30 15:56:38.566 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetContract/2 - 200 null application/json; charset=utf-8 52.5717ms
2025-05-30 15:56:41.024 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetContract/2 - null 0
2025-05-30 15:56:41.027 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 15:56:41.028 +08:00 [INF] 请求路径: /api/contract/GetContract/2
2025-05-30 15:56:41.030 +08:00 [INF] 请求方法: GET
2025-05-30 15:56:41.031 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 15:56:41.032 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 15:56:41.034 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 15:56:41.035 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 15:56:41.037 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 15:56:41.038 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNzNjNTQ1MzYtNzZhNi00NjNjLTk2N2MtMmJmZDgzMWJhNjZkIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTIzODgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.FzTdHKtiS9Vsqf6LWEPtyPD3FGVM1DYtxGn6g__y7B4
2025-05-30 15:56:41.040 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 15:56:41.041 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 15:56:41.043 +08:00 [INF] 请求头: traceparent = 00-25de97aae61bc335bbba0dfa7807e92a-c699e3d6834dfa45-00
2025-05-30 15:56:41.044 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 15:56:41.046 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 15:56:41.047 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 15:56:41.048 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 15:56:41.050 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 15:56:41.051 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 15:56:41.052 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 15:56:41.054 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 15:56:41.055 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 15:56:41.056 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 15:56:41.057 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 15:56:41.058 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 15:56:41.060 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 15:56:41.061 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 15:56:41.063 +08:00 [INF] JWT Claim: jti = 73c54536-76a6-463c-967c-2bfd831ba66d
2025-05-30 15:56:41.064 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 15:56:41.065 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 15:56:41.067 +08:00 [INF] JWT Claim: exp = 1748592388
2025-05-30 15:56:41.068 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 15:56:41.069 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 15:56:41.071 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 15:56:41.072 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 15:56:41.074 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContract (RealEstateSolution.ContractService)'
2025-05-30 15:56:41.075 +08:00 [INF] Route matched with {action = "GetContract", controller = "Contract"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ContractService.Models.ContractDto]] GetContract(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractController (RealEstateSolution.ContractService).
2025-05-30 15:56:41.083 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Amount], [c].[CancelTime], [c].[ClientId], [c].[ClientId1], [c].[CompleteTime], [c].[ContractNumber], [c].[CreateTime], [c].[EndDate], [c].[PaymentMethod], [c].[PropertyId], [c].[Remark], [c].[SignTime], [c].[StartDate], [c].[Status], [c].[Terms], [c].[Type], [c].[UpdateTime]
FROM [Contracts] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 15:56:41.086 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ContractService.Models.ContractDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 15:56:41.088 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractController.GetContract (RealEstateSolution.ContractService) in 11.2781ms
2025-05-30 15:56:41.090 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContract (RealEstateSolution.ContractService)'
2025-05-30 15:56:41.092 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetContract/2 - 200 null application/json; charset=utf-8 67.7777ms
2025-05-30 15:56:43.462 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetContract/2 - null 0
2025-05-30 15:56:43.465 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 15:56:43.466 +08:00 [INF] 请求路径: /api/contract/GetContract/2
2025-05-30 15:56:43.467 +08:00 [INF] 请求方法: GET
2025-05-30 15:56:43.468 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 15:56:43.470 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 15:56:43.471 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 15:56:43.473 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 15:56:43.474 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 15:56:43.476 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNzNjNTQ1MzYtNzZhNi00NjNjLTk2N2MtMmJmZDgzMWJhNjZkIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTIzODgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.FzTdHKtiS9Vsqf6LWEPtyPD3FGVM1DYtxGn6g__y7B4
2025-05-30 15:56:43.477 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 15:56:43.478 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 15:56:43.480 +08:00 [INF] 请求头: traceparent = 00-4cbf76056de3ed4fa39f03cada1c7ac6-acafa4dbfcb400a2-00
2025-05-30 15:56:43.481 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 15:56:43.482 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 15:56:43.484 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 15:56:43.485 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 15:56:43.486 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 15:56:43.487 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 15:56:43.489 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 15:56:43.490 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 15:56:43.491 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 15:56:43.492 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 15:56:43.493 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 15:56:43.494 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 15:56:43.496 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 15:56:43.497 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 15:56:43.498 +08:00 [INF] JWT Claim: jti = 73c54536-76a6-463c-967c-2bfd831ba66d
2025-05-30 15:56:43.499 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 15:56:43.501 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 15:56:43.502 +08:00 [INF] JWT Claim: exp = 1748592388
2025-05-30 15:56:43.504 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 15:56:43.505 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 15:56:43.506 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 15:56:43.507 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 15:56:43.508 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContract (RealEstateSolution.ContractService)'
2025-05-30 15:56:43.509 +08:00 [INF] Route matched with {action = "GetContract", controller = "Contract"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ContractService.Models.ContractDto]] GetContract(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractController (RealEstateSolution.ContractService).
2025-05-30 15:56:43.515 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Amount], [c].[CancelTime], [c].[ClientId], [c].[ClientId1], [c].[CompleteTime], [c].[ContractNumber], [c].[CreateTime], [c].[EndDate], [c].[PaymentMethod], [c].[PropertyId], [c].[Remark], [c].[SignTime], [c].[StartDate], [c].[Status], [c].[Terms], [c].[Type], [c].[UpdateTime]
FROM [Contracts] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 15:56:43.518 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ContractService.Models.ContractDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 15:56:43.520 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractController.GetContract (RealEstateSolution.ContractService) in 8.3927ms
2025-05-30 15:56:43.522 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContract (RealEstateSolution.ContractService)'
2025-05-30 15:56:43.523 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetContract/2 - 200 null application/json; charset=utf-8 61.3174ms
2025-05-30 15:56:45.614 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 15:56:45.617 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 15:56:45.618 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 15:56:45.619 +08:00 [INF] 请求方法: GET
2025-05-30 15:56:45.621 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 15:56:45.622 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 15:56:45.624 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 15:56:45.625 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 15:56:45.626 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 15:56:45.628 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNzNjNTQ1MzYtNzZhNi00NjNjLTk2N2MtMmJmZDgzMWJhNjZkIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTIzODgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.FzTdHKtiS9Vsqf6LWEPtyPD3FGVM1DYtxGn6g__y7B4
2025-05-30 15:56:45.630 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 15:56:45.631 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 15:56:45.633 +08:00 [INF] 请求头: traceparent = 00-8ad0b08c2c1017ee23a67f1513a9d69b-f6b90c93987ac6ef-00
2025-05-30 15:56:45.634 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 15:56:45.636 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 15:56:45.637 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 15:56:45.639 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 15:56:45.641 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 15:56:45.642 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 15:56:45.644 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 15:56:45.645 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 15:56:45.647 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 15:56:45.648 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 15:56:45.649 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 15:56:45.650 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 15:56:45.652 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 15:56:45.654 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 15:56:45.655 +08:00 [INF] JWT Claim: jti = 73c54536-76a6-463c-967c-2bfd831ba66d
2025-05-30 15:56:45.657 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 15:56:45.658 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 15:56:45.660 +08:00 [INF] JWT Claim: exp = 1748592388
2025-05-30 15:56:45.662 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 15:56:45.663 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 15:56:45.665 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 15:56:45.666 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 15:56:45.667 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 15:56:45.669 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 15:56:45.678 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 15:56:45.682 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 15:56:45.684 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 12.5035ms
2025-05-30 15:56:45.686 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 15:56:45.688 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 74.4078ms
2025-05-30 15:56:46.884 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/4 - null 0
2025-05-30 15:56:46.888 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 15:56:46.889 +08:00 [INF] 请求路径: /api/contract/GetTemplateById/4
2025-05-30 15:56:46.890 +08:00 [INF] 请求方法: GET
2025-05-30 15:56:46.891 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 15:56:46.892 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 15:56:46.893 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 15:56:46.895 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 15:56:46.896 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 15:56:46.898 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNzNjNTQ1MzYtNzZhNi00NjNjLTk2N2MtMmJmZDgzMWJhNjZkIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTIzODgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.FzTdHKtiS9Vsqf6LWEPtyPD3FGVM1DYtxGn6g__y7B4
2025-05-30 15:56:46.899 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 15:56:46.900 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 15:56:46.902 +08:00 [INF] 请求头: traceparent = 00-4a12a0df532757250f54b5e791cd65a0-f8d5dfd11fed5e8a-00
2025-05-30 15:56:46.903 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 15:56:46.905 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 15:56:46.906 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 15:56:46.908 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 15:56:46.909 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 15:56:46.910 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 15:56:46.912 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 15:56:46.914 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 15:56:46.915 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 15:56:46.916 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 15:56:46.918 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 15:56:46.919 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 15:56:46.920 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 15:56:46.922 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 15:56:46.923 +08:00 [INF] JWT Claim: jti = 73c54536-76a6-463c-967c-2bfd831ba66d
2025-05-30 15:56:46.924 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 15:56:46.925 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 15:56:46.927 +08:00 [INF] JWT Claim: exp = 1748592388
2025-05-30 15:56:46.928 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 15:56:46.929 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 15:56:46.930 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 15:56:46.931 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 15:56:46.932 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 15:56:46.933 +08:00 [INF] Route matched with {action = "GetTemplateById", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]] GetTemplateById(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 15:56:46.940 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 15:56:46.942 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 15:56:46.944 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService) in 8.4983ms
2025-05-30 15:56:46.946 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 15:56:46.947 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/4 - 200 null application/json; charset=utf-8 62.4622ms
2025-05-30 15:56:51.928 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/4 - null 0
2025-05-30 15:56:51.931 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 15:56:51.932 +08:00 [INF] 请求路径: /api/contract/GetTemplateById/4
2025-05-30 15:56:51.933 +08:00 [INF] 请求方法: GET
2025-05-30 15:56:51.934 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 15:56:51.935 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 15:56:51.937 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 15:56:51.939 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 15:56:51.940 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 15:56:51.942 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNzNjNTQ1MzYtNzZhNi00NjNjLTk2N2MtMmJmZDgzMWJhNjZkIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTIzODgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.FzTdHKtiS9Vsqf6LWEPtyPD3FGVM1DYtxGn6g__y7B4
2025-05-30 15:56:51.943 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 15:56:51.945 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 15:56:51.946 +08:00 [INF] 请求头: traceparent = 00-b0880d69e6a4155a57e8c4617bd550bb-a449433eb27907eb-00
2025-05-30 15:56:51.948 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 15:56:51.949 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 15:56:51.951 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 15:56:51.952 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 15:56:51.954 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 15:56:51.956 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 15:56:51.957 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 15:56:51.958 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 15:56:51.960 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 15:56:51.960 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 15:56:51.962 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 15:56:51.963 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 15:56:51.965 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 15:56:51.966 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 15:56:51.968 +08:00 [INF] JWT Claim: jti = 73c54536-76a6-463c-967c-2bfd831ba66d
2025-05-30 15:56:51.969 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 15:56:51.971 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 15:56:51.972 +08:00 [INF] JWT Claim: exp = 1748592388
2025-05-30 15:56:51.974 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 15:56:51.975 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 15:56:51.977 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 15:56:51.978 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 15:56:51.979 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 15:56:51.980 +08:00 [INF] Route matched with {action = "GetTemplateById", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]] GetTemplateById(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 15:56:51.987 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 15:56:51.990 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 15:56:51.992 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService) in 9.3027ms
2025-05-30 15:56:51.994 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 15:56:51.995 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/4 - 200 null application/json; charset=utf-8 67.3935ms
2025-05-30 15:56:52.160 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 15:56:52.164 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 15:56:52.165 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 15:56:52.166 +08:00 [INF] 请求方法: GET
2025-05-30 15:56:52.167 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 15:56:52.169 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 15:56:52.171 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 15:56:52.172 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 15:56:52.173 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 15:56:52.175 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNzNjNTQ1MzYtNzZhNi00NjNjLTk2N2MtMmJmZDgzMWJhNjZkIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTIzODgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.FzTdHKtiS9Vsqf6LWEPtyPD3FGVM1DYtxGn6g__y7B4
2025-05-30 15:56:52.176 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 15:56:52.178 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 15:56:52.179 +08:00 [INF] 请求头: traceparent = 00-6571f93a1d9c46b551697a5e96fbb686-36145720ab77a1bb-00
2025-05-30 15:56:52.181 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 15:56:52.182 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 15:56:52.183 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 15:56:52.185 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 15:56:52.186 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 15:56:52.188 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 15:56:52.189 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 15:56:52.191 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 15:56:52.192 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 15:56:52.193 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 15:56:52.195 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 15:56:52.196 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 15:56:52.197 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 15:56:52.199 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 15:56:52.200 +08:00 [INF] JWT Claim: jti = 73c54536-76a6-463c-967c-2bfd831ba66d
2025-05-30 15:56:52.202 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 15:56:52.204 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 15:56:52.206 +08:00 [INF] JWT Claim: exp = 1748592388
2025-05-30 15:56:52.207 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 15:56:52.209 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 15:56:52.210 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 15:56:52.211 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 15:56:52.213 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 15:56:52.214 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 15:56:52.223 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 15:56:52.227 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 15:56:52.229 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 12.0305ms
2025-05-30 15:56:52.230 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 15:56:52.232 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 71.5617ms
2025-05-30 15:56:57.692 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/3 - null 0
2025-05-30 15:56:57.696 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 15:56:57.697 +08:00 [INF] 请求路径: /api/contract/GetTemplateById/3
2025-05-30 15:56:57.698 +08:00 [INF] 请求方法: GET
2025-05-30 15:56:57.699 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 15:56:57.701 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 15:56:57.703 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 15:56:57.704 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 15:56:57.706 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 15:56:57.707 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNzNjNTQ1MzYtNzZhNi00NjNjLTk2N2MtMmJmZDgzMWJhNjZkIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTIzODgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.FzTdHKtiS9Vsqf6LWEPtyPD3FGVM1DYtxGn6g__y7B4
2025-05-30 15:56:57.709 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 15:56:57.711 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 15:56:57.712 +08:00 [INF] 请求头: traceparent = 00-3601e0828364abf9ab4dee0486300d00-0ed38da4b144dc3c-00
2025-05-30 15:56:57.714 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 15:56:57.715 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 15:56:57.717 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 15:56:57.719 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 15:56:57.721 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 15:56:57.723 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 15:56:57.724 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 15:56:57.726 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 15:56:57.728 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 15:56:57.729 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 15:56:57.730 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 15:56:57.731 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 15:56:57.732 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 15:56:57.734 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 15:56:57.736 +08:00 [INF] JWT Claim: jti = 73c54536-76a6-463c-967c-2bfd831ba66d
2025-05-30 15:56:57.738 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 15:56:57.739 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 15:56:57.741 +08:00 [INF] JWT Claim: exp = 1748592388
2025-05-30 15:56:57.743 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 15:56:57.744 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 15:56:57.746 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 15:56:57.747 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 15:56:57.748 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 15:56:57.750 +08:00 [INF] Route matched with {action = "GetTemplateById", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]] GetTemplateById(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 15:56:57.757 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 15:56:57.761 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 15:56:57.763 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService) in 10.7111ms
2025-05-30 15:56:57.765 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 15:56:57.766 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/3 - 200 null application/json; charset=utf-8 73.8809ms
2025-05-30 15:56:58.883 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/3 - null 0
2025-05-30 15:56:58.887 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 15:56:58.888 +08:00 [INF] 请求路径: /api/contract/GetTemplateById/3
2025-05-30 15:56:58.889 +08:00 [INF] 请求方法: GET
2025-05-30 15:56:58.890 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 15:56:58.892 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 15:56:58.893 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 15:56:58.895 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 15:56:58.896 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 15:56:58.898 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNzNjNTQ1MzYtNzZhNi00NjNjLTk2N2MtMmJmZDgzMWJhNjZkIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTIzODgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.FzTdHKtiS9Vsqf6LWEPtyPD3FGVM1DYtxGn6g__y7B4
2025-05-30 15:56:58.899 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 15:56:58.901 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 15:56:58.902 +08:00 [INF] 请求头: traceparent = 00-a17158696d8d87b3caa91ea2a618f9fc-64237ab463ea43e1-00
2025-05-30 15:56:58.904 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 15:56:58.905 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 15:56:58.906 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 15:56:58.908 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 15:56:58.909 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 15:56:58.910 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 15:56:58.912 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 15:56:58.913 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 15:56:58.914 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 15:56:58.915 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 15:56:58.916 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 15:56:58.917 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 15:56:58.918 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 15:56:58.920 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 15:56:58.921 +08:00 [INF] JWT Claim: jti = 73c54536-76a6-463c-967c-2bfd831ba66d
2025-05-30 15:56:58.922 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 15:56:58.924 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 15:56:58.925 +08:00 [INF] JWT Claim: exp = 1748592388
2025-05-30 15:56:58.926 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 15:56:58.928 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 15:56:58.929 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 15:56:58.930 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 15:56:58.931 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 15:56:58.932 +08:00 [INF] Route matched with {action = "GetTemplateById", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]] GetTemplateById(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 15:56:58.939 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 15:56:58.942 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 15:56:58.943 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService) in 9.2724ms
2025-05-30 15:56:58.945 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 15:56:58.946 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/3 - 200 null application/json; charset=utf-8 63.4743ms
2025-05-30 15:56:59.122 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 15:56:59.125 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 15:56:59.126 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 15:56:59.127 +08:00 [INF] 请求方法: GET
2025-05-30 15:56:59.128 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 15:56:59.130 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 15:56:59.131 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 15:56:59.132 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 15:56:59.133 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 15:56:59.134 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNzNjNTQ1MzYtNzZhNi00NjNjLTk2N2MtMmJmZDgzMWJhNjZkIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTIzODgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.FzTdHKtiS9Vsqf6LWEPtyPD3FGVM1DYtxGn6g__y7B4
2025-05-30 15:56:59.136 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 15:56:59.137 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 15:56:59.139 +08:00 [INF] 请求头: traceparent = 00-c4f22845283fb47f1faf45b5199126c5-31824d5b2249cd86-00
2025-05-30 15:56:59.140 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 15:56:59.141 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 15:56:59.142 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 15:56:59.144 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 15:56:59.145 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 15:56:59.147 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 15:56:59.148 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 15:56:59.149 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 15:56:59.150 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 15:56:59.152 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 15:56:59.153 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 15:56:59.154 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 15:56:59.156 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 15:56:59.157 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 15:56:59.159 +08:00 [INF] JWT Claim: jti = 73c54536-76a6-463c-967c-2bfd831ba66d
2025-05-30 15:56:59.160 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 15:56:59.162 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 15:56:59.163 +08:00 [INF] JWT Claim: exp = 1748592388
2025-05-30 15:56:59.165 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 15:56:59.166 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 15:56:59.167 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 15:56:59.169 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 15:56:59.170 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 15:56:59.171 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 15:56:59.177 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 15:56:59.181 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 15:56:59.183 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 9.3399ms
2025-05-30 15:56:59.185 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 15:56:59.187 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 64.2145ms
2025-05-30 15:57:00.416 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/3 - null 0
2025-05-30 15:57:00.418 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 15:57:00.420 +08:00 [INF] 请求路径: /api/contract/GetTemplateById/3
2025-05-30 15:57:00.421 +08:00 [INF] 请求方法: GET
2025-05-30 15:57:00.422 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 15:57:00.423 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 15:57:00.424 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 15:57:00.425 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 15:57:00.426 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 15:57:00.428 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNzNjNTQ1MzYtNzZhNi00NjNjLTk2N2MtMmJmZDgzMWJhNjZkIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTIzODgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.FzTdHKtiS9Vsqf6LWEPtyPD3FGVM1DYtxGn6g__y7B4
2025-05-30 15:57:00.429 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 15:57:00.431 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 15:57:00.432 +08:00 [INF] 请求头: traceparent = 00-fb5f36edfe4afae4c6b8355f0982c540-5e421ae0dd12748c-00
2025-05-30 15:57:00.433 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 15:57:00.434 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 15:57:00.436 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 15:57:00.437 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 15:57:00.438 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 15:57:00.440 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 15:57:00.441 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 15:57:00.442 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 15:57:00.443 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 15:57:00.444 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 15:57:00.445 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 15:57:00.446 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 15:57:00.447 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 15:57:00.449 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 15:57:00.450 +08:00 [INF] JWT Claim: jti = 73c54536-76a6-463c-967c-2bfd831ba66d
2025-05-30 15:57:00.451 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 15:57:00.452 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 15:57:00.454 +08:00 [INF] JWT Claim: exp = 1748592388
2025-05-30 15:57:00.455 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 15:57:00.456 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 15:57:00.457 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 15:57:00.458 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 15:57:00.459 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 15:57:00.461 +08:00 [INF] Route matched with {action = "GetTemplateById", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]] GetTemplateById(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 15:57:00.468 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 15:57:00.471 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 15:57:00.472 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService) in 9.4571ms
2025-05-30 15:57:00.474 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 15:57:00.475 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/3 - 200 null application/json; charset=utf-8 59.7204ms
2025-05-30 15:57:00.634 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 15:57:00.638 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 15:57:00.639 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 15:57:00.640 +08:00 [INF] 请求方法: GET
2025-05-30 15:57:00.642 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 15:57:00.643 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 15:57:00.645 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 15:57:00.647 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 15:57:00.648 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 15:57:00.650 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNzNjNTQ1MzYtNzZhNi00NjNjLTk2N2MtMmJmZDgzMWJhNjZkIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTIzODgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.FzTdHKtiS9Vsqf6LWEPtyPD3FGVM1DYtxGn6g__y7B4
2025-05-30 15:57:00.651 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 15:57:00.652 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 15:57:00.654 +08:00 [INF] 请求头: traceparent = 00-f27f1f9d171701a2d0292548afd07272-3b01ccbd6f3545a3-00
2025-05-30 15:57:00.655 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 15:57:00.657 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 15:57:00.658 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 15:57:00.659 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 15:57:00.661 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 15:57:00.662 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 15:57:00.663 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 15:57:00.665 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 15:57:00.666 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 15:57:00.667 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 15:57:00.668 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 15:57:00.669 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 15:57:00.671 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 15:57:00.672 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 15:57:00.673 +08:00 [INF] JWT Claim: jti = 73c54536-76a6-463c-967c-2bfd831ba66d
2025-05-30 15:57:00.675 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 15:57:00.676 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 15:57:00.677 +08:00 [INF] JWT Claim: exp = 1748592388
2025-05-30 15:57:00.679 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 15:57:00.680 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 15:57:00.681 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 15:57:00.682 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 15:57:00.684 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 15:57:00.685 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 15:57:00.691 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 15:57:00.695 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 15:57:00.697 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 10.0177ms
2025-05-30 15:57:00.699 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 15:57:00.700 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 66.127ms
2025-05-30 15:57:49.195 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/4 - null 0
2025-05-30 15:57:49.215 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 15:57:49.217 +08:00 [INF] 请求路径: /api/contract/GetTemplateById/4
2025-05-30 15:57:49.218 +08:00 [INF] 请求方法: GET
2025-05-30 15:57:49.220 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 15:57:49.222 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 15:57:49.224 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 15:57:49.226 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 15:57:49.229 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 15:57:49.231 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNzNjNTQ1MzYtNzZhNi00NjNjLTk2N2MtMmJmZDgzMWJhNjZkIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTIzODgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.FzTdHKtiS9Vsqf6LWEPtyPD3FGVM1DYtxGn6g__y7B4
2025-05-30 15:57:49.233 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 15:57:49.236 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 15:57:49.238 +08:00 [INF] 请求头: traceparent = 00-873740853f8d415f5df3d85bf3071863-94090a4827679c8b-00
2025-05-30 15:57:49.241 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 15:57:49.243 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 15:57:49.246 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 15:57:49.248 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 15:57:49.251 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 15:57:49.254 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 15:57:49.257 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 15:57:49.259 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 15:57:49.262 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 15:57:49.264 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 15:57:49.266 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 15:57:49.268 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 15:57:49.270 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 15:57:49.272 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 15:57:49.274 +08:00 [INF] JWT Claim: jti = 73c54536-76a6-463c-967c-2bfd831ba66d
2025-05-30 15:57:49.277 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 15:57:49.281 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 15:57:49.283 +08:00 [INF] JWT Claim: exp = 1748592388
2025-05-30 15:57:49.285 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 15:57:49.287 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 15:57:49.289 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 15:57:49.290 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 15:57:49.292 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 15:57:49.294 +08:00 [INF] Route matched with {action = "GetTemplateById", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]] GetTemplateById(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 15:57:49.304 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 15:57:49.308 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 15:57:49.312 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService) in 14.8103ms
2025-05-30 15:57:49.315 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 15:57:49.317 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/4 - 200 null application/json; charset=utf-8 122.1614ms
2025-05-30 15:57:49.601 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 15:57:49.606 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 15:57:49.607 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 15:57:49.608 +08:00 [INF] 请求方法: GET
2025-05-30 15:57:49.610 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 15:57:49.612 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 15:57:49.614 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 15:57:49.615 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 15:57:49.617 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 15:57:49.619 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNzNjNTQ1MzYtNzZhNi00NjNjLTk2N2MtMmJmZDgzMWJhNjZkIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTIzODgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.FzTdHKtiS9Vsqf6LWEPtyPD3FGVM1DYtxGn6g__y7B4
2025-05-30 15:57:49.621 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 15:57:49.623 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 15:57:49.625 +08:00 [INF] 请求头: traceparent = 00-3cac9e87a4d81f63bcdb0259f0ad5cf6-8c0f0110fdb389f4-00
2025-05-30 15:57:49.626 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 15:57:49.628 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 15:57:49.631 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 15:57:49.633 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 15:57:49.635 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 15:57:49.637 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 15:57:49.639 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 15:57:49.642 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 15:57:49.643 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 15:57:49.646 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 15:57:49.647 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 15:57:49.649 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 15:57:49.651 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 15:57:49.653 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 15:57:49.655 +08:00 [INF] JWT Claim: jti = 73c54536-76a6-463c-967c-2bfd831ba66d
2025-05-30 15:57:49.657 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 15:57:49.659 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 15:57:49.661 +08:00 [INF] JWT Claim: exp = 1748592388
2025-05-30 15:57:49.664 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 15:57:49.666 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 15:57:49.667 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 15:57:49.669 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 15:57:49.672 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 15:57:49.674 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 15:57:49.692 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 15:57:49.708 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 15:57:49.710 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 33.2531ms
2025-05-30 15:57:49.713 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 15:57:49.715 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 113.5793ms
2025-05-30 16:01:08.752 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 16:01:08.764 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:01:08.765 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 16:01:08.766 +08:00 [INF] 请求方法: GET
2025-05-30 16:01:08.767 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:01:08.768 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 16:01:08.770 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:01:08.771 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:01:08.772 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:01:08.773 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNzNjNTQ1MzYtNzZhNi00NjNjLTk2N2MtMmJmZDgzMWJhNjZkIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTIzODgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.FzTdHKtiS9Vsqf6LWEPtyPD3FGVM1DYtxGn6g__y7B4
2025-05-30 16:01:08.775 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:01:08.776 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:01:08.777 +08:00 [INF] 请求头: traceparent = 00-3ccb9406c405103e464a318ad47f919e-c47819124e1f2107-00
2025-05-30 16:01:08.778 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:01:08.780 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:01:08.781 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:01:08.782 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:01:08.784 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:01:08.785 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:01:08.786 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:01:08.787 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:01:08.789 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:01:08.789 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:01:08.790 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:01:08.792 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:01:08.793 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:01:08.795 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:01:08.796 +08:00 [INF] JWT Claim: jti = 73c54536-76a6-463c-967c-2bfd831ba66d
2025-05-30 16:01:08.798 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:01:08.799 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:01:08.800 +08:00 [INF] JWT Claim: exp = 1748592388
2025-05-30 16:01:08.802 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:01:08.804 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:01:08.805 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:01:08.806 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:01:08.807 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 16:01:08.808 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 16:01:08.814 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 16:01:08.818 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:01:08.820 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 9.8979ms
2025-05-30 16:01:08.821 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 16:01:08.822 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 70.2792ms
2025-05-30 16:01:14.047 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 16:01:14.050 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:01:14.051 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 16:01:14.052 +08:00 [INF] 请求方法: GET
2025-05-30 16:01:14.053 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:01:14.054 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 16:01:14.055 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:01:14.056 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:01:14.057 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:01:14.059 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNzNjNTQ1MzYtNzZhNi00NjNjLTk2N2MtMmJmZDgzMWJhNjZkIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTIzODgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.FzTdHKtiS9Vsqf6LWEPtyPD3FGVM1DYtxGn6g__y7B4
2025-05-30 16:01:14.060 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:01:14.061 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:01:14.062 +08:00 [INF] 请求头: traceparent = 00-086fea08eaf3bd4dd485408b323ffd86-2f5791f6d2705428-00
2025-05-30 16:01:14.064 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:01:14.065 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:01:14.066 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:01:14.068 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:01:14.069 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:01:14.070 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:01:14.072 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:01:14.073 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:01:14.074 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:01:14.075 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:01:14.076 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:01:14.077 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:01:14.078 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:01:14.079 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:01:14.080 +08:00 [INF] JWT Claim: jti = 73c54536-76a6-463c-967c-2bfd831ba66d
2025-05-30 16:01:14.081 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:01:14.082 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:01:14.084 +08:00 [INF] JWT Claim: exp = 1748592388
2025-05-30 16:01:14.085 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:01:14.086 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:01:14.087 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:01:14.088 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:01:14.089 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 16:01:14.090 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 16:01:14.095 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 16:01:14.099 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:01:14.101 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 8.2867ms
2025-05-30 16:01:14.102 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 16:01:14.104 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 56.9635ms
2025-05-30 16:06:11.955 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 16:06:11.969 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:06:11.970 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 16:06:11.971 +08:00 [INF] 请求方法: GET
2025-05-30 16:06:11.973 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:06:11.974 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 16:06:11.975 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:06:11.977 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:06:11.978 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:06:11.979 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNzNjNTQ1MzYtNzZhNi00NjNjLTk2N2MtMmJmZDgzMWJhNjZkIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTIzODgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.FzTdHKtiS9Vsqf6LWEPtyPD3FGVM1DYtxGn6g__y7B4
2025-05-30 16:06:11.982 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:06:11.985 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:06:11.987 +08:00 [INF] 请求头: traceparent = 00-2958f98ed19c9c7a588f02d9a4471327-cf88cbbb16e7089d-00
2025-05-30 16:06:11.988 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:06:11.990 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:06:11.991 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:06:11.993 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:06:11.995 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:06:11.998 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:06:12.001 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:06:12.003 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:06:12.005 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:06:12.006 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:06:12.007 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:06:12.009 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:06:12.011 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:06:12.013 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:06:12.016 +08:00 [INF] JWT Claim: jti = 73c54536-76a6-463c-967c-2bfd831ba66d
2025-05-30 16:06:12.017 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:06:12.019 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:06:12.020 +08:00 [INF] JWT Claim: exp = 1748592388
2025-05-30 16:06:12.022 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:06:12.023 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:06:12.025 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:06:12.026 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:06:12.027 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 16:06:12.028 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 16:06:12.040 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 16:06:12.044 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:06:12.045 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 15.4101ms
2025-05-30 16:06:12.047 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 16:06:12.048 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 93.1088ms
2025-05-30 16:06:19.001 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/4 - null 0
2025-05-30 16:06:19.004 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:06:19.005 +08:00 [INF] 请求路径: /api/contract/GetTemplateById/4
2025-05-30 16:06:19.006 +08:00 [INF] 请求方法: GET
2025-05-30 16:06:19.008 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:06:19.009 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 16:06:19.010 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:06:19.012 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:06:19.013 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:06:19.015 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNzNjNTQ1MzYtNzZhNi00NjNjLTk2N2MtMmJmZDgzMWJhNjZkIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTIzODgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.FzTdHKtiS9Vsqf6LWEPtyPD3FGVM1DYtxGn6g__y7B4
2025-05-30 16:06:19.016 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:06:19.017 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:06:19.019 +08:00 [INF] 请求头: traceparent = 00-20895a659521dc824225c4ea5c49dcb7-113d3c6e3c66a306-00
2025-05-30 16:06:19.020 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:06:19.022 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:06:19.023 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:06:19.024 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:06:19.026 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:06:19.027 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:06:19.028 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:06:19.030 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:06:19.032 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:06:19.033 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:06:19.034 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:06:19.035 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:06:19.036 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:06:19.038 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:06:19.039 +08:00 [INF] JWT Claim: jti = 73c54536-76a6-463c-967c-2bfd831ba66d
2025-05-30 16:06:19.040 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:06:19.041 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:06:19.043 +08:00 [INF] JWT Claim: exp = 1748592388
2025-05-30 16:06:19.044 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:06:19.045 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:06:19.046 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:06:19.047 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:06:19.049 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 16:06:19.052 +08:00 [INF] Route matched with {action = "GetTemplateById", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]] GetTemplateById(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 16:06:19.089 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 16:06:19.097 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:06:19.102 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService) in 44.6167ms
2025-05-30 16:06:19.106 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 16:06:19.110 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/4 - 200 null application/json; charset=utf-8 108.3928ms
2025-05-30 16:06:20.408 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/4 - null 0
2025-05-30 16:06:20.411 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:06:20.412 +08:00 [INF] 请求路径: /api/contract/GetTemplateById/4
2025-05-30 16:06:20.413 +08:00 [INF] 请求方法: GET
2025-05-30 16:06:20.414 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:06:20.415 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 16:06:20.416 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:06:20.418 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:06:20.419 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:06:20.420 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNzNjNTQ1MzYtNzZhNi00NjNjLTk2N2MtMmJmZDgzMWJhNjZkIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTIzODgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.FzTdHKtiS9Vsqf6LWEPtyPD3FGVM1DYtxGn6g__y7B4
2025-05-30 16:06:20.422 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:06:20.423 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:06:20.424 +08:00 [INF] 请求头: traceparent = 00-6147793b440e1456ccf4a8b1b4860fe1-2c391a81454c23c9-00
2025-05-30 16:06:20.425 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:06:20.427 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:06:20.428 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:06:20.429 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:06:20.430 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:06:20.432 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:06:20.433 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:06:20.434 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:06:20.435 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:06:20.436 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:06:20.437 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:06:20.438 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:06:20.440 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:06:20.441 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:06:20.442 +08:00 [INF] JWT Claim: jti = 73c54536-76a6-463c-967c-2bfd831ba66d
2025-05-30 16:06:20.444 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:06:20.445 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:06:20.446 +08:00 [INF] JWT Claim: exp = 1748592388
2025-05-30 16:06:20.447 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:06:20.449 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:06:20.450 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:06:20.451 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:06:20.452 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 16:06:20.453 +08:00 [INF] Route matched with {action = "GetTemplateById", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]] GetTemplateById(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 16:06:20.459 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 16:06:20.462 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:06:20.464 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService) in 8.748ms
2025-05-30 16:06:20.466 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 16:06:20.467 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/4 - 200 null application/json; charset=utf-8 59.1296ms
2025-05-30 16:06:23.502 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 16:06:23.506 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:06:23.508 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 16:06:23.509 +08:00 [INF] 请求方法: GET
2025-05-30 16:06:23.510 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:06:23.511 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 16:06:23.512 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:06:23.513 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:06:23.514 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:06:23.516 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNzNjNTQ1MzYtNzZhNi00NjNjLTk2N2MtMmJmZDgzMWJhNjZkIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTIzODgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.FzTdHKtiS9Vsqf6LWEPtyPD3FGVM1DYtxGn6g__y7B4
2025-05-30 16:06:23.517 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:06:23.518 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:06:23.519 +08:00 [INF] 请求头: traceparent = 00-1ecf96d0632e02333ed686864552cf5b-5179148602e151d2-00
2025-05-30 16:06:23.520 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:06:23.520 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:06:23.521 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:06:23.522 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:06:23.523 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:06:23.525 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:06:23.526 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:06:23.527 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:06:23.528 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:06:23.529 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:06:23.530 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:06:23.530 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:06:23.532 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:06:23.533 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:06:23.534 +08:00 [INF] JWT Claim: jti = 73c54536-76a6-463c-967c-2bfd831ba66d
2025-05-30 16:06:23.535 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:06:23.536 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:06:23.537 +08:00 [INF] JWT Claim: exp = 1748592388
2025-05-30 16:06:23.538 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:06:23.540 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:06:23.541 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:06:23.542 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:06:23.543 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 16:06:23.544 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 16:06:23.549 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 16:06:23.552 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:06:23.554 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 8.5679ms
2025-05-30 16:06:23.555 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 16:06:23.556 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 53.5241ms
2025-05-30 16:07:56.805 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 16:07:56.809 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:07:56.810 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 16:07:56.811 +08:00 [INF] 请求方法: GET
2025-05-30 16:07:56.812 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:07:56.813 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 16:07:56.814 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:07:56.815 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:07:56.816 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:07:56.817 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiYTc3ZDUzODEtZTFjMy00MGIzLTgyNTUtZDgyYmYwMGU1MDhmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTMwNzMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Oj1HAbQ7oR7OwHPkr6ZUgKP3c1EZ2iZdWzsNZxw6QEw
2025-05-30 16:07:56.818 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:07:56.819 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:07:56.820 +08:00 [INF] 请求头: traceparent = 00-73976348797132a4f579a10b2f103a01-5decfbfad9149fa8-00
2025-05-30 16:07:56.821 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:07:56.822 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:07:56.823 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:07:56.824 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:07:56.825 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:07:56.826 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:07:56.827 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:07:56.828 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:07:56.829 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:07:56.830 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:07:56.832 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:07:56.833 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:07:56.834 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:07:56.835 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:07:56.836 +08:00 [INF] JWT Claim: jti = a77d5381-e1c3-40b3-8255-d82bf00e508f
2025-05-30 16:07:56.837 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:07:56.838 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:07:56.839 +08:00 [INF] JWT Claim: exp = 1748593073
2025-05-30 16:07:56.840 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:07:56.841 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:07:56.842 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:07:56.843 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:07:56.844 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 16:07:56.845 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 16:07:56.851 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 16:07:56.854 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:07:56.856 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 9.0004ms
2025-05-30 16:07:56.858 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 16:07:56.859 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 53.4956ms
2025-05-30 16:07:58.774 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/4 - null 0
2025-05-30 16:07:58.776 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:07:58.777 +08:00 [INF] 请求路径: /api/contract/GetTemplateById/4
2025-05-30 16:07:58.778 +08:00 [INF] 请求方法: GET
2025-05-30 16:07:58.778 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:07:58.779 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 16:07:58.781 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:07:58.782 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:07:58.783 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:07:58.784 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiYTc3ZDUzODEtZTFjMy00MGIzLTgyNTUtZDgyYmYwMGU1MDhmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTMwNzMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Oj1HAbQ7oR7OwHPkr6ZUgKP3c1EZ2iZdWzsNZxw6QEw
2025-05-30 16:07:58.785 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:07:58.786 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:07:58.787 +08:00 [INF] 请求头: traceparent = 00-8cb729d33fbe136a7d2c3d4692b31871-f238b17ae1e0cb76-00
2025-05-30 16:07:58.788 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:07:58.790 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:07:58.791 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:07:58.792 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:07:58.793 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:07:58.794 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:07:58.795 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:07:58.796 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:07:58.797 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:07:58.798 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:07:58.799 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:07:58.800 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:07:58.801 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:07:58.802 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:07:58.803 +08:00 [INF] JWT Claim: jti = a77d5381-e1c3-40b3-8255-d82bf00e508f
2025-05-30 16:07:58.804 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:07:58.806 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:07:58.807 +08:00 [INF] JWT Claim: exp = 1748593073
2025-05-30 16:07:58.808 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:07:58.809 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:07:58.810 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:07:58.811 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:07:58.812 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 16:07:58.813 +08:00 [INF] Route matched with {action = "GetTemplateById", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]] GetTemplateById(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 16:07:58.820 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 16:07:58.822 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:07:58.824 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService) in 8.2623ms
2025-05-30 16:07:58.825 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 16:07:58.826 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/4 - 200 null application/json; charset=utf-8 51.9379ms
2025-05-30 16:07:59.806 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/4 - null 0
2025-05-30 16:07:59.809 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:07:59.810 +08:00 [INF] 请求路径: /api/contract/GetTemplateById/4
2025-05-30 16:07:59.810 +08:00 [INF] 请求方法: GET
2025-05-30 16:07:59.811 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:07:59.812 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 16:07:59.813 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:07:59.814 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:07:59.816 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:07:59.817 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiYTc3ZDUzODEtZTFjMy00MGIzLTgyNTUtZDgyYmYwMGU1MDhmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTMwNzMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Oj1HAbQ7oR7OwHPkr6ZUgKP3c1EZ2iZdWzsNZxw6QEw
2025-05-30 16:07:59.818 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:07:59.819 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:07:59.820 +08:00 [INF] 请求头: traceparent = 00-26bccf8e83dac41ded0fc7ebaf7e4f79-dbc2ff8a420d47fb-00
2025-05-30 16:07:59.821 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:07:59.822 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:07:59.823 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:07:59.824 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:07:59.825 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:07:59.826 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:07:59.828 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:07:59.829 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:07:59.830 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:07:59.831 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:07:59.832 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:07:59.833 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:07:59.834 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:07:59.835 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:07:59.836 +08:00 [INF] JWT Claim: jti = a77d5381-e1c3-40b3-8255-d82bf00e508f
2025-05-30 16:07:59.837 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:07:59.838 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:07:59.840 +08:00 [INF] JWT Claim: exp = 1748593073
2025-05-30 16:07:59.841 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:07:59.842 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:07:59.843 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:07:59.843 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:07:59.844 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 16:07:59.846 +08:00 [INF] Route matched with {action = "GetTemplateById", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]] GetTemplateById(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 16:07:59.851 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 16:07:59.855 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:07:59.857 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService) in 9.081ms
2025-05-30 16:07:59.858 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 16:07:59.860 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/4 - 200 null application/json; charset=utf-8 53.2262ms
2025-05-30 16:08:03.151 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/4 - null 0
2025-05-30 16:08:03.154 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:08:03.155 +08:00 [INF] 请求路径: /api/contract/GetTemplateById/4
2025-05-30 16:08:03.156 +08:00 [INF] 请求方法: GET
2025-05-30 16:08:03.157 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:08:03.158 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 16:08:03.159 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:08:03.160 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:08:03.161 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:08:03.162 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiYTc3ZDUzODEtZTFjMy00MGIzLTgyNTUtZDgyYmYwMGU1MDhmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTMwNzMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Oj1HAbQ7oR7OwHPkr6ZUgKP3c1EZ2iZdWzsNZxw6QEw
2025-05-30 16:08:03.164 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:08:03.165 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:08:03.166 +08:00 [INF] 请求头: traceparent = 00-99ab3e1235a8ada9bdf52d88512e9c33-899b4e267efa2ef3-00
2025-05-30 16:08:03.167 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:08:03.168 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:08:03.169 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:08:03.170 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:08:03.171 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:08:03.172 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:08:03.174 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:08:03.175 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:08:03.176 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:08:03.177 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:08:03.178 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:08:03.178 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:08:03.179 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:08:03.180 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:08:03.182 +08:00 [INF] JWT Claim: jti = a77d5381-e1c3-40b3-8255-d82bf00e508f
2025-05-30 16:08:03.183 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:08:03.184 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:08:03.185 +08:00 [INF] JWT Claim: exp = 1748593073
2025-05-30 16:08:03.186 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:08:03.187 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:08:03.188 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:08:03.189 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:08:03.190 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 16:08:03.191 +08:00 [INF] Route matched with {action = "GetTemplateById", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]] GetTemplateById(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 16:08:03.195 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 16:08:03.197 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:08:03.199 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService) in 6.9355ms
2025-05-30 16:08:03.201 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 16:08:03.202 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/4 - 200 null application/json; charset=utf-8 50.126ms
2025-05-30 16:08:04.150 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 16:08:04.153 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:08:04.153 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 16:08:04.154 +08:00 [INF] 请求方法: GET
2025-05-30 16:08:04.156 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:08:04.157 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 16:08:04.158 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:08:04.159 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:08:04.160 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:08:04.161 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiYTc3ZDUzODEtZTFjMy00MGIzLTgyNTUtZDgyYmYwMGU1MDhmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTMwNzMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Oj1HAbQ7oR7OwHPkr6ZUgKP3c1EZ2iZdWzsNZxw6QEw
2025-05-30 16:08:04.162 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:08:04.163 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:08:04.165 +08:00 [INF] 请求头: traceparent = 00-718d2aeaaa84c8cc8baf3728967752d0-d3181af6a6774053-00
2025-05-30 16:08:04.166 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:08:04.167 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:08:04.168 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:08:04.169 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:08:04.170 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:08:04.171 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:08:04.173 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:08:04.174 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:08:04.175 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:08:04.176 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:08:04.176 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:08:04.177 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:08:04.178 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:08:04.179 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:08:04.180 +08:00 [INF] JWT Claim: jti = a77d5381-e1c3-40b3-8255-d82bf00e508f
2025-05-30 16:08:04.182 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:08:04.183 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:08:04.184 +08:00 [INF] JWT Claim: exp = 1748593073
2025-05-30 16:08:04.185 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:08:04.185 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:08:04.186 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:08:04.187 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:08:04.188 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 16:08:04.190 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 16:08:04.194 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 16:08:04.196 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:08:04.198 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 6.6941ms
2025-05-30 16:08:04.199 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 16:08:04.200 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 50.2751ms
2025-05-30 16:08:05.338 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/2 - null 0
2025-05-30 16:08:05.341 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:08:05.341 +08:00 [INF] 请求路径: /api/contract/GetTemplateById/2
2025-05-30 16:08:05.342 +08:00 [INF] 请求方法: GET
2025-05-30 16:08:05.343 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:08:05.344 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 16:08:05.345 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:08:05.346 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:08:05.347 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:08:05.349 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiYTc3ZDUzODEtZTFjMy00MGIzLTgyNTUtZDgyYmYwMGU1MDhmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTMwNzMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Oj1HAbQ7oR7OwHPkr6ZUgKP3c1EZ2iZdWzsNZxw6QEw
2025-05-30 16:08:05.350 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:08:05.351 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:08:05.352 +08:00 [INF] 请求头: traceparent = 00-a287e009869e8323decb5bb7696de83a-4fe2da96d461be47-00
2025-05-30 16:08:05.353 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:08:05.354 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:08:05.355 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:08:05.356 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:08:05.358 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:08:05.359 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:08:05.360 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:08:05.361 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:08:05.362 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:08:05.362 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:08:05.363 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:08:05.364 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:08:05.366 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:08:05.367 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:08:05.367 +08:00 [INF] JWT Claim: jti = a77d5381-e1c3-40b3-8255-d82bf00e508f
2025-05-30 16:08:05.368 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:08:05.369 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:08:05.370 +08:00 [INF] JWT Claim: exp = 1748593073
2025-05-30 16:08:05.372 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:08:05.373 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:08:05.374 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:08:05.375 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:08:05.376 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 16:08:05.376 +08:00 [INF] Route matched with {action = "GetTemplateById", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]] GetTemplateById(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 16:08:05.383 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 16:08:05.385 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:08:05.386 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService) in 8.2962ms
2025-05-30 16:08:05.387 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 16:08:05.389 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/2 - 200 null application/json; charset=utf-8 51.3869ms
2025-05-30 16:08:06.447 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/2 - null 0
2025-05-30 16:08:06.450 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:08:06.450 +08:00 [INF] 请求路径: /api/contract/GetTemplateById/2
2025-05-30 16:08:06.451 +08:00 [INF] 请求方法: GET
2025-05-30 16:08:06.452 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:08:06.453 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 16:08:06.454 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:08:06.455 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:08:06.456 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:08:06.457 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiYTc3ZDUzODEtZTFjMy00MGIzLTgyNTUtZDgyYmYwMGU1MDhmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTMwNzMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Oj1HAbQ7oR7OwHPkr6ZUgKP3c1EZ2iZdWzsNZxw6QEw
2025-05-30 16:08:06.459 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:08:06.460 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:08:06.461 +08:00 [INF] 请求头: traceparent = 00-2e4b2ff5b85cab9682f8971f54a032bc-e9d7adfe2befc32b-00
2025-05-30 16:08:06.462 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:08:06.463 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:08:06.463 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:08:06.464 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:08:06.465 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:08:06.466 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:08:06.467 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:08:06.468 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:08:06.469 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:08:06.470 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:08:06.471 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:08:06.472 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:08:06.472 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:08:06.473 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:08:06.474 +08:00 [INF] JWT Claim: jti = a77d5381-e1c3-40b3-8255-d82bf00e508f
2025-05-30 16:08:06.475 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:08:06.476 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:08:06.477 +08:00 [INF] JWT Claim: exp = 1748593073
2025-05-30 16:08:06.478 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:08:06.479 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:08:06.480 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:08:06.481 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:08:06.481 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 16:08:06.482 +08:00 [INF] Route matched with {action = "GetTemplateById", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]] GetTemplateById(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 16:08:06.489 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 16:08:06.495 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:08:06.497 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService) in 13.1403ms
2025-05-30 16:08:06.498 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 16:08:06.499 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/2 - 200 null application/json; charset=utf-8 52.0823ms
2025-05-30 16:08:07.669 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/2 - null 0
2025-05-30 16:08:07.672 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:08:07.673 +08:00 [INF] 请求路径: /api/contract/GetTemplateById/2
2025-05-30 16:08:07.673 +08:00 [INF] 请求方法: GET
2025-05-30 16:08:07.674 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:08:07.675 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 16:08:07.676 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:08:07.677 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:08:07.678 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:08:07.680 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiYTc3ZDUzODEtZTFjMy00MGIzLTgyNTUtZDgyYmYwMGU1MDhmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTMwNzMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Oj1HAbQ7oR7OwHPkr6ZUgKP3c1EZ2iZdWzsNZxw6QEw
2025-05-30 16:08:07.681 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:08:07.682 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:08:07.683 +08:00 [INF] 请求头: traceparent = 00-4315ceae7b8a1e477bef9415b3ef9c70-cd3d12cfd43228bc-00
2025-05-30 16:08:07.684 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:08:07.685 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:08:07.687 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:08:07.688 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:08:07.689 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:08:07.690 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:08:07.691 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:08:07.692 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:08:07.693 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:08:07.694 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:08:07.695 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:08:07.696 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:08:07.697 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:08:07.699 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:08:07.700 +08:00 [INF] JWT Claim: jti = a77d5381-e1c3-40b3-8255-d82bf00e508f
2025-05-30 16:08:07.701 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:08:07.702 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:08:07.704 +08:00 [INF] JWT Claim: exp = 1748593073
2025-05-30 16:08:07.705 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:08:07.707 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:08:07.708 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:08:07.709 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:08:07.710 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 16:08:07.711 +08:00 [INF] Route matched with {action = "GetTemplateById", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]] GetTemplateById(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 16:08:07.716 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 16:08:07.718 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:08:07.721 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService) in 7.7837ms
2025-05-30 16:08:07.722 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 16:08:07.724 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/2 - 200 null application/json; charset=utf-8 54.5516ms
2025-05-30 16:08:07.864 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 16:08:07.868 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:08:07.869 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 16:08:07.870 +08:00 [INF] 请求方法: GET
2025-05-30 16:08:07.871 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:08:07.873 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 16:08:07.874 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:08:07.875 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:08:07.877 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:08:07.878 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiYTc3ZDUzODEtZTFjMy00MGIzLTgyNTUtZDgyYmYwMGU1MDhmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTMwNzMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Oj1HAbQ7oR7OwHPkr6ZUgKP3c1EZ2iZdWzsNZxw6QEw
2025-05-30 16:08:07.879 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:08:07.881 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:08:07.882 +08:00 [INF] 请求头: traceparent = 00-5912d9fed0acc85a128002cf593dba82-424c3078ba4c8f9c-00
2025-05-30 16:08:07.883 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:08:07.885 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:08:07.886 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:08:07.887 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:08:07.888 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:08:07.890 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:08:07.892 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:08:07.893 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:08:07.894 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:08:07.895 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:08:07.896 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:08:07.897 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:08:07.899 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:08:07.901 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:08:07.902 +08:00 [INF] JWT Claim: jti = a77d5381-e1c3-40b3-8255-d82bf00e508f
2025-05-30 16:08:07.903 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:08:07.905 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:08:07.906 +08:00 [INF] JWT Claim: exp = 1748593073
2025-05-30 16:08:07.908 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:08:07.909 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:08:07.911 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:08:07.912 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:08:07.914 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 16:08:07.916 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 16:08:07.920 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 16:08:07.925 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:08:07.927 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 9.8314ms
2025-05-30 16:08:07.929 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 16:08:07.930 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 65.5515ms
2025-05-30 16:08:10.941 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/ExportToWord/3 - null 0
2025-05-30 16:08:10.943 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:08:10.944 +08:00 [INF] 请求路径: /api/contract/ExportToWord/3
2025-05-30 16:08:10.944 +08:00 [INF] 请求方法: GET
2025-05-30 16:08:10.945 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:08:10.946 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 16:08:10.947 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:08:10.949 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:08:10.950 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:08:10.951 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiYTc3ZDUzODEtZTFjMy00MGIzLTgyNTUtZDgyYmYwMGU1MDhmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTMwNzMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Oj1HAbQ7oR7OwHPkr6ZUgKP3c1EZ2iZdWzsNZxw6QEw
2025-05-30 16:08:10.952 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:08:10.953 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:08:10.954 +08:00 [INF] 请求头: traceparent = 00-52c6803d16dd9ada53b1ba4a74fbf389-b09786fd935c985c-00
2025-05-30 16:08:10.955 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:08:10.956 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:08:10.957 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:08:10.958 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:08:10.959 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:08:10.959 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:08:10.960 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:08:10.961 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:08:10.962 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:08:10.963 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:08:10.964 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:08:10.965 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:08:10.966 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:08:10.967 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:08:10.968 +08:00 [INF] JWT Claim: jti = a77d5381-e1c3-40b3-8255-d82bf00e508f
2025-05-30 16:08:10.969 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:08:10.970 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:08:10.971 +08:00 [INF] JWT Claim: exp = 1748593073
2025-05-30 16:08:10.972 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:08:10.973 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:08:10.973 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:08:10.974 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:08:10.975 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService)'
2025-05-30 16:08:10.982 +08:00 [INF] Route matched with {action = "ExportToWord", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExportToWord(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 16:08:10.990 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 16:08:10.998 +08:00 [INF] Executing FileContentResult, sending file with download name 'template_3.docx' ...
2025-05-30 16:08:11.014 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService) in 30.3367ms
2025-05-30 16:08:11.015 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService)'
2025-05-30 16:08:11.016 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/ExportToWord/3 - 200 2993 application/vnd.openxmlformats-officedocument.wordprocessingml.document 75.4142ms
2025-05-30 16:10:20.418 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 16:10:20.425 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:10:20.425 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 16:10:20.426 +08:00 [INF] 请求方法: GET
2025-05-30 16:10:20.427 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:10:20.428 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 16:10:20.429 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:10:20.430 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:10:20.432 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:10:20.433 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiYTc3ZDUzODEtZTFjMy00MGIzLTgyNTUtZDgyYmYwMGU1MDhmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTMwNzMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Oj1HAbQ7oR7OwHPkr6ZUgKP3c1EZ2iZdWzsNZxw6QEw
2025-05-30 16:10:20.434 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:10:20.435 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:10:20.436 +08:00 [INF] 请求头: traceparent = 00-e3e636a14d5bc7e8d323e3a36ea713e6-160cf4a6cffb9593-00
2025-05-30 16:10:20.437 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:10:20.438 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:10:20.439 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:10:20.440 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:10:20.441 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:10:20.442 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:10:20.443 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:10:20.444 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:10:20.445 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:10:20.446 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:10:20.447 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:10:20.448 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:10:20.449 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:10:20.450 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:10:20.451 +08:00 [INF] JWT Claim: jti = a77d5381-e1c3-40b3-8255-d82bf00e508f
2025-05-30 16:10:20.452 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:10:20.453 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:10:20.454 +08:00 [INF] JWT Claim: exp = 1748593073
2025-05-30 16:10:20.455 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:10:20.456 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:10:20.458 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:10:20.459 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:10:20.460 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 16:10:20.461 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 16:10:20.467 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 16:10:20.471 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:10:20.472 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 9.9687ms
2025-05-30 16:10:20.474 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 16:10:20.475 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 57.0931ms
2025-05-30 16:14:24.281 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 16:14:24.288 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:14:24.289 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 16:14:24.290 +08:00 [INF] 请求方法: GET
2025-05-30 16:14:24.291 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:14:24.293 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 16:14:24.296 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:14:24.297 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:14:24.298 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:14:24.300 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiYTc3ZDUzODEtZTFjMy00MGIzLTgyNTUtZDgyYmYwMGU1MDhmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTMwNzMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Oj1HAbQ7oR7OwHPkr6ZUgKP3c1EZ2iZdWzsNZxw6QEw
2025-05-30 16:14:24.302 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:14:24.304 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:14:24.305 +08:00 [INF] 请求头: traceparent = 00-27d893f62e85bf3ee6ae8f16968b5d57-0969c72ffe721f26-00
2025-05-30 16:14:24.307 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:14:24.309 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:14:24.310 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:14:24.312 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:14:24.313 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:14:24.314 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:14:24.316 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:14:24.317 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:14:24.319 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:14:24.321 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:14:24.322 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:14:24.323 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:14:24.325 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:14:24.326 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:14:24.329 +08:00 [INF] JWT Claim: jti = a77d5381-e1c3-40b3-8255-d82bf00e508f
2025-05-30 16:14:24.330 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:14:24.332 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:14:24.333 +08:00 [INF] JWT Claim: exp = 1748593073
2025-05-30 16:14:24.335 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:14:24.337 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:14:24.338 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:14:24.340 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:14:24.341 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 16:14:24.342 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 16:14:24.363 +08:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 16:14:24.367 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:14:24.370 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 24.3719ms
2025-05-30 16:14:24.372 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 16:14:24.373 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 92.1747ms
2025-05-30 16:16:15.670 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 16:16:15.678 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:16:15.679 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 16:16:15.680 +08:00 [INF] 请求方法: GET
2025-05-30 16:16:15.681 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:16:15.682 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 16:16:15.683 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:16:15.685 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:16:15.686 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:16:15.688 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiYTc3ZDUzODEtZTFjMy00MGIzLTgyNTUtZDgyYmYwMGU1MDhmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTMwNzMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Oj1HAbQ7oR7OwHPkr6ZUgKP3c1EZ2iZdWzsNZxw6QEw
2025-05-30 16:16:15.689 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:16:15.691 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:16:15.692 +08:00 [INF] 请求头: traceparent = 00-73b3cd9cc61927ce021d466f7b6c9bb9-41fb1b4754387e43-00
2025-05-30 16:16:15.694 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:16:15.695 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:16:15.696 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:16:15.698 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:16:15.700 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:16:15.702 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:16:15.703 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:16:15.705 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:16:15.707 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:16:15.709 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:16:15.710 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:16:15.711 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:16:15.713 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:16:15.714 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:16:15.716 +08:00 [INF] JWT Claim: jti = a77d5381-e1c3-40b3-8255-d82bf00e508f
2025-05-30 16:16:15.717 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:16:15.719 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:16:15.721 +08:00 [INF] JWT Claim: exp = 1748593073
2025-05-30 16:16:15.723 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:16:15.725 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:16:15.726 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:16:15.727 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:16:15.729 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 16:16:15.730 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 16:16:15.739 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 16:16:15.742 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:16:15.745 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 12.2472ms
2025-05-30 16:16:15.746 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 16:16:15.748 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 77.4953ms
2025-05-30 16:16:27.399 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 16:16:27.402 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:16:27.403 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 16:16:27.404 +08:00 [INF] 请求方法: GET
2025-05-30 16:16:27.405 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:16:27.406 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 16:16:27.407 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:16:27.408 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:16:27.409 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:16:27.410 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiYTc3ZDUzODEtZTFjMy00MGIzLTgyNTUtZDgyYmYwMGU1MDhmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTMwNzMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Oj1HAbQ7oR7OwHPkr6ZUgKP3c1EZ2iZdWzsNZxw6QEw
2025-05-30 16:16:27.411 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:16:27.412 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:16:27.413 +08:00 [INF] 请求头: traceparent = 00-b0d42cf5ad383fd4dc3efd19ebcf630e-97d8af6064881eab-00
2025-05-30 16:16:27.414 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:16:27.415 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:16:27.416 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:16:27.417 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:16:27.418 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:16:27.420 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:16:27.421 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:16:27.422 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:16:27.424 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:16:27.424 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:16:27.426 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:16:27.427 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:16:27.428 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:16:27.429 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:16:27.430 +08:00 [INF] JWT Claim: jti = a77d5381-e1c3-40b3-8255-d82bf00e508f
2025-05-30 16:16:27.431 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:16:27.432 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:16:27.433 +08:00 [INF] JWT Claim: exp = 1748593073
2025-05-30 16:16:27.435 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:16:27.436 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:16:27.437 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:16:27.438 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:16:27.439 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 16:16:27.440 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 16:16:27.446 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 16:16:27.449 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:16:27.452 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 10.178ms
2025-05-30 16:16:27.453 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 16:16:27.454 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 55.0134ms
2025-05-30 16:17:26.303 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 16:17:26.307 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:17:26.308 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 16:17:26.309 +08:00 [INF] 请求方法: GET
2025-05-30 16:17:26.310 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:17:26.311 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 16:17:26.312 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:17:26.313 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:17:26.313 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:17:26.314 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiYTc3ZDUzODEtZTFjMy00MGIzLTgyNTUtZDgyYmYwMGU1MDhmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTMwNzMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Oj1HAbQ7oR7OwHPkr6ZUgKP3c1EZ2iZdWzsNZxw6QEw
2025-05-30 16:17:26.316 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:17:26.317 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:17:26.318 +08:00 [INF] 请求头: traceparent = 00-bf47b5d0a00b3d228989ceb1d7eed240-3f51598a0002a599-00
2025-05-30 16:17:26.319 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:17:26.320 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:17:26.321 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:17:26.322 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:17:26.322 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:17:26.323 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:17:26.324 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:17:26.325 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:17:26.326 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:17:26.327 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:17:26.328 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:17:26.329 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:17:26.329 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:17:26.330 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:17:26.332 +08:00 [INF] JWT Claim: jti = a77d5381-e1c3-40b3-8255-d82bf00e508f
2025-05-30 16:17:26.333 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:17:26.334 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:17:26.335 +08:00 [INF] JWT Claim: exp = 1748593073
2025-05-30 16:17:26.335 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:17:26.336 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:17:26.337 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:17:26.338 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:17:26.339 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 16:17:26.340 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 16:17:26.353 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 16:17:26.356 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:17:26.358 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 16.4702ms
2025-05-30 16:17:26.360 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 16:17:26.361 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 58.0218ms
2025-05-30 16:17:31.785 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 16:17:31.787 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:17:31.788 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 16:17:31.789 +08:00 [INF] 请求方法: GET
2025-05-30 16:17:31.789 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:17:31.791 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 16:17:31.792 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:17:31.793 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:17:31.794 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:17:31.795 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiYTc3ZDUzODEtZTFjMy00MGIzLTgyNTUtZDgyYmYwMGU1MDhmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTMwNzMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Oj1HAbQ7oR7OwHPkr6ZUgKP3c1EZ2iZdWzsNZxw6QEw
2025-05-30 16:17:31.796 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:17:31.797 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:17:31.798 +08:00 [INF] 请求头: traceparent = 00-eb14a823c581e9cd32d7a1d57ba5196a-c473d0d00f5ea483-00
2025-05-30 16:17:31.799 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:17:31.800 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:17:31.801 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:17:31.802 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:17:31.803 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:17:31.804 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:17:31.805 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:17:31.806 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:17:31.808 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:17:31.809 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:17:31.810 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:17:31.811 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:17:31.812 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:17:31.813 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:17:31.813 +08:00 [INF] JWT Claim: jti = a77d5381-e1c3-40b3-8255-d82bf00e508f
2025-05-30 16:17:31.814 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:17:31.815 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:17:31.816 +08:00 [INF] JWT Claim: exp = 1748593073
2025-05-30 16:17:31.817 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:17:31.818 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:17:31.819 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:17:31.820 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:17:31.821 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 16:17:31.822 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 16:17:31.827 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 16:17:31.835 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:17:31.837 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 13.3355ms
2025-05-30 16:17:31.838 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 16:17:31.839 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 54.4719ms
2025-05-30 16:17:59.113 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetContracts?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 16:17:59.123 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:17:59.123 +08:00 [INF] 请求路径: /api/contract/GetContracts
2025-05-30 16:17:59.124 +08:00 [INF] 请求方法: GET
2025-05-30 16:17:59.125 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:17:59.127 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 16:17:59.128 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:17:59.129 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:17:59.130 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:17:59.132 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMmM2YTk5ZjktYTdjZS00MmEyLTk1YzItZjcxYjZhZjY5MjM1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTM2NzUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.x1KnyaXAMMGryEOmw8DRviI9ojA4cownAX5I3JTXgdw
2025-05-30 16:17:59.133 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:17:59.135 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:17:59.136 +08:00 [INF] 请求头: traceparent = 00-264def4fdbc9e08bad73c89bd39ade74-44780eb2e3961bdc-00
2025-05-30 16:17:59.138 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:17:59.139 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:17:59.140 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:17:59.141 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:17:59.142 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:17:59.144 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:17:59.145 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:17:59.146 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:17:59.147 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:17:59.148 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:17:59.149 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:17:59.150 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:17:59.152 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:17:59.153 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:17:59.154 +08:00 [INF] JWT Claim: jti = 2c6a99f9-a7ce-42a2-95c2-f71b6af69235
2025-05-30 16:17:59.155 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:17:59.156 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:17:59.157 +08:00 [INF] JWT Claim: exp = 1748593675
2025-05-30 16:17:59.159 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:17:59.160 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:17:59.161 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:17:59.163 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:17:59.164 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContracts (RealEstateSolution.ContractService)'
2025-05-30 16:17:59.165 +08:00 [INF] Route matched with {action = "GetContracts", controller = "Contract"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractDto]]] GetContracts(RealEstateSolution.ContractService.Models.ContractQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractController (RealEstateSolution.ContractService).
2025-05-30 16:17:59.192 +08:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Amount], [c].[CancelTime], [c].[ClientId], [c].[ClientId1], [c].[CompleteTime], [c].[ContractNumber], [c].[CreateTime], [c].[EndDate], [c].[PaymentMethod], [c].[PropertyId], [c].[Remark], [c].[SignTime], [c].[StartDate], [c].[Status], [c].[Terms], [c].[Type], [c].[UpdateTime], [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime], [c0].[Id], [c0].[Address], [c0].[CreateTime], [c0].[Email], [c0].[Name], [c0].[Phone], [c0].[Source], [c0].[Status], [c0].[Type], [c0].[UpdateTime], [c1].[Id], [c1].[Address], [c1].[CreateTime], [c1].[Email], [c1].[Name], [c1].[Phone], [c1].[Source], [c1].[Status], [c1].[Type], [c1].[UpdateTime]
FROM [Contracts] AS [c]
INNER JOIN [Property] AS [p] ON [c].[PropertyId] = [p].[Id]
INNER JOIN [Clients] AS [c0] ON [c].[ClientId] = [c0].[Id]
LEFT JOIN [Clients] AS [c1] ON [c].[ClientId1] = [c1].[Id]
2025-05-30 16:17:59.200 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:17:59.204 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractController.GetContracts (RealEstateSolution.ContractService) in 37.3772ms
2025-05-30 16:17:59.206 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContracts (RealEstateSolution.ContractService)'
2025-05-30 16:17:59.207 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetContracts?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 95.6698ms
2025-05-30 16:17:59.891 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 16:17:59.897 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:17:59.898 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 16:17:59.899 +08:00 [INF] 请求方法: GET
2025-05-30 16:17:59.900 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:17:59.902 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 16:17:59.903 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:17:59.904 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:17:59.905 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:17:59.906 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMmM2YTk5ZjktYTdjZS00MmEyLTk1YzItZjcxYjZhZjY5MjM1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTM2NzUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.x1KnyaXAMMGryEOmw8DRviI9ojA4cownAX5I3JTXgdw
2025-05-30 16:17:59.907 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:17:59.909 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:17:59.911 +08:00 [INF] 请求头: traceparent = 00-90abb1ad8a991990549346ae6bf1c83c-ed7bcc00e0f3fd39-00
2025-05-30 16:17:59.912 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:17:59.914 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:17:59.915 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:17:59.916 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:17:59.917 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:17:59.918 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:17:59.919 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:17:59.920 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:17:59.921 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:17:59.922 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:17:59.923 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:17:59.924 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:17:59.925 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:17:59.926 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:17:59.927 +08:00 [INF] JWT Claim: jti = 2c6a99f9-a7ce-42a2-95c2-f71b6af69235
2025-05-30 16:17:59.928 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:17:59.930 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:17:59.931 +08:00 [INF] JWT Claim: exp = 1748593675
2025-05-30 16:17:59.932 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:17:59.933 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:17:59.934 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:17:59.935 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:17:59.936 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 16:17:59.937 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 16:17:59.943 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 16:17:59.947 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:17:59.949 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 10.1868ms
2025-05-30 16:17:59.950 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 16:17:59.952 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 60.226ms
2025-05-30 16:18:01.113 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/4 - null 0
2025-05-30 16:18:01.115 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:18:01.116 +08:00 [INF] 请求路径: /api/contract/GetTemplateById/4
2025-05-30 16:18:01.117 +08:00 [INF] 请求方法: GET
2025-05-30 16:18:01.118 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:18:01.119 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 16:18:01.120 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:18:01.121 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:18:01.122 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:18:01.123 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMmM2YTk5ZjktYTdjZS00MmEyLTk1YzItZjcxYjZhZjY5MjM1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTM2NzUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.x1KnyaXAMMGryEOmw8DRviI9ojA4cownAX5I3JTXgdw
2025-05-30 16:18:01.125 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:18:01.126 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:18:01.127 +08:00 [INF] 请求头: traceparent = 00-4da0e1fd1242a044ac8c4f98b76dd42c-322d85d86bcc6050-00
2025-05-30 16:18:01.128 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:18:01.129 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:18:01.130 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:18:01.131 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:18:01.132 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:18:01.133 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:18:01.134 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:18:01.136 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:18:01.137 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:18:01.137 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:18:01.138 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:18:01.139 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:18:01.140 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:18:01.141 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:18:01.142 +08:00 [INF] JWT Claim: jti = 2c6a99f9-a7ce-42a2-95c2-f71b6af69235
2025-05-30 16:18:01.143 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:18:01.144 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:18:01.145 +08:00 [INF] JWT Claim: exp = 1748593675
2025-05-30 16:18:01.146 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:18:01.147 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:18:01.148 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:18:01.149 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:18:01.150 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 16:18:01.151 +08:00 [INF] Route matched with {action = "GetTemplateById", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]] GetTemplateById(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 16:18:01.158 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 16:18:01.160 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:18:01.162 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService) in 9.3388ms
2025-05-30 16:18:01.164 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 16:18:01.165 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/4 - 200 null application/json; charset=utf-8 51.7917ms
2025-05-30 16:18:02.701 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 16:18:02.705 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:18:02.706 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 16:18:02.707 +08:00 [INF] 请求方法: GET
2025-05-30 16:18:02.708 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:18:02.710 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 16:18:02.712 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:18:02.713 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:18:02.715 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:18:02.716 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMmM2YTk5ZjktYTdjZS00MmEyLTk1YzItZjcxYjZhZjY5MjM1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTM2NzUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.x1KnyaXAMMGryEOmw8DRviI9ojA4cownAX5I3JTXgdw
2025-05-30 16:18:02.718 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:18:02.719 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:18:02.721 +08:00 [INF] 请求头: traceparent = 00-7839bc9b924298364eb7d1e59bf0a32b-33ce32186856ea90-00
2025-05-30 16:18:02.722 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:18:02.723 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:18:02.725 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:18:02.727 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:18:02.728 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:18:02.729 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:18:02.731 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:18:02.732 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:18:02.733 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:18:02.734 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:18:02.735 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:18:02.736 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:18:02.738 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:18:02.739 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:18:02.740 +08:00 [INF] JWT Claim: jti = 2c6a99f9-a7ce-42a2-95c2-f71b6af69235
2025-05-30 16:18:02.741 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:18:02.743 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:18:02.744 +08:00 [INF] JWT Claim: exp = 1748593675
2025-05-30 16:18:02.745 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:18:02.746 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:18:02.748 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:18:02.749 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:18:02.750 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 16:18:02.751 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 16:18:02.757 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 16:18:02.761 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:18:02.763 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 9.6687ms
2025-05-30 16:18:02.765 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 16:18:02.766 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 64.5346ms
2025-05-30 16:18:06.834 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/ExportToWord/2 - null 0
2025-05-30 16:18:06.837 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:18:06.837 +08:00 [INF] 请求路径: /api/contract/ExportToWord/2
2025-05-30 16:18:06.838 +08:00 [INF] 请求方法: GET
2025-05-30 16:18:06.839 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:18:06.840 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 16:18:06.841 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:18:06.842 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:18:06.843 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:18:06.843 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMmM2YTk5ZjktYTdjZS00MmEyLTk1YzItZjcxYjZhZjY5MjM1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTM2NzUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.x1KnyaXAMMGryEOmw8DRviI9ojA4cownAX5I3JTXgdw
2025-05-30 16:18:06.845 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:18:06.845 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:18:06.846 +08:00 [INF] 请求头: traceparent = 00-85f3b5f988149886c496e66cf496c0c3-f50cb83db7f91ceb-00
2025-05-30 16:18:06.848 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:18:06.849 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:18:06.850 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:18:06.851 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:18:06.852 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:18:06.853 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:18:06.854 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:18:06.855 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:18:06.856 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:18:06.857 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:18:06.858 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:18:06.859 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:18:06.860 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:18:06.862 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:18:06.863 +08:00 [INF] JWT Claim: jti = 2c6a99f9-a7ce-42a2-95c2-f71b6af69235
2025-05-30 16:18:06.864 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:18:06.865 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:18:06.866 +08:00 [INF] JWT Claim: exp = 1748593675
2025-05-30 16:18:06.867 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:18:06.868 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:18:06.869 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:18:06.870 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:18:06.871 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService)'
2025-05-30 16:18:06.872 +08:00 [INF] Route matched with {action = "ExportToWord", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExportToWord(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 16:18:06.886 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 16:18:06.888 +08:00 [INF] Executing FileContentResult, sending file with download name 'template_2.docx' ...
2025-05-30 16:18:06.890 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService) in 17.3629ms
2025-05-30 16:18:06.892 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService)'
2025-05-30 16:18:06.894 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/ExportToWord/2 - 200 3674 application/vnd.openxmlformats-officedocument.wordprocessingml.document 59.3295ms
2025-05-30 16:18:22.735 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/3 - null 0
2025-05-30 16:18:22.738 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:18:22.739 +08:00 [INF] 请求路径: /api/contract/GetTemplateById/3
2025-05-30 16:18:22.740 +08:00 [INF] 请求方法: GET
2025-05-30 16:18:22.742 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:18:22.743 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 16:18:22.745 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:18:22.746 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:18:22.747 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:18:22.749 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMmM2YTk5ZjktYTdjZS00MmEyLTk1YzItZjcxYjZhZjY5MjM1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTM2NzUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.x1KnyaXAMMGryEOmw8DRviI9ojA4cownAX5I3JTXgdw
2025-05-30 16:18:22.750 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:18:22.752 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:18:22.753 +08:00 [INF] 请求头: traceparent = 00-8f922d3295303add92a3884fa28d8322-88a20c6bd0b31683-00
2025-05-30 16:18:22.754 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:18:22.755 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:18:22.756 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:18:22.758 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:18:22.760 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:18:22.761 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:18:22.762 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:18:22.764 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:18:22.765 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:18:22.766 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:18:22.768 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:18:22.769 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:18:22.770 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:18:22.771 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:18:22.772 +08:00 [INF] JWT Claim: jti = 2c6a99f9-a7ce-42a2-95c2-f71b6af69235
2025-05-30 16:18:22.773 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:18:22.774 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:18:22.776 +08:00 [INF] JWT Claim: exp = 1748593675
2025-05-30 16:18:22.777 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:18:22.778 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:18:22.778 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:18:22.779 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:18:22.780 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 16:18:22.781 +08:00 [INF] Route matched with {action = "GetTemplateById", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]] GetTemplateById(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 16:18:22.787 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 16:18:22.790 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:18:22.792 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService) in 8.8733ms
2025-05-30 16:18:22.794 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 16:18:22.795 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/3 - 200 null application/json; charset=utf-8 60.3473ms
2025-05-30 16:18:25.057 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 16:18:25.061 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:18:25.062 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 16:18:25.063 +08:00 [INF] 请求方法: GET
2025-05-30 16:18:25.064 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:18:25.065 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 16:18:25.066 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:18:25.067 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:18:25.069 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:18:25.070 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMmM2YTk5ZjktYTdjZS00MmEyLTk1YzItZjcxYjZhZjY5MjM1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTM2NzUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.x1KnyaXAMMGryEOmw8DRviI9ojA4cownAX5I3JTXgdw
2025-05-30 16:18:25.071 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:18:25.072 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:18:25.074 +08:00 [INF] 请求头: traceparent = 00-7f33396a277dec9e1f14c43d6074aa74-ffab1f7ae0183f78-00
2025-05-30 16:18:25.075 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:18:25.076 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:18:25.078 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:18:25.079 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:18:25.080 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:18:25.081 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:18:25.082 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:18:25.083 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:18:25.084 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:18:25.085 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:18:25.086 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:18:25.086 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:18:25.087 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:18:25.088 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:18:25.089 +08:00 [INF] JWT Claim: jti = 2c6a99f9-a7ce-42a2-95c2-f71b6af69235
2025-05-30 16:18:25.090 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:18:25.092 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:18:25.093 +08:00 [INF] JWT Claim: exp = 1748593675
2025-05-30 16:18:25.094 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:18:25.095 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:18:25.096 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:18:25.097 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:18:25.098 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 16:18:25.098 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 16:18:25.105 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 16:18:25.108 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:18:25.110 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 9.5927ms
2025-05-30 16:18:25.111 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 16:18:25.113 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 55.6643ms
2025-05-30 16:18:26.244 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/ExportToWord/3 - null 0
2025-05-30 16:18:26.248 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:18:26.250 +08:00 [INF] 请求路径: /api/contract/ExportToWord/3
2025-05-30 16:18:26.251 +08:00 [INF] 请求方法: GET
2025-05-30 16:18:26.252 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:18:26.254 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 16:18:26.256 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:18:26.257 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:18:26.259 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:18:26.260 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMmM2YTk5ZjktYTdjZS00MmEyLTk1YzItZjcxYjZhZjY5MjM1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTM2NzUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.x1KnyaXAMMGryEOmw8DRviI9ojA4cownAX5I3JTXgdw
2025-05-30 16:18:26.262 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:18:26.263 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:18:26.264 +08:00 [INF] 请求头: traceparent = 00-19c43fa9b53916dd1a4218b35fc61a8a-b3fa1e5bea2bf5ac-00
2025-05-30 16:18:26.265 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:18:26.267 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:18:26.268 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:18:26.269 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:18:26.271 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:18:26.272 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:18:26.273 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:18:26.274 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:18:26.276 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:18:26.277 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:18:26.278 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:18:26.279 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:18:26.280 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:18:26.281 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:18:26.282 +08:00 [INF] JWT Claim: jti = 2c6a99f9-a7ce-42a2-95c2-f71b6af69235
2025-05-30 16:18:26.284 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:18:26.285 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:18:26.286 +08:00 [INF] JWT Claim: exp = 1748593675
2025-05-30 16:18:26.287 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:18:26.289 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:18:26.290 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:18:26.291 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:18:26.292 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService)'
2025-05-30 16:18:26.293 +08:00 [INF] Route matched with {action = "ExportToWord", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExportToWord(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 16:18:26.299 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 16:18:26.301 +08:00 [INF] Executing FileContentResult, sending file with download name 'template_3.docx' ...
2025-05-30 16:18:26.303 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService) in 8.2183ms
2025-05-30 16:18:26.305 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService)'
2025-05-30 16:18:26.306 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/ExportToWord/3 - 200 2993 application/vnd.openxmlformats-officedocument.wordprocessingml.document 61.8812ms
2025-05-30 16:19:00.845 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 16:19:00.852 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:19:00.853 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 16:19:00.854 +08:00 [INF] 请求方法: GET
2025-05-30 16:19:00.855 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:19:00.856 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 16:19:00.857 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:19:00.860 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:19:00.864 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:19:00.865 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMmM2YTk5ZjktYTdjZS00MmEyLTk1YzItZjcxYjZhZjY5MjM1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTM2NzUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.x1KnyaXAMMGryEOmw8DRviI9ojA4cownAX5I3JTXgdw
2025-05-30 16:19:00.867 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:19:00.868 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:19:00.870 +08:00 [INF] 请求头: traceparent = 00-f2a1486ba7f246dfd9db8d023c29e9f6-5774551752b8c9df-00
2025-05-30 16:19:00.871 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:19:00.872 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:19:00.874 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:19:00.875 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:19:00.877 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:19:00.879 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:19:00.881 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:19:00.884 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:19:00.886 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:19:00.887 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:19:00.888 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:19:00.889 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:19:00.890 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:19:00.892 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:19:00.893 +08:00 [INF] JWT Claim: jti = 2c6a99f9-a7ce-42a2-95c2-f71b6af69235
2025-05-30 16:19:00.895 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:19:00.897 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:19:00.898 +08:00 [INF] JWT Claim: exp = 1748593675
2025-05-30 16:19:00.900 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:19:00.902 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:19:00.904 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:19:00.905 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:19:00.906 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 16:19:00.907 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 16:19:00.914 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 16:19:00.917 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:19:00.920 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 10.2704ms
2025-05-30 16:19:00.922 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 16:19:00.923 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 78.2419ms
2025-05-30 16:19:20.346 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 16:19:20.355 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:19:20.357 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 16:19:20.359 +08:00 [INF] 请求方法: GET
2025-05-30 16:19:20.360 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:19:20.363 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 16:19:20.366 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:19:20.368 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:19:20.370 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:19:20.372 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMmM2YTk5ZjktYTdjZS00MmEyLTk1YzItZjcxYjZhZjY5MjM1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTM2NzUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.x1KnyaXAMMGryEOmw8DRviI9ojA4cownAX5I3JTXgdw
2025-05-30 16:19:20.374 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:19:20.376 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:19:20.378 +08:00 [INF] 请求头: traceparent = 00-cc75afaa23c5f2a7d03440df0f12f9a2-14eb0bd12550f8a7-00
2025-05-30 16:19:20.381 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:19:20.383 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:19:20.385 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:19:20.387 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:19:20.389 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:19:20.391 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:19:20.394 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:19:20.397 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:19:20.404 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:19:20.405 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:19:20.409 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:19:20.411 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:19:20.414 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:19:20.421 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:19:20.422 +08:00 [INF] JWT Claim: jti = 2c6a99f9-a7ce-42a2-95c2-f71b6af69235
2025-05-30 16:19:20.425 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:19:20.428 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:19:20.429 +08:00 [INF] JWT Claim: exp = 1748593675
2025-05-30 16:19:20.431 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:19:20.433 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:19:20.435 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:19:20.437 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:19:20.439 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 16:19:20.442 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 16:19:20.452 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 16:19:20.459 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:19:20.475 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 29.6696ms
2025-05-30 16:19:20.477 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 16:19:20.479 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 133.8819ms
2025-05-30 16:19:22.714 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/ExportToWord/4 - null 0
2025-05-30 16:19:22.718 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:19:22.725 +08:00 [INF] 请求路径: /api/contract/ExportToWord/4
2025-05-30 16:19:22.727 +08:00 [INF] 请求方法: GET
2025-05-30 16:19:22.728 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:19:22.730 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 16:19:22.731 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:19:22.733 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:19:22.735 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:19:22.736 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMmM2YTk5ZjktYTdjZS00MmEyLTk1YzItZjcxYjZhZjY5MjM1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTM2NzUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.x1KnyaXAMMGryEOmw8DRviI9ojA4cownAX5I3JTXgdw
2025-05-30 16:19:22.738 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:19:22.739 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:19:22.740 +08:00 [INF] 请求头: traceparent = 00-6d48edeb414b79370c43f2eb32e3357a-892ad4c5acd78595-00
2025-05-30 16:19:22.742 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:19:22.744 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:19:22.745 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:19:22.746 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:19:22.748 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:19:22.749 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:19:22.751 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:19:22.752 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:19:22.754 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:19:22.755 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:19:22.757 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:19:22.758 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:19:22.760 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:19:22.762 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:19:22.763 +08:00 [INF] JWT Claim: jti = 2c6a99f9-a7ce-42a2-95c2-f71b6af69235
2025-05-30 16:19:22.765 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:19:22.766 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:19:22.768 +08:00 [INF] JWT Claim: exp = 1748593675
2025-05-30 16:19:22.769 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:19:22.771 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:19:22.772 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:19:22.773 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:19:22.775 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService)'
2025-05-30 16:19:22.776 +08:00 [INF] Route matched with {action = "ExportToWord", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExportToWord(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 16:19:22.784 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 16:19:22.788 +08:00 [INF] Executing FileContentResult, sending file with download name 'template_4.docx' ...
2025-05-30 16:19:22.790 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService) in 11.3573ms
2025-05-30 16:19:22.793 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService)'
2025-05-30 16:19:22.795 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/ExportToWord/4 - 200 4119 application/vnd.openxmlformats-officedocument.wordprocessingml.document 80.57ms
2025-05-30 16:21:15.108 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-30 16:21:15.804 +08:00 [INF] Now listening on: https://localhost:5004
2025-05-30 16:21:16.169 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 16:21:16.216 +08:00 [INF] Hosting environment: Development
2025-05-30 16:21:16.231 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.ContractService
2025-05-30 16:21:17.672 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5004/_framework/aspnetcore-browser-refresh.js - null null
2025-05-30 16:21:17.772 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5004/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 101.4248ms
2025-05-30 16:21:18.767 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5004/_vs/browserLink - null null
2025-05-30 16:21:19.381 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5004/_vs/browserLink - 200 null text/javascript; charset=UTF-8 615.2037ms
2025-05-30 16:21:20.797 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5004/swagger/v1/swagger.json - null null
2025-05-30 16:21:20.891 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 93.826ms
2025-05-30 16:21:50.615 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetContracts?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 16:21:50.677 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:21:50.682 +08:00 [INF] 请求路径: /api/contract/GetContracts
2025-05-30 16:21:50.684 +08:00 [INF] 请求方法: GET
2025-05-30 16:21:50.686 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:21:50.689 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 16:21:50.691 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:21:50.693 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:21:50.694 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:21:50.697 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMmM2YTk5ZjktYTdjZS00MmEyLTk1YzItZjcxYjZhZjY5MjM1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTM2NzUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.x1KnyaXAMMGryEOmw8DRviI9ojA4cownAX5I3JTXgdw
2025-05-30 16:21:50.699 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:21:50.700 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:21:50.702 +08:00 [INF] 请求头: traceparent = 00-fa4060b7e8bf7f4dfe6cb8c3e543cd10-93eed794f86a5b98-00
2025-05-30 16:21:50.704 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:21:50.707 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:21:50.709 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:21:50.711 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:21:50.713 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:21:50.715 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:21:50.717 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:21:50.719 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:21:50.721 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:21:50.723 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:21:50.783 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:21:50.785 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:21:50.788 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:21:50.791 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:21:50.793 +08:00 [INF] JWT Claim: jti = 2c6a99f9-a7ce-42a2-95c2-f71b6af69235
2025-05-30 16:21:50.795 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:21:50.798 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:21:50.800 +08:00 [INF] JWT Claim: exp = 1748593675
2025-05-30 16:21:50.802 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:21:50.805 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:21:50.807 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:21:50.930 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:21:50.983 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContracts (RealEstateSolution.ContractService)'
2025-05-30 16:21:51.019 +08:00 [INF] Route matched with {action = "GetContracts", controller = "Contract"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractDto]]] GetContracts(RealEstateSolution.ContractService.Models.ContractQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractController (RealEstateSolution.ContractService).
2025-05-30 16:21:51.998 +08:00 [WRN] No store type was specified for the decimal property 'MaxArea' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 16:21:52.000 +08:00 [WRN] No store type was specified for the decimal property 'MaxPrice' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 16:21:52.002 +08:00 [WRN] No store type was specified for the decimal property 'MinArea' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 16:21:52.004 +08:00 [WRN] No store type was specified for the decimal property 'MinPrice' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 16:21:52.006 +08:00 [WRN] No store type was specified for the decimal property 'Area' on entity type 'Property'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 16:21:52.008 +08:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Property'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 16:21:52.914 +08:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Amount], [c].[CancelTime], [c].[ClientId], [c].[ClientId1], [c].[CompleteTime], [c].[ContractNumber], [c].[CreateTime], [c].[EndDate], [c].[PaymentMethod], [c].[PropertyId], [c].[Remark], [c].[SignTime], [c].[StartDate], [c].[Status], [c].[Terms], [c].[Type], [c].[UpdateTime], [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime], [c0].[Id], [c0].[Address], [c0].[CreateTime], [c0].[Email], [c0].[Name], [c0].[Phone], [c0].[Source], [c0].[Status], [c0].[Type], [c0].[UpdateTime], [c1].[Id], [c1].[Address], [c1].[CreateTime], [c1].[Email], [c1].[Name], [c1].[Phone], [c1].[Source], [c1].[Status], [c1].[Type], [c1].[UpdateTime]
FROM [Contracts] AS [c]
INNER JOIN [Property] AS [p] ON [c].[PropertyId] = [p].[Id]
INNER JOIN [Clients] AS [c0] ON [c].[ClientId] = [c0].[Id]
LEFT JOIN [Clients] AS [c1] ON [c].[ClientId1] = [c1].[Id]
2025-05-30 16:21:53.078 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:21:53.112 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractController.GetContracts (RealEstateSolution.ContractService) in 2086.29ms
2025-05-30 16:21:53.114 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContracts (RealEstateSolution.ContractService)'
2025-05-30 16:21:53.122 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetContracts?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 2507.6932ms
2025-05-30 16:22:33.544 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 16:22:33.549 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:22:33.550 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 16:22:33.551 +08:00 [INF] 请求方法: GET
2025-05-30 16:22:33.552 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:22:33.553 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 16:22:33.554 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:22:33.555 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:22:33.556 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:22:33.557 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMmM2YTk5ZjktYTdjZS00MmEyLTk1YzItZjcxYjZhZjY5MjM1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTM2NzUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.x1KnyaXAMMGryEOmw8DRviI9ojA4cownAX5I3JTXgdw
2025-05-30 16:22:33.559 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:22:33.560 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:22:33.561 +08:00 [INF] 请求头: traceparent = 00-36096b6f511c81a537d1ce556bbf3095-56f4791d19676da2-00
2025-05-30 16:22:33.562 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:22:33.563 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:22:33.564 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:22:33.565 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:22:33.566 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:22:33.567 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:22:33.568 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:22:33.569 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:22:33.571 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:22:33.571 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:22:33.572 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:22:33.573 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:22:33.574 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:22:33.575 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:22:33.576 +08:00 [INF] JWT Claim: jti = 2c6a99f9-a7ce-42a2-95c2-f71b6af69235
2025-05-30 16:22:33.577 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:22:33.579 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:22:33.580 +08:00 [INF] JWT Claim: exp = 1748593675
2025-05-30 16:22:33.581 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:22:33.582 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:22:33.583 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:22:33.585 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:22:33.589 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 16:22:33.594 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 16:22:33.648 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 16:22:33.668 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:22:33.676 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 80.0473ms
2025-05-30 16:22:33.678 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 16:22:33.680 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 135.2684ms
2025-05-30 16:22:35.050 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/4 - null 0
2025-05-30 16:22:35.052 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:22:35.053 +08:00 [INF] 请求路径: /api/contract/GetTemplateById/4
2025-05-30 16:22:35.054 +08:00 [INF] 请求方法: GET
2025-05-30 16:22:35.055 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:22:35.056 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 16:22:35.057 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:22:35.058 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:22:35.060 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:22:35.061 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMmM2YTk5ZjktYTdjZS00MmEyLTk1YzItZjcxYjZhZjY5MjM1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTM2NzUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.x1KnyaXAMMGryEOmw8DRviI9ojA4cownAX5I3JTXgdw
2025-05-30 16:22:35.062 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:22:35.063 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:22:35.064 +08:00 [INF] 请求头: traceparent = 00-a2bf6b942289894d9730f464be67b20e-ea797fbddf0e9427-00
2025-05-30 16:22:35.065 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:22:35.066 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:22:35.067 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:22:35.068 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:22:35.069 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:22:35.070 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:22:35.071 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:22:35.072 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:22:35.073 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:22:35.074 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:22:35.075 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:22:35.076 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:22:35.076 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:22:35.077 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:22:35.078 +08:00 [INF] JWT Claim: jti = 2c6a99f9-a7ce-42a2-95c2-f71b6af69235
2025-05-30 16:22:35.080 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:22:35.080 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:22:35.081 +08:00 [INF] JWT Claim: exp = 1748593675
2025-05-30 16:22:35.082 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:22:35.083 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:22:35.084 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:22:35.086 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:22:35.089 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 16:22:35.092 +08:00 [INF] Route matched with {action = "GetTemplateById", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]] GetTemplateById(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 16:22:35.151 +08:00 [INF] Executed DbCommand (23ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 16:22:35.156 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:22:35.159 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService) in 65.3698ms
2025-05-30 16:22:35.160 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 16:22:35.162 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/4 - 200 null application/json; charset=utf-8 111.9566ms
2025-05-30 16:22:37.405 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/ExportToWord/4 - null 0
2025-05-30 16:22:37.407 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:22:37.408 +08:00 [INF] 请求路径: /api/contract/ExportToWord/4
2025-05-30 16:22:37.408 +08:00 [INF] 请求方法: GET
2025-05-30 16:22:37.409 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:22:37.410 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 16:22:37.411 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:22:37.412 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:22:37.413 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:22:37.414 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMmM2YTk5ZjktYTdjZS00MmEyLTk1YzItZjcxYjZhZjY5MjM1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTM2NzUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.x1KnyaXAMMGryEOmw8DRviI9ojA4cownAX5I3JTXgdw
2025-05-30 16:22:37.415 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:22:37.416 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:22:37.417 +08:00 [INF] 请求头: traceparent = 00-9de2bddaf01f870430017d88ff2f931d-8336154a65ca13a1-00
2025-05-30 16:22:37.418 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:22:37.419 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:22:37.420 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:22:37.421 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:22:37.422 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:22:37.423 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:22:37.424 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:22:37.425 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:22:37.426 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:22:37.427 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:22:37.427 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:22:37.429 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:22:37.430 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:22:37.431 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:22:37.432 +08:00 [INF] JWT Claim: jti = 2c6a99f9-a7ce-42a2-95c2-f71b6af69235
2025-05-30 16:22:37.433 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:22:37.434 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:22:37.434 +08:00 [INF] JWT Claim: exp = 1748593675
2025-05-30 16:22:37.435 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:22:37.436 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:22:37.437 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:22:37.438 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:22:37.439 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService)'
2025-05-30 16:22:37.443 +08:00 [INF] Route matched with {action = "ExportToWord", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[System.Byte[]]] ExportToWord(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 16:22:37.453 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 16:22:37.461 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[System.Byte[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-30 16:22:37.464 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService) in 19.9304ms
2025-05-30 16:22:37.465 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService)'
2025-05-30 16:22:37.466 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/ExportToWord/4 - 200 null application/json; charset=utf-8 61.7ms
2025-05-30 16:22:42.459 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 16:22:42.462 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:22:42.463 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 16:22:42.464 +08:00 [INF] 请求方法: GET
2025-05-30 16:22:42.465 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:22:42.466 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 16:22:42.468 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:22:42.469 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:22:42.470 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:22:42.471 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMmM2YTk5ZjktYTdjZS00MmEyLTk1YzItZjcxYjZhZjY5MjM1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTM2NzUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.x1KnyaXAMMGryEOmw8DRviI9ojA4cownAX5I3JTXgdw
2025-05-30 16:22:42.472 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:22:42.473 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:22:42.474 +08:00 [INF] 请求头: traceparent = 00-6362476f10778fc881220e3fd7c6bf0b-8b2fbb930d639c7d-00
2025-05-30 16:22:42.475 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:22:42.476 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:22:42.477 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:22:42.479 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:22:42.480 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:22:42.481 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:22:42.482 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:22:42.483 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:22:42.484 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:22:42.485 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:22:42.486 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:22:42.487 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:22:42.488 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:22:42.489 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:22:42.490 +08:00 [INF] JWT Claim: jti = 2c6a99f9-a7ce-42a2-95c2-f71b6af69235
2025-05-30 16:22:42.491 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:22:42.492 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:22:42.493 +08:00 [INF] JWT Claim: exp = 1748593675
2025-05-30 16:22:42.494 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:22:42.495 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:22:42.496 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:22:42.497 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:22:42.499 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 16:22:42.500 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 16:22:42.506 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 16:22:42.510 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:22:42.514 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 12.3525ms
2025-05-30 16:22:42.516 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 16:22:42.517 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 57.9313ms
2025-05-30 16:22:49.860 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/2 - null 0
2025-05-30 16:22:49.864 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:22:49.865 +08:00 [INF] 请求路径: /api/contract/GetTemplateById/2
2025-05-30 16:22:49.866 +08:00 [INF] 请求方法: GET
2025-05-30 16:22:49.867 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:22:49.868 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 16:22:49.869 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:22:49.871 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:22:49.872 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:22:49.873 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMmM2YTk5ZjktYTdjZS00MmEyLTk1YzItZjcxYjZhZjY5MjM1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTM2NzUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.x1KnyaXAMMGryEOmw8DRviI9ojA4cownAX5I3JTXgdw
2025-05-30 16:22:49.874 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:22:49.875 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:22:49.877 +08:00 [INF] 请求头: traceparent = 00-7073cea29d590a8c1d3a54681f59c768-9f09dab8e0702db3-00
2025-05-30 16:22:49.878 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:22:49.879 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:22:49.880 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:22:49.881 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:22:49.882 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:22:49.884 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:22:49.885 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:22:49.887 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:22:49.888 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:22:49.889 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:22:49.890 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:22:49.891 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:22:49.892 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:22:49.893 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:22:49.894 +08:00 [INF] JWT Claim: jti = 2c6a99f9-a7ce-42a2-95c2-f71b6af69235
2025-05-30 16:22:49.896 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:22:49.897 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:22:49.898 +08:00 [INF] JWT Claim: exp = 1748593675
2025-05-30 16:22:49.899 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:22:49.900 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:22:49.901 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:22:49.903 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:22:49.904 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 16:22:49.906 +08:00 [INF] Route matched with {action = "GetTemplateById", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]] GetTemplateById(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 16:22:49.912 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 16:22:49.915 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:22:49.916 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService) in 8.8611ms
2025-05-30 16:22:49.917 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 16:22:49.919 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/2 - 200 null application/json; charset=utf-8 58.1083ms
2025-05-30 16:22:52.586 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 16:22:52.589 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:22:52.590 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 16:22:52.591 +08:00 [INF] 请求方法: GET
2025-05-30 16:22:52.592 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:22:52.593 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 16:22:52.594 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:22:52.595 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:22:52.597 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:22:52.598 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMmM2YTk5ZjktYTdjZS00MmEyLTk1YzItZjcxYjZhZjY5MjM1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTM2NzUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.x1KnyaXAMMGryEOmw8DRviI9ojA4cownAX5I3JTXgdw
2025-05-30 16:22:52.600 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:22:52.601 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:22:52.602 +08:00 [INF] 请求头: traceparent = 00-7be5222791aa77df340e550fa52bc795-f8ca2fcf7f25ff6b-00
2025-05-30 16:22:52.603 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:22:52.605 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:22:52.606 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:22:52.607 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:22:52.608 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:22:52.610 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:22:52.611 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:22:52.613 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:22:52.614 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:22:52.615 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:22:52.616 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:22:52.617 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:22:52.618 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:22:52.619 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:22:52.621 +08:00 [INF] JWT Claim: jti = 2c6a99f9-a7ce-42a2-95c2-f71b6af69235
2025-05-30 16:22:52.622 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:22:52.623 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:22:52.625 +08:00 [INF] JWT Claim: exp = 1748593675
2025-05-30 16:22:52.626 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:22:52.627 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:22:52.628 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:22:52.630 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:22:52.631 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 16:22:52.633 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 16:22:52.640 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 16:22:52.644 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:22:52.646 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 11.1725ms
2025-05-30 16:22:52.648 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 16:22:52.649 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 63.1396ms
2025-05-30 16:22:54.394 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/ExportToWord/2 - null 0
2025-05-30 16:22:54.397 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:22:54.398 +08:00 [INF] 请求路径: /api/contract/ExportToWord/2
2025-05-30 16:22:54.399 +08:00 [INF] 请求方法: GET
2025-05-30 16:22:54.400 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:22:54.401 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 16:22:54.403 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:22:54.404 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:22:54.405 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:22:54.406 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMmM2YTk5ZjktYTdjZS00MmEyLTk1YzItZjcxYjZhZjY5MjM1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTM2NzUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.x1KnyaXAMMGryEOmw8DRviI9ojA4cownAX5I3JTXgdw
2025-05-30 16:22:54.407 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:22:54.408 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:22:54.409 +08:00 [INF] 请求头: traceparent = 00-f3b926c5fc65b902585b27536304c8d0-f760d739c34188b7-00
2025-05-30 16:22:54.410 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:22:54.411 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:22:54.412 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:22:54.414 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:22:54.415 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:22:54.416 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:22:54.417 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:22:54.419 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:22:54.420 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:22:54.421 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:22:54.422 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:22:54.423 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:22:54.425 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:22:54.426 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:22:54.427 +08:00 [INF] JWT Claim: jti = 2c6a99f9-a7ce-42a2-95c2-f71b6af69235
2025-05-30 16:22:54.428 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:22:54.430 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:22:54.431 +08:00 [INF] JWT Claim: exp = 1748593675
2025-05-30 16:22:54.432 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:22:54.433 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:22:54.435 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:22:54.436 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:22:54.437 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService)'
2025-05-30 16:22:54.439 +08:00 [INF] Route matched with {action = "ExportToWord", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[System.Byte[]]] ExportToWord(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 16:22:54.445 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 16:22:54.448 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[System.Byte[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-30 16:22:54.450 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService) in 9.2259ms
2025-05-30 16:22:54.451 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService)'
2025-05-30 16:22:54.453 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/ExportToWord/2 - 200 null application/json; charset=utf-8 58.5367ms
2025-05-30 16:22:57.198 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/2 - null 0
2025-05-30 16:22:57.200 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:22:57.201 +08:00 [INF] 请求路径: /api/contract/GetTemplateById/2
2025-05-30 16:22:57.202 +08:00 [INF] 请求方法: GET
2025-05-30 16:22:57.204 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:22:57.205 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 16:22:57.206 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:22:57.207 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:22:57.208 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:22:57.209 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMmM2YTk5ZjktYTdjZS00MmEyLTk1YzItZjcxYjZhZjY5MjM1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTM2NzUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.x1KnyaXAMMGryEOmw8DRviI9ojA4cownAX5I3JTXgdw
2025-05-30 16:22:57.210 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:22:57.212 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:22:57.213 +08:00 [INF] 请求头: traceparent = 00-f494d6e7a1d5f29287fef0e3bc937127-c47805adfbf6bd0b-00
2025-05-30 16:22:57.214 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:22:57.215 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:22:57.216 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:22:57.217 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:22:57.218 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:22:57.219 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:22:57.221 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:22:57.222 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:22:57.223 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:22:57.223 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:22:57.224 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:22:57.225 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:22:57.226 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:22:57.227 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:22:57.229 +08:00 [INF] JWT Claim: jti = 2c6a99f9-a7ce-42a2-95c2-f71b6af69235
2025-05-30 16:22:57.230 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:22:57.231 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:22:57.232 +08:00 [INF] JWT Claim: exp = 1748593675
2025-05-30 16:22:57.233 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:22:57.234 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:22:57.235 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:22:57.236 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:22:57.237 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 16:22:57.238 +08:00 [INF] Route matched with {action = "GetTemplateById", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]] GetTemplateById(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 16:22:57.243 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 16:22:57.246 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:22:57.247 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService) in 7.9109ms
2025-05-30 16:22:57.249 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 16:22:57.250 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/2 - 200 null application/json; charset=utf-8 52.445ms
2025-05-30 16:23:05.259 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/ExportToWord/2 - null 0
2025-05-30 16:23:05.262 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:23:05.263 +08:00 [INF] 请求路径: /api/contract/ExportToWord/2
2025-05-30 16:23:05.264 +08:00 [INF] 请求方法: GET
2025-05-30 16:23:05.265 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:23:05.266 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 16:23:05.267 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:23:05.268 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:23:05.269 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:23:05.270 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMmM2YTk5ZjktYTdjZS00MmEyLTk1YzItZjcxYjZhZjY5MjM1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTM2NzUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.x1KnyaXAMMGryEOmw8DRviI9ojA4cownAX5I3JTXgdw
2025-05-30 16:23:05.272 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:23:05.273 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:23:05.274 +08:00 [INF] 请求头: traceparent = 00-bac7fff47c6c3afcbde4be40c13325f2-ca8ad0a8ff22a68a-00
2025-05-30 16:23:05.275 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:23:05.276 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:23:05.277 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:23:05.278 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:23:05.279 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:23:05.280 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:23:05.281 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:23:05.282 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:23:05.283 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:23:05.284 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:23:05.285 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:23:05.285 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:23:05.286 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:23:05.287 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:23:05.288 +08:00 [INF] JWT Claim: jti = 2c6a99f9-a7ce-42a2-95c2-f71b6af69235
2025-05-30 16:23:05.289 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:23:05.290 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:23:05.292 +08:00 [INF] JWT Claim: exp = 1748593675
2025-05-30 16:23:05.292 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:23:05.293 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:23:05.295 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:23:05.296 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:23:05.297 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService)'
2025-05-30 16:23:05.298 +08:00 [INF] Route matched with {action = "ExportToWord", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[System.Byte[]]] ExportToWord(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 16:23:05.302 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 16:23:05.305 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[System.Byte[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-30 16:23:05.307 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService) in 7.4723ms
2025-05-30 16:23:05.308 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService)'
2025-05-30 16:23:05.309 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/ExportToWord/2 - 200 null application/json; charset=utf-8 50.6694ms
2025-05-30 16:35:15.729 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-30 16:35:16.752 +08:00 [INF] Now listening on: https://localhost:5004
2025-05-30 16:35:17.764 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 16:35:17.785 +08:00 [INF] Hosting environment: Development
2025-05-30 16:35:17.794 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.ContractService
2025-05-30 16:35:18.761 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5004/_framework/aspnetcore-browser-refresh.js - null null
2025-05-30 16:35:18.856 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5004/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 101.7772ms
2025-05-30 16:35:19.362 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5004/_vs/browserLink - null null
2025-05-30 16:35:20.205 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5004/_vs/browserLink - 200 null text/javascript; charset=UTF-8 895.3363ms
2025-05-30 16:35:20.375 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5004/swagger/v1/swagger.json - null null
2025-05-30 16:35:20.648 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 274.097ms
2025-05-30 16:36:39.066 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 16:36:39.120 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:36:39.124 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 16:36:39.125 +08:00 [INF] 请求方法: GET
2025-05-30 16:36:39.127 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:36:39.128 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 16:36:39.130 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:36:39.132 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:36:39.134 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:36:39.135 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiM2JlM2U1MGUtNTI3Mi00NjVlLWFjNDEtMGRiOWFhNTYwYTZkIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTQ3ODEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.jbehdDARckc8kJ-585W1JPzhK9f1fGEV_8RZkZUBbxA
2025-05-30 16:36:39.136 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:36:39.138 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:36:39.140 +08:00 [INF] 请求头: traceparent = 00-bb4445405a299fd0c7eb1fdaf025b607-b5b56916360f65e3-00
2025-05-30 16:36:39.141 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:36:39.143 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:36:39.145 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:36:39.146 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:36:39.148 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:36:39.149 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:36:39.151 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:36:39.152 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:36:39.154 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:36:39.155 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:36:39.207 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:36:39.209 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:36:39.210 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:36:39.212 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:36:39.213 +08:00 [INF] JWT Claim: jti = 3be3e50e-5272-465e-ac41-0db9aa560a6d
2025-05-30 16:36:39.215 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:36:39.216 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:36:39.218 +08:00 [INF] JWT Claim: exp = 1748594781
2025-05-30 16:36:39.219 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:36:39.220 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:36:39.221 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:36:39.314 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:36:39.359 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 16:36:39.393 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 16:36:40.202 +08:00 [WRN] No store type was specified for the decimal property 'MaxArea' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 16:36:40.204 +08:00 [WRN] No store type was specified for the decimal property 'MaxPrice' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 16:36:40.205 +08:00 [WRN] No store type was specified for the decimal property 'MinArea' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 16:36:40.207 +08:00 [WRN] No store type was specified for the decimal property 'MinPrice' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 16:36:40.208 +08:00 [WRN] No store type was specified for the decimal property 'Area' on entity type 'Property'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 16:36:40.210 +08:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Property'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 16:36:41.113 +08:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 16:36:41.236 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:36:41.271 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 1872.6413ms
2025-05-30 16:36:41.274 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 16:36:41.285 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 2219.1492ms
2025-05-30 16:36:46.765 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/2 - null 0
2025-05-30 16:36:46.770 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:36:46.771 +08:00 [INF] 请求路径: /api/contract/GetTemplateById/2
2025-05-30 16:36:46.772 +08:00 [INF] 请求方法: GET
2025-05-30 16:36:46.774 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:36:46.775 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 16:36:46.777 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:36:46.778 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:36:46.779 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:36:46.781 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiM2JlM2U1MGUtNTI3Mi00NjVlLWFjNDEtMGRiOWFhNTYwYTZkIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTQ3ODEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.jbehdDARckc8kJ-585W1JPzhK9f1fGEV_8RZkZUBbxA
2025-05-30 16:36:46.783 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:36:46.784 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:36:46.786 +08:00 [INF] 请求头: traceparent = 00-9a883ee57c6fb6fb0b65b306c379e0ce-0a6546e111811fc7-00
2025-05-30 16:36:46.787 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:36:46.789 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:36:46.790 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:36:46.792 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:36:46.793 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:36:46.795 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:36:46.796 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:36:46.799 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:36:46.800 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:36:46.801 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:36:46.803 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:36:46.804 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:36:46.806 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:36:46.807 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:36:46.809 +08:00 [INF] JWT Claim: jti = 3be3e50e-5272-465e-ac41-0db9aa560a6d
2025-05-30 16:36:46.810 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:36:46.812 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:36:46.813 +08:00 [INF] JWT Claim: exp = 1748594781
2025-05-30 16:36:46.815 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:36:46.816 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:36:46.818 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:36:46.821 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:36:46.829 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 16:36:46.838 +08:00 [INF] Route matched with {action = "GetTemplateById", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]] GetTemplateById(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 16:36:47.006 +08:00 [INF] Executed DbCommand (30ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 16:36:47.015 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:36:47.019 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService) in 177.705ms
2025-05-30 16:36:47.021 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 16:36:47.023 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/2 - 200 null application/json; charset=utf-8 257.5239ms
2025-05-30 16:36:49.482 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/ExportToWord/2 - null 0
2025-05-30 16:36:49.485 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:36:49.486 +08:00 [INF] 请求路径: /api/contract/ExportToWord/2
2025-05-30 16:36:49.487 +08:00 [INF] 请求方法: GET
2025-05-30 16:36:49.488 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:36:49.490 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 16:36:49.491 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:36:49.492 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:36:49.493 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:36:49.495 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiM2JlM2U1MGUtNTI3Mi00NjVlLWFjNDEtMGRiOWFhNTYwYTZkIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTQ3ODEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.jbehdDARckc8kJ-585W1JPzhK9f1fGEV_8RZkZUBbxA
2025-05-30 16:36:49.496 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:36:49.497 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:36:49.498 +08:00 [INF] 请求头: traceparent = 00-1495ea70d78b7b4c20bfac77119f3d2d-ea6d57cc81fc003d-00
2025-05-30 16:36:49.500 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:36:49.501 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:36:49.502 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:36:49.503 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:36:49.505 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:36:49.506 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:36:49.507 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:36:49.509 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:36:49.510 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:36:49.511 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:36:49.511 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:36:49.512 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:36:49.514 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:36:49.515 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:36:49.517 +08:00 [INF] JWT Claim: jti = 3be3e50e-5272-465e-ac41-0db9aa560a6d
2025-05-30 16:36:49.518 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:36:49.519 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:36:49.520 +08:00 [INF] JWT Claim: exp = 1748594781
2025-05-30 16:36:49.521 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:36:49.523 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:36:49.524 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:36:49.528 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:36:49.529 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService)'
2025-05-30 16:36:49.535 +08:00 [INF] Route matched with {action = "ExportToWord", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Byte[]] ExportToWord(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 16:36:49.562 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 16:36:49.566 +08:00 [INF] Executing ObjectResult, writing value of type 'System.Byte[]'.
2025-05-30 16:36:49.569 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService) in 31.728ms
2025-05-30 16:36:49.571 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService)'
2025-05-30 16:36:49.572 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/ExportToWord/2 - 200 null application/json; charset=utf-8 89.8307ms
2025-05-30 16:36:51.173 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 16:36:51.177 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:36:51.178 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 16:36:51.179 +08:00 [INF] 请求方法: GET
2025-05-30 16:36:51.181 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:36:51.182 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 16:36:51.184 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:36:51.185 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:36:51.186 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:36:51.187 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiM2JlM2U1MGUtNTI3Mi00NjVlLWFjNDEtMGRiOWFhNTYwYTZkIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTQ3ODEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.jbehdDARckc8kJ-585W1JPzhK9f1fGEV_8RZkZUBbxA
2025-05-30 16:36:51.189 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:36:51.190 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:36:51.192 +08:00 [INF] 请求头: traceparent = 00-0325dd991544ad45ddf1fdc8fc577beb-b55331f211722914-00
2025-05-30 16:36:51.193 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:36:51.194 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:36:51.196 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:36:51.198 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:36:51.199 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:36:51.201 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:36:51.202 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:36:51.203 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:36:51.205 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:36:51.206 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:36:51.207 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:36:51.208 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:36:51.210 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:36:51.211 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:36:51.212 +08:00 [INF] JWT Claim: jti = 3be3e50e-5272-465e-ac41-0db9aa560a6d
2025-05-30 16:36:51.214 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:36:51.215 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:36:51.216 +08:00 [INF] JWT Claim: exp = 1748594781
2025-05-30 16:36:51.217 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:36:51.219 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:36:51.220 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:36:51.221 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:36:51.223 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 16:36:51.224 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 16:36:51.231 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 16:36:51.236 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:36:51.241 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 14.3978ms
2025-05-30 16:36:51.243 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 16:36:51.244 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 70.8718ms
2025-05-30 16:36:52.890 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/ExportToWord/2 - null 0
2025-05-30 16:36:52.893 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:36:52.894 +08:00 [INF] 请求路径: /api/contract/ExportToWord/2
2025-05-30 16:36:52.895 +08:00 [INF] 请求方法: GET
2025-05-30 16:36:52.896 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:36:52.897 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 16:36:52.899 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:36:52.900 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:36:52.901 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:36:52.902 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiM2JlM2U1MGUtNTI3Mi00NjVlLWFjNDEtMGRiOWFhNTYwYTZkIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTQ3ODEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.jbehdDARckc8kJ-585W1JPzhK9f1fGEV_8RZkZUBbxA
2025-05-30 16:36:52.904 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:36:52.905 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:36:52.906 +08:00 [INF] 请求头: traceparent = 00-a8de5b7a5fcee0e79e8b822da143471f-dcdcc2feecc8b87d-00
2025-05-30 16:36:52.908 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:36:52.909 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:36:52.910 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:36:52.911 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:36:52.912 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:36:52.914 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:36:52.915 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:36:52.916 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:36:52.917 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:36:52.918 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:36:52.919 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:36:52.920 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:36:52.921 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:36:52.922 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:36:52.924 +08:00 [INF] JWT Claim: jti = 3be3e50e-5272-465e-ac41-0db9aa560a6d
2025-05-30 16:36:52.925 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:36:52.926 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:36:52.928 +08:00 [INF] JWT Claim: exp = 1748594781
2025-05-30 16:36:52.929 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:36:52.930 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:36:52.931 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:36:52.932 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:36:52.933 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService)'
2025-05-30 16:36:52.934 +08:00 [INF] Route matched with {action = "ExportToWord", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Byte[]] ExportToWord(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 16:36:52.940 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 16:36:52.943 +08:00 [INF] Executing ObjectResult, writing value of type 'System.Byte[]'.
2025-05-30 16:36:52.945 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService) in 8.713ms
2025-05-30 16:36:52.946 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService)'
2025-05-30 16:36:52.948 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/ExportToWord/2 - 200 null application/json; charset=utf-8 57.9772ms
2025-05-30 16:37:40.910 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/ExportToWord/3 - null 0
2025-05-30 16:37:40.918 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:37:40.919 +08:00 [INF] 请求路径: /api/contract/ExportToWord/3
2025-05-30 16:37:40.920 +08:00 [INF] 请求方法: GET
2025-05-30 16:37:40.921 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:37:40.923 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 16:37:40.924 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:37:40.925 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:37:40.927 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:37:40.928 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiM2JlM2U1MGUtNTI3Mi00NjVlLWFjNDEtMGRiOWFhNTYwYTZkIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTQ3ODEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.jbehdDARckc8kJ-585W1JPzhK9f1fGEV_8RZkZUBbxA
2025-05-30 16:37:40.930 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:37:40.931 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:37:40.932 +08:00 [INF] 请求头: traceparent = 00-c6d8b2a3203468d8be9ceea4d907697c-5943ed1041b67894-00
2025-05-30 16:37:40.934 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:37:40.935 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:37:40.937 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:37:40.938 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:37:40.940 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:37:40.941 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:37:40.942 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:37:40.944 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:37:40.945 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:37:40.946 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:37:40.948 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:37:40.948 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:37:40.950 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:37:40.951 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:37:40.952 +08:00 [INF] JWT Claim: jti = 3be3e50e-5272-465e-ac41-0db9aa560a6d
2025-05-30 16:37:40.953 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:37:40.954 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:37:40.956 +08:00 [INF] JWT Claim: exp = 1748594781
2025-05-30 16:37:40.957 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:37:40.959 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:37:40.960 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:37:40.961 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:37:40.962 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService)'
2025-05-30 16:37:40.964 +08:00 [INF] Route matched with {action = "ExportToWord", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Byte[]] ExportToWord(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 16:37:40.973 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 16:37:53.013 +08:00 [INF] Executing ObjectResult, writing value of type 'System.Byte[]'.
2025-05-30 16:37:53.017 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService) in 12051.1671ms
2025-05-30 16:37:53.019 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService)'
2025-05-30 16:37:54.650 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/ExportToWord/3 - 499 null application/json; charset=utf-8 13740.0904ms
2025-05-30 16:38:59.972 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 16:38:59.977 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:38:59.979 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 16:38:59.981 +08:00 [INF] 请求方法: GET
2025-05-30 16:38:59.982 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:38:59.984 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 16:38:59.986 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:38:59.988 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:38:59.990 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:38:59.991 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiM2JlM2U1MGUtNTI3Mi00NjVlLWFjNDEtMGRiOWFhNTYwYTZkIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTQ3ODEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.jbehdDARckc8kJ-585W1JPzhK9f1fGEV_8RZkZUBbxA
2025-05-30 16:38:59.994 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:38:59.996 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:38:59.998 +08:00 [INF] 请求头: traceparent = 00-2c2db0e3c15d1e86d6a8c4dc6a6612ab-002008429f5282cf-00
2025-05-30 16:39:00.000 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:39:00.003 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:39:00.005 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:39:00.007 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:39:00.009 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:39:00.011 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:39:00.013 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:39:00.016 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:39:00.018 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:39:00.019 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:39:00.021 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:39:00.022 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:39:00.024 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:39:00.027 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:39:00.030 +08:00 [INF] JWT Claim: jti = 3be3e50e-5272-465e-ac41-0db9aa560a6d
2025-05-30 16:39:00.032 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:39:00.034 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:39:00.036 +08:00 [INF] JWT Claim: exp = 1748594781
2025-05-30 16:39:00.038 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:39:00.040 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:39:00.043 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:39:00.045 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:39:00.047 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 16:39:00.049 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 16:39:00.060 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 16:39:00.066 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:39:00.070 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 17.5297ms
2025-05-30 16:39:00.073 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 16:39:00.075 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 102.8617ms
2025-05-30 16:39:04.322 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/ExportToWord/4 - null 0
2025-05-30 16:39:04.324 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:39:04.325 +08:00 [INF] 请求路径: /api/contract/ExportToWord/4
2025-05-30 16:39:04.326 +08:00 [INF] 请求方法: GET
2025-05-30 16:39:04.327 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:39:04.328 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 16:39:04.330 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:39:04.331 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:39:04.332 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:39:04.333 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiM2JlM2U1MGUtNTI3Mi00NjVlLWFjNDEtMGRiOWFhNTYwYTZkIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTQ3ODEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.jbehdDARckc8kJ-585W1JPzhK9f1fGEV_8RZkZUBbxA
2025-05-30 16:39:04.334 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:39:04.336 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:39:04.337 +08:00 [INF] 请求头: traceparent = 00-94bb7c41ae670032d37b955d1ab5d504-52f95f7764b2d96b-00
2025-05-30 16:39:04.338 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:39:04.339 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:39:04.340 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:39:04.341 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:39:04.342 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:39:04.344 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:39:04.345 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:39:04.346 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:39:04.347 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:39:04.348 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:39:04.349 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:39:04.349 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:39:04.351 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:39:04.352 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:39:04.354 +08:00 [INF] JWT Claim: jti = 3be3e50e-5272-465e-ac41-0db9aa560a6d
2025-05-30 16:39:04.355 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:39:04.356 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:39:04.357 +08:00 [INF] JWT Claim: exp = 1748594781
2025-05-30 16:39:04.358 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:39:04.359 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:39:04.361 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:39:04.362 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:39:04.363 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService)'
2025-05-30 16:39:04.364 +08:00 [INF] Route matched with {action = "ExportToWord", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Byte[]] ExportToWord(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 16:39:04.373 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 16:39:08.116 +08:00 [INF] Executing ObjectResult, writing value of type 'System.Byte[]'.
2025-05-30 16:39:08.120 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService) in 3754.3318ms
2025-05-30 16:39:08.122 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService)'
2025-05-30 16:39:08.124 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/ExportToWord/4 - 200 null application/json; charset=utf-8 3801.8733ms
2025-05-30 16:39:48.759 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 16:39:48.765 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:39:48.766 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 16:39:48.767 +08:00 [INF] 请求方法: GET
2025-05-30 16:39:48.768 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:39:48.769 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 16:39:48.770 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:39:48.771 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:39:48.772 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:39:48.773 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiM2JlM2U1MGUtNTI3Mi00NjVlLWFjNDEtMGRiOWFhNTYwYTZkIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTQ3ODEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.jbehdDARckc8kJ-585W1JPzhK9f1fGEV_8RZkZUBbxA
2025-05-30 16:39:48.774 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:39:48.775 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:39:48.776 +08:00 [INF] 请求头: traceparent = 00-fc0d717f7af9fdd2bb8476de7eea84a5-94d901352e65ac26-00
2025-05-30 16:39:48.777 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:39:48.778 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:39:48.780 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:39:48.781 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:39:48.782 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:39:48.783 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:39:48.785 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:39:48.786 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:39:48.787 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:39:48.788 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:39:48.788 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:39:48.790 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:39:48.791 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:39:48.793 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:39:48.794 +08:00 [INF] JWT Claim: jti = 3be3e50e-5272-465e-ac41-0db9aa560a6d
2025-05-30 16:39:48.795 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:39:48.796 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:39:48.797 +08:00 [INF] JWT Claim: exp = 1748594781
2025-05-30 16:39:48.798 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:39:48.799 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:39:48.801 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:39:48.802 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:39:48.803 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 16:39:48.805 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 16:39:48.812 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 16:39:48.816 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:39:48.818 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 11.8898ms
2025-05-30 16:39:48.820 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 16:39:48.821 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 62.4392ms
2025-05-30 16:39:51.867 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/ExportToWord/4 - null 0
2025-05-30 16:39:51.870 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:39:51.871 +08:00 [INF] 请求路径: /api/contract/ExportToWord/4
2025-05-30 16:39:51.872 +08:00 [INF] 请求方法: GET
2025-05-30 16:39:51.873 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:39:51.874 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 16:39:51.875 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:39:51.876 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:39:51.878 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:39:51.879 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiM2JlM2U1MGUtNTI3Mi00NjVlLWFjNDEtMGRiOWFhNTYwYTZkIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTQ3ODEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.jbehdDARckc8kJ-585W1JPzhK9f1fGEV_8RZkZUBbxA
2025-05-30 16:39:51.880 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:39:51.881 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:39:51.882 +08:00 [INF] 请求头: traceparent = 00-b6508fc44e2c641dc141c7623a3be703-6907bd4a1806727f-00
2025-05-30 16:39:51.883 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:39:51.884 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:39:51.885 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:39:51.886 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:39:51.887 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:39:51.888 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:39:51.889 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:39:51.890 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:39:51.891 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:39:51.892 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:39:51.893 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:39:51.894 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:39:51.895 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:39:51.896 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:39:51.897 +08:00 [INF] JWT Claim: jti = 3be3e50e-5272-465e-ac41-0db9aa560a6d
2025-05-30 16:39:51.898 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:39:51.899 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:39:51.900 +08:00 [INF] JWT Claim: exp = 1748594781
2025-05-30 16:39:51.902 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:39:51.903 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:39:51.904 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:39:51.905 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:39:51.906 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService)'
2025-05-30 16:39:51.907 +08:00 [INF] Route matched with {action = "ExportToWord", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Byte[]] ExportToWord(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 16:39:51.914 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 16:39:51.917 +08:00 [INF] Executing ObjectResult, writing value of type 'System.Byte[]'.
2025-05-30 16:39:51.918 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService) in 9.5532ms
2025-05-30 16:39:51.920 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService)'
2025-05-30 16:39:51.921 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/ExportToWord/4 - 200 null application/json; charset=utf-8 54.1099ms
2025-05-30 16:52:42.088 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-30 16:52:43.115 +08:00 [INF] Now listening on: https://localhost:5004
2025-05-30 16:52:43.350 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 16:52:43.355 +08:00 [INF] Hosting environment: Development
2025-05-30 16:52:43.357 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.ContractService
2025-05-30 16:52:45.962 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5004/_framework/aspnetcore-browser-refresh.js - null null
2025-05-30 16:52:46.130 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5004/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 173.1863ms
2025-05-30 16:52:46.502 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5004/_vs/browserLink - null null
2025-05-30 16:52:46.867 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5004/_vs/browserLink - 200 null text/javascript; charset=UTF-8 366.2954ms
2025-05-30 16:52:47.165 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5004/swagger/v1/swagger.json - null null
2025-05-30 16:52:47.359 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 193.5795ms
2025-05-30 16:53:20.645 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetContracts?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 16:53:20.691 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:53:20.694 +08:00 [INF] 请求路径: /api/contract/GetContracts
2025-05-30 16:53:20.695 +08:00 [INF] 请求方法: GET
2025-05-30 16:53:20.697 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:53:20.698 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 16:53:20.700 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:53:20.701 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:53:20.702 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:53:20.704 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzcyYmUxMmMtNmJiOS00ZjY0LWFlZDYtYzM5ODM0M2M3YmEzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTU3OTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.qSD5aN5DyPNOWODw-CbKsdm7RzDBWN7bBUH0S58tu3c
2025-05-30 16:53:20.705 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:53:20.706 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:53:20.708 +08:00 [INF] 请求头: traceparent = 00-2a635421937995a45ddb1667ca73354b-67a5a88c8661d5ac-00
2025-05-30 16:53:20.709 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:53:20.711 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:53:20.712 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:53:20.713 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:53:20.715 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:53:20.716 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:53:20.717 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:53:20.719 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:53:20.721 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:53:20.722 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:53:20.764 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:53:20.766 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:53:20.767 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:53:20.769 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:53:20.770 +08:00 [INF] JWT Claim: jti = 372be12c-6bb9-4f64-aed6-c398343c7ba3
2025-05-30 16:53:20.771 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:53:20.772 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:53:20.774 +08:00 [INF] JWT Claim: exp = 1748595794
2025-05-30 16:53:20.775 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:53:20.776 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:53:20.778 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:53:20.850 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:53:20.882 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContracts (RealEstateSolution.ContractService)'
2025-05-30 16:53:20.906 +08:00 [INF] Route matched with {action = "GetContracts", controller = "Contract"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractDto]]] GetContracts(RealEstateSolution.ContractService.Models.ContractQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractController (RealEstateSolution.ContractService).
2025-05-30 16:53:21.551 +08:00 [WRN] No store type was specified for the decimal property 'MaxArea' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 16:53:21.554 +08:00 [WRN] No store type was specified for the decimal property 'MaxPrice' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 16:53:21.555 +08:00 [WRN] No store type was specified for the decimal property 'MinArea' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 16:53:21.557 +08:00 [WRN] No store type was specified for the decimal property 'MinPrice' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 16:53:21.558 +08:00 [WRN] No store type was specified for the decimal property 'Area' on entity type 'Property'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 16:53:21.559 +08:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Property'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 16:53:22.379 +08:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Amount], [c].[CancelTime], [c].[ClientId], [c].[ClientId1], [c].[CompleteTime], [c].[ContractNumber], [c].[CreateTime], [c].[EndDate], [c].[PaymentMethod], [c].[PropertyId], [c].[Remark], [c].[SignTime], [c].[StartDate], [c].[Status], [c].[Terms], [c].[Type], [c].[UpdateTime], [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime], [c0].[Id], [c0].[Address], [c0].[CreateTime], [c0].[Email], [c0].[Name], [c0].[Phone], [c0].[Source], [c0].[Status], [c0].[Type], [c0].[UpdateTime], [c1].[Id], [c1].[Address], [c1].[CreateTime], [c1].[Email], [c1].[Name], [c1].[Phone], [c1].[Source], [c1].[Status], [c1].[Type], [c1].[UpdateTime]
FROM [Contracts] AS [c]
INNER JOIN [Property] AS [p] ON [c].[PropertyId] = [p].[Id]
INNER JOIN [Clients] AS [c0] ON [c].[ClientId] = [c0].[Id]
LEFT JOIN [Clients] AS [c1] ON [c].[ClientId1] = [c1].[Id]
2025-05-30 16:53:22.550 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:53:22.590 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractController.GetContracts (RealEstateSolution.ContractService) in 1678.4246ms
2025-05-30 16:53:22.592 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractController.GetContracts (RealEstateSolution.ContractService)'
2025-05-30 16:53:22.601 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetContracts?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 1956.1926ms
2025-05-30 16:53:25.466 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 16:53:25.471 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:53:25.471 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 16:53:25.472 +08:00 [INF] 请求方法: GET
2025-05-30 16:53:25.473 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:53:25.475 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 16:53:25.476 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:53:25.478 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:53:25.479 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:53:25.480 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzcyYmUxMmMtNmJiOS00ZjY0LWFlZDYtYzM5ODM0M2M3YmEzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTU3OTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.qSD5aN5DyPNOWODw-CbKsdm7RzDBWN7bBUH0S58tu3c
2025-05-30 16:53:25.482 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:53:25.483 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:53:25.485 +08:00 [INF] 请求头: traceparent = 00-6e4857962a022a81fb1daf9703289c48-741c153a09c2284c-00
2025-05-30 16:53:25.486 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:53:25.488 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:53:25.489 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:53:25.490 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:53:25.492 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:53:25.494 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:53:25.495 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:53:25.497 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:53:25.498 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:53:25.499 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:53:25.500 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:53:25.501 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:53:25.502 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:53:25.503 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:53:25.505 +08:00 [INF] JWT Claim: jti = 372be12c-6bb9-4f64-aed6-c398343c7ba3
2025-05-30 16:53:25.506 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:53:25.507 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:53:25.509 +08:00 [INF] JWT Claim: exp = 1748595794
2025-05-30 16:53:25.510 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:53:25.511 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:53:25.512 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:53:25.515 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:53:25.520 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 16:53:25.526 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 16:53:25.600 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 16:53:25.626 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:53:25.638 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 108.8869ms
2025-05-30 16:53:25.639 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 16:53:25.641 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 174.2055ms
2025-05-30 16:53:27.858 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/4 - null 0
2025-05-30 16:53:27.861 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:53:27.862 +08:00 [INF] 请求路径: /api/contract/GetTemplateById/4
2025-05-30 16:53:27.863 +08:00 [INF] 请求方法: GET
2025-05-30 16:53:27.864 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:53:27.865 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 16:53:27.866 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:53:27.868 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:53:27.869 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:53:27.870 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzcyYmUxMmMtNmJiOS00ZjY0LWFlZDYtYzM5ODM0M2M3YmEzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTU3OTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.qSD5aN5DyPNOWODw-CbKsdm7RzDBWN7bBUH0S58tu3c
2025-05-30 16:53:27.871 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:53:27.872 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:53:27.873 +08:00 [INF] 请求头: traceparent = 00-0a9a6691e1d1cb6aecb4ae8835d43719-01c4f0061465e079-00
2025-05-30 16:53:27.874 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:53:27.875 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:53:27.877 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:53:27.878 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:53:27.879 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:53:27.880 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:53:27.881 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:53:27.882 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:53:27.883 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:53:27.883 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:53:27.884 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:53:27.885 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:53:27.886 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:53:27.887 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:53:27.888 +08:00 [INF] JWT Claim: jti = 372be12c-6bb9-4f64-aed6-c398343c7ba3
2025-05-30 16:53:27.889 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:53:27.890 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:53:27.891 +08:00 [INF] JWT Claim: exp = 1748595794
2025-05-30 16:53:27.893 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:53:27.894 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:53:27.895 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:53:27.898 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:53:27.900 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 16:53:27.906 +08:00 [INF] Route matched with {action = "GetTemplateById", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]] GetTemplateById(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 16:53:27.970 +08:00 [INF] Executed DbCommand (23ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 16:53:27.975 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:53:27.978 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService) in 70.4356ms
2025-05-30 16:53:27.979 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 16:53:27.980 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/4 - 200 null application/json; charset=utf-8 122.7254ms
2025-05-30 16:53:29.464 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/ExportToWord/4 - null 0
2025-05-30 16:53:29.467 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:53:29.468 +08:00 [INF] 请求路径: /api/contract/ExportToWord/4
2025-05-30 16:53:29.468 +08:00 [INF] 请求方法: GET
2025-05-30 16:53:29.469 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:53:29.470 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 16:53:29.471 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:53:29.472 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:53:29.473 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:53:29.474 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzcyYmUxMmMtNmJiOS00ZjY0LWFlZDYtYzM5ODM0M2M3YmEzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTU3OTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.qSD5aN5DyPNOWODw-CbKsdm7RzDBWN7bBUH0S58tu3c
2025-05-30 16:53:29.475 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:53:29.476 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:53:29.477 +08:00 [INF] 请求头: traceparent = 00-985b73feb8b5471e7ed1cca513935581-638d704dc8f44ad6-00
2025-05-30 16:53:29.478 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:53:29.479 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:53:29.480 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:53:29.481 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:53:29.482 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:53:29.483 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:53:29.483 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:53:29.484 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:53:29.485 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:53:29.486 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:53:29.487 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:53:29.488 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:53:29.489 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:53:29.489 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:53:29.490 +08:00 [INF] JWT Claim: jti = 372be12c-6bb9-4f64-aed6-c398343c7ba3
2025-05-30 16:53:29.491 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:53:29.492 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:53:29.493 +08:00 [INF] JWT Claim: exp = 1748595794
2025-05-30 16:53:29.494 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:53:29.495 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:53:29.496 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:53:29.497 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:53:29.498 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService)'
2025-05-30 16:53:29.501 +08:00 [INF] Route matched with {action = "ExportToWord", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExportToWord(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 16:53:29.561 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 16:53:29.714 +08:00 [INF] Executing FileContentResult, sending file with download name '商铺租赁合同模板.docx' ...
2025-05-30 16:53:29.721 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService) in 218.4652ms
2025-05-30 16:53:29.722 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService)'
2025-05-30 16:53:29.723 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/ExportToWord/4 - 200 2726 application/vnd.openxmlformats-officedocument.wordprocessingml.document 259.3893ms
2025-05-30 16:53:31.565 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 16:53:31.569 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:53:31.570 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 16:53:31.571 +08:00 [INF] 请求方法: GET
2025-05-30 16:53:31.572 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:53:31.573 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 16:53:31.574 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:53:31.576 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:53:31.578 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:53:31.579 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzcyYmUxMmMtNmJiOS00ZjY0LWFlZDYtYzM5ODM0M2M3YmEzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTU3OTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.qSD5aN5DyPNOWODw-CbKsdm7RzDBWN7bBUH0S58tu3c
2025-05-30 16:53:31.580 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:53:31.582 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:53:31.583 +08:00 [INF] 请求头: traceparent = 00-901a15c562c7ea10954f66c8227bbf2d-e7ad27eb31524f16-00
2025-05-30 16:53:31.585 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:53:31.586 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:53:31.587 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:53:31.589 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:53:31.590 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:53:31.591 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:53:31.592 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:53:31.593 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:53:31.594 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:53:31.595 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:53:31.596 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:53:31.597 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:53:31.598 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:53:31.599 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:53:31.600 +08:00 [INF] JWT Claim: jti = 372be12c-6bb9-4f64-aed6-c398343c7ba3
2025-05-30 16:53:31.601 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:53:31.602 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:53:31.603 +08:00 [INF] JWT Claim: exp = 1748595794
2025-05-30 16:53:31.604 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:53:31.605 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:53:31.606 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:53:31.607 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:53:31.609 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 16:53:31.610 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 16:53:31.616 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 16:53:31.619 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:53:31.622 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 10.1013ms
2025-05-30 16:53:31.624 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 16:53:31.625 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 59.6322ms
2025-05-30 16:53:35.451 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/ExportToWord/1 - null 0
2025-05-30 16:53:35.453 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:53:35.454 +08:00 [INF] 请求路径: /api/contract/ExportToWord/1
2025-05-30 16:53:35.455 +08:00 [INF] 请求方法: GET
2025-05-30 16:53:35.455 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:53:35.456 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 16:53:35.457 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:53:35.458 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:53:35.459 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:53:35.460 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzcyYmUxMmMtNmJiOS00ZjY0LWFlZDYtYzM5ODM0M2M3YmEzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTU3OTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.qSD5aN5DyPNOWODw-CbKsdm7RzDBWN7bBUH0S58tu3c
2025-05-30 16:53:35.461 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:53:35.462 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:53:35.463 +08:00 [INF] 请求头: traceparent = 00-fcdf23ba7bfdec11aa945db4e89a7fe7-e8cd47577de619f1-00
2025-05-30 16:53:35.464 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:53:35.465 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:53:35.466 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:53:35.466 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:53:35.468 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:53:35.469 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:53:35.470 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:53:35.470 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:53:35.471 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:53:35.472 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:53:35.473 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:53:35.473 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:53:35.474 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:53:35.475 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:53:35.476 +08:00 [INF] JWT Claim: jti = 372be12c-6bb9-4f64-aed6-c398343c7ba3
2025-05-30 16:53:35.477 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:53:35.478 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:53:35.479 +08:00 [INF] JWT Claim: exp = 1748595794
2025-05-30 16:53:35.480 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:53:35.481 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:53:35.482 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:53:35.483 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:53:35.484 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService)'
2025-05-30 16:53:35.485 +08:00 [INF] Route matched with {action = "ExportToWord", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExportToWord(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 16:53:35.489 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 16:53:35.493 +08:00 [INF] Executing FileContentResult, sending file with download name '标准房屋买卖合同模板.docx' ...
2025-05-30 16:53:35.494 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService) in 8.241ms
2025-05-30 16:53:35.496 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService)'
2025-05-30 16:53:35.497 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/ExportToWord/1 - 200 2213 application/vnd.openxmlformats-officedocument.wordprocessingml.document 46.1951ms
2025-05-30 16:56:43.688 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 16:56:43.700 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:56:43.701 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 16:56:43.702 +08:00 [INF] 请求方法: GET
2025-05-30 16:56:43.703 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:56:43.704 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 16:56:43.706 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:56:43.707 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:56:43.709 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:56:43.711 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzcyYmUxMmMtNmJiOS00ZjY0LWFlZDYtYzM5ODM0M2M3YmEzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTU3OTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.qSD5aN5DyPNOWODw-CbKsdm7RzDBWN7bBUH0S58tu3c
2025-05-30 16:56:43.712 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:56:43.714 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:56:43.716 +08:00 [INF] 请求头: traceparent = 00-c78aeb41a9b52de7d62aa91c263be971-d8ed3a025413ef8e-00
2025-05-30 16:56:43.717 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:56:43.718 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:56:43.720 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:56:43.721 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:56:43.722 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:56:43.723 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:56:43.725 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:56:43.726 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:56:43.728 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:56:43.729 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:56:43.731 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:56:43.732 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:56:43.733 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:56:43.735 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:56:43.736 +08:00 [INF] JWT Claim: jti = 372be12c-6bb9-4f64-aed6-c398343c7ba3
2025-05-30 16:56:43.737 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:56:43.739 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:56:43.740 +08:00 [INF] JWT Claim: exp = 1748595794
2025-05-30 16:56:43.742 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:56:43.743 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:56:43.745 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:56:43.746 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:56:43.747 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 16:56:43.749 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 16:56:43.761 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 16:56:43.765 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:56:43.767 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 15.4615ms
2025-05-30 16:56:43.769 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 16:56:43.770 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 82.3776ms
2025-05-30 16:58:34.825 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-30 16:58:35.395 +08:00 [INF] Now listening on: https://localhost:5004
2025-05-30 16:58:35.692 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 16:58:35.697 +08:00 [INF] Hosting environment: Development
2025-05-30 16:58:35.706 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.ContractService
2025-05-30 16:58:38.099 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5004/_framework/aspnetcore-browser-refresh.js - null null
2025-05-30 16:58:38.174 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5004/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 74.8714ms
2025-05-30 16:58:38.393 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5004/_vs/browserLink - null null
2025-05-30 16:58:38.769 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5004/_vs/browserLink - 200 null text/javascript; charset=UTF-8 381.0148ms
2025-05-30 16:58:38.928 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5004/swagger/v1/swagger.json - null null
2025-05-30 16:58:39.059 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 130.7345ms
2025-05-30 17:01:47.818 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 17:01:47.866 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:01:47.870 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 17:01:47.871 +08:00 [INF] 请求方法: GET
2025-05-30 17:01:47.873 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:01:47.875 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 17:01:47.876 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:01:47.878 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:01:47.879 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:01:47.881 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzcyYmUxMmMtNmJiOS00ZjY0LWFlZDYtYzM5ODM0M2M3YmEzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTU3OTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.qSD5aN5DyPNOWODw-CbKsdm7RzDBWN7bBUH0S58tu3c
2025-05-30 17:01:47.882 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:01:47.884 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:01:47.885 +08:00 [INF] 请求头: traceparent = 00-65f4c0051c9013c545d8d2566fad511e-f47f4db32b2aca8f-00
2025-05-30 17:01:47.886 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 17:01:47.889 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:01:47.890 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:01:47.892 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:01:47.893 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:01:47.894 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:01:47.896 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:01:47.898 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:01:47.900 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:01:47.901 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:01:47.951 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:01:47.953 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:01:47.954 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:01:47.956 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:01:47.957 +08:00 [INF] JWT Claim: jti = 372be12c-6bb9-4f64-aed6-c398343c7ba3
2025-05-30 17:01:47.958 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:01:47.959 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:01:47.961 +08:00 [INF] JWT Claim: exp = 1748595794
2025-05-30 17:01:47.962 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:01:47.964 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:01:47.965 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:01:48.047 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:01:48.092 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 17:01:48.125 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 17:01:48.931 +08:00 [WRN] No store type was specified for the decimal property 'MaxArea' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 17:01:48.933 +08:00 [WRN] No store type was specified for the decimal property 'MaxPrice' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 17:01:48.934 +08:00 [WRN] No store type was specified for the decimal property 'MinArea' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 17:01:48.935 +08:00 [WRN] No store type was specified for the decimal property 'MinPrice' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 17:01:48.936 +08:00 [WRN] No store type was specified for the decimal property 'Area' on entity type 'Property'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 17:01:48.937 +08:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Property'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 17:01:49.793 +08:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 17:01:49.907 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 17:01:49.939 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 1808.3658ms
2025-05-30 17:01:49.941 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 17:01:49.950 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 2132.5106ms
2025-05-30 17:01:51.426 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/4 - null 0
2025-05-30 17:01:51.430 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:01:51.431 +08:00 [INF] 请求路径: /api/contract/GetTemplateById/4
2025-05-30 17:01:51.432 +08:00 [INF] 请求方法: GET
2025-05-30 17:01:51.434 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:01:51.435 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 17:01:51.436 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:01:51.437 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:01:51.439 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:01:51.440 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzcyYmUxMmMtNmJiOS00ZjY0LWFlZDYtYzM5ODM0M2M3YmEzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTU3OTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.qSD5aN5DyPNOWODw-CbKsdm7RzDBWN7bBUH0S58tu3c
2025-05-30 17:01:51.441 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:01:51.443 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:01:51.444 +08:00 [INF] 请求头: traceparent = 00-594dfd0f8ebe925e4378fa6c4b6b41b4-6fc215af452c36ad-00
2025-05-30 17:01:51.445 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 17:01:51.446 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:01:51.447 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:01:51.448 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:01:51.450 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:01:51.451 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:01:51.452 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:01:51.453 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:01:51.454 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:01:51.456 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:01:51.457 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:01:51.458 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:01:51.459 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:01:51.460 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:01:51.461 +08:00 [INF] JWT Claim: jti = 372be12c-6bb9-4f64-aed6-c398343c7ba3
2025-05-30 17:01:51.462 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:01:51.463 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:01:51.465 +08:00 [INF] JWT Claim: exp = 1748595794
2025-05-30 17:01:51.466 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:01:51.467 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:01:51.469 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:01:51.472 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:01:51.478 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 17:01:51.484 +08:00 [INF] Route matched with {action = "GetTemplateById", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]] GetTemplateById(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 17:01:51.637 +08:00 [INF] Executed DbCommand (30ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 17:01:51.645 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 17:01:51.648 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService) in 161.784ms
2025-05-30 17:01:51.650 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 17:01:51.651 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/4 - 200 null application/json; charset=utf-8 225.4785ms
2025-05-30 17:01:57.564 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/ExportToWord/4 - null 0
2025-05-30 17:01:57.567 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:01:57.567 +08:00 [INF] 请求路径: /api/contract/ExportToWord/4
2025-05-30 17:01:57.568 +08:00 [INF] 请求方法: GET
2025-05-30 17:01:57.569 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:01:57.570 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 17:01:57.571 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:01:57.573 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:01:57.574 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:01:57.575 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzcyYmUxMmMtNmJiOS00ZjY0LWFlZDYtYzM5ODM0M2M3YmEzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTU3OTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.qSD5aN5DyPNOWODw-CbKsdm7RzDBWN7bBUH0S58tu3c
2025-05-30 17:01:57.576 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:01:57.578 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:01:57.579 +08:00 [INF] 请求头: traceparent = 00-4bbccc819c6ca23888160d916f3deda4-bc3ef29c7288723c-00
2025-05-30 17:01:57.580 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 17:01:57.582 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:01:57.583 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:01:57.584 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:01:57.585 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:01:57.586 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:01:57.587 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:01:57.589 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:01:57.590 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:01:57.591 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:01:57.592 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:01:57.593 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:01:57.594 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:01:57.595 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:01:57.598 +08:00 [INF] JWT Claim: jti = 372be12c-6bb9-4f64-aed6-c398343c7ba3
2025-05-30 17:01:57.599 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:01:57.600 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:01:57.601 +08:00 [INF] JWT Claim: exp = 1748595794
2025-05-30 17:01:57.602 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:01:57.604 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:01:57.605 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:01:57.608 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:01:57.610 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService)'
2025-05-30 17:01:57.616 +08:00 [INF] Route matched with {action = "ExportToWord", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExportToWord(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 17:01:57.681 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 17:01:57.856 +08:00 [INF] Executing FileContentResult, sending file with download name '商铺租赁合同模板.docx' ...
2025-05-30 17:01:57.862 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService) in 244.6871ms
2025-05-30 17:01:57.864 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService)'
2025-05-30 17:01:57.866 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/ExportToWord/4 - 200 2726 application/vnd.openxmlformats-officedocument.wordprocessingml.document 301.553ms
2025-05-30 17:02:09.237 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/ExportToWord/4 - null 0
2025-05-30 17:02:09.242 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:02:09.243 +08:00 [INF] 请求路径: /api/contract/ExportToWord/4
2025-05-30 17:02:09.244 +08:00 [INF] 请求方法: GET
2025-05-30 17:02:09.245 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:02:09.246 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 17:02:09.247 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:02:09.249 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:02:09.250 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:02:09.251 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzcyYmUxMmMtNmJiOS00ZjY0LWFlZDYtYzM5ODM0M2M3YmEzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTU3OTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.qSD5aN5DyPNOWODw-CbKsdm7RzDBWN7bBUH0S58tu3c
2025-05-30 17:02:09.253 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:02:09.255 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:02:09.256 +08:00 [INF] 请求头: traceparent = 00-31d647add3d89d3150fb94f6e7cc18c4-7b20346363c14141-00
2025-05-30 17:02:09.258 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 17:02:09.259 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:02:09.260 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:02:09.262 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:02:09.263 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:02:09.265 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:02:09.266 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:02:09.268 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:02:09.269 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:02:09.270 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:02:09.271 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:02:09.273 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:02:09.274 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:02:09.275 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:02:09.277 +08:00 [INF] JWT Claim: jti = 372be12c-6bb9-4f64-aed6-c398343c7ba3
2025-05-30 17:02:09.278 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:02:09.279 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:02:09.281 +08:00 [INF] JWT Claim: exp = 1748595794
2025-05-30 17:02:09.282 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:02:09.284 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:02:09.285 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:02:09.286 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:02:09.288 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService)'
2025-05-30 17:02:09.289 +08:00 [INF] Route matched with {action = "ExportToWord", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExportToWord(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 17:02:09.298 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 17:02:09.307 +08:00 [INF] Executing FileContentResult, sending file with download name '商铺租赁合同模板.docx' ...
2025-05-30 17:02:09.309 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService) in 17.1117ms
2025-05-30 17:02:09.310 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService)'
2025-05-30 17:02:09.312 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/ExportToWord/4 - 200 2726 application/vnd.openxmlformats-officedocument.wordprocessingml.document 75.3077ms
2025-05-30 17:02:17.337 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 17:02:17.343 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:02:17.344 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 17:02:17.346 +08:00 [INF] 请求方法: GET
2025-05-30 17:02:17.348 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:02:17.350 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 17:02:17.352 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:02:17.354 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:02:17.356 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:02:17.358 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzcyYmUxMmMtNmJiOS00ZjY0LWFlZDYtYzM5ODM0M2M3YmEzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTU3OTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.qSD5aN5DyPNOWODw-CbKsdm7RzDBWN7bBUH0S58tu3c
2025-05-30 17:02:17.361 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:02:17.363 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:02:17.365 +08:00 [INF] 请求头: traceparent = 00-c413995b89bb6565c7fea8e6d120cc0f-dfc0b32e1e2cf6d5-00
2025-05-30 17:02:17.367 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 17:02:17.369 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:02:17.370 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:02:17.372 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:02:17.374 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:02:17.375 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:02:17.377 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:02:17.379 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:02:17.382 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:02:17.383 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:02:17.384 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:02:17.385 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:02:17.387 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:02:17.389 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:02:17.391 +08:00 [INF] JWT Claim: jti = 372be12c-6bb9-4f64-aed6-c398343c7ba3
2025-05-30 17:02:17.392 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:02:17.394 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:02:17.395 +08:00 [INF] JWT Claim: exp = 1748595794
2025-05-30 17:02:17.397 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:02:17.399 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:02:17.400 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:02:17.402 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:02:17.403 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 17:02:17.405 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 17:02:17.415 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 17:02:17.421 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 17:02:17.427 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 19.3445ms
2025-05-30 17:02:17.430 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 17:02:17.432 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 95.0046ms
2025-05-30 17:02:44.614 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 17:02:44.622 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:02:44.623 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 17:02:44.624 +08:00 [INF] 请求方法: GET
2025-05-30 17:02:44.625 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:02:44.626 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 17:02:44.627 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:02:44.628 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:02:44.629 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:02:44.631 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzcyYmUxMmMtNmJiOS00ZjY0LWFlZDYtYzM5ODM0M2M3YmEzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTU3OTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.qSD5aN5DyPNOWODw-CbKsdm7RzDBWN7bBUH0S58tu3c
2025-05-30 17:02:44.632 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:02:44.633 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:02:44.634 +08:00 [INF] 请求头: traceparent = 00-61793c5853844c20f4ec3f13535dd4e6-9920bbf4fd399ba5-00
2025-05-30 17:02:44.636 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 17:02:44.637 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:02:44.638 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:02:44.639 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:02:44.641 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:02:44.642 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:02:44.643 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:02:44.644 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:02:44.646 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:02:44.646 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:02:44.647 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:02:44.648 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:02:44.649 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:02:44.651 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:02:44.652 +08:00 [INF] JWT Claim: jti = 372be12c-6bb9-4f64-aed6-c398343c7ba3
2025-05-30 17:02:44.653 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:02:44.654 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:02:44.656 +08:00 [INF] JWT Claim: exp = 1748595794
2025-05-30 17:02:44.657 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:02:44.658 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:02:44.659 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:02:44.660 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:02:44.662 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 17:02:44.663 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 17:02:44.671 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 17:02:44.676 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 17:02:44.714 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 48.6627ms
2025-05-30 17:02:44.716 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 17:02:44.717 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 102.8746ms
2025-05-30 17:02:48.559 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 17:02:48.563 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:02:48.564 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 17:02:48.566 +08:00 [INF] 请求方法: GET
2025-05-30 17:02:48.567 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:02:48.569 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 17:02:48.570 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:02:48.572 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:02:48.574 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:02:48.576 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzcyYmUxMmMtNmJiOS00ZjY0LWFlZDYtYzM5ODM0M2M3YmEzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTU3OTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.qSD5aN5DyPNOWODw-CbKsdm7RzDBWN7bBUH0S58tu3c
2025-05-30 17:02:48.578 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:02:48.580 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:02:48.581 +08:00 [INF] 请求头: traceparent = 00-756b8d957eb25d55d35374cd86c52daa-aa776f43a4b516d8-00
2025-05-30 17:02:48.583 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 17:02:48.584 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:02:48.585 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:02:48.587 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:02:48.589 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:02:48.590 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:02:48.591 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:02:48.592 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:02:48.594 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:02:48.594 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:02:48.596 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:02:48.597 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:02:48.598 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:02:48.600 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:02:48.602 +08:00 [INF] JWT Claim: jti = 372be12c-6bb9-4f64-aed6-c398343c7ba3
2025-05-30 17:02:48.604 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:02:48.606 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:02:48.607 +08:00 [INF] JWT Claim: exp = 1748595794
2025-05-30 17:02:48.609 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:02:48.611 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:02:48.612 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:02:48.614 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:02:48.615 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 17:02:48.617 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 17:02:48.625 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 17:02:48.631 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 17:02:48.634 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 14.758ms
2025-05-30 17:02:48.636 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 17:02:48.638 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 79.6566ms
2025-05-30 17:02:52.173 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/ExportToWord/4 - null 0
2025-05-30 17:02:52.176 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:02:52.177 +08:00 [INF] 请求路径: /api/contract/ExportToWord/4
2025-05-30 17:02:52.178 +08:00 [INF] 请求方法: GET
2025-05-30 17:02:52.179 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:02:52.181 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 17:02:52.182 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:02:52.183 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:02:52.184 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:02:52.185 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzcyYmUxMmMtNmJiOS00ZjY0LWFlZDYtYzM5ODM0M2M3YmEzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTU3OTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.qSD5aN5DyPNOWODw-CbKsdm7RzDBWN7bBUH0S58tu3c
2025-05-30 17:02:52.187 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:02:52.188 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:02:52.190 +08:00 [INF] 请求头: traceparent = 00-26629d114099d911b87da28e681fbcc7-268eeaf3c362d08c-00
2025-05-30 17:02:52.191 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 17:02:52.192 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:02:52.193 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:02:52.194 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:02:52.196 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:02:52.197 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:02:52.198 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:02:52.199 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:02:52.200 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:02:52.201 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:02:52.202 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:02:52.203 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:02:52.205 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:02:52.206 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:02:52.207 +08:00 [INF] JWT Claim: jti = 372be12c-6bb9-4f64-aed6-c398343c7ba3
2025-05-30 17:02:52.209 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:02:52.210 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:02:52.211 +08:00 [INF] JWT Claim: exp = 1748595794
2025-05-30 17:02:52.212 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:02:52.214 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:02:52.215 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:02:52.216 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:02:52.217 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService)'
2025-05-30 17:02:52.219 +08:00 [INF] Route matched with {action = "ExportToWord", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExportToWord(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 17:02:52.227 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 17:02:52.235 +08:00 [INF] Executing FileContentResult, sending file with download name '商铺租赁合同模板.docx' ...
2025-05-30 17:02:52.237 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService) in 15.8818ms
2025-05-30 17:02:52.239 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService)'
2025-05-30 17:02:52.241 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/ExportToWord/4 - 200 2726 application/vnd.openxmlformats-officedocument.wordprocessingml.document 67.5128ms
2025-05-30 17:04:20.282 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 17:04:20.295 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:04:20.297 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 17:04:20.298 +08:00 [INF] 请求方法: GET
2025-05-30 17:04:20.300 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:04:20.302 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 17:04:20.303 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:04:20.305 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:04:20.307 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:04:20.309 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2M0MjE3YjMtOGM3Yi00MTJhLThmMjgtNjg5ZDJiZjZhOGIyIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTY0NTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.yueiZA2M5TxaXDfhGSbp_0sU2QZVtPnMfjIYlbxnJkc
2025-05-30 17:04:20.312 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:04:20.314 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:04:20.316 +08:00 [INF] 请求头: traceparent = 00-dbf22ca3a239d8fdd17469f63715d473-12647f73b501cc2c-00
2025-05-30 17:04:20.318 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 17:04:20.320 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:04:20.322 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:04:20.324 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:04:20.327 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:04:20.329 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:04:20.331 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:04:20.333 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:04:20.335 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:04:20.337 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:04:20.338 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:04:20.340 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:04:20.342 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:04:20.344 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:04:20.346 +08:00 [INF] JWT Claim: jti = cc4217b3-8c7b-412a-8f28-689d2bf6a8b2
2025-05-30 17:04:20.348 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:04:20.350 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:04:20.352 +08:00 [INF] JWT Claim: exp = 1748596454
2025-05-30 17:04:20.354 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:04:20.357 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:04:20.359 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:04:20.360 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:04:20.362 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 17:04:20.365 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 17:04:20.376 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 17:04:20.382 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 17:04:20.385 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 17.4035ms
2025-05-30 17:04:20.388 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 17:04:20.390 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 107.9843ms
2025-05-30 17:04:21.536 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/ExportToWord/4 - null 0
2025-05-30 17:04:21.541 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:04:21.542 +08:00 [INF] 请求路径: /api/contract/ExportToWord/4
2025-05-30 17:04:21.543 +08:00 [INF] 请求方法: GET
2025-05-30 17:04:21.545 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:04:21.547 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 17:04:21.549 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:04:21.550 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:04:21.552 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:04:21.554 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2M0MjE3YjMtOGM3Yi00MTJhLThmMjgtNjg5ZDJiZjZhOGIyIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTY0NTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.yueiZA2M5TxaXDfhGSbp_0sU2QZVtPnMfjIYlbxnJkc
2025-05-30 17:04:21.556 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:04:21.558 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:04:21.560 +08:00 [INF] 请求头: traceparent = 00-1aace0bda139f7e25487cb74328d85eb-937e5638d7d9ad37-00
2025-05-30 17:04:21.562 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 17:04:21.564 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:04:21.566 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:04:21.568 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:04:21.569 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:04:21.571 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:04:21.573 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:04:21.575 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:04:21.576 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:04:21.577 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:04:21.579 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:04:21.580 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:04:21.582 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:04:21.584 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:04:21.586 +08:00 [INF] JWT Claim: jti = cc4217b3-8c7b-412a-8f28-689d2bf6a8b2
2025-05-30 17:04:21.588 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:04:21.590 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:04:21.592 +08:00 [INF] JWT Claim: exp = 1748596454
2025-05-30 17:04:21.593 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:04:21.595 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:04:21.597 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:04:21.599 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:04:21.600 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService)'
2025-05-30 17:04:21.602 +08:00 [INF] Route matched with {action = "ExportToWord", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExportToWord(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 17:04:21.611 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 17:04:21.618 +08:00 [INF] Executing FileContentResult, sending file with download name '商铺租赁合同模板.docx' ...
2025-05-30 17:04:21.621 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService) in 15.8401ms
2025-05-30 17:04:21.623 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService)'
2025-05-30 17:04:21.625 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/ExportToWord/4 - 200 2726 application/vnd.openxmlformats-officedocument.wordprocessingml.document 88.5178ms
2025-05-30 17:05:45.978 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 17:05:45.987 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:05:45.988 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 17:05:45.989 +08:00 [INF] 请求方法: GET
2025-05-30 17:05:45.990 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:05:45.992 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 17:05:45.993 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:05:45.995 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:05:45.996 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:05:45.997 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2M0MjE3YjMtOGM3Yi00MTJhLThmMjgtNjg5ZDJiZjZhOGIyIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTY0NTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.yueiZA2M5TxaXDfhGSbp_0sU2QZVtPnMfjIYlbxnJkc
2025-05-30 17:05:45.999 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:05:46.000 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:05:46.001 +08:00 [INF] 请求头: traceparent = 00-f36a7222c27a00d2cd8590cd69db2032-c3bcf1d131305081-00
2025-05-30 17:05:46.003 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 17:05:46.004 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:05:46.005 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:05:46.007 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:05:46.008 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:05:46.009 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:05:46.010 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:05:46.011 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:05:46.013 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:05:46.014 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:05:46.015 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:05:46.016 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:05:46.017 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:05:46.018 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:05:46.019 +08:00 [INF] JWT Claim: jti = cc4217b3-8c7b-412a-8f28-689d2bf6a8b2
2025-05-30 17:05:46.021 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:05:46.022 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:05:46.023 +08:00 [INF] JWT Claim: exp = 1748596454
2025-05-30 17:05:46.024 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:05:46.026 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:05:46.027 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:05:46.028 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:05:46.030 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 17:05:46.031 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 17:05:46.038 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 17:05:46.042 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 17:05:46.044 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 11.1027ms
2025-05-30 17:05:46.046 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 17:05:46.047 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 69.9914ms
2025-05-30 17:06:30.818 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 17:06:30.829 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:06:30.831 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 17:06:30.833 +08:00 [INF] 请求方法: GET
2025-05-30 17:06:30.834 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:06:30.836 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 17:06:30.838 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:06:30.840 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:06:30.842 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:06:30.843 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2M0MjE3YjMtOGM3Yi00MTJhLThmMjgtNjg5ZDJiZjZhOGIyIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTY0NTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.yueiZA2M5TxaXDfhGSbp_0sU2QZVtPnMfjIYlbxnJkc
2025-05-30 17:06:30.846 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:06:30.848 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:06:30.850 +08:00 [INF] 请求头: traceparent = 00-a078980a5e12e08831d50548b4cf6a3c-2094dc54cd47244b-00
2025-05-30 17:06:30.852 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 17:06:30.854 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:06:30.856 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:06:30.858 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:06:30.861 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:06:30.863 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:06:30.865 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:06:30.867 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:06:30.869 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:06:30.870 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:06:30.872 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:06:30.874 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:06:30.875 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:06:30.877 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:06:30.879 +08:00 [INF] JWT Claim: jti = cc4217b3-8c7b-412a-8f28-689d2bf6a8b2
2025-05-30 17:06:30.881 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:06:30.883 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:06:30.884 +08:00 [INF] JWT Claim: exp = 1748596454
2025-05-30 17:06:30.886 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:06:30.888 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:06:30.890 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:06:30.892 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:06:30.893 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 17:06:30.896 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 17:06:30.914 +08:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 17:06:30.922 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 17:06:30.930 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 31.477ms
2025-05-30 17:06:30.933 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 17:06:30.935 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 116.3738ms
2025-05-30 17:06:44.834 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/ExportToWord/4 - null 0
2025-05-30 17:06:44.838 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:06:44.839 +08:00 [INF] 请求路径: /api/contract/ExportToWord/4
2025-05-30 17:06:44.839 +08:00 [INF] 请求方法: GET
2025-05-30 17:06:44.840 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:06:44.841 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 17:06:44.843 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:06:44.844 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:06:44.846 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:06:44.847 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2M0MjE3YjMtOGM3Yi00MTJhLThmMjgtNjg5ZDJiZjZhOGIyIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTY0NTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.yueiZA2M5TxaXDfhGSbp_0sU2QZVtPnMfjIYlbxnJkc
2025-05-30 17:06:44.849 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:06:44.850 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:06:44.851 +08:00 [INF] 请求头: traceparent = 00-ea65e70bb20b603f5207b653fcb047a1-824c74ef2b9b9ba7-00
2025-05-30 17:06:44.853 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 17:06:44.854 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:06:44.856 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:06:44.857 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:06:44.859 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:06:44.860 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:06:44.862 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:06:44.863 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:06:44.864 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:06:44.865 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:06:44.866 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:06:44.867 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:06:44.869 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:06:44.870 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:06:44.871 +08:00 [INF] JWT Claim: jti = cc4217b3-8c7b-412a-8f28-689d2bf6a8b2
2025-05-30 17:06:44.872 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:06:44.873 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:06:44.875 +08:00 [INF] JWT Claim: exp = 1748596454
2025-05-30 17:06:44.876 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:06:44.877 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:06:44.879 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:06:44.880 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:06:44.881 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService)'
2025-05-30 17:06:44.883 +08:00 [INF] Route matched with {action = "ExportToWord", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExportToWord(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 17:06:44.890 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 17:06:44.917 +08:00 [INF] Executing FileContentResult, sending file with download name '商铺租赁合同模板.docx' ...
2025-05-30 17:06:44.919 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService) in 34.1478ms
2025-05-30 17:06:44.920 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService)'
2025-05-30 17:06:44.922 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/ExportToWord/4 - 200 2726 application/vnd.openxmlformats-officedocument.wordprocessingml.document 88.4834ms
2025-05-30 17:06:47.441 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/3 - null 0
2025-05-30 17:06:47.445 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:06:47.446 +08:00 [INF] 请求路径: /api/contract/GetTemplateById/3
2025-05-30 17:06:47.447 +08:00 [INF] 请求方法: GET
2025-05-30 17:06:47.448 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:06:47.449 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 17:06:47.450 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:06:47.451 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:06:47.453 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:06:47.454 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2M0MjE3YjMtOGM3Yi00MTJhLThmMjgtNjg5ZDJiZjZhOGIyIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTY0NTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.yueiZA2M5TxaXDfhGSbp_0sU2QZVtPnMfjIYlbxnJkc
2025-05-30 17:06:47.455 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:06:47.456 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:06:47.458 +08:00 [INF] 请求头: traceparent = 00-8142496d3152052baf946ab5b0709bcc-230d48f3579aef83-00
2025-05-30 17:06:47.459 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 17:06:47.460 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:06:47.462 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:06:47.463 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:06:47.464 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:06:47.465 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:06:47.466 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:06:47.468 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:06:47.469 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:06:47.470 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:06:47.471 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:06:47.472 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:06:47.473 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:06:47.475 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:06:47.476 +08:00 [INF] JWT Claim: jti = cc4217b3-8c7b-412a-8f28-689d2bf6a8b2
2025-05-30 17:06:47.477 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:06:47.479 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:06:47.480 +08:00 [INF] JWT Claim: exp = 1748596454
2025-05-30 17:06:47.481 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:06:47.482 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:06:47.483 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:06:47.484 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:06:47.486 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 17:06:47.487 +08:00 [INF] Route matched with {action = "GetTemplateById", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]] GetTemplateById(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 17:06:47.493 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 17:06:47.497 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 17:06:47.499 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService) in 9.3726ms
2025-05-30 17:06:47.500 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 17:06:47.502 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/3 - 200 null application/json; charset=utf-8 60.0988ms
2025-05-30 17:06:49.104 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/ExportToWord/3 - null 0
2025-05-30 17:06:49.107 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:06:49.108 +08:00 [INF] 请求路径: /api/contract/ExportToWord/3
2025-05-30 17:06:49.109 +08:00 [INF] 请求方法: GET
2025-05-30 17:06:49.110 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:06:49.111 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 17:06:49.112 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:06:49.113 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:06:49.115 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:06:49.116 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2M0MjE3YjMtOGM3Yi00MTJhLThmMjgtNjg5ZDJiZjZhOGIyIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTY0NTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.yueiZA2M5TxaXDfhGSbp_0sU2QZVtPnMfjIYlbxnJkc
2025-05-30 17:06:49.117 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:06:49.118 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:06:49.119 +08:00 [INF] 请求头: traceparent = 00-df64e9b7b3074136d4bf789f02c7911f-67781156f74265ca-00
2025-05-30 17:06:49.120 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 17:06:49.122 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:06:49.123 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:06:49.124 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:06:49.125 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:06:49.126 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:06:49.127 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:06:49.128 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:06:49.129 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:06:49.130 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:06:49.131 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:06:49.132 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:06:49.133 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:06:49.134 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:06:49.135 +08:00 [INF] JWT Claim: jti = cc4217b3-8c7b-412a-8f28-689d2bf6a8b2
2025-05-30 17:06:49.137 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:06:49.138 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:06:49.139 +08:00 [INF] JWT Claim: exp = 1748596454
2025-05-30 17:06:49.140 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:06:49.141 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:06:49.143 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:06:49.144 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:06:49.145 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService)'
2025-05-30 17:06:49.147 +08:00 [INF] Route matched with {action = "ExportToWord", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExportToWord(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 17:06:49.153 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 17:06:49.158 +08:00 [INF] Executing FileContentResult, sending file with download name '房产销售委托合同模板.docx' ...
2025-05-30 17:06:49.159 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService) in 10.4616ms
2025-05-30 17:06:49.161 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService)'
2025-05-30 17:06:49.163 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/ExportToWord/3 - 200 2290 application/vnd.openxmlformats-officedocument.wordprocessingml.document 58.1217ms
2025-05-30 17:07:00.909 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/3 - null 0
2025-05-30 17:07:00.914 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:07:00.915 +08:00 [INF] 请求路径: /api/contract/GetTemplateById/3
2025-05-30 17:07:00.917 +08:00 [INF] 请求方法: GET
2025-05-30 17:07:00.919 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:07:00.921 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 17:07:00.924 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:07:00.926 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:07:00.928 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:07:00.931 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2M0MjE3YjMtOGM3Yi00MTJhLThmMjgtNjg5ZDJiZjZhOGIyIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTY0NTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.yueiZA2M5TxaXDfhGSbp_0sU2QZVtPnMfjIYlbxnJkc
2025-05-30 17:07:00.933 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:07:00.935 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:07:00.937 +08:00 [INF] 请求头: traceparent = 00-60c422ae75c750c26789b82a2c4c3060-2cb7b087759581f9-00
2025-05-30 17:07:00.940 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 17:07:00.942 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:07:00.944 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:07:00.946 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:07:00.949 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:07:00.952 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:07:00.955 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:07:00.957 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:07:00.960 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:07:00.961 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:07:00.963 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:07:00.965 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:07:00.968 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:07:00.970 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:07:00.972 +08:00 [INF] JWT Claim: jti = cc4217b3-8c7b-412a-8f28-689d2bf6a8b2
2025-05-30 17:07:00.975 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:07:00.977 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:07:00.979 +08:00 [INF] JWT Claim: exp = 1748596454
2025-05-30 17:07:00.982 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:07:00.984 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:07:00.986 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:07:00.988 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:07:00.991 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 17:07:00.993 +08:00 [INF] Route matched with {action = "GetTemplateById", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]] GetTemplateById(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 17:07:01.010 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 17:07:01.015 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 17:07:01.018 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService) in 21.1187ms
2025-05-30 17:07:01.021 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 17:07:01.023 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/3 - 200 null application/json; charset=utf-8 114.8075ms
2025-05-30 17:07:54.813 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 17:07:54.821 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:07:54.823 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 17:07:54.823 +08:00 [INF] 请求方法: GET
2025-05-30 17:07:54.824 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:07:54.826 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 17:07:54.827 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:07:54.828 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:07:54.829 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:07:54.831 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2M0MjE3YjMtOGM3Yi00MTJhLThmMjgtNjg5ZDJiZjZhOGIyIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTY0NTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.yueiZA2M5TxaXDfhGSbp_0sU2QZVtPnMfjIYlbxnJkc
2025-05-30 17:07:54.832 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:07:54.833 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:07:54.835 +08:00 [INF] 请求头: traceparent = 00-2d35f84e410e8f5f70b88cca21d96f61-528bfe29c98b65e7-00
2025-05-30 17:07:54.836 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 17:07:54.837 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:07:54.839 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:07:54.840 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:07:54.841 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:07:54.842 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:07:54.844 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:07:54.845 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:07:54.846 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:07:54.847 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:07:54.848 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:07:54.849 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:07:54.850 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:07:54.852 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:07:54.853 +08:00 [INF] JWT Claim: jti = cc4217b3-8c7b-412a-8f28-689d2bf6a8b2
2025-05-30 17:07:54.855 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:07:54.856 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:07:54.857 +08:00 [INF] JWT Claim: exp = 1748596454
2025-05-30 17:07:54.859 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:07:54.860 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:07:54.861 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:07:54.863 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:07:54.864 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 17:07:54.865 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 17:07:54.879 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 17:07:54.883 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 17:07:54.887 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 19.025ms
2025-05-30 17:07:54.889 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 17:07:54.890 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 76.6376ms
2025-05-30 17:07:57.650 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/1 - null 0
2025-05-30 17:07:57.654 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:07:57.655 +08:00 [INF] 请求路径: /api/contract/GetTemplateById/1
2025-05-30 17:07:57.656 +08:00 [INF] 请求方法: GET
2025-05-30 17:07:57.657 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:07:57.658 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 17:07:57.659 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:07:57.660 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:07:57.661 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:07:57.663 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2M0MjE3YjMtOGM3Yi00MTJhLThmMjgtNjg5ZDJiZjZhOGIyIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTY0NTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.yueiZA2M5TxaXDfhGSbp_0sU2QZVtPnMfjIYlbxnJkc
2025-05-30 17:07:57.664 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:07:57.666 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:07:57.667 +08:00 [INF] 请求头: traceparent = 00-71b0617354b4b30792e2c0fc3bd3e489-8a26ca92c0442414-00
2025-05-30 17:07:57.668 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 17:07:57.669 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:07:57.671 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:07:57.672 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:07:57.673 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:07:57.674 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:07:57.675 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:07:57.677 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:07:57.678 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:07:57.679 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:07:57.680 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:07:57.681 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:07:57.682 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:07:57.683 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:07:57.685 +08:00 [INF] JWT Claim: jti = cc4217b3-8c7b-412a-8f28-689d2bf6a8b2
2025-05-30 17:07:57.686 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:07:57.687 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:07:57.688 +08:00 [INF] JWT Claim: exp = 1748596454
2025-05-30 17:07:57.690 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:07:57.691 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:07:57.692 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:07:57.693 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:07:57.695 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 17:07:57.696 +08:00 [INF] Route matched with {action = "GetTemplateById", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]] GetTemplateById(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 17:07:57.704 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 17:07:57.712 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 17:07:57.713 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService) in 15.6063ms
2025-05-30 17:07:57.715 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 17:07:57.716 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/1 - 200 null application/json; charset=utf-8 65.6615ms
2025-05-30 17:07:59.175 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/1 - null 0
2025-05-30 17:07:59.178 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:07:59.179 +08:00 [INF] 请求路径: /api/contract/GetTemplateById/1
2025-05-30 17:07:59.180 +08:00 [INF] 请求方法: GET
2025-05-30 17:07:59.182 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:07:59.183 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 17:07:59.184 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:07:59.186 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:07:59.187 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:07:59.188 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2M0MjE3YjMtOGM3Yi00MTJhLThmMjgtNjg5ZDJiZjZhOGIyIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTY0NTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.yueiZA2M5TxaXDfhGSbp_0sU2QZVtPnMfjIYlbxnJkc
2025-05-30 17:07:59.190 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:07:59.191 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:07:59.193 +08:00 [INF] 请求头: traceparent = 00-d4eec39d63fb43985bec885b681b093c-329a1a5793325a1f-00
2025-05-30 17:07:59.194 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 17:07:59.196 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:07:59.197 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:07:59.198 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:07:59.200 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:07:59.201 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:07:59.203 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:07:59.204 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:07:59.205 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:07:59.206 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:07:59.207 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:07:59.208 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:07:59.209 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:07:59.211 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:07:59.212 +08:00 [INF] JWT Claim: jti = cc4217b3-8c7b-412a-8f28-689d2bf6a8b2
2025-05-30 17:07:59.213 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:07:59.215 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:07:59.216 +08:00 [INF] JWT Claim: exp = 1748596454
2025-05-30 17:07:59.217 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:07:59.219 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:07:59.220 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:07:59.221 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:07:59.222 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 17:07:59.224 +08:00 [INF] Route matched with {action = "GetTemplateById", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]] GetTemplateById(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 17:07:59.230 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 17:07:59.233 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 17:07:59.235 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService) in 9.9733ms
2025-05-30 17:07:59.237 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 17:07:59.239 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/1 - 200 null application/json; charset=utf-8 63.7124ms
2025-05-30 17:08:16.821 +08:00 [INF] Request starting HTTP/1.1 PUT https://localhost:5004/api/contract/UpdateTemplate/1 - application/json 2825
2025-05-30 17:08:16.824 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:08:16.825 +08:00 [INF] 请求路径: /api/contract/UpdateTemplate/1
2025-05-30 17:08:16.826 +08:00 [INF] 请求方法: PUT
2025-05-30 17:08:16.827 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:08:16.828 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 17:08:16.830 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:08:16.831 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:08:16.832 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:08:16.833 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2M0MjE3YjMtOGM3Yi00MTJhLThmMjgtNjg5ZDJiZjZhOGIyIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTY0NTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.yueiZA2M5TxaXDfhGSbp_0sU2QZVtPnMfjIYlbxnJkc
2025-05-30 17:08:16.835 +08:00 [INF] 请求头: Content-Type = application/json
2025-05-30 17:08:16.836 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:08:16.837 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:08:16.839 +08:00 [INF] 请求头: traceparent = 00-6061c160cb03b6cd6594a9b86ee9948d-1dcab59522608487-00
2025-05-30 17:08:16.840 +08:00 [INF] 请求头: Content-Length = 2825
2025-05-30 17:08:16.841 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:08:16.843 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:08:16.844 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:08:16.845 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:08:16.846 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:08:16.848 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:08:16.849 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:08:16.850 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:08:16.851 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:08:16.852 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:08:16.853 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:08:16.854 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:08:16.856 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:08:16.857 +08:00 [INF] JWT Claim: jti = cc4217b3-8c7b-412a-8f28-689d2bf6a8b2
2025-05-30 17:08:16.858 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:08:16.859 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:08:16.861 +08:00 [INF] JWT Claim: exp = 1748596454
2025-05-30 17:08:16.862 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:08:16.863 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:08:16.864 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:08:16.865 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:08:16.867 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.UpdateTemplate (RealEstateSolution.ContractService)'
2025-05-30 17:08:16.876 +08:00 [INF] Route matched with {action = "UpdateTemplate", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]] UpdateTemplate(Int32, RealEstateSolution.ContractService.Models.ContractTemplateCreateDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 17:08:16.921 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 17:08:16.962 +08:00 [INF] Executed DbCommand (16ms) [Parameters=[@__name_0='?' (Size = 100), @__excludeId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ContractTemplates] AS [c]
        WHERE [c].[Name] = @__name_0 AND [c].[Id] <> @__excludeId_Value_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-30 17:08:16.973 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 17:08:16.975 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.UpdateTemplate (RealEstateSolution.ContractService) in 96.929ms
2025-05-30 17:08:16.976 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.UpdateTemplate (RealEstateSolution.ContractService)'
2025-05-30 17:08:16.977 +08:00 [INF] Request finished HTTP/1.1 PUT https://localhost:5004/api/contract/UpdateTemplate/1 - 200 null application/json; charset=utf-8 156.5816ms
2025-05-30 17:08:17.142 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 17:08:17.146 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:08:17.147 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 17:08:17.148 +08:00 [INF] 请求方法: GET
2025-05-30 17:08:17.149 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:08:17.150 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 17:08:17.152 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:08:17.153 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:08:17.154 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:08:17.155 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2M0MjE3YjMtOGM3Yi00MTJhLThmMjgtNjg5ZDJiZjZhOGIyIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTY0NTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.yueiZA2M5TxaXDfhGSbp_0sU2QZVtPnMfjIYlbxnJkc
2025-05-30 17:08:17.157 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:08:17.158 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:08:17.160 +08:00 [INF] 请求头: traceparent = 00-d595514d5fb802adbb59359398fac185-46a6b11e5751450c-00
2025-05-30 17:08:17.161 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 17:08:17.162 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:08:17.163 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:08:17.165 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:08:17.166 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:08:17.167 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:08:17.168 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:08:17.170 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:08:17.171 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:08:17.172 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:08:17.173 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:08:17.174 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:08:17.175 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:08:17.176 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:08:17.178 +08:00 [INF] JWT Claim: jti = cc4217b3-8c7b-412a-8f28-689d2bf6a8b2
2025-05-30 17:08:17.179 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:08:17.180 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:08:17.182 +08:00 [INF] JWT Claim: exp = 1748596454
2025-05-30 17:08:17.183 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:08:17.184 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:08:17.186 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:08:17.187 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:08:17.188 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 17:08:17.189 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 17:08:17.196 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 17:08:17.200 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 17:08:17.204 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 12.1181ms
2025-05-30 17:08:17.205 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 17:08:17.207 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 64.5156ms
2025-05-30 17:08:19.609 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/ExportToWord/1 - null 0
2025-05-30 17:08:19.612 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:08:19.613 +08:00 [INF] 请求路径: /api/contract/ExportToWord/1
2025-05-30 17:08:19.614 +08:00 [INF] 请求方法: GET
2025-05-30 17:08:19.615 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:08:19.617 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 17:08:19.618 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:08:19.619 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:08:19.620 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:08:19.622 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2M0MjE3YjMtOGM3Yi00MTJhLThmMjgtNjg5ZDJiZjZhOGIyIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTY0NTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.yueiZA2M5TxaXDfhGSbp_0sU2QZVtPnMfjIYlbxnJkc
2025-05-30 17:08:19.623 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:08:19.624 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:08:19.626 +08:00 [INF] 请求头: traceparent = 00-045511e56fdc51fc75fe4c2914d4fbf5-1941986eb712f768-00
2025-05-30 17:08:19.627 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 17:08:19.628 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:08:19.629 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:08:19.630 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:08:19.631 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:08:19.632 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:08:19.633 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:08:19.635 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:08:19.636 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:08:19.637 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:08:19.638 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:08:19.639 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:08:19.640 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:08:19.641 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:08:19.642 +08:00 [INF] JWT Claim: jti = cc4217b3-8c7b-412a-8f28-689d2bf6a8b2
2025-05-30 17:08:19.643 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:08:19.645 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:08:19.646 +08:00 [INF] JWT Claim: exp = 1748596454
2025-05-30 17:08:19.646 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:08:19.647 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:08:19.648 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:08:19.649 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:08:19.650 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService)'
2025-05-30 17:08:19.652 +08:00 [INF] Route matched with {action = "ExportToWord", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExportToWord(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 17:08:19.657 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 17:08:19.662 +08:00 [INF] Executing FileContentResult, sending file with download name '标准房屋买卖合同模板.docx' ...
2025-05-30 17:08:19.664 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService) in 10.1477ms
2025-05-30 17:08:19.665 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService)'
2025-05-30 17:08:19.666 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/ExportToWord/1 - 200 2213 application/vnd.openxmlformats-officedocument.wordprocessingml.document 57.0283ms
2025-05-30 17:08:32.381 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/1 - null 0
2025-05-30 17:08:32.384 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:08:32.385 +08:00 [INF] 请求路径: /api/contract/GetTemplateById/1
2025-05-30 17:08:32.386 +08:00 [INF] 请求方法: GET
2025-05-30 17:08:32.387 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:08:32.389 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 17:08:32.390 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:08:32.391 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:08:32.392 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:08:32.394 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2M0MjE3YjMtOGM3Yi00MTJhLThmMjgtNjg5ZDJiZjZhOGIyIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTY0NTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.yueiZA2M5TxaXDfhGSbp_0sU2QZVtPnMfjIYlbxnJkc
2025-05-30 17:08:32.395 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:08:32.397 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:08:32.398 +08:00 [INF] 请求头: traceparent = 00-51a87fe8de315c5fa7203a9595e5639b-8c6adbe49021fd25-00
2025-05-30 17:08:32.399 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 17:08:32.401 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:08:32.402 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:08:32.404 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:08:32.405 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:08:32.407 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:08:32.408 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:08:32.410 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:08:32.412 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:08:32.413 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:08:32.414 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:08:32.415 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:08:32.417 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:08:32.418 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:08:32.419 +08:00 [INF] JWT Claim: jti = cc4217b3-8c7b-412a-8f28-689d2bf6a8b2
2025-05-30 17:08:32.420 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:08:32.422 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:08:32.424 +08:00 [INF] JWT Claim: exp = 1748596454
2025-05-30 17:08:32.425 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:08:32.427 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:08:32.428 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:08:32.429 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:08:32.430 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 17:08:32.431 +08:00 [INF] Route matched with {action = "GetTemplateById", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]] GetTemplateById(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 17:08:32.437 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 17:08:32.440 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 17:08:32.442 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService) in 8.8804ms
2025-05-30 17:08:32.444 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 17:08:32.445 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/1 - 200 null application/json; charset=utf-8 64.8272ms
2025-05-30 17:08:34.921 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/1 - null 0
2025-05-30 17:08:34.924 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:08:34.924 +08:00 [INF] 请求路径: /api/contract/GetTemplateById/1
2025-05-30 17:08:34.925 +08:00 [INF] 请求方法: GET
2025-05-30 17:08:34.927 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:08:34.928 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 17:08:34.929 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:08:34.930 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:08:34.931 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:08:34.933 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2M0MjE3YjMtOGM3Yi00MTJhLThmMjgtNjg5ZDJiZjZhOGIyIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTY0NTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.yueiZA2M5TxaXDfhGSbp_0sU2QZVtPnMfjIYlbxnJkc
2025-05-30 17:08:34.934 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:08:34.935 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:08:34.936 +08:00 [INF] 请求头: traceparent = 00-c94f19fad5fac6856a2b0cd5689a39e2-abcbb99697a2c988-00
2025-05-30 17:08:34.938 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 17:08:34.939 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:08:34.941 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:08:34.942 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:08:34.943 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:08:34.945 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:08:34.946 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:08:34.948 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:08:34.949 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:08:34.950 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:08:34.952 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:08:34.953 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:08:34.954 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:08:34.956 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:08:34.957 +08:00 [INF] JWT Claim: jti = cc4217b3-8c7b-412a-8f28-689d2bf6a8b2
2025-05-30 17:08:34.958 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:08:34.959 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:08:34.961 +08:00 [INF] JWT Claim: exp = 1748596454
2025-05-30 17:08:34.962 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:08:34.963 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:08:34.964 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:08:34.965 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:08:34.966 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 17:08:34.968 +08:00 [INF] Route matched with {action = "GetTemplateById", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]] GetTemplateById(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 17:08:34.973 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 17:08:34.977 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 17:08:34.981 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService) in 10.9325ms
2025-05-30 17:08:34.983 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 17:08:34.984 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/1 - 200 null application/json; charset=utf-8 63.5387ms
2025-05-30 17:08:58.397 +08:00 [INF] Request starting HTTP/1.1 PUT https://localhost:5004/api/contract/UpdateTemplate/1 - application/json 2825
2025-05-30 17:08:58.400 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:08:58.400 +08:00 [INF] 请求路径: /api/contract/UpdateTemplate/1
2025-05-30 17:08:58.401 +08:00 [INF] 请求方法: PUT
2025-05-30 17:08:58.402 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:08:58.403 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 17:08:58.404 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:08:58.405 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:08:58.406 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:08:58.407 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2M0MjE3YjMtOGM3Yi00MTJhLThmMjgtNjg5ZDJiZjZhOGIyIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTY0NTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.yueiZA2M5TxaXDfhGSbp_0sU2QZVtPnMfjIYlbxnJkc
2025-05-30 17:08:58.408 +08:00 [INF] 请求头: Content-Type = application/json
2025-05-30 17:08:58.409 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:08:58.410 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:08:58.411 +08:00 [INF] 请求头: traceparent = 00-dc057aeecfa6f8204871ba5ce9c1642b-5b37f5fd06fec35e-00
2025-05-30 17:08:58.412 +08:00 [INF] 请求头: Content-Length = 2825
2025-05-30 17:08:58.413 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:08:58.414 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:08:58.415 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:08:58.416 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:08:58.417 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:08:58.418 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:08:58.419 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:08:58.420 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:08:58.421 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:08:58.421 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:08:58.422 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:08:58.423 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:08:58.424 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:08:58.425 +08:00 [INF] JWT Claim: jti = cc4217b3-8c7b-412a-8f28-689d2bf6a8b2
2025-05-30 17:08:58.427 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:08:58.428 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:08:58.428 +08:00 [INF] JWT Claim: exp = 1748596454
2025-05-30 17:08:58.429 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:08:58.430 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:08:58.431 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:08:58.432 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:08:58.433 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.UpdateTemplate (RealEstateSolution.ContractService)'
2025-05-30 17:08:58.434 +08:00 [INF] Route matched with {action = "UpdateTemplate", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]] UpdateTemplate(Int32, RealEstateSolution.ContractService.Models.ContractTemplateCreateDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 17:09:09.866 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 17:09:19.752 +08:00 [INF] Executed DbCommand (13ms) [Parameters=[@__name_0='?' (Size = 100), @__excludeId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ContractTemplates] AS [c]
        WHERE [c].[Name] = @__name_0 AND [c].[Id] <> @__excludeId_Value_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-30 17:10:06.616 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 17:10:06.657 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.UpdateTemplate (RealEstateSolution.ContractService) in 68221.4675ms
2025-05-30 17:10:06.658 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.UpdateTemplate (RealEstateSolution.ContractService)'
2025-05-30 17:10:07.480 +08:00 [INF] Request finished HTTP/1.1 PUT https://localhost:5004/api/contract/UpdateTemplate/1 - 499 null application/json; charset=utf-8 69083.2761ms
2025-05-30 17:10:12.946 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 17:10:12.957 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:10:12.958 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 17:10:12.959 +08:00 [INF] 请求方法: GET
2025-05-30 17:10:12.960 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:10:12.961 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 17:10:12.962 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:10:12.964 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:10:12.965 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:10:12.966 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2M0MjE3YjMtOGM3Yi00MTJhLThmMjgtNjg5ZDJiZjZhOGIyIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTY0NTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.yueiZA2M5TxaXDfhGSbp_0sU2QZVtPnMfjIYlbxnJkc
2025-05-30 17:10:12.967 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:10:12.968 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:10:12.969 +08:00 [INF] 请求头: traceparent = 00-31102e8b96d6d3c44f5c2d51c453f172-6a131c1a36358154-00
2025-05-30 17:10:12.971 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 17:10:12.972 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:10:12.973 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:10:12.974 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:10:12.976 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:10:12.977 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:10:12.978 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:10:12.979 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:10:12.980 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:10:12.981 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:10:12.982 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:10:12.983 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:10:12.984 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:10:12.985 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:10:12.987 +08:00 [INF] JWT Claim: jti = cc4217b3-8c7b-412a-8f28-689d2bf6a8b2
2025-05-30 17:10:12.988 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:10:12.989 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:10:12.990 +08:00 [INF] JWT Claim: exp = 1748596454
2025-05-30 17:10:12.991 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:10:12.992 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:10:12.994 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:10:12.995 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:10:12.997 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 17:10:12.998 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 17:10:13.007 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 17:10:13.012 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 17:10:13.014 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 14.1698ms
2025-05-30 17:10:13.016 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 17:10:13.017 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 70.8358ms
2025-05-30 17:10:14.494 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/1 - null 0
2025-05-30 17:10:14.497 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:10:14.498 +08:00 [INF] 请求路径: /api/contract/GetTemplateById/1
2025-05-30 17:10:14.499 +08:00 [INF] 请求方法: GET
2025-05-30 17:10:14.500 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:10:14.502 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 17:10:14.503 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:10:14.505 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:10:14.506 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:10:14.507 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2M0MjE3YjMtOGM3Yi00MTJhLThmMjgtNjg5ZDJiZjZhOGIyIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTY0NTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.yueiZA2M5TxaXDfhGSbp_0sU2QZVtPnMfjIYlbxnJkc
2025-05-30 17:10:14.508 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:10:14.510 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:10:14.511 +08:00 [INF] 请求头: traceparent = 00-d3199c935ad0ed1599433e28abb99d0c-398959a5995103bd-00
2025-05-30 17:10:14.512 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 17:10:14.514 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:10:14.515 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:10:14.517 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:10:14.518 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:10:14.519 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:10:14.520 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:10:14.522 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:10:14.523 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:10:14.524 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:10:14.525 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:10:14.526 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:10:14.527 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:10:14.528 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:10:14.529 +08:00 [INF] JWT Claim: jti = cc4217b3-8c7b-412a-8f28-689d2bf6a8b2
2025-05-30 17:10:14.531 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:10:14.532 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:10:14.533 +08:00 [INF] JWT Claim: exp = 1748596454
2025-05-30 17:10:14.534 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:10:14.536 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:10:14.537 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:10:14.538 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:10:14.539 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 17:10:14.541 +08:00 [INF] Route matched with {action = "GetTemplateById", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]] GetTemplateById(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 17:10:14.550 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 17:10:14.553 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 17:10:14.555 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService) in 12.1505ms
2025-05-30 17:10:14.556 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 17:10:14.558 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/1 - 200 null application/json; charset=utf-8 64.1086ms
2025-05-30 17:10:21.196 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/1 - null 0
2025-05-30 17:10:37.117 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:10:37.123 +08:00 [INF] 请求路径: /api/contract/GetTemplateById/1
2025-05-30 17:10:37.129 +08:00 [INF] 请求方法: GET
2025-05-30 17:10:37.131 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:10:37.132 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 17:10:37.134 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:10:37.135 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:10:37.136 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:10:37.138 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2M0MjE3YjMtOGM3Yi00MTJhLThmMjgtNjg5ZDJiZjZhOGIyIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTY0NTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.yueiZA2M5TxaXDfhGSbp_0sU2QZVtPnMfjIYlbxnJkc
2025-05-30 17:10:37.139 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:10:37.141 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:10:37.142 +08:00 [INF] 请求头: traceparent = 00-fbe69e99ae1f40998409ba0652686972-b621535d8c313d49-00
2025-05-30 17:10:37.144 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 17:10:37.145 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:10:37.147 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:10:37.148 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:10:37.150 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:10:37.151 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:10:37.153 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:10:37.154 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:10:37.156 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:10:37.157 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:10:37.158 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:10:37.159 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:10:37.161 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:10:37.162 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:10:37.164 +08:00 [INF] JWT Claim: jti = cc4217b3-8c7b-412a-8f28-689d2bf6a8b2
2025-05-30 17:10:37.165 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:10:37.167 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:10:37.168 +08:00 [INF] JWT Claim: exp = 1748596454
2025-05-30 17:10:37.170 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:10:37.171 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:10:37.173 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:10:37.174 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:10:37.175 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 17:10:37.177 +08:00 [INF] Route matched with {action = "GetTemplateById", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]] GetTemplateById(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 17:10:37.190 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 17:10:37.193 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 17:10:37.197 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService) in 18.0634ms
2025-05-30 17:10:37.199 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 17:10:37.201 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/1 - 499 null application/json; charset=utf-8 16004.3265ms
2025-05-30 17:10:37.253 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 17:10:37.256 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:10:37.257 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 17:10:37.259 +08:00 [INF] 请求方法: GET
2025-05-30 17:10:37.260 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:10:37.261 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 17:10:37.262 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:10:37.264 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:10:37.265 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:10:37.266 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2M0MjE3YjMtOGM3Yi00MTJhLThmMjgtNjg5ZDJiZjZhOGIyIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTY0NTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.yueiZA2M5TxaXDfhGSbp_0sU2QZVtPnMfjIYlbxnJkc
2025-05-30 17:10:37.268 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:10:37.269 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:10:37.270 +08:00 [INF] 请求头: traceparent = 00-dee8dc73222062a2faa1f1629ce79592-e9a897f85d80aece-00
2025-05-30 17:10:37.272 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 17:10:37.273 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:10:37.274 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:10:37.275 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:10:37.276 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:10:37.277 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:10:37.279 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:10:37.280 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:10:37.282 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:10:37.283 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:10:37.284 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:10:37.285 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:10:37.287 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:10:37.288 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:10:37.289 +08:00 [INF] JWT Claim: jti = cc4217b3-8c7b-412a-8f28-689d2bf6a8b2
2025-05-30 17:10:37.291 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:10:37.292 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:10:37.293 +08:00 [INF] JWT Claim: exp = 1748596454
2025-05-30 17:10:37.295 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:10:37.296 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:10:37.297 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:10:37.298 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:10:37.299 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 17:10:37.301 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 17:10:37.338 +08:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 17:10:37.342 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 17:10:37.344 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 41.724ms
2025-05-30 17:10:37.346 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 17:10:37.347 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 93.8227ms
2025-05-30 17:10:41.013 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 17:10:41.016 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:10:41.017 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 17:10:41.018 +08:00 [INF] 请求方法: GET
2025-05-30 17:10:41.020 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:10:41.021 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 17:10:41.022 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:10:41.023 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:10:41.024 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:10:41.025 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2M0MjE3YjMtOGM3Yi00MTJhLThmMjgtNjg5ZDJiZjZhOGIyIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTY0NTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.yueiZA2M5TxaXDfhGSbp_0sU2QZVtPnMfjIYlbxnJkc
2025-05-30 17:10:41.026 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:10:41.028 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:10:41.029 +08:00 [INF] 请求头: traceparent = 00-70c704150795fdeb8339d6622d923f9a-80c9cc821cde8393-00
2025-05-30 17:10:41.031 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 17:10:41.032 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:10:41.033 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:10:41.034 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:10:41.036 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:10:41.037 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:10:41.038 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:10:41.040 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:10:41.041 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:10:41.041 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:10:41.042 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:10:41.044 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:10:41.045 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:10:41.046 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:10:41.047 +08:00 [INF] JWT Claim: jti = cc4217b3-8c7b-412a-8f28-689d2bf6a8b2
2025-05-30 17:10:41.049 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:10:41.050 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:10:41.052 +08:00 [INF] JWT Claim: exp = 1748596454
2025-05-30 17:10:41.053 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:10:41.055 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:10:41.056 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:10:41.057 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:10:41.058 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 17:10:41.059 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 17:10:41.072 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 17:10:41.076 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 17:10:41.079 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 17.566ms
2025-05-30 17:10:41.081 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 17:10:41.082 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 68.9872ms
2025-05-30 17:10:43.012 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/1 - null 0
2025-05-30 17:10:43.015 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:10:43.016 +08:00 [INF] 请求路径: /api/contract/GetTemplateById/1
2025-05-30 17:10:43.017 +08:00 [INF] 请求方法: GET
2025-05-30 17:10:43.018 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:10:43.020 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 17:10:43.021 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:10:43.023 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:10:43.024 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:10:43.025 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2M0MjE3YjMtOGM3Yi00MTJhLThmMjgtNjg5ZDJiZjZhOGIyIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTY0NTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.yueiZA2M5TxaXDfhGSbp_0sU2QZVtPnMfjIYlbxnJkc
2025-05-30 17:10:43.027 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:10:43.029 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:10:43.030 +08:00 [INF] 请求头: traceparent = 00-65577a6e38f0c6d98587e640645efcaa-f02b2e4affa1578a-00
2025-05-30 17:10:43.031 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 17:10:43.032 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:10:43.033 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:10:43.035 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:10:43.036 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:10:43.037 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:10:43.039 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:10:43.040 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:10:43.041 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:10:43.042 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:10:43.043 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:10:43.044 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:10:43.045 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:10:43.046 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:10:43.047 +08:00 [INF] JWT Claim: jti = cc4217b3-8c7b-412a-8f28-689d2bf6a8b2
2025-05-30 17:10:43.049 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:10:43.050 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:10:43.051 +08:00 [INF] JWT Claim: exp = 1748596454
2025-05-30 17:10:43.053 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:10:43.054 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:10:43.055 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:10:43.056 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:10:43.057 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 17:10:43.058 +08:00 [INF] Route matched with {action = "GetTemplateById", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]] GetTemplateById(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 17:10:43.071 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 17:10:43.074 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 17:10:43.076 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService) in 14.8026ms
2025-05-30 17:10:43.078 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 17:10:43.079 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/1 - 200 null application/json; charset=utf-8 66.7215ms
2025-05-30 17:14:31.335 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-30 17:14:32.014 +08:00 [INF] Now listening on: https://localhost:5004
2025-05-30 17:14:32.316 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 17:14:32.321 +08:00 [INF] Hosting environment: Development
2025-05-30 17:14:32.324 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.ContractService
2025-05-30 17:14:35.289 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5004/_framework/aspnetcore-browser-refresh.js - null null
2025-05-30 17:14:35.303 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5004/_vs/browserLink - null null
2025-05-30 17:14:35.403 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5004/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 116.6568ms
2025-05-30 17:14:35.573 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5004/_vs/browserLink - 200 null text/javascript; charset=UTF-8 271.2706ms
2025-05-30 17:14:36.385 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5004/swagger/v1/swagger.json - null null
2025-05-30 17:14:36.480 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 95.9358ms
2025-05-30 17:14:53.862 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 17:14:53.927 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:14:53.931 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 17:14:53.932 +08:00 [INF] 请求方法: GET
2025-05-30 17:14:53.934 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:14:53.936 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 17:14:53.938 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:14:53.939 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:14:53.941 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:14:53.942 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiN2I0ZTczOGUtYTgzNC00NGY4LTkzMWQtZmE4M2NmNGNjMTZkIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTcwODgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.CS61lcwn8JzBO61YU-08VSmqpg-lpUrSLG6iiUuEczs
2025-05-30 17:14:53.943 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:14:53.945 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:14:53.947 +08:00 [INF] 请求头: traceparent = 00-d8b072ffaa0a9e459ec0d27cedd05bf9-1d5560c59444dca5-00
2025-05-30 17:14:53.948 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 17:14:53.950 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:14:53.951 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:14:53.953 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:14:53.955 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:14:53.957 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:14:53.958 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:14:53.959 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:14:53.961 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:14:53.963 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:14:54.019 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:14:54.021 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:14:54.023 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:14:54.025 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:14:54.026 +08:00 [INF] JWT Claim: jti = 7b4e738e-a834-44f8-931d-fa83cf4cc16d
2025-05-30 17:14:54.028 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:14:54.030 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:14:54.032 +08:00 [INF] JWT Claim: exp = 1748597088
2025-05-30 17:14:54.033 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:14:54.035 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:14:54.037 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:14:54.174 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:14:54.228 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 17:14:54.269 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 17:14:55.336 +08:00 [WRN] No store type was specified for the decimal property 'MaxArea' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 17:14:55.338 +08:00 [WRN] No store type was specified for the decimal property 'MaxPrice' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 17:14:55.340 +08:00 [WRN] No store type was specified for the decimal property 'MinArea' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 17:14:55.342 +08:00 [WRN] No store type was specified for the decimal property 'MinPrice' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 17:14:55.344 +08:00 [WRN] No store type was specified for the decimal property 'Area' on entity type 'Property'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 17:14:55.347 +08:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Property'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 17:14:56.553 +08:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 17:14:56.698 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 17:14:56.740 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 2465.4724ms
2025-05-30 17:14:56.743 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 17:14:56.753 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 2891.5956ms
2025-05-30 17:14:58.856 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/3 - null 0
2025-05-30 17:14:58.860 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:14:58.861 +08:00 [INF] 请求路径: /api/contract/GetTemplateById/3
2025-05-30 17:14:58.863 +08:00 [INF] 请求方法: GET
2025-05-30 17:14:58.864 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:14:58.865 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 17:14:58.868 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:14:58.869 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:14:58.871 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:14:58.873 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiN2I0ZTczOGUtYTgzNC00NGY4LTkzMWQtZmE4M2NmNGNjMTZkIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTcwODgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.CS61lcwn8JzBO61YU-08VSmqpg-lpUrSLG6iiUuEczs
2025-05-30 17:14:58.874 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:14:58.876 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:14:58.877 +08:00 [INF] 请求头: traceparent = 00-6fbc7034af2f31778c2cdbe5ae4bab7c-20a25ef2272f5a3a-00
2025-05-30 17:14:58.879 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 17:14:58.880 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:14:58.882 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:14:58.883 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:14:58.885 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:14:58.886 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:14:58.887 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:14:58.889 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:14:58.891 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:14:58.891 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:14:58.893 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:14:58.894 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:14:58.895 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:14:58.897 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:14:58.898 +08:00 [INF] JWT Claim: jti = 7b4e738e-a834-44f8-931d-fa83cf4cc16d
2025-05-30 17:14:58.899 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:14:58.901 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:14:58.902 +08:00 [INF] JWT Claim: exp = 1748597088
2025-05-30 17:14:58.904 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:14:58.905 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:14:58.906 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:14:58.910 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:14:58.917 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 17:14:58.925 +08:00 [INF] Route matched with {action = "GetTemplateById", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]] GetTemplateById(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 17:14:59.117 +08:00 [INF] Executed DbCommand (40ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 17:14:59.126 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 17:14:59.130 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService) in 201.7303ms
2025-05-30 17:14:59.132 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 17:14:59.134 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/3 - 200 null application/json; charset=utf-8 278.1689ms
2025-05-30 17:15:03.156 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 17:15:03.161 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:15:03.163 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 17:15:03.165 +08:00 [INF] 请求方法: GET
2025-05-30 17:15:03.167 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:15:03.170 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 17:15:03.173 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:15:03.175 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:15:03.177 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:15:03.179 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiN2I0ZTczOGUtYTgzNC00NGY4LTkzMWQtZmE4M2NmNGNjMTZkIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTcwODgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.CS61lcwn8JzBO61YU-08VSmqpg-lpUrSLG6iiUuEczs
2025-05-30 17:15:03.182 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:15:03.183 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:15:03.185 +08:00 [INF] 请求头: traceparent = 00-218ae82f0966dfab610c3472705bc8af-7e6704e29fa65b04-00
2025-05-30 17:15:03.187 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 17:15:03.190 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:15:03.192 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:15:03.194 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:15:03.196 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:15:03.198 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:15:03.200 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:15:03.202 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:15:03.204 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:15:03.206 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:15:03.208 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:15:03.209 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:15:03.212 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:15:03.214 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:15:03.215 +08:00 [INF] JWT Claim: jti = 7b4e738e-a834-44f8-931d-fa83cf4cc16d
2025-05-30 17:15:03.217 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:15:03.219 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:15:03.220 +08:00 [INF] JWT Claim: exp = 1748597088
2025-05-30 17:15:03.223 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:15:03.225 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:15:03.226 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:15:03.232 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:15:03.235 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 17:15:03.237 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 17:15:03.270 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 17:15:03.277 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 17:15:03.283 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 42.3537ms
2025-05-30 17:15:03.285 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 17:15:03.288 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 131.353ms
2025-05-30 17:15:05.310 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 17:15:05.315 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:15:05.317 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 17:15:05.318 +08:00 [INF] 请求方法: GET
2025-05-30 17:15:05.320 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:15:05.321 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 17:15:05.324 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:15:05.325 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:15:05.327 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:15:05.329 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiN2I0ZTczOGUtYTgzNC00NGY4LTkzMWQtZmE4M2NmNGNjMTZkIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTcwODgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.CS61lcwn8JzBO61YU-08VSmqpg-lpUrSLG6iiUuEczs
2025-05-30 17:15:05.331 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:15:05.333 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:15:05.334 +08:00 [INF] 请求头: traceparent = 00-1a39e2420d0034f06bdd43959919e8d3-ea3be14409385195-00
2025-05-30 17:15:05.336 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 17:15:05.338 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:15:05.340 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:15:05.342 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:15:05.344 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:15:05.348 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:15:05.350 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:15:05.353 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:15:05.354 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:15:05.356 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:15:05.357 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:15:05.358 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:15:05.360 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:15:05.362 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:15:05.364 +08:00 [INF] JWT Claim: jti = 7b4e738e-a834-44f8-931d-fa83cf4cc16d
2025-05-30 17:15:05.366 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:15:05.368 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:15:05.370 +08:00 [INF] JWT Claim: exp = 1748597088
2025-05-30 17:15:05.372 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:15:05.374 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:15:05.375 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:15:05.377 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:15:05.379 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 17:15:05.381 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 17:15:05.391 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 17:15:05.399 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 17:15:05.402 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 18.7455ms
2025-05-30 17:15:05.405 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 17:15:05.408 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 97.2466ms
2025-05-30 17:15:08.241 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/ExportToWord/4 - null 0
2025-05-30 17:15:08.244 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:15:08.245 +08:00 [INF] 请求路径: /api/contract/ExportToWord/4
2025-05-30 17:15:08.246 +08:00 [INF] 请求方法: GET
2025-05-30 17:15:08.246 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:15:08.248 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 17:15:08.249 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:15:08.250 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:15:08.251 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:15:08.252 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiN2I0ZTczOGUtYTgzNC00NGY4LTkzMWQtZmE4M2NmNGNjMTZkIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTcwODgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.CS61lcwn8JzBO61YU-08VSmqpg-lpUrSLG6iiUuEczs
2025-05-30 17:15:08.254 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:15:08.255 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:15:08.256 +08:00 [INF] 请求头: traceparent = 00-50c8249bfc45375c7bfb8a48e840d1a7-71c8e1892ddc626f-00
2025-05-30 17:15:08.257 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 17:15:08.258 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:15:08.259 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:15:08.260 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:15:08.261 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:15:08.263 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:15:08.264 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:15:08.265 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:15:08.267 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:15:08.267 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:15:08.268 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:15:08.269 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:15:08.270 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:15:08.272 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:15:08.273 +08:00 [INF] JWT Claim: jti = 7b4e738e-a834-44f8-931d-fa83cf4cc16d
2025-05-30 17:15:08.274 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:15:08.275 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:15:08.276 +08:00 [INF] JWT Claim: exp = 1748597088
2025-05-30 17:15:08.277 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:15:08.278 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:15:08.280 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:15:08.281 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:15:08.282 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService)'
2025-05-30 17:15:08.288 +08:00 [INF] Route matched with {action = "ExportToWord", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExportToWord(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 17:15:08.353 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 17:15:08.538 +08:00 [INF] Executing FileContentResult, sending file with download name '商铺租赁合同模板.docx' ...
2025-05-30 17:15:08.546 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService) in 256.4491ms
2025-05-30 17:15:08.548 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.ExportToWord (RealEstateSolution.ContractService)'
2025-05-30 17:15:08.549 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/ExportToWord/4 - 200 2726 application/vnd.openxmlformats-officedocument.wordprocessingml.document 308.143ms
2025-05-30 17:15:17.016 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/1 - null 0
2025-05-30 17:15:17.019 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:15:17.020 +08:00 [INF] 请求路径: /api/contract/GetTemplateById/1
2025-05-30 17:15:17.021 +08:00 [INF] 请求方法: GET
2025-05-30 17:15:17.022 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:15:17.023 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 17:15:17.024 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:15:17.026 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:15:17.027 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:15:17.029 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiN2I0ZTczOGUtYTgzNC00NGY4LTkzMWQtZmE4M2NmNGNjMTZkIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTcwODgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.CS61lcwn8JzBO61YU-08VSmqpg-lpUrSLG6iiUuEczs
2025-05-30 17:15:17.030 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:15:17.031 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:15:17.032 +08:00 [INF] 请求头: traceparent = 00-1a865a8807a570505e6179ffd56c5cd9-f70942b1809f258d-00
2025-05-30 17:15:17.034 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 17:15:17.035 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:15:17.036 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:15:17.037 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:15:17.039 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:15:17.040 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:15:17.041 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:15:17.042 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:15:17.043 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:15:17.044 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:15:17.045 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:15:17.046 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:15:17.048 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:15:17.049 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:15:17.050 +08:00 [INF] JWT Claim: jti = 7b4e738e-a834-44f8-931d-fa83cf4cc16d
2025-05-30 17:15:17.051 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:15:17.052 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:15:17.053 +08:00 [INF] JWT Claim: exp = 1748597088
2025-05-30 17:15:17.055 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:15:17.056 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:15:17.057 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:15:17.059 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:15:17.060 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 17:15:17.061 +08:00 [INF] Route matched with {action = "GetTemplateById", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]] GetTemplateById(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 17:15:17.068 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 17:15:17.071 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 17:15:17.073 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService) in 9.7711ms
2025-05-30 17:15:17.075 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 17:15:17.076 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/1 - 200 null application/json; charset=utf-8 60.3363ms
2025-05-30 17:15:18.204 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/1 - null 0
2025-05-30 17:15:18.207 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:15:18.208 +08:00 [INF] 请求路径: /api/contract/GetTemplateById/1
2025-05-30 17:15:18.209 +08:00 [INF] 请求方法: GET
2025-05-30 17:15:18.210 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:15:18.211 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 17:15:18.213 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:15:18.214 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:15:18.215 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:15:18.217 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiN2I0ZTczOGUtYTgzNC00NGY4LTkzMWQtZmE4M2NmNGNjMTZkIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTcwODgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.CS61lcwn8JzBO61YU-08VSmqpg-lpUrSLG6iiUuEczs
2025-05-30 17:15:18.218 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:15:18.220 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:15:18.221 +08:00 [INF] 请求头: traceparent = 00-6858696e39554d07fef109d01e3e597e-028dc676d158e676-00
2025-05-30 17:15:18.222 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 17:15:18.224 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:15:18.225 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:15:18.226 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:15:18.227 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:15:18.229 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:15:18.230 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:15:18.232 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:15:18.233 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:15:18.234 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:15:18.235 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:15:18.236 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:15:18.237 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:15:18.238 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:15:18.240 +08:00 [INF] JWT Claim: jti = 7b4e738e-a834-44f8-931d-fa83cf4cc16d
2025-05-30 17:15:18.241 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:15:18.243 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:15:18.244 +08:00 [INF] JWT Claim: exp = 1748597088
2025-05-30 17:15:18.245 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:15:18.247 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:15:18.248 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:15:18.249 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:15:18.251 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 17:15:18.252 +08:00 [INF] Route matched with {action = "GetTemplateById", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]] GetTemplateById(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 17:15:18.258 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 17:15:18.262 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 17:15:18.264 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService) in 10.3059ms
2025-05-30 17:15:18.266 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 17:15:18.267 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/1 - 200 null application/json; charset=utf-8 63.7822ms
2025-05-30 17:15:27.054 +08:00 [INF] Request starting HTTP/1.1 PUT https://localhost:5004/api/contract/UpdateTemplate/1 - application/json 2825
2025-05-30 17:15:27.058 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:15:27.059 +08:00 [INF] 请求路径: /api/contract/UpdateTemplate/1
2025-05-30 17:15:27.060 +08:00 [INF] 请求方法: PUT
2025-05-30 17:15:27.062 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:15:27.063 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 17:15:27.065 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:15:27.066 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:15:27.068 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:15:27.069 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiN2I0ZTczOGUtYTgzNC00NGY4LTkzMWQtZmE4M2NmNGNjMTZkIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTcwODgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.CS61lcwn8JzBO61YU-08VSmqpg-lpUrSLG6iiUuEczs
2025-05-30 17:15:27.071 +08:00 [INF] 请求头: Content-Type = application/json
2025-05-30 17:15:27.072 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:15:27.073 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:15:27.075 +08:00 [INF] 请求头: traceparent = 00-dd86c776d10e249f0858325eab650bb4-72fd6b7963ad8081-00
2025-05-30 17:15:27.076 +08:00 [INF] 请求头: Content-Length = 2825
2025-05-30 17:15:27.078 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:15:27.079 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:15:27.080 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:15:27.082 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:15:27.083 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:15:27.084 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:15:27.085 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:15:27.086 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:15:27.087 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:15:27.088 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:15:27.089 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:15:27.090 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:15:27.091 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:15:27.092 +08:00 [INF] JWT Claim: jti = 7b4e738e-a834-44f8-931d-fa83cf4cc16d
2025-05-30 17:15:27.093 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:15:27.095 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:15:27.096 +08:00 [INF] JWT Claim: exp = 1748597088
2025-05-30 17:15:27.097 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:15:27.098 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:15:27.099 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:15:27.100 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:15:27.101 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.UpdateTemplate (RealEstateSolution.ContractService)'
2025-05-30 17:15:27.106 +08:00 [INF] Route matched with {action = "UpdateTemplate", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]] UpdateTemplate(Int32, RealEstateSolution.ContractService.Models.ContractTemplateCreateDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 17:15:34.103 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 17:15:36.622 +08:00 [INF] Executed DbCommand (16ms) [Parameters=[@__name_0='?' (Size = 100), @__excludeId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ContractTemplates] AS [c]
        WHERE [c].[Name] = @__name_0 AND [c].[Id] <> @__excludeId_Value_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-30 17:15:41.559 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 17:15:41.564 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.UpdateTemplate (RealEstateSolution.ContractService) in 14455.5301ms
2025-05-30 17:15:41.565 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.UpdateTemplate (RealEstateSolution.ContractService)'
2025-05-30 17:15:41.570 +08:00 [INF] Request finished HTTP/1.1 PUT https://localhost:5004/api/contract/UpdateTemplate/1 - 499 null application/json; charset=utf-8 14515.5764ms
2025-05-30 17:15:41.571 +08:00 [ERR] Failed executing DbCommand (31ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (Size = 500), @p4='?' (DbType = Int64), @p5='?' (DbType = Boolean), @p6='?' (Size = 100), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime2), @p9='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ContractTemplates] SET [Content] = @p0, [CreatedAt] = @p1, [CreatedBy] = @p2, [Description] = @p3, [FileSize] = @p4, [IsActive] = @p5, [Name] = @p6, [Type] = @p7, [UpdatedAt] = @p8, [Version] = @p9
OUTPUT 1
WHERE [Id] = @p10;
2025-05-30 17:43:32.057 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-30 17:43:33.857 +08:00 [INF] Now listening on: https://localhost:5004
2025-05-30 17:43:34.232 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 17:43:34.243 +08:00 [INF] Hosting environment: Development
2025-05-30 17:43:34.247 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.ContractService
2025-05-30 17:43:39.464 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5004/_framework/aspnetcore-browser-refresh.js - null null
2025-05-30 17:43:39.536 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5004/_vs/browserLink - null null
2025-05-30 17:43:39.653 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5004/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 191.7623ms
2025-05-30 17:43:39.783 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5004/_vs/browserLink - 200 null text/javascript; charset=UTF-8 252.9133ms
2025-05-30 17:43:41.120 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5004/swagger/v1/swagger.json - null null
2025-05-30 17:43:41.252 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 132.4769ms
2025-05-30 17:45:02.556 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 17:45:02.617 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:45:02.619 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 17:45:02.620 +08:00 [INF] 请求方法: GET
2025-05-30 17:45:02.622 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:45:02.624 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 17:45:02.625 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:45:02.626 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:45:02.627 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:45:02.629 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOTVmNzc4YjMtZDlkZi00NTVhLWEwZWEtYzNmOTE4ZWIyZDE4IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTg4OTEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.FpxFDq1XcwZoPISAtXsyVM9UbrQeYews2VaiidwuyCM
2025-05-30 17:45:02.630 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:45:02.631 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:45:02.633 +08:00 [INF] 请求头: traceparent = 00-a6f94980000815fe54a8a721e399a6db-e8cef4ed7e10588f-00
2025-05-30 17:45:02.634 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 17:45:02.635 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:45:02.636 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:45:02.637 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:45:02.639 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:45:02.641 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:45:02.642 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:45:02.643 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:45:02.644 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:45:02.645 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:45:02.694 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:45:02.695 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:45:02.697 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:45:02.699 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:45:02.700 +08:00 [INF] JWT Claim: jti = 95f778b3-d9df-455a-a0ea-c3f918eb2d18
2025-05-30 17:45:02.701 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:45:02.702 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:45:02.703 +08:00 [INF] JWT Claim: exp = 1748598891
2025-05-30 17:45:02.705 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:45:02.706 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:45:02.708 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:45:02.796 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:45:02.835 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 17:45:02.861 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 17:45:03.651 +08:00 [WRN] No store type was specified for the decimal property 'MaxArea' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 17:45:03.655 +08:00 [WRN] No store type was specified for the decimal property 'MaxPrice' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 17:45:03.656 +08:00 [WRN] No store type was specified for the decimal property 'MinArea' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 17:45:03.658 +08:00 [WRN] No store type was specified for the decimal property 'MinPrice' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 17:45:03.659 +08:00 [WRN] No store type was specified for the decimal property 'Area' on entity type 'Property'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 17:45:03.661 +08:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Property'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 17:45:04.583 +08:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 17:45:04.697 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 17:45:04.732 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 1865.4663ms
2025-05-30 17:45:04.736 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 17:45:04.743 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 2187.4612ms
2025-05-30 17:45:09.784 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?isActive=false&pageIndex=1&pageSize=10 - null 0
2025-05-30 17:45:09.788 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:45:09.789 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 17:45:09.790 +08:00 [INF] 请求方法: GET
2025-05-30 17:45:09.791 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:45:09.792 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 17:45:09.793 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:45:09.794 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:45:09.795 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:45:09.796 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOTVmNzc4YjMtZDlkZi00NTVhLWEwZWEtYzNmOTE4ZWIyZDE4IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTg4OTEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.FpxFDq1XcwZoPISAtXsyVM9UbrQeYews2VaiidwuyCM
2025-05-30 17:45:09.797 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:45:09.798 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:45:09.800 +08:00 [INF] 请求头: traceparent = 00-55c6da11d669df18b945715dfda1c67c-4f77e6222231f422-00
2025-05-30 17:45:09.801 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 17:45:09.802 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:45:09.803 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:45:09.804 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:45:09.805 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:45:09.807 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:45:09.808 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:45:09.809 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:45:09.810 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:45:09.811 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:45:09.812 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:45:09.813 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:45:09.815 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:45:09.816 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:45:09.817 +08:00 [INF] JWT Claim: jti = 95f778b3-d9df-455a-a0ea-c3f918eb2d18
2025-05-30 17:45:09.818 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:45:09.820 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:45:09.821 +08:00 [INF] JWT Claim: exp = 1748598891
2025-05-30 17:45:09.823 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:45:09.824 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:45:09.826 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:45:09.829 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:45:09.834 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 17:45:09.836 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 17:45:09.959 +08:00 [INF] Executed DbCommand (37ms) [Parameters=[@__isActive_Value_0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[IsActive] = @__isActive_Value_0
ORDER BY [c].[CreatedAt] DESC
2025-05-30 17:45:09.963 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 17:45:09.966 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 127.9406ms
2025-05-30 17:45:09.968 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 17:45:09.969 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?isActive=false&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 184.9063ms
2025-05-30 17:45:13.011 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?isActive=true&pageIndex=1&pageSize=10 - null 0
2025-05-30 17:45:13.014 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:45:13.015 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 17:45:13.016 +08:00 [INF] 请求方法: GET
2025-05-30 17:45:13.017 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:45:13.018 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 17:45:13.019 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:45:13.020 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:45:13.021 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:45:13.023 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOTVmNzc4YjMtZDlkZi00NTVhLWEwZWEtYzNmOTE4ZWIyZDE4IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTg4OTEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.FpxFDq1XcwZoPISAtXsyVM9UbrQeYews2VaiidwuyCM
2025-05-30 17:45:13.025 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:45:13.026 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:45:13.027 +08:00 [INF] 请求头: traceparent = 00-5d915bc3e2ecaa3338f1a4169a29d056-c916b63d7eb766ce-00
2025-05-30 17:45:13.028 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 17:45:13.029 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:45:13.030 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:45:13.031 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:45:13.032 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:45:13.033 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:45:13.034 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:45:13.035 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:45:13.036 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:45:13.037 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:45:13.038 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:45:13.040 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:45:13.041 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:45:13.042 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:45:13.043 +08:00 [INF] JWT Claim: jti = 95f778b3-d9df-455a-a0ea-c3f918eb2d18
2025-05-30 17:45:13.044 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:45:13.045 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:45:13.046 +08:00 [INF] JWT Claim: exp = 1748598891
2025-05-30 17:45:13.046 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:45:13.048 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:45:13.049 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:45:13.052 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:45:13.054 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 17:45:13.055 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 17:45:13.077 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__isActive_Value_0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[IsActive] = @__isActive_Value_0
ORDER BY [c].[CreatedAt] DESC
2025-05-30 17:45:13.080 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 17:45:13.084 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 27.0868ms
2025-05-30 17:45:13.085 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 17:45:13.086 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?isActive=true&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 75.1563ms
2025-05-30 17:45:17.008 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?name=%E6%88%BF%E5%B1%8B&isActive=true&pageIndex=1&pageSize=10 - null 0
2025-05-30 17:45:17.011 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:45:17.012 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 17:45:17.012 +08:00 [INF] 请求方法: GET
2025-05-30 17:45:17.013 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:45:17.015 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 17:45:17.016 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:45:17.017 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:45:17.018 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:45:17.019 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOTVmNzc4YjMtZDlkZi00NTVhLWEwZWEtYzNmOTE4ZWIyZDE4IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTg4OTEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.FpxFDq1XcwZoPISAtXsyVM9UbrQeYews2VaiidwuyCM
2025-05-30 17:45:17.020 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:45:17.021 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:45:17.022 +08:00 [INF] 请求头: traceparent = 00-70f9400054361803d90ecc798b79afab-4161fa5f82e81e47-00
2025-05-30 17:45:17.023 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 17:45:17.025 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:45:17.026 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:45:17.027 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:45:17.028 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:45:17.029 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:45:17.031 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:45:17.032 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:45:17.033 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:45:17.034 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:45:17.035 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:45:17.036 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:45:17.037 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:45:17.038 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:45:17.040 +08:00 [INF] JWT Claim: jti = 95f778b3-d9df-455a-a0ea-c3f918eb2d18
2025-05-30 17:45:17.041 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:45:17.042 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:45:17.043 +08:00 [INF] JWT Claim: exp = 1748598891
2025-05-30 17:45:17.045 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:45:17.046 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:45:17.047 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:45:17.048 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:45:17.049 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 17:45:17.051 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 17:45:17.115 +08:00 [INF] Executed DbCommand (36ms) [Parameters=[@__name_0_rewritten='?' (Size = 100), @__name_0_rewritten_1='?' (Size = 500), @__isActive_Value_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE ([c].[Name] LIKE @__name_0_rewritten ESCAPE N'\' OR ([c].[Description] IS NOT NULL AND [c].[Description] LIKE @__name_0_rewritten_1 ESCAPE N'\')) AND [c].[IsActive] = @__isActive_Value_1
ORDER BY [c].[CreatedAt] DESC
2025-05-30 17:45:17.117 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 17:45:17.119 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 66.373ms
2025-05-30 17:45:17.120 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 17:45:17.121 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?name=%E6%88%BF%E5%B1%8B&isActive=true&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 112.9252ms
2025-05-30 17:45:19.244 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/1 - null 0
2025-05-30 17:45:19.248 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:45:19.249 +08:00 [INF] 请求路径: /api/contract/GetTemplateById/1
2025-05-30 17:45:19.250 +08:00 [INF] 请求方法: GET
2025-05-30 17:45:19.252 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:45:19.253 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 17:45:19.255 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:45:19.257 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:45:19.258 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:45:19.259 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOTVmNzc4YjMtZDlkZi00NTVhLWEwZWEtYzNmOTE4ZWIyZDE4IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTg4OTEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.FpxFDq1XcwZoPISAtXsyVM9UbrQeYews2VaiidwuyCM
2025-05-30 17:45:19.261 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:45:19.262 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:45:19.263 +08:00 [INF] 请求头: traceparent = 00-6f67d384b7f4e377df4819dcedc7f149-16f94af665b5e60e-00
2025-05-30 17:45:19.265 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 17:45:19.266 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:45:19.267 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:45:19.269 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:45:19.270 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:45:19.271 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:45:19.273 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:45:19.274 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:45:19.275 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:45:19.276 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:45:19.277 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:45:19.278 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:45:19.279 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:45:19.280 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:45:19.282 +08:00 [INF] JWT Claim: jti = 95f778b3-d9df-455a-a0ea-c3f918eb2d18
2025-05-30 17:45:19.283 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:45:19.285 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:45:19.286 +08:00 [INF] JWT Claim: exp = 1748598891
2025-05-30 17:45:19.287 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:45:19.288 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:45:19.290 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:45:19.291 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:45:19.293 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 17:45:19.301 +08:00 [INF] Route matched with {action = "GetTemplateById", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]] GetTemplateById(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 17:45:19.351 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 17:45:19.358 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 17:45:19.361 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService) in 57.8659ms
2025-05-30 17:45:19.363 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 17:45:19.364 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/1 - 200 null application/json; charset=utf-8 119.9343ms
2025-05-30 17:45:22.428 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/1 - null 0
2025-05-30 17:45:22.431 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:45:22.432 +08:00 [INF] 请求路径: /api/contract/GetTemplateById/1
2025-05-30 17:45:22.434 +08:00 [INF] 请求方法: GET
2025-05-30 17:45:22.435 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:45:22.436 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 17:45:22.437 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:45:22.438 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:45:22.440 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:45:22.441 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOTVmNzc4YjMtZDlkZi00NTVhLWEwZWEtYzNmOTE4ZWIyZDE4IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTg4OTEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.FpxFDq1XcwZoPISAtXsyVM9UbrQeYews2VaiidwuyCM
2025-05-30 17:45:22.442 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:45:22.444 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:45:22.445 +08:00 [INF] 请求头: traceparent = 00-7ccfd2baa05f2b063d57ee6de6baeead-0c4bb5e9378ed27b-00
2025-05-30 17:45:22.446 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 17:45:22.447 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:45:22.449 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:45:22.450 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:45:22.451 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:45:22.452 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:45:22.453 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:45:22.455 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:45:22.456 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:45:22.457 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:45:22.458 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:45:22.459 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:45:22.460 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:45:22.461 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:45:22.462 +08:00 [INF] JWT Claim: jti = 95f778b3-d9df-455a-a0ea-c3f918eb2d18
2025-05-30 17:45:22.464 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:45:22.465 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:45:22.466 +08:00 [INF] JWT Claim: exp = 1748598891
2025-05-30 17:45:22.467 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:45:22.468 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:45:22.469 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:45:22.471 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:45:22.472 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 17:45:22.473 +08:00 [INF] Route matched with {action = "GetTemplateById", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]] GetTemplateById(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 17:45:22.479 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 17:45:22.483 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 17:45:22.484 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService) in 9.8368ms
2025-05-30 17:45:22.486 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 17:45:22.487 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/1 - 200 null application/json; charset=utf-8 59.0245ms
2025-05-30 17:45:36.851 +08:00 [INF] Request starting HTTP/1.1 PUT https://localhost:5004/api/contract/UpdateTemplate/1 - application/json 2825
2025-05-30 17:45:36.854 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:45:36.854 +08:00 [INF] 请求路径: /api/contract/UpdateTemplate/1
2025-05-30 17:45:36.855 +08:00 [INF] 请求方法: PUT
2025-05-30 17:45:36.856 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:45:36.857 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 17:45:36.858 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:45:36.859 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:45:36.860 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:45:36.861 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOTVmNzc4YjMtZDlkZi00NTVhLWEwZWEtYzNmOTE4ZWIyZDE4IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTg4OTEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.FpxFDq1XcwZoPISAtXsyVM9UbrQeYews2VaiidwuyCM
2025-05-30 17:45:36.862 +08:00 [INF] 请求头: Content-Type = application/json
2025-05-30 17:45:36.863 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:45:36.864 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:45:36.865 +08:00 [INF] 请求头: traceparent = 00-a0f519d5e421dc164822a127259501d5-f8ba803185c145fc-00
2025-05-30 17:45:36.866 +08:00 [INF] 请求头: Content-Length = 2825
2025-05-30 17:45:36.867 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:45:36.868 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:45:36.869 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:45:36.870 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:45:36.871 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:45:36.873 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:45:36.874 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:45:36.875 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:45:36.875 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:45:36.876 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:45:36.877 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:45:36.878 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:45:36.879 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:45:36.880 +08:00 [INF] JWT Claim: jti = 95f778b3-d9df-455a-a0ea-c3f918eb2d18
2025-05-30 17:45:36.882 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:45:36.883 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:45:36.884 +08:00 [INF] JWT Claim: exp = 1748598891
2025-05-30 17:45:36.885 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:45:36.885 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:45:36.886 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:45:36.887 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:45:36.888 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.UpdateTemplate (RealEstateSolution.ContractService)'
2025-05-30 17:45:36.895 +08:00 [INF] Route matched with {action = "UpdateTemplate", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]] UpdateTemplate(Int32, RealEstateSolution.ContractService.Models.ContractTemplateCreateDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 17:45:36.947 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 17:45:36.981 +08:00 [INF] Executed DbCommand (13ms) [Parameters=[@__name_0='?' (Size = 100), @__excludeId_Value_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ContractTemplates] AS [c]
        WHERE [c].[Name] = @__name_0 AND [c].[Id] <> @__excludeId_Value_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-30 17:45:37.053 +08:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2025-05-30 17:45:37.082 +08:00 [INF] Executed DbCommand (25ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (Size = 500), @p4='?' (DbType = Int64), @p5='?' (DbType = Boolean), @p6='?' (Size = 100), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime2), @p9='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [ContractTemplates] SET [Content] = @p0, [CreatedAt] = @p1, [CreatedBy] = @p2, [Description] = @p3, [FileSize] = @p4, [IsActive] = @p5, [Name] = @p6, [Type] = @p7, [UpdatedAt] = @p8, [Version] = @p9
OUTPUT 1
WHERE [Id] = @p10;
2025-05-30 17:45:37.101 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 17:45:37.103 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.UpdateTemplate (RealEstateSolution.ContractService) in 206.6579ms
2025-05-30 17:45:37.105 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.UpdateTemplate (RealEstateSolution.ContractService)'
2025-05-30 17:45:37.107 +08:00 [INF] Request finished HTTP/1.1 PUT https://localhost:5004/api/contract/UpdateTemplate/1 - 200 null application/json; charset=utf-8 255.7213ms
2025-05-30 17:45:37.316 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 17:45:37.319 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:45:37.321 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 17:45:37.322 +08:00 [INF] 请求方法: GET
2025-05-30 17:45:37.323 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:45:37.324 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 17:45:37.325 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:45:37.327 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:45:37.328 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:45:37.330 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOTVmNzc4YjMtZDlkZi00NTVhLWEwZWEtYzNmOTE4ZWIyZDE4IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTg4OTEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.FpxFDq1XcwZoPISAtXsyVM9UbrQeYews2VaiidwuyCM
2025-05-30 17:45:37.332 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:45:37.334 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:45:37.335 +08:00 [INF] 请求头: traceparent = 00-18f565825307b5b6c64cba2ee406c2ea-19833d4070189f13-00
2025-05-30 17:45:37.336 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 17:45:37.338 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:45:37.339 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:45:37.340 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:45:37.342 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:45:37.343 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:45:37.345 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:45:37.346 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:45:37.347 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:45:37.348 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:45:37.349 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:45:37.350 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:45:37.352 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:45:37.353 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:45:37.354 +08:00 [INF] JWT Claim: jti = 95f778b3-d9df-455a-a0ea-c3f918eb2d18
2025-05-30 17:45:37.355 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:45:37.357 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:45:37.358 +08:00 [INF] JWT Claim: exp = 1748598891
2025-05-30 17:45:37.359 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:45:37.361 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:45:37.362 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:45:37.363 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:45:37.365 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 17:45:37.366 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 17:45:37.372 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 17:45:37.377 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 17:45:37.379 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 10.4794ms
2025-05-30 17:45:37.381 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 17:45:37.382 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 66.4686ms
2025-05-30 17:45:40.218 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/1 - null 0
2025-05-30 17:45:40.220 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:45:40.221 +08:00 [INF] 请求路径: /api/contract/GetTemplateById/1
2025-05-30 17:45:40.222 +08:00 [INF] 请求方法: GET
2025-05-30 17:45:40.223 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:45:40.224 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 17:45:40.226 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:45:40.227 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:45:40.228 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:45:40.229 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOTVmNzc4YjMtZDlkZi00NTVhLWEwZWEtYzNmOTE4ZWIyZDE4IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTg4OTEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.FpxFDq1XcwZoPISAtXsyVM9UbrQeYews2VaiidwuyCM
2025-05-30 17:45:40.230 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:45:40.232 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:45:40.233 +08:00 [INF] 请求头: traceparent = 00-2c8f73ddc5c097dd162f57c671491829-a7c905d504349c84-00
2025-05-30 17:45:40.234 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 17:45:40.235 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:45:40.236 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:45:40.237 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:45:40.238 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:45:40.240 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:45:40.241 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:45:40.242 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:45:40.243 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:45:40.244 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:45:40.245 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:45:40.246 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:45:40.248 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:45:40.249 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:45:40.250 +08:00 [INF] JWT Claim: jti = 95f778b3-d9df-455a-a0ea-c3f918eb2d18
2025-05-30 17:45:40.251 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:45:40.252 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:45:40.253 +08:00 [INF] JWT Claim: exp = 1748598891
2025-05-30 17:45:40.254 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:45:40.255 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:45:40.257 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:45:40.258 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:45:40.259 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 17:45:40.260 +08:00 [INF] Route matched with {action = "GetTemplateById", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]] GetTemplateById(Int32) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 17:45:40.265 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-30 17:45:40.269 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 17:45:40.270 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService) in 8.5542ms
2025-05-30 17:45:40.272 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplateById (RealEstateSolution.ContractService)'
2025-05-30 17:45:40.274 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplateById/1 - 200 null application/json; charset=utf-8 56.0659ms
2025-05-30 17:45:41.745 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - null 0
2025-05-30 17:45:41.749 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:45:41.750 +08:00 [INF] 请求路径: /api/contract/GetTemplates
2025-05-30 17:45:41.751 +08:00 [INF] 请求方法: GET
2025-05-30 17:45:41.752 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:45:41.753 +08:00 [INF] 请求头: Host = localhost:5004
2025-05-30 17:45:41.755 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:45:41.756 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:45:41.757 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:45:41.759 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOTVmNzc4YjMtZDlkZi00NTVhLWEwZWEtYzNmOTE4ZWIyZDE4IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTg4OTEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.FpxFDq1XcwZoPISAtXsyVM9UbrQeYews2VaiidwuyCM
2025-05-30 17:45:41.760 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:45:41.761 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:45:41.762 +08:00 [INF] 请求头: traceparent = 00-0ebf4aa04121e2c7344d3d55fe8090b7-475f467fa5eb30a8-00
2025-05-30 17:45:41.764 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 17:45:41.765 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:45:41.766 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:45:41.767 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:45:41.769 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:45:41.770 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:45:41.771 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:45:41.772 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:45:41.774 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:45:41.774 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:45:41.775 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:45:41.776 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:45:41.778 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:45:41.779 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:45:41.780 +08:00 [INF] JWT Claim: jti = 95f778b3-d9df-455a-a0ea-c3f918eb2d18
2025-05-30 17:45:41.781 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:45:41.782 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:45:41.784 +08:00 [INF] JWT Claim: exp = 1748598891
2025-05-30 17:45:41.785 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:45:41.786 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:45:41.788 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:45:41.789 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:45:41.790 +08:00 [INF] Executing endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 17:45:41.791 +08:00 [INF] Route matched with {action = "GetTemplates", controller = "ContractTemplate"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ContractService.Models.ContractTemplateDto]]] GetTemplates(RealEstateSolution.ContractService.Models.ContractTemplateQueryDto) on controller RealEstateSolution.ContractService.Controllers.ContractTemplateController (RealEstateSolution.ContractService).
2025-05-30 17:45:41.797 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedAt], [c].[CreatedBy], [c].[Description], [c].[FileSize], [c].[IsActive], [c].[Name], [c].[Type], [c].[UpdatedAt], [c].[Version]
FROM [ContractTemplates] AS [c]
ORDER BY [c].[CreatedAt] DESC
2025-05-30 17:45:41.802 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ContractService.Models.ContractTemplateDto, RealEstateSolution.ContractService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 17:45:41.804 +08:00 [INF] Executed action RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService) in 10.5858ms
2025-05-30 17:45:41.806 +08:00 [INF] Executed endpoint 'RealEstateSolution.ContractService.Controllers.ContractTemplateController.GetTemplates (RealEstateSolution.ContractService)'
2025-05-30 17:45:41.808 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5004/api/contract/GetTemplates?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 63.2033ms
