2025-05-30 09:32:29.189 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-30 09:32:30.000 +08:00 [INF] Now listening on: https://localhost:5001
2025-05-30 09:32:30.244 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 09:32:30.248 +08:00 [INF] Hosting environment: Development
2025-05-30 09:32:30.252 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.PropertyService
2025-05-30 09:32:33.804 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-05-30 09:32:33.808 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-05-30 09:32:33.867 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 74.6562ms
2025-05-30 09:32:34.064 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 256.8087ms
2025-05-30 09:32:34.495 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-05-30 09:32:34.557 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 62.4289ms
2025-05-30 09:33:25.136 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 09:33:25.136 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 09:33:25.191 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:33:25.191 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:33:25.194 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 09:33:25.194 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 09:33:25.195 +08:00 [INF] 请求方法: GET
2025-05-30 09:33:25.196 +08:00 [INF] 请求方法: GET
2025-05-30 09:33:25.197 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:33:25.198 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:33:25.199 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 09:33:25.200 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 09:33:25.201 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:33:25.202 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:33:25.204 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:33:25.205 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:33:25.206 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:33:25.207 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:33:25.209 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDkzOTRjMmEtMDM3MS00ZDVhLWJiYjQtODY2MjBhZGM1N2JjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Njk0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Ju-b6mUgivQu1d15RK5lbgC1hMb7uHOAv7UBDp3AuYI
2025-05-30 09:33:25.210 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDkzOTRjMmEtMDM3MS00ZDVhLWJiYjQtODY2MjBhZGM1N2JjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Njk0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Ju-b6mUgivQu1d15RK5lbgC1hMb7uHOAv7UBDp3AuYI
2025-05-30 09:33:25.211 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:33:25.213 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:33:25.214 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:33:25.215 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:33:25.216 +08:00 [INF] 请求头: traceparent = 00-4db6463d35ce996bf23c442fba06c755-67dd9c6727fedf2d-00
2025-05-30 09:33:25.217 +08:00 [INF] 请求头: traceparent = 00-816f9d13f15478a904243762f15c19eb-623105f08f846ad0-00
2025-05-30 09:33:25.218 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:33:25.219 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:33:25.221 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:33:25.221 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:33:25.223 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:33:25.224 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:33:25.226 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:33:25.227 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:33:25.228 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:33:25.230 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:33:25.231 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:33:25.232 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:33:25.234 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:33:25.235 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:33:25.236 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:33:25.237 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:33:25.239 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:33:25.240 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:33:25.241 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:33:25.242 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:33:25.287 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:33:25.287 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:33:25.288 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:33:25.289 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:33:25.290 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:33:25.291 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:33:25.292 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:33:25.293 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:33:25.295 +08:00 [INF] JWT Claim: jti = 09394c2a-0371-4d5a-bbb4-86620adc57bc
2025-05-30 09:33:25.296 +08:00 [INF] JWT Claim: jti = 09394c2a-0371-4d5a-bbb4-86620adc57bc
2025-05-30 09:33:25.298 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:33:25.299 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:33:25.301 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:33:25.302 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:33:25.304 +08:00 [INF] JWT Claim: exp = 1748569404
2025-05-30 09:33:25.305 +08:00 [INF] JWT Claim: exp = 1748569404
2025-05-30 09:33:25.306 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:33:25.307 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:33:25.309 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:33:25.310 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:33:25.311 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:33:25.312 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:33:25.316 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDkzOTRjMmEtMDM3MS00ZDVhLWJiYjQtODY2MjBhZGM1N2JjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Njk0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Ju-b6mUgivQu1d15RK5lbgC1hMb7uHOAv7UBDp3AuYI]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-816f9d13f15478a904243762f15c19eb-623105f08f846ad0-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 09:33:25.316 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDkzOTRjMmEtMDM3MS00ZDVhLWJiYjQtODY2MjBhZGM1N2JjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Njk0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Ju-b6mUgivQu1d15RK5lbgC1hMb7uHOAv7UBDp3AuYI]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-4db6463d35ce996bf23c442fba06c755-67dd9c6727fedf2d-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 09:33:25.410 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:33:25.410 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:33:25.442 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 09:33:25.442 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 09:33:25.470 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 09:33:25.474 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 09:33:27.240 +08:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 09:33:27.240 +08:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 09:33:27.378 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 09:33:27.420 +08:00 [INF] Executed DbCommand (44ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 09:33:27.425 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 1948.5839ms
2025-05-30 09:33:27.428 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 09:33:27.429 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 09:33:27.430 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 2285ms
2025-05-30 09:33:27.431 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 09:33:27.441 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 2306.1537ms
2025-05-30 09:33:27.467 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 1990.1746ms
2025-05-30 09:33:27.469 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 09:33:27.471 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 2326ms
2025-05-30 09:33:27.474 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 2339.0988ms
2025-05-30 09:38:23.259 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 09:38:23.263 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:38:23.264 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 09:38:23.265 +08:00 [INF] 请求方法: GET
2025-05-30 09:38:23.266 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:38:23.267 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 09:38:23.268 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:38:23.269 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:38:23.270 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:38:23.271 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDkzOTRjMmEtMDM3MS00ZDVhLWJiYjQtODY2MjBhZGM1N2JjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Njk0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Ju-b6mUgivQu1d15RK5lbgC1hMb7uHOAv7UBDp3AuYI
2025-05-30 09:38:23.272 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:38:23.274 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:38:23.275 +08:00 [INF] 请求头: traceparent = 00-252065ccaaa19b4448de8562945d2ab0-a6308e2d6f16046c-00
2025-05-30 09:38:23.276 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:38:23.277 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:38:23.278 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:38:23.279 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:38:23.280 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:38:23.282 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:38:23.283 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:38:23.284 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:38:23.286 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:38:23.287 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:38:23.288 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:38:23.288 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:38:23.290 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:38:23.291 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:38:23.292 +08:00 [INF] JWT Claim: jti = 09394c2a-0371-4d5a-bbb4-86620adc57bc
2025-05-30 09:38:23.293 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:38:23.294 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:38:23.296 +08:00 [INF] JWT Claim: exp = 1748569404
2025-05-30 09:38:23.297 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:38:23.298 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:38:23.299 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:38:23.300 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDkzOTRjMmEtMDM3MS00ZDVhLWJiYjQtODY2MjBhZGM1N2JjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Njk0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Ju-b6mUgivQu1d15RK5lbgC1hMb7uHOAv7UBDp3AuYI]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-252065ccaaa19b4448de8562945d2ab0-a6308e2d6f16046c-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 09:38:23.309 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:38:23.315 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 09:38:23.317 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 09:38:23.378 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 09:38:23.400 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 09:38:23.403 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 09:38:23.404 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 09:38:23.406 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 87.3796ms
2025-05-30 09:38:23.407 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 09:38:23.408 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 145ms
2025-05-30 09:38:23.410 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 151.1455ms
2025-05-30 09:38:23.436 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 09:38:23.439 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:38:23.441 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 09:38:23.442 +08:00 [INF] 请求方法: GET
2025-05-30 09:38:23.443 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:38:23.444 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 09:38:23.445 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:38:23.446 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:38:23.448 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:38:23.449 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDkzOTRjMmEtMDM3MS00ZDVhLWJiYjQtODY2MjBhZGM1N2JjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Njk0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Ju-b6mUgivQu1d15RK5lbgC1hMb7uHOAv7UBDp3AuYI
2025-05-30 09:38:23.450 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:38:23.451 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:38:23.452 +08:00 [INF] 请求头: traceparent = 00-b16d8f18daa940535836e33098d213a7-100afd9d58ccab68-00
2025-05-30 09:38:23.453 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:38:23.455 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:38:23.456 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:38:23.458 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:38:23.459 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:38:23.460 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:38:23.461 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:38:23.462 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:38:23.464 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:38:23.465 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:38:23.466 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:38:23.467 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:38:23.469 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:38:23.470 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:38:23.471 +08:00 [INF] JWT Claim: jti = 09394c2a-0371-4d5a-bbb4-86620adc57bc
2025-05-30 09:38:23.473 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:38:23.474 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:38:23.475 +08:00 [INF] JWT Claim: exp = 1748569404
2025-05-30 09:38:23.477 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:38:23.478 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:38:23.479 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:38:23.480 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDkzOTRjMmEtMDM3MS00ZDVhLWJiYjQtODY2MjBhZGM1N2JjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Njk0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Ju-b6mUgivQu1d15RK5lbgC1hMb7uHOAv7UBDp3AuYI]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-b16d8f18daa940535836e33098d213a7-100afd9d58ccab68-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 09:38:23.488 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:38:23.490 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 09:38:23.491 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 09:38:23.496 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 09:38:23.499 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 09:38:23.500 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 7.9869ms
2025-05-30 09:38:23.502 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 09:38:23.503 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 63ms
2025-05-30 09:38:23.504 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 68.6828ms
2025-05-30 09:38:28.463 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 09:38:28.466 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:38:28.467 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 09:38:28.468 +08:00 [INF] 请求方法: GET
2025-05-30 09:38:28.469 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:38:28.470 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 09:38:28.471 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:38:28.472 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:38:28.473 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:38:28.475 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDkzOTRjMmEtMDM3MS00ZDVhLWJiYjQtODY2MjBhZGM1N2JjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Njk0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Ju-b6mUgivQu1d15RK5lbgC1hMb7uHOAv7UBDp3AuYI
2025-05-30 09:38:28.476 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:38:28.477 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:38:28.478 +08:00 [INF] 请求头: traceparent = 00-be4698d2730075ee37fc9ac26043dc00-7299d2e653a19999-00
2025-05-30 09:38:28.479 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:38:28.480 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:38:28.481 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:38:28.483 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:38:28.484 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:38:28.485 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:38:28.486 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:38:28.487 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:38:28.488 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:38:28.489 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:38:28.490 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:38:28.491 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:38:28.493 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:38:28.494 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:38:28.494 +08:00 [INF] JWT Claim: jti = 09394c2a-0371-4d5a-bbb4-86620adc57bc
2025-05-30 09:38:28.495 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:38:28.496 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:38:28.498 +08:00 [INF] JWT Claim: exp = 1748569404
2025-05-30 09:38:28.499 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:38:28.500 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:38:28.501 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:38:28.502 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDkzOTRjMmEtMDM3MS00ZDVhLWJiYjQtODY2MjBhZGM1N2JjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Njk0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Ju-b6mUgivQu1d15RK5lbgC1hMb7uHOAv7UBDp3AuYI]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-be4698d2730075ee37fc9ac26043dc00-7299d2e653a19999-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 09:38:28.510 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:38:28.511 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 09:38:28.511 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 09:38:28.520 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 09:38:28.524 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 09:38:28.527 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 09:38:28.528 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 09:38:28.529 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 16.3983ms
2025-05-30 09:38:28.531 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 09:38:28.532 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 66ms
2025-05-30 09:38:28.535 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 72.0598ms
2025-05-30 09:38:31.424 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=2&pageSize=10 - null 0
2025-05-30 09:38:31.426 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:38:31.427 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 09:38:31.427 +08:00 [INF] 请求方法: GET
2025-05-30 09:38:31.428 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:38:31.429 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 09:38:31.430 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:38:31.431 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:38:31.432 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:38:31.433 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDkzOTRjMmEtMDM3MS00ZDVhLWJiYjQtODY2MjBhZGM1N2JjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Njk0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Ju-b6mUgivQu1d15RK5lbgC1hMb7uHOAv7UBDp3AuYI
2025-05-30 09:38:31.434 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:38:31.435 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:38:31.436 +08:00 [INF] 请求头: traceparent = 00-5eb7ab5e5c40cab1f0e51b3a4e81c021-7fca30dd4318f856-00
2025-05-30 09:38:31.437 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:38:31.438 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:38:31.439 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:38:31.441 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:38:31.441 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:38:31.442 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:38:31.443 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:38:31.444 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:38:31.445 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:38:31.446 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:38:31.446 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:38:31.447 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:38:31.448 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:38:31.449 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:38:31.450 +08:00 [INF] JWT Claim: jti = 09394c2a-0371-4d5a-bbb4-86620adc57bc
2025-05-30 09:38:31.451 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:38:31.452 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:38:31.453 +08:00 [INF] JWT Claim: exp = 1748569404
2025-05-30 09:38:31.454 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:38:31.455 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:38:31.456 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:38:31.457 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDkzOTRjMmEtMDM3MS00ZDVhLWJiYjQtODY2MjBhZGM1N2JjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Njk0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Ju-b6mUgivQu1d15RK5lbgC1hMb7uHOAv7UBDp3AuYI]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-5eb7ab5e5c40cab1f0e51b3a4e81c021-7fca30dd4318f856-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 09:38:31.464 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:38:31.465 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 09:38:31.467 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 09:38:31.473 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 09:38:31.486 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
2025-05-30 09:38:31.488 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 09:38:31.489 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 09:38:31.491 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 22.5332ms
2025-05-30 09:38:31.492 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 09:38:31.493 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=2&pageSize=10 完成，状态码: 200，耗时: 67ms
2025-05-30 09:38:31.495 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=2&pageSize=10 - 200 null application/json; charset=utf-8 71.2548ms
2025-05-30 09:38:32.110 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=3&pageSize=10 - null 0
2025-05-30 09:38:32.113 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:38:32.114 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 09:38:32.115 +08:00 [INF] 请求方法: GET
2025-05-30 09:38:32.116 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:38:32.118 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 09:38:32.119 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:38:32.120 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:38:32.121 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:38:32.123 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDkzOTRjMmEtMDM3MS00ZDVhLWJiYjQtODY2MjBhZGM1N2JjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Njk0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Ju-b6mUgivQu1d15RK5lbgC1hMb7uHOAv7UBDp3AuYI
2025-05-30 09:38:32.124 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:38:32.125 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:38:32.126 +08:00 [INF] 请求头: traceparent = 00-1b4f32103445cf583259f2a74c49d0af-c385897a6d9b3ce7-00
2025-05-30 09:38:32.128 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:38:32.129 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:38:32.130 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:38:32.131 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:38:32.133 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:38:32.134 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:38:32.135 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:38:32.136 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:38:32.137 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:38:32.138 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:38:32.139 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:38:32.140 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:38:32.141 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:38:32.143 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:38:32.144 +08:00 [INF] JWT Claim: jti = 09394c2a-0371-4d5a-bbb4-86620adc57bc
2025-05-30 09:38:32.145 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:38:32.146 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:38:32.147 +08:00 [INF] JWT Claim: exp = 1748569404
2025-05-30 09:38:32.148 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:38:32.150 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:38:32.151 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:38:32.152 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDkzOTRjMmEtMDM3MS00ZDVhLWJiYjQtODY2MjBhZGM1N2JjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Njk0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Ju-b6mUgivQu1d15RK5lbgC1hMb7uHOAv7UBDp3AuYI]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-1b4f32103445cf583259f2a74c49d0af-c385897a6d9b3ce7-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 09:38:32.160 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:38:32.161 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 09:38:32.161 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 09:38:32.168 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 09:38:32.172 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 09:38:32.176 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 09:38:32.177 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 09:38:32.178 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 15.1844ms
2025-05-30 09:38:32.179 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 09:38:32.180 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=3&pageSize=10 完成，状态码: 200，耗时: 67ms
2025-05-30 09:38:32.183 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=3&pageSize=10 - 200 null application/json; charset=utf-8 72.9476ms
2025-05-30 09:38:36.181 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 09:38:36.185 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:38:36.186 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 09:38:36.187 +08:00 [INF] 请求方法: GET
2025-05-30 09:38:36.188 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:38:36.189 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 09:38:36.190 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:38:36.192 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:38:36.193 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:38:36.194 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDkzOTRjMmEtMDM3MS00ZDVhLWJiYjQtODY2MjBhZGM1N2JjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Njk0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Ju-b6mUgivQu1d15RK5lbgC1hMb7uHOAv7UBDp3AuYI
2025-05-30 09:38:36.195 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:38:36.196 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:38:36.197 +08:00 [INF] 请求头: traceparent = 00-b4f0b75097741bf95d276302e9105cc2-f7e3128531c61a87-00
2025-05-30 09:38:36.199 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:38:36.200 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:38:36.201 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:38:36.202 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:38:36.203 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:38:36.204 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:38:36.205 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:38:36.207 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:38:36.209 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:38:36.209 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:38:36.210 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:38:36.211 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:38:36.213 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:38:36.214 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:38:36.216 +08:00 [INF] JWT Claim: jti = 09394c2a-0371-4d5a-bbb4-86620adc57bc
2025-05-30 09:38:36.217 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:38:36.218 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:38:36.219 +08:00 [INF] JWT Claim: exp = 1748569404
2025-05-30 09:38:36.220 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:38:36.221 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:38:36.223 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:38:36.224 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDkzOTRjMmEtMDM3MS00ZDVhLWJiYjQtODY2MjBhZGM1N2JjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Njk0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Ju-b6mUgivQu1d15RK5lbgC1hMb7uHOAv7UBDp3AuYI]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-b4f0b75097741bf95d276302e9105cc2-f7e3128531c61a87-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 09:38:36.232 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:38:36.234 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 09:38:36.235 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 09:38:36.240 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 09:38:36.246 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 09:38:36.249 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 09:38:36.250 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 09:38:36.252 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 15.3966ms
2025-05-30 09:38:36.253 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 09:38:36.254 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 68ms
2025-05-30 09:38:36.255 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 74.2786ms
2025-05-30 09:38:40.036 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 09:38:40.040 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:38:40.041 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 09:38:40.043 +08:00 [INF] 请求方法: GET
2025-05-30 09:38:40.044 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:38:40.045 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 09:38:40.046 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:38:40.047 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:38:40.048 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:38:40.049 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDkzOTRjMmEtMDM3MS00ZDVhLWJiYjQtODY2MjBhZGM1N2JjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Njk0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Ju-b6mUgivQu1d15RK5lbgC1hMb7uHOAv7UBDp3AuYI
2025-05-30 09:38:40.050 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:38:40.051 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:38:40.052 +08:00 [INF] 请求头: traceparent = 00-e078aa3c73036138c0041c685dd6ded3-8cc2b29e8caa19ac-00
2025-05-30 09:38:40.053 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:38:40.054 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:38:40.055 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:38:40.056 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:38:40.058 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:38:40.059 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:38:40.060 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:38:40.061 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:38:40.062 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:38:40.063 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:38:40.064 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:38:40.065 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:38:40.066 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:38:40.067 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:38:40.068 +08:00 [INF] JWT Claim: jti = 09394c2a-0371-4d5a-bbb4-86620adc57bc
2025-05-30 09:38:40.069 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:38:40.070 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:38:40.071 +08:00 [INF] JWT Claim: exp = 1748569404
2025-05-30 09:38:40.072 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:38:40.073 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:38:40.075 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:38:40.075 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDkzOTRjMmEtMDM3MS00ZDVhLWJiYjQtODY2MjBhZGM1N2JjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Njk0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Ju-b6mUgivQu1d15RK5lbgC1hMb7uHOAv7UBDp3AuYI]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-e078aa3c73036138c0041c685dd6ded3-8cc2b29e8caa19ac-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 09:38:40.082 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:38:40.084 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 09:38:40.085 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 09:38:40.090 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 09:38:40.105 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 09:38:40.108 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 09:38:40.109 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 09:38:40.111 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 24.9341ms
2025-05-30 09:38:40.113 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 09:38:40.114 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 73ms
2025-05-30 09:38:40.117 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 80.8496ms
2025-05-30 09:38:44.112 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 09:38:44.114 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:38:44.116 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 09:38:44.117 +08:00 [INF] 请求方法: GET
2025-05-30 09:38:44.118 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:38:44.119 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 09:38:44.120 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:38:44.121 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:38:44.123 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:38:44.124 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDkzOTRjMmEtMDM3MS00ZDVhLWJiYjQtODY2MjBhZGM1N2JjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Njk0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Ju-b6mUgivQu1d15RK5lbgC1hMb7uHOAv7UBDp3AuYI
2025-05-30 09:38:44.125 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:38:44.126 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:38:44.127 +08:00 [INF] 请求头: traceparent = 00-3fff42b2238abe41a2c5ead28488f000-40a12adb6120dd1a-00
2025-05-30 09:38:44.128 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:38:44.129 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:38:44.130 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:38:44.132 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:38:44.133 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:38:44.134 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:38:44.135 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:38:44.136 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:38:44.137 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:38:44.138 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:38:44.139 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:38:44.140 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:38:44.141 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:38:44.143 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:38:44.144 +08:00 [INF] JWT Claim: jti = 09394c2a-0371-4d5a-bbb4-86620adc57bc
2025-05-30 09:38:44.145 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:38:44.146 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:38:44.147 +08:00 [INF] JWT Claim: exp = 1748569404
2025-05-30 09:38:44.148 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:38:44.149 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:38:44.150 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:38:44.151 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDkzOTRjMmEtMDM3MS00ZDVhLWJiYjQtODY2MjBhZGM1N2JjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Njk0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Ju-b6mUgivQu1d15RK5lbgC1hMb7uHOAv7UBDp3AuYI]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-3fff42b2238abe41a2c5ead28488f000-40a12adb6120dd1a-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 09:38:44.159 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:38:44.160 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 09:38:44.161 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 09:38:44.167 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 09:38:44.185 +08:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 09:38:44.187 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 09:38:44.188 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 09:38:44.191 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 28.5682ms
2025-05-30 09:38:44.193 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 09:38:44.194 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 79ms
2025-05-30 09:38:44.196 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 84.2975ms
2025-05-30 09:38:47.092 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 09:38:47.095 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:38:47.096 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 09:38:47.097 +08:00 [INF] 请求方法: GET
2025-05-30 09:38:47.098 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:38:47.099 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 09:38:47.101 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:38:47.102 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:38:47.103 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:38:47.104 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDkzOTRjMmEtMDM3MS00ZDVhLWJiYjQtODY2MjBhZGM1N2JjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Njk0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Ju-b6mUgivQu1d15RK5lbgC1hMb7uHOAv7UBDp3AuYI
2025-05-30 09:38:47.105 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:38:47.106 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:38:47.108 +08:00 [INF] 请求头: traceparent = 00-aaa2b7a99e796b98edac929b8216b750-9574ee7e090355a4-00
2025-05-30 09:38:47.109 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:38:47.110 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:38:47.111 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:38:47.112 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:38:47.113 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:38:47.114 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:38:47.115 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:38:47.117 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:38:47.118 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:38:47.119 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:38:47.120 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:38:47.120 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:38:47.121 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:38:47.122 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:38:47.124 +08:00 [INF] JWT Claim: jti = 09394c2a-0371-4d5a-bbb4-86620adc57bc
2025-05-30 09:38:47.125 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:38:47.126 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:38:47.127 +08:00 [INF] JWT Claim: exp = 1748569404
2025-05-30 09:38:47.128 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:38:47.129 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:38:47.130 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:38:47.131 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDkzOTRjMmEtMDM3MS00ZDVhLWJiYjQtODY2MjBhZGM1N2JjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Njk0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Ju-b6mUgivQu1d15RK5lbgC1hMb7uHOAv7UBDp3AuYI]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-aaa2b7a99e796b98edac929b8216b750-9574ee7e090355a4-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 09:38:47.138 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:38:47.140 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 09:38:47.141 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 09:38:47.440 +08:00 [INF] Executed DbCommand (296ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 09:38:47.445 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 09:38:47.447 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 09:38:47.449 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 09:38:47.451 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 308.3225ms
2025-05-30 09:38:47.453 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 09:38:47.454 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 358ms
2025-05-30 09:38:47.457 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 365.6056ms
2025-05-30 09:38:52.071 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 09:38:52.075 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:38:52.075 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 09:38:52.077 +08:00 [INF] 请求方法: GET
2025-05-30 09:38:52.077 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:38:52.078 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 09:38:52.079 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:38:52.080 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:38:52.082 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:38:52.084 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDkzOTRjMmEtMDM3MS00ZDVhLWJiYjQtODY2MjBhZGM1N2JjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Njk0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Ju-b6mUgivQu1d15RK5lbgC1hMb7uHOAv7UBDp3AuYI
2025-05-30 09:38:52.085 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:38:52.086 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:38:52.087 +08:00 [INF] 请求头: traceparent = 00-6e170ea00d69fbcf2a276591f94fee95-62f36c621ead8551-00
2025-05-30 09:38:52.088 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:38:52.089 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:38:52.090 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:38:52.092 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:38:52.093 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:38:52.094 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:38:52.095 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:38:52.096 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:38:52.097 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:38:52.098 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:38:52.099 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:38:52.100 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:38:52.101 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:38:52.102 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:38:52.103 +08:00 [INF] JWT Claim: jti = 09394c2a-0371-4d5a-bbb4-86620adc57bc
2025-05-30 09:38:52.104 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:38:52.105 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:38:52.106 +08:00 [INF] JWT Claim: exp = 1748569404
2025-05-30 09:38:52.107 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:38:52.108 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:38:52.110 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:38:52.110 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDkzOTRjMmEtMDM3MS00ZDVhLWJiYjQtODY2MjBhZGM1N2JjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Njk0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Ju-b6mUgivQu1d15RK5lbgC1hMb7uHOAv7UBDp3AuYI]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-6e170ea00d69fbcf2a276591f94fee95-62f36c621ead8551-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 09:38:52.118 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:38:52.119 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 09:38:52.120 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 09:38:52.126 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 09:38:52.129 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 09:38:52.132 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 09:38:52.133 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 09:38:52.135 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 13.5014ms
2025-05-30 09:38:52.136 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 09:38:52.137 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 62ms
2025-05-30 09:38:52.139 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 67.8781ms
2025-05-30 09:38:54.845 +08:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:5001/api/Property/DeleteProperty/5 - null 0
2025-05-30 09:38:54.847 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:38:54.848 +08:00 [INF] 请求路径: /api/Property/DeleteProperty/5
2025-05-30 09:38:54.849 +08:00 [INF] 请求方法: DELETE
2025-05-30 09:38:54.850 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:38:54.851 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 09:38:54.852 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:38:54.853 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:38:54.854 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:38:54.856 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDkzOTRjMmEtMDM3MS00ZDVhLWJiYjQtODY2MjBhZGM1N2JjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Njk0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Ju-b6mUgivQu1d15RK5lbgC1hMb7uHOAv7UBDp3AuYI
2025-05-30 09:38:54.857 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:38:54.858 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:38:54.859 +08:00 [INF] 请求头: traceparent = 00-13f505d3fdfb695bbde34b9f1cdd1b27-11a1e9e2ea732fd8-00
2025-05-30 09:38:54.860 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:38:54.860 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:38:54.861 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:38:54.862 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:38:54.863 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:38:54.864 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:38:54.865 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:38:54.866 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:38:54.867 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:38:54.868 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:38:54.869 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:38:54.869 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:38:54.870 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:38:54.871 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:38:54.872 +08:00 [INF] JWT Claim: jti = 09394c2a-0371-4d5a-bbb4-86620adc57bc
2025-05-30 09:38:54.873 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:38:54.874 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:38:54.876 +08:00 [INF] JWT Claim: exp = 1748569404
2025-05-30 09:38:54.877 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:38:54.878 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:38:54.879 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:38:54.879 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDkzOTRjMmEtMDM3MS00ZDVhLWJiYjQtODY2MjBhZGM1N2JjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Njk0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Ju-b6mUgivQu1d15RK5lbgC1hMb7uHOAv7UBDp3AuYI]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-13f505d3fdfb695bbde34b9f1cdd1b27-11a1e9e2ea732fd8-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 09:38:54.886 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:38:54.887 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.DeleteProperty (RealEstateSolution.PropertyService)'
2025-05-30 09:38:54.891 +08:00 [INF] Route matched with {action = "DeleteProperty", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse]] DeleteProperty(Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 09:38:54.931 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
WHERE [p].[Id] = @__p_0
2025-05-30 09:38:54.935 +08:00 [INF] Executing NotFoundObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse'.
2025-05-30 09:38:54.938 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.DeleteProperty (RealEstateSolution.PropertyService) in 44.7229ms
2025-05-30 09:38:54.940 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.DeleteProperty (RealEstateSolution.PropertyService)'
2025-05-30 09:38:54.942 +08:00 [INF] 请求 DELETE /api/Property/DeleteProperty/5 完成，状态码: 404，耗时: 94ms
2025-05-30 09:38:54.944 +08:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:5001/api/Property/DeleteProperty/5 - 404 null application/json; charset=utf-8 99.571ms
2025-05-30 09:39:01.895 +08:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:5001/api/Property/DeleteProperty/5 - null 0
2025-05-30 09:39:01.897 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:39:01.898 +08:00 [INF] 请求路径: /api/Property/DeleteProperty/5
2025-05-30 09:39:01.899 +08:00 [INF] 请求方法: DELETE
2025-05-30 09:39:01.900 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:39:01.901 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 09:39:01.902 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:39:01.903 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:39:01.904 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:39:01.905 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDkzOTRjMmEtMDM3MS00ZDVhLWJiYjQtODY2MjBhZGM1N2JjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Njk0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Ju-b6mUgivQu1d15RK5lbgC1hMb7uHOAv7UBDp3AuYI
2025-05-30 09:39:01.907 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:39:01.908 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:39:01.909 +08:00 [INF] 请求头: traceparent = 00-7481eeffb7a24ed718831747f1897663-be391cb451f3f21f-00
2025-05-30 09:39:01.910 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:39:01.911 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:39:01.912 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:39:01.913 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:39:01.915 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:39:01.916 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:39:01.917 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:39:01.918 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:39:01.919 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:39:01.920 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:39:01.921 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:39:01.922 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:39:01.923 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:39:01.924 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:39:01.925 +08:00 [INF] JWT Claim: jti = 09394c2a-0371-4d5a-bbb4-86620adc57bc
2025-05-30 09:39:01.926 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:39:01.927 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:39:01.928 +08:00 [INF] JWT Claim: exp = 1748569404
2025-05-30 09:39:01.929 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:39:01.931 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:39:01.932 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:39:01.933 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDkzOTRjMmEtMDM3MS00ZDVhLWJiYjQtODY2MjBhZGM1N2JjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Njk0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Ju-b6mUgivQu1d15RK5lbgC1hMb7uHOAv7UBDp3AuYI]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-7481eeffb7a24ed718831747f1897663-be391cb451f3f21f-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 09:39:01.940 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:39:01.941 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.DeleteProperty (RealEstateSolution.PropertyService)'
2025-05-30 09:39:01.943 +08:00 [INF] Route matched with {action = "DeleteProperty", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse]] DeleteProperty(Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 09:39:02.276 +08:00 [INF] Executed DbCommand (329ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
WHERE [p].[Id] = @__p_0
2025-05-30 09:39:02.280 +08:00 [INF] Executing NotFoundObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse'.
2025-05-30 09:39:02.282 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.DeleteProperty (RealEstateSolution.PropertyService) in 337.4476ms
2025-05-30 09:39:02.284 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.DeleteProperty (RealEstateSolution.PropertyService)'
2025-05-30 09:39:02.285 +08:00 [INF] 请求 DELETE /api/Property/DeleteProperty/5 完成，状态码: 404，耗时: 388ms
2025-05-30 09:39:02.287 +08:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:5001/api/Property/DeleteProperty/5 - 404 null application/json; charset=utf-8 392.57ms
2025-05-30 09:41:18.681 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 09:41:18.684 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:41:18.685 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 09:41:18.686 +08:00 [INF] 请求方法: GET
2025-05-30 09:41:18.687 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:41:18.688 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 09:41:18.690 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:41:18.691 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:41:18.692 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:41:18.693 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDkzOTRjMmEtMDM3MS00ZDVhLWJiYjQtODY2MjBhZGM1N2JjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Njk0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Ju-b6mUgivQu1d15RK5lbgC1hMb7uHOAv7UBDp3AuYI
2025-05-30 09:41:18.694 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:41:18.696 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:41:18.697 +08:00 [INF] 请求头: traceparent = 00-8f7677bf7e0adfec34b0d4054d0cb294-7d20adc6ac7d2b19-00
2025-05-30 09:41:18.698 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:41:18.699 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:41:18.700 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:41:18.702 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:41:18.703 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:41:18.704 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:41:18.706 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:41:18.707 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:41:18.708 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:41:18.709 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:41:18.710 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:41:18.711 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:41:18.712 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:41:18.713 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:41:18.715 +08:00 [INF] JWT Claim: jti = 09394c2a-0371-4d5a-bbb4-86620adc57bc
2025-05-30 09:41:18.716 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:41:18.717 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:41:18.718 +08:00 [INF] JWT Claim: exp = 1748569404
2025-05-30 09:41:18.720 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:41:18.721 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:41:18.723 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:41:18.724 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDkzOTRjMmEtMDM3MS00ZDVhLWJiYjQtODY2MjBhZGM1N2JjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Njk0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Ju-b6mUgivQu1d15RK5lbgC1hMb7uHOAv7UBDp3AuYI]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-8f7677bf7e0adfec34b0d4054d0cb294-7d20adc6ac7d2b19-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 09:41:18.732 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:41:18.733 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 09:41:18.734 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 09:41:18.742 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 09:41:18.748 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 09:41:18.751 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 09:41:18.752 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 09:41:18.754 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 17.4362ms
2025-05-30 09:41:18.756 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 09:41:18.758 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 73ms
2025-05-30 09:41:18.760 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 82.3576ms
2025-05-30 09:41:27.766 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 09:41:27.769 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:41:27.770 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 09:41:27.771 +08:00 [INF] 请求方法: GET
2025-05-30 09:41:27.772 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:41:27.773 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 09:41:27.775 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:41:27.776 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:41:27.777 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:41:27.778 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDkzOTRjMmEtMDM3MS00ZDVhLWJiYjQtODY2MjBhZGM1N2JjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Njk0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Ju-b6mUgivQu1d15RK5lbgC1hMb7uHOAv7UBDp3AuYI
2025-05-30 09:41:27.780 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:41:27.781 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:41:27.782 +08:00 [INF] 请求头: traceparent = 00-5c6a195c1938bfb1227e740ebf2637ff-1a5d605b118542fd-00
2025-05-30 09:41:27.784 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:41:27.785 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:41:27.786 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:41:27.787 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:41:27.789 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:41:27.790 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:41:27.791 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:41:27.792 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:41:27.793 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:41:27.794 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:41:27.795 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:41:27.797 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:41:27.798 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:41:27.800 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:41:27.801 +08:00 [INF] JWT Claim: jti = 09394c2a-0371-4d5a-bbb4-86620adc57bc
2025-05-30 09:41:27.802 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:41:27.803 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:41:27.805 +08:00 [INF] JWT Claim: exp = 1748569404
2025-05-30 09:41:27.806 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:41:27.808 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:41:27.809 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:41:27.810 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDkzOTRjMmEtMDM3MS00ZDVhLWJiYjQtODY2MjBhZGM1N2JjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Njk0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Ju-b6mUgivQu1d15RK5lbgC1hMb7uHOAv7UBDp3AuYI]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-5c6a195c1938bfb1227e740ebf2637ff-1a5d605b118542fd-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 09:41:27.819 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:41:27.820 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 09:41:27.822 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 09:41:27.829 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 09:41:27.838 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 09:41:27.841 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 09:41:27.842 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 09:41:27.844 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 19.9168ms
2025-05-30 09:41:27.846 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 09:41:27.848 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 78ms
2025-05-30 09:41:27.850 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 84.47ms
2025-05-30 09:41:27.950 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 09:41:27.953 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:41:27.954 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 09:41:27.955 +08:00 [INF] 请求方法: GET
2025-05-30 09:41:27.957 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:41:27.958 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 09:41:27.960 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:41:27.961 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:41:27.962 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:41:27.964 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDkzOTRjMmEtMDM3MS00ZDVhLWJiYjQtODY2MjBhZGM1N2JjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Njk0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Ju-b6mUgivQu1d15RK5lbgC1hMb7uHOAv7UBDp3AuYI
2025-05-30 09:41:27.966 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:41:27.967 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:41:27.969 +08:00 [INF] 请求头: traceparent = 00-519a94566447a8187171e19c308176c5-5fde7436cffe0bdc-00
2025-05-30 09:41:27.970 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:41:27.972 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:41:27.973 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:41:27.975 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:41:27.976 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:41:27.978 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:41:27.979 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:41:27.981 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:41:27.982 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:41:27.983 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:41:27.984 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:41:27.986 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:41:27.987 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:41:27.989 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:41:27.990 +08:00 [INF] JWT Claim: jti = 09394c2a-0371-4d5a-bbb4-86620adc57bc
2025-05-30 09:41:27.992 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:41:27.993 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:41:27.994 +08:00 [INF] JWT Claim: exp = 1748569404
2025-05-30 09:41:27.996 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:41:27.998 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:41:28.000 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:41:28.001 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDkzOTRjMmEtMDM3MS00ZDVhLWJiYjQtODY2MjBhZGM1N2JjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Njk0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Ju-b6mUgivQu1d15RK5lbgC1hMb7uHOAv7UBDp3AuYI]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-519a94566447a8187171e19c308176c5-5fde7436cffe0bdc-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 09:41:28.011 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:41:28.012 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 09:41:28.014 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 09:41:28.020 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 09:41:28.026 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 09:41:28.027 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 11.1044ms
2025-05-30 09:41:28.029 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 09:41:28.031 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 78ms
2025-05-30 09:41:28.033 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 83.9151ms
2025-05-30 09:41:33.509 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 09:41:33.513 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:41:33.514 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 09:41:33.515 +08:00 [INF] 请求方法: GET
2025-05-30 09:41:33.516 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:41:33.517 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 09:41:33.519 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:41:33.520 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:41:33.522 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:41:33.523 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDkzOTRjMmEtMDM3MS00ZDVhLWJiYjQtODY2MjBhZGM1N2JjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Njk0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Ju-b6mUgivQu1d15RK5lbgC1hMb7uHOAv7UBDp3AuYI
2025-05-30 09:41:33.524 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:41:33.526 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:41:33.527 +08:00 [INF] 请求头: traceparent = 00-d889b8cbc0ab4cfdaa6d24aa74b8951c-f0b9df9dfac8fe73-00
2025-05-30 09:41:33.528 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:41:33.530 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:41:33.532 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:41:33.533 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:41:33.535 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:41:33.536 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:41:33.537 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:41:33.539 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:41:33.540 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:41:33.541 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:41:33.542 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:41:33.543 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:41:33.544 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:41:33.545 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:41:33.547 +08:00 [INF] JWT Claim: jti = 09394c2a-0371-4d5a-bbb4-86620adc57bc
2025-05-30 09:41:33.548 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:41:33.550 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:41:33.551 +08:00 [INF] JWT Claim: exp = 1748569404
2025-05-30 09:41:33.552 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:41:33.553 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:41:33.554 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:41:33.556 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDkzOTRjMmEtMDM3MS00ZDVhLWJiYjQtODY2MjBhZGM1N2JjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Njk0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Ju-b6mUgivQu1d15RK5lbgC1hMb7uHOAv7UBDp3AuYI]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-d889b8cbc0ab4cfdaa6d24aa74b8951c-f0b9df9dfac8fe73-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 09:41:33.564 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:41:33.565 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 09:41:33.567 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 09:41:33.572 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 09:41:33.577 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 09:41:33.580 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 09:41:33.581 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 09:41:33.583 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 14.4568ms
2025-05-30 09:41:33.585 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 09:41:33.586 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 73ms
2025-05-30 09:41:33.588 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 79.0917ms
2025-05-30 09:42:13.908 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 09:42:13.919 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:42:13.920 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 09:42:13.921 +08:00 [INF] 请求方法: GET
2025-05-30 09:42:13.923 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:42:13.924 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 09:42:13.925 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:42:13.926 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:42:13.928 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:42:13.929 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDkzOTRjMmEtMDM3MS00ZDVhLWJiYjQtODY2MjBhZGM1N2JjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Njk0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Ju-b6mUgivQu1d15RK5lbgC1hMb7uHOAv7UBDp3AuYI
2025-05-30 09:42:13.930 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:42:13.932 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:42:13.933 +08:00 [INF] 请求头: traceparent = 00-cdffa6269d41acf390bad5e67cea8e92-8d64d257b62fffd5-00
2025-05-30 09:42:13.934 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:42:13.935 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:42:13.937 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:42:13.938 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:42:13.940 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:42:13.941 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:42:13.942 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:42:13.943 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:42:13.944 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:42:13.945 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:42:13.947 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:42:13.948 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:42:13.949 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:42:13.950 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:42:13.951 +08:00 [INF] JWT Claim: jti = 09394c2a-0371-4d5a-bbb4-86620adc57bc
2025-05-30 09:42:13.953 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:42:13.954 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:42:13.956 +08:00 [INF] JWT Claim: exp = 1748569404
2025-05-30 09:42:13.957 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:42:13.958 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:42:13.959 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:42:13.960 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDkzOTRjMmEtMDM3MS00ZDVhLWJiYjQtODY2MjBhZGM1N2JjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Njk0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Ju-b6mUgivQu1d15RK5lbgC1hMb7uHOAv7UBDp3AuYI]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-cdffa6269d41acf390bad5e67cea8e92-8d64d257b62fffd5-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 09:42:13.969 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:42:13.970 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 09:42:13.971 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 09:42:13.978 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 09:42:13.992 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 09:42:13.994 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 09:42:13.996 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 09:42:13.998 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 24.6651ms
2025-05-30 09:42:14.000 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 09:42:14.001 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 81ms
2025-05-30 09:42:14.003 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 95.2421ms
2025-05-30 09:42:19.030 +08:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:5001/api/Property/DeleteProperty/15 - null 0
2025-05-30 09:42:19.033 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:42:19.034 +08:00 [INF] 请求路径: /api/Property/DeleteProperty/15
2025-05-30 09:42:19.035 +08:00 [INF] 请求方法: DELETE
2025-05-30 09:42:19.036 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:42:19.037 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 09:42:19.038 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:42:19.040 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:42:19.041 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:42:19.042 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDkzOTRjMmEtMDM3MS00ZDVhLWJiYjQtODY2MjBhZGM1N2JjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Njk0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Ju-b6mUgivQu1d15RK5lbgC1hMb7uHOAv7UBDp3AuYI
2025-05-30 09:42:19.044 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:42:19.045 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:42:19.046 +08:00 [INF] 请求头: traceparent = 00-c1a6226ebb342a37c255723717dd5f33-e82cf4186ad80b44-00
2025-05-30 09:42:19.048 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:42:19.051 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:42:19.052 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:42:19.053 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:42:19.054 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:42:19.056 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:42:19.058 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:42:19.059 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:42:19.060 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:42:19.061 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:42:19.062 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:42:19.064 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:42:19.066 +08:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:5001/api/Property/DeleteProperty/14 - null 0
2025-05-30 09:42:19.067 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:42:19.073 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:42:19.074 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:42:19.075 +08:00 [INF] 请求路径: /api/Property/DeleteProperty/14
2025-05-30 09:42:19.076 +08:00 [INF] JWT Claim: jti = 09394c2a-0371-4d5a-bbb4-86620adc57bc
2025-05-30 09:42:19.077 +08:00 [INF] 请求方法: DELETE
2025-05-30 09:42:19.079 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:42:19.080 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:42:19.081 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:42:19.082 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 09:42:19.083 +08:00 [INF] JWT Claim: exp = 1748569404
2025-05-30 09:42:19.084 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:42:19.085 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:42:19.087 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:42:19.088 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:42:19.089 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:42:19.091 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:42:19.092 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDkzOTRjMmEtMDM3MS00ZDVhLWJiYjQtODY2MjBhZGM1N2JjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Njk0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Ju-b6mUgivQu1d15RK5lbgC1hMb7uHOAv7UBDp3AuYI
2025-05-30 09:42:19.093 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDkzOTRjMmEtMDM3MS00ZDVhLWJiYjQtODY2MjBhZGM1N2JjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Njk0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Ju-b6mUgivQu1d15RK5lbgC1hMb7uHOAv7UBDp3AuYI]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-c1a6226ebb342a37c255723717dd5f33-e82cf4186ad80b44-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 09:42:19.094 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:42:19.102 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:42:19.103 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:42:19.104 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.DeleteProperty (RealEstateSolution.PropertyService)'
2025-05-30 09:42:19.105 +08:00 [INF] 请求头: traceparent = 00-d94dffec9c9994b33ad9ffedea08fd7a-efa18a5ef295685f-00
2025-05-30 09:42:19.106 +08:00 [INF] Route matched with {action = "DeleteProperty", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse]] DeleteProperty(Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 09:42:19.107 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:42:19.111 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:42:19.113 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:42:19.115 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
WHERE [p].[Id] = @__p_0
2025-05-30 09:42:19.118 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:42:19.121 +08:00 [INF] Executing NotFoundObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse'.
2025-05-30 09:42:19.121 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:42:19.123 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.DeleteProperty (RealEstateSolution.PropertyService) in 13.7993ms
2025-05-30 09:42:19.124 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:42:19.126 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.DeleteProperty (RealEstateSolution.PropertyService)'
2025-05-30 09:42:19.127 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:42:19.129 +08:00 [INF] 请求 DELETE /api/Property/DeleteProperty/15 完成，状态码: 404，耗时: 95ms
2025-05-30 09:42:19.130 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:42:19.132 +08:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:5001/api/Property/DeleteProperty/15 - 404 null application/json; charset=utf-8 102.2082ms
2025-05-30 09:42:19.133 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:42:19.139 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:42:19.140 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:42:19.141 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:42:19.142 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:42:19.144 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:42:19.145 +08:00 [INF] JWT Claim: jti = 09394c2a-0371-4d5a-bbb4-86620adc57bc
2025-05-30 09:42:19.147 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:42:19.148 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:42:19.150 +08:00 [INF] JWT Claim: exp = 1748569404
2025-05-30 09:42:19.151 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:42:19.152 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:42:19.154 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:42:19.155 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDkzOTRjMmEtMDM3MS00ZDVhLWJiYjQtODY2MjBhZGM1N2JjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Njk0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Ju-b6mUgivQu1d15RK5lbgC1hMb7uHOAv7UBDp3AuYI]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-d94dffec9c9994b33ad9ffedea08fd7a-efa18a5ef295685f-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 09:42:19.165 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:42:19.166 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.DeleteProperty (RealEstateSolution.PropertyService)'
2025-05-30 09:42:19.167 +08:00 [INF] Route matched with {action = "DeleteProperty", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse]] DeleteProperty(Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 09:42:19.173 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
WHERE [p].[Id] = @__p_0
2025-05-30 09:42:19.178 +08:00 [INF] Executing NotFoundObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse'.
2025-05-30 09:42:19.180 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.DeleteProperty (RealEstateSolution.PropertyService) in 10.4707ms
2025-05-30 09:42:19.182 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.DeleteProperty (RealEstateSolution.PropertyService)'
2025-05-30 09:42:19.183 +08:00 [INF] 请求 DELETE /api/Property/DeleteProperty/14 完成，状态码: 404，耗时: 109ms
2025-05-30 09:42:19.186 +08:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:5001/api/Property/DeleteProperty/14 - 404 null application/json; charset=utf-8 120.1161ms
2025-05-30 09:42:19.236 +08:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:5001/api/Property/DeleteProperty/23 - null 0
2025-05-30 09:42:19.240 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:42:19.241 +08:00 [INF] 请求路径: /api/Property/DeleteProperty/23
2025-05-30 09:42:19.242 +08:00 [INF] 请求方法: DELETE
2025-05-30 09:42:19.243 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:42:19.244 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 09:42:19.246 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:42:19.248 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:42:19.249 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:42:19.250 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDkzOTRjMmEtMDM3MS00ZDVhLWJiYjQtODY2MjBhZGM1N2JjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Njk0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Ju-b6mUgivQu1d15RK5lbgC1hMb7uHOAv7UBDp3AuYI
2025-05-30 09:42:19.252 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:42:19.253 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:42:19.255 +08:00 [INF] 请求头: traceparent = 00-8e1b8063d2351094bc51c4e06b9b4777-290ebffb9242332b-00
2025-05-30 09:42:19.256 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:42:19.257 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:42:19.259 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:42:19.260 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:42:19.262 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:42:19.263 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:42:19.265 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:42:19.266 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:42:19.268 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:42:19.269 +08:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:5001/api/Property/DeleteProperty/11 - null 0
2025-05-30 09:42:19.269 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:42:19.272 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:42:19.273 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:42:19.274 +08:00 [INF] 请求路径: /api/Property/DeleteProperty/11
2025-05-30 09:42:19.275 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:42:19.276 +08:00 [INF] 请求方法: DELETE
2025-05-30 09:42:19.277 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:42:19.278 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:42:19.280 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:42:19.281 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 09:42:19.283 +08:00 [INF] JWT Claim: jti = 09394c2a-0371-4d5a-bbb4-86620adc57bc
2025-05-30 09:42:19.284 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:42:19.285 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:42:19.287 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:42:19.288 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:42:19.290 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:42:19.291 +08:00 [INF] JWT Claim: exp = 1748569404
2025-05-30 09:42:19.292 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDkzOTRjMmEtMDM3MS00ZDVhLWJiYjQtODY2MjBhZGM1N2JjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Njk0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Ju-b6mUgivQu1d15RK5lbgC1hMb7uHOAv7UBDp3AuYI
2025-05-30 09:42:19.294 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:42:19.295 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:42:19.296 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:42:19.299 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:42:19.300 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:42:19.302 +08:00 [INF] 请求头: traceparent = 00-e73c27a958966e2ad67a3b697bb87dc5-c549c76c3995bb36-00
2025-05-30 09:42:19.303 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDkzOTRjMmEtMDM3MS00ZDVhLWJiYjQtODY2MjBhZGM1N2JjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Njk0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Ju-b6mUgivQu1d15RK5lbgC1hMb7uHOAv7UBDp3AuYI]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-8e1b8063d2351094bc51c4e06b9b4777-290ebffb9242332b-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 09:42:19.304 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:42:19.314 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:42:19.315 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:42:19.316 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.DeleteProperty (RealEstateSolution.PropertyService)'
2025-05-30 09:42:19.317 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:42:19.319 +08:00 [INF] Route matched with {action = "DeleteProperty", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse]] DeleteProperty(Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 09:42:19.320 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:42:19.324 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:42:19.327 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
WHERE [p].[Id] = @__p_0
2025-05-30 09:42:19.329 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:42:19.332 +08:00 [INF] Executing NotFoundObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse'.
2025-05-30 09:42:19.333 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:42:19.335 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.DeleteProperty (RealEstateSolution.PropertyService) in 12.6082ms
2025-05-30 09:42:19.336 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:42:19.338 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.DeleteProperty (RealEstateSolution.PropertyService)'
2025-05-30 09:42:19.340 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:42:19.341 +08:00 [INF] 请求 DELETE /api/Property/DeleteProperty/23 完成，状态码: 404，耗时: 101ms
2025-05-30 09:42:19.342 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:42:19.344 +08:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:5001/api/Property/DeleteProperty/23 - 404 null application/json; charset=utf-8 107.8159ms
2025-05-30 09:42:19.345 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:42:19.351 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:42:19.352 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:42:19.354 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:42:19.355 +08:00 [INF] JWT Claim: jti = 09394c2a-0371-4d5a-bbb4-86620adc57bc
2025-05-30 09:42:19.357 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:42:19.358 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:42:19.359 +08:00 [INF] JWT Claim: exp = 1748569404
2025-05-30 09:42:19.361 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:42:19.362 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:42:19.364 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:42:19.365 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDkzOTRjMmEtMDM3MS00ZDVhLWJiYjQtODY2MjBhZGM1N2JjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Njk0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Ju-b6mUgivQu1d15RK5lbgC1hMb7uHOAv7UBDp3AuYI]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-e73c27a958966e2ad67a3b697bb87dc5-c549c76c3995bb36-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 09:42:19.375 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:42:19.377 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.DeleteProperty (RealEstateSolution.PropertyService)'
2025-05-30 09:42:19.378 +08:00 [INF] Route matched with {action = "DeleteProperty", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse]] DeleteProperty(Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 09:42:19.384 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
WHERE [p].[Id] = @__p_0
2025-05-30 09:42:19.390 +08:00 [INF] Executing NotFoundObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse'.
2025-05-30 09:42:19.392 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.DeleteProperty (RealEstateSolution.PropertyService) in 11.6872ms
2025-05-30 09:42:19.394 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.DeleteProperty (RealEstateSolution.PropertyService)'
2025-05-30 09:42:19.396 +08:00 [INF] 请求 DELETE /api/Property/DeleteProperty/11 完成，状态码: 404，耗时: 123ms
2025-05-30 09:42:19.398 +08:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:5001/api/Property/DeleteProperty/11 - 404 null application/json; charset=utf-8 129.6124ms
2025-05-30 09:42:19.445 +08:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:5001/api/Property/DeleteProperty/13 - null 0
2025-05-30 09:42:19.449 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:42:19.450 +08:00 [INF] 请求路径: /api/Property/DeleteProperty/13
2025-05-30 09:42:19.452 +08:00 [INF] 请求方法: DELETE
2025-05-30 09:42:19.453 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:42:19.455 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 09:42:19.457 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:42:19.459 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:42:19.460 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:42:19.462 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDkzOTRjMmEtMDM3MS00ZDVhLWJiYjQtODY2MjBhZGM1N2JjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Njk0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Ju-b6mUgivQu1d15RK5lbgC1hMb7uHOAv7UBDp3AuYI
2025-05-30 09:42:19.463 +08:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:5001/api/Property/DeleteProperty/25 - null 0
2025-05-30 09:42:19.463 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:42:19.467 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:42:19.468 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:42:19.469 +08:00 [INF] 请求路径: /api/Property/DeleteProperty/25
2025-05-30 09:42:19.470 +08:00 [INF] 请求头: traceparent = 00-ef0373f9f2705ac9e68dba40ac284e52-864280ad86f74363-00
2025-05-30 09:42:19.472 +08:00 [INF] 请求方法: DELETE
2025-05-30 09:42:19.473 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:42:19.474 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:42:19.476 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:42:19.477 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 09:42:19.478 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:42:19.480 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:42:19.481 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:42:19.483 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:42:19.485 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:42:19.486 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:42:19.488 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:42:19.489 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDkzOTRjMmEtMDM3MS00ZDVhLWJiYjQtODY2MjBhZGM1N2JjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Njk0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Ju-b6mUgivQu1d15RK5lbgC1hMb7uHOAv7UBDp3AuYI
2025-05-30 09:42:19.491 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:42:19.492 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:42:19.494 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:42:19.495 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:42:19.496 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:42:19.498 +08:00 [INF] 请求头: traceparent = 00-be6a2720b3197fb5e553376c4d3161f4-2d8a346d38384981-00
2025-05-30 09:42:19.499 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:42:19.502 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:42:19.507 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:42:19.507 +08:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:5001/api/Property/DeleteProperty/24 - null 0
2025-05-30 09:42:19.511 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:42:19.512 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:42:19.516 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:42:19.518 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:42:19.524 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:42:19.528 +08:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:5001/api/Property/DeleteProperty/5 - null 0
2025-05-30 09:42:19.535 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:42:19.528 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:42:19.515 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:42:19.536 +08:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:5001/api/Property/DeleteProperty/22 - null 0
2025-05-30 09:42:19.540 +08:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:5001/api/Property/DeleteProperty/12 - null 0
2025-05-30 09:42:19.543 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:42:19.544 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:42:19.545 +08:00 [INF] JWT Claim: jti = 09394c2a-0371-4d5a-bbb4-86620adc57bc
2025-05-30 09:42:19.547 +08:00 [INF] 请求路径: /api/Property/DeleteProperty/24
2025-05-30 09:42:19.550 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:42:19.553 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:42:19.554 +08:00 [INF] 请求路径: /api/Property/DeleteProperty/5
2025-05-30 09:42:19.555 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:42:19.556 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:42:19.557 +08:00 [INF] 请求方法: DELETE
2025-05-30 09:42:19.558 +08:00 [INF] 请求路径: /api/Property/DeleteProperty/22
2025-05-30 09:42:19.559 +08:00 [INF] 请求路径: /api/Property/DeleteProperty/12
2025-05-30 09:42:19.560 +08:00 [INF] 请求方法: DELETE
2025-05-30 09:42:19.562 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:42:19.563 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:42:19.564 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:42:19.565 +08:00 [INF] 请求方法: DELETE
2025-05-30 09:42:19.566 +08:00 [INF] 请求方法: DELETE
2025-05-30 09:42:19.567 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:42:19.569 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:42:19.570 +08:00 [INF] JWT Claim: exp = 1748569404
2025-05-30 09:42:19.572 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 09:42:19.573 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:42:19.574 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:42:19.575 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 09:42:19.576 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:42:19.577 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:42:19.578 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:42:19.580 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 09:42:19.581 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 09:42:19.583 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:42:19.584 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:42:19.585 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:42:19.586 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:42:19.588 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:42:19.589 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:42:19.591 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:42:19.592 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:42:19.593 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:42:19.594 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:42:19.596 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:42:19.597 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:42:19.598 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:42:19.599 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:42:19.600 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDkzOTRjMmEtMDM3MS00ZDVhLWJiYjQtODY2MjBhZGM1N2JjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Njk0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Ju-b6mUgivQu1d15RK5lbgC1hMb7uHOAv7UBDp3AuYI]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-ef0373f9f2705ac9e68dba40ac284e52-864280ad86f74363-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 09:42:19.602 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDkzOTRjMmEtMDM3MS00ZDVhLWJiYjQtODY2MjBhZGM1N2JjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Njk0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Ju-b6mUgivQu1d15RK5lbgC1hMb7uHOAv7UBDp3AuYI
2025-05-30 09:42:19.603 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:42:19.604 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:42:19.606 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDkzOTRjMmEtMDM3MS00ZDVhLWJiYjQtODY2MjBhZGM1N2JjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Njk0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Ju-b6mUgivQu1d15RK5lbgC1hMb7uHOAv7UBDp3AuYI
2025-05-30 09:42:19.607 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:42:19.616 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:42:19.617 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:42:19.618 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDkzOTRjMmEtMDM3MS00ZDVhLWJiYjQtODY2MjBhZGM1N2JjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Njk0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Ju-b6mUgivQu1d15RK5lbgC1hMb7uHOAv7UBDp3AuYI
2025-05-30 09:42:19.619 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDkzOTRjMmEtMDM3MS00ZDVhLWJiYjQtODY2MjBhZGM1N2JjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Njk0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Ju-b6mUgivQu1d15RK5lbgC1hMb7uHOAv7UBDp3AuYI
2025-05-30 09:42:19.621 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:42:19.622 +08:00 [INF] JWT Claim: jti = 09394c2a-0371-4d5a-bbb4-86620adc57bc
2025-05-30 09:42:19.623 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.DeleteProperty (RealEstateSolution.PropertyService)'
2025-05-30 09:42:19.625 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:42:19.626 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:42:19.627 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:42:19.628 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:42:19.630 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:42:19.631 +08:00 [INF] Route matched with {action = "DeleteProperty", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse]] DeleteProperty(Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 09:42:19.632 +08:00 [INF] 请求头: traceparent = 00-0d2bf6db97a996ee0d07a06fedc6cb2b-083e86cdf1626e87-00
2025-05-30 09:42:19.633 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:42:19.637 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:42:19.636 +08:00 [INF] 请求头: traceparent = 00-3f4b39e4d4413bc4301432a6a5670c43-a40a2950a5a85710-00
2025-05-30 09:42:19.641 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:42:19.635 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:42:19.643 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
WHERE [p].[Id] = @__p_0
2025-05-30 09:42:19.644 +08:00 [INF] 请求头: traceparent = 00-eeaaca38775af8fcc5eca73c9f83e3f1-886604414712962d-00
2025-05-30 09:42:19.646 +08:00 [INF] JWT Claim: exp = 1748569404
2025-05-30 09:42:19.647 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:42:19.648 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:42:19.650 +08:00 [INF] 请求头: traceparent = 00-505dca994f92707d7500e6ef48d081aa-f21d8b2243aa252e-00
2025-05-30 09:42:19.652 +08:00 [INF] Executing NotFoundObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse'.
2025-05-30 09:42:19.653 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:42:19.654 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:42:19.656 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:42:19.657 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:42:19.658 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:42:19.660 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.DeleteProperty (RealEstateSolution.PropertyService) in 20.6251ms
2025-05-30 09:42:19.661 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:42:19.663 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:42:19.664 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:42:19.666 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:42:19.667 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:42:19.668 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.DeleteProperty (RealEstateSolution.PropertyService)'
2025-05-30 09:42:19.670 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:42:19.671 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:42:19.672 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:42:19.674 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:42:19.675 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:42:19.676 +08:00 [INF] 请求 DELETE /api/Property/DeleteProperty/13 完成，状态码: 404，耗时: 226ms
2025-05-30 09:42:19.677 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:42:19.678 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDkzOTRjMmEtMDM3MS00ZDVhLWJiYjQtODY2MjBhZGM1N2JjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Njk0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Ju-b6mUgivQu1d15RK5lbgC1hMb7uHOAv7UBDp3AuYI]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-be6a2720b3197fb5e553376c4d3161f4-2d8a346d38384981-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 09:42:19.679 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:42:19.681 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:42:19.682 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:42:19.684 +08:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:5001/api/Property/DeleteProperty/13 - 404 null application/json; charset=utf-8 239.4763ms
2025-05-30 09:42:19.685 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:42:19.694 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:42:19.695 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:42:19.697 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:42:19.698 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:42:19.703 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:42:19.704 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.DeleteProperty (RealEstateSolution.PropertyService)'
2025-05-30 09:42:19.705 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:42:19.707 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:42:19.708 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:42:19.709 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:42:19.710 +08:00 [INF] Route matched with {action = "DeleteProperty", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse]] DeleteProperty(Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 09:42:19.712 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:42:19.713 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:42:19.719 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:42:19.721 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
WHERE [p].[Id] = @__p_0
2025-05-30 09:42:19.721 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:42:19.716 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:42:19.714 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:42:19.723 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:42:19.725 +08:00 [INF] Executing NotFoundObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse'.
2025-05-30 09:42:19.726 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:42:19.727 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:42:19.728 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:42:19.729 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:42:19.731 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.DeleteProperty (RealEstateSolution.PropertyService) in 13.4294ms
2025-05-30 09:42:19.732 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:42:19.733 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:42:19.734 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:42:19.735 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:42:19.737 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.DeleteProperty (RealEstateSolution.PropertyService)'
2025-05-30 09:42:19.738 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:42:19.739 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:42:19.740 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:42:19.742 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:42:19.743 +08:00 [INF] 请求 DELETE /api/Property/DeleteProperty/25 完成，状态码: 404，耗时: 276ms
2025-05-30 09:42:19.745 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:42:19.746 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:42:19.747 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:42:19.748 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:42:19.751 +08:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:5001/api/Property/DeleteProperty/25 - 404 null application/json; charset=utf-8 287.8624ms
2025-05-30 09:42:19.752 +08:00 [INF] JWT Claim: jti = 09394c2a-0371-4d5a-bbb4-86620adc57bc
2025-05-30 09:42:19.756 +08:00 [INF] JWT Claim: jti = 09394c2a-0371-4d5a-bbb4-86620adc57bc
2025-05-30 09:42:19.753 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:42:19.754 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:42:19.761 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:42:19.763 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:42:19.764 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:42:19.765 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:42:19.767 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:42:19.768 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:42:19.769 +08:00 [INF] JWT Claim: jti = 09394c2a-0371-4d5a-bbb4-86620adc57bc
2025-05-30 09:42:19.771 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:42:19.772 +08:00 [INF] JWT Claim: exp = 1748569404
2025-05-30 09:42:19.773 +08:00 [INF] JWT Claim: exp = 1748569404
2025-05-30 09:42:19.774 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:42:19.775 +08:00 [INF] JWT Claim: jti = 09394c2a-0371-4d5a-bbb4-86620adc57bc
2025-05-30 09:42:19.777 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:42:19.778 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:42:19.779 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:42:19.781 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:42:19.782 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:42:19.783 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:42:19.784 +08:00 [INF] JWT Claim: exp = 1748569404
2025-05-30 09:42:19.786 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:42:19.787 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:42:19.788 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:42:19.790 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:42:19.791 +08:00 [INF] JWT Claim: exp = 1748569404
2025-05-30 09:42:19.792 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDkzOTRjMmEtMDM3MS00ZDVhLWJiYjQtODY2MjBhZGM1N2JjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Njk0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Ju-b6mUgivQu1d15RK5lbgC1hMb7uHOAv7UBDp3AuYI]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-0d2bf6db97a996ee0d07a06fedc6cb2b-083e86cdf1626e87-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 09:42:19.793 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDkzOTRjMmEtMDM3MS00ZDVhLWJiYjQtODY2MjBhZGM1N2JjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Njk0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Ju-b6mUgivQu1d15RK5lbgC1hMb7uHOAv7UBDp3AuYI]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-3f4b39e4d4413bc4301432a6a5670c43-a40a2950a5a85710-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 09:42:19.794 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:42:19.795 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:42:19.805 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:42:19.811 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:42:19.812 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:42:19.814 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:42:19.815 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.DeleteProperty (RealEstateSolution.PropertyService)'
2025-05-30 09:42:19.816 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.DeleteProperty (RealEstateSolution.PropertyService)'
2025-05-30 09:42:19.817 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDkzOTRjMmEtMDM3MS00ZDVhLWJiYjQtODY2MjBhZGM1N2JjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Njk0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Ju-b6mUgivQu1d15RK5lbgC1hMb7uHOAv7UBDp3AuYI]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-eeaaca38775af8fcc5eca73c9f83e3f1-886604414712962d-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 09:42:19.818 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:42:19.819 +08:00 [INF] Route matched with {action = "DeleteProperty", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse]] DeleteProperty(Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 09:42:19.820 +08:00 [INF] Route matched with {action = "DeleteProperty", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse]] DeleteProperty(Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 09:42:19.835 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
WHERE [p].[Id] = @__p_0
2025-05-30 09:42:19.828 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:42:19.841 +08:00 [INF] Executing NotFoundObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse'.
2025-05-30 09:42:19.845 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.DeleteProperty (RealEstateSolution.PropertyService)'
2025-05-30 09:42:19.829 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDkzOTRjMmEtMDM3MS00ZDVhLWJiYjQtODY2MjBhZGM1N2JjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Njk0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Ju-b6mUgivQu1d15RK5lbgC1hMb7uHOAv7UBDp3AuYI]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-505dca994f92707d7500e6ef48d081aa-f21d8b2243aa252e-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 09:42:19.846 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
WHERE [p].[Id] = @__p_0
2025-05-30 09:42:19.850 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.DeleteProperty (RealEstateSolution.PropertyService) in 19.2564ms
2025-05-30 09:42:19.852 +08:00 [INF] Route matched with {action = "DeleteProperty", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse]] DeleteProperty(Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 09:42:19.861 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:42:19.865 +08:00 [INF] Executing NotFoundObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse'.
2025-05-30 09:42:19.866 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.DeleteProperty (RealEstateSolution.PropertyService)'
2025-05-30 09:42:19.870 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.DeleteProperty (RealEstateSolution.PropertyService)'
2025-05-30 09:42:19.874 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.DeleteProperty (RealEstateSolution.PropertyService) in 39.3125ms
2025-05-30 09:42:19.874 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
WHERE [p].[Id] = @__p_0
2025-05-30 09:42:19.875 +08:00 [INF] 请求 DELETE /api/Property/DeleteProperty/24 完成，状态码: 404，耗时: 360ms
2025-05-30 09:42:19.877 +08:00 [INF] Route matched with {action = "DeleteProperty", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse]] DeleteProperty(Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 09:42:19.879 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.DeleteProperty (RealEstateSolution.PropertyService)'
2025-05-30 09:42:19.882 +08:00 [INF] Executing NotFoundObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse'.
2025-05-30 09:42:19.884 +08:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:5001/api/Property/DeleteProperty/24 - 404 null application/json; charset=utf-8 376.5306ms
2025-05-30 09:42:19.888 +08:00 [INF] 请求 DELETE /api/Property/DeleteProperty/5 完成，状态码: 404，耗时: 344ms
2025-05-30 09:42:19.893 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
WHERE [p].[Id] = @__p_0
2025-05-30 09:42:19.894 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.DeleteProperty (RealEstateSolution.PropertyService) in 25.7185ms
2025-05-30 09:42:19.901 +08:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:5001/api/Property/DeleteProperty/5 - 404 null application/json; charset=utf-8 373.8893ms
2025-05-30 09:42:19.904 +08:00 [INF] Executing NotFoundObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse'.
2025-05-30 09:42:19.905 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.DeleteProperty (RealEstateSolution.PropertyService)'
2025-05-30 09:42:19.912 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.DeleteProperty (RealEstateSolution.PropertyService) in 25.5667ms
2025-05-30 09:42:19.913 +08:00 [INF] 请求 DELETE /api/Property/DeleteProperty/22 完成，状态码: 404，耗时: 362ms
2025-05-30 09:42:19.915 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.DeleteProperty (RealEstateSolution.PropertyService)'
2025-05-30 09:42:19.918 +08:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:5001/api/Property/DeleteProperty/22 - 404 null application/json; charset=utf-8 381.7804ms
2025-05-30 09:42:19.919 +08:00 [INF] 请求 DELETE /api/Property/DeleteProperty/12 完成，状态码: 404，耗时: 366ms
2025-05-30 09:42:19.926 +08:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:5001/api/Property/DeleteProperty/12 - 404 null application/json; charset=utf-8 386.1092ms
2025-05-30 09:52:20.608 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 09:52:20.611 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:52:20.612 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 09:52:20.613 +08:00 [INF] 请求方法: GET
2025-05-30 09:52:20.614 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:52:20.616 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 09:52:20.617 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:52:20.618 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:52:20.619 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:52:20.620 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDMyY2ZmYzEtYjBmZC00ZTZmLTg3Y2ItZmQ2ODhmN2JhNTI2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzA1MzksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9._LCxjRInKEVJ_OUZCOqla-rRKgEyrL7TkAQ0DokPK78
2025-05-30 09:52:20.622 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:52:20.623 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:52:20.624 +08:00 [INF] 请求头: traceparent = 00-603b1422bb9a188490914b4e589c2b1e-0254e48ae1a2de72-00
2025-05-30 09:52:20.625 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:52:20.626 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:52:20.628 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:52:20.629 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:52:20.630 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:52:20.631 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:52:20.632 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:52:20.634 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:52:20.635 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:52:20.635 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:52:20.636 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:52:20.637 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:52:20.638 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:52:20.639 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:52:20.640 +08:00 [INF] JWT Claim: jti = 032cffc1-b0fd-4e6f-87cb-fd688f7ba526
2025-05-30 09:52:20.642 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:52:20.643 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:52:20.644 +08:00 [INF] JWT Claim: exp = 1748570539
2025-05-30 09:52:20.646 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:52:20.647 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:52:20.648 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:52:20.650 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDMyY2ZmYzEtYjBmZC00ZTZmLTg3Y2ItZmQ2ODhmN2JhNTI2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzA1MzksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9._LCxjRInKEVJ_OUZCOqla-rRKgEyrL7TkAQ0DokPK78]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-603b1422bb9a188490914b4e589c2b1e-0254e48ae1a2de72-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 09:52:20.657 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:52:20.658 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 09:52:20.659 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 09:52:20.692 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 09:52:20.698 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 09:52:20.700 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 09:52:20.702 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 09:52:20.703 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 42.877ms
2025-05-30 09:52:20.705 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 09:52:20.706 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 94ms
2025-05-30 09:52:20.708 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 99.9935ms
2025-05-30 09:52:20.794 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 09:52:20.798 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:52:20.799 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 09:52:20.800 +08:00 [INF] 请求方法: GET
2025-05-30 09:52:20.801 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:52:20.803 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 09:52:20.805 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:52:20.806 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:52:20.808 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:52:20.809 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDMyY2ZmYzEtYjBmZC00ZTZmLTg3Y2ItZmQ2ODhmN2JhNTI2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzA1MzksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9._LCxjRInKEVJ_OUZCOqla-rRKgEyrL7TkAQ0DokPK78
2025-05-30 09:52:20.811 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:52:20.812 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:52:20.814 +08:00 [INF] 请求头: traceparent = 00-f5c39823ff7fd53e2d1ff57555b6aec2-df426047857e1e93-00
2025-05-30 09:52:20.815 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:52:20.817 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:52:20.818 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:52:20.820 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:52:20.821 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:52:20.823 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:52:20.824 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:52:20.826 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:52:20.828 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:52:20.829 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:52:20.830 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:52:20.831 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:52:20.833 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:52:20.835 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:52:20.836 +08:00 [INF] JWT Claim: jti = 032cffc1-b0fd-4e6f-87cb-fd688f7ba526
2025-05-30 09:52:20.838 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:52:20.839 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:52:20.841 +08:00 [INF] JWT Claim: exp = 1748570539
2025-05-30 09:52:20.842 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:52:20.844 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:52:20.846 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:52:20.847 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDMyY2ZmYzEtYjBmZC00ZTZmLTg3Y2ItZmQ2ODhmN2JhNTI2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzA1MzksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9._LCxjRInKEVJ_OUZCOqla-rRKgEyrL7TkAQ0DokPK78]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-f5c39823ff7fd53e2d1ff57555b6aec2-df426047857e1e93-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 09:52:20.856 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:52:20.858 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 09:52:20.859 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 09:52:20.866 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 09:52:20.869 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 09:52:20.871 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 9.3762ms
2025-05-30 09:52:20.873 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 09:52:20.874 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 75ms
2025-05-30 09:52:20.876 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 82.0515ms
2025-05-30 09:52:32.023 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 09:52:32.026 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:52:32.026 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 09:52:32.027 +08:00 [INF] 请求方法: GET
2025-05-30 09:52:32.028 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:52:32.029 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 09:52:32.030 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:52:32.031 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:52:32.032 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:52:32.034 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDMyY2ZmYzEtYjBmZC00ZTZmLTg3Y2ItZmQ2ODhmN2JhNTI2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzA1MzksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9._LCxjRInKEVJ_OUZCOqla-rRKgEyrL7TkAQ0DokPK78
2025-05-30 09:52:32.035 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:52:32.036 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:52:32.037 +08:00 [INF] 请求头: traceparent = 00-f03978a589ec45d446c47d6b30000093-9a2e3dbef20fd88c-00
2025-05-30 09:52:32.038 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:52:32.039 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:52:32.040 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:52:32.042 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:52:32.043 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:52:32.044 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:52:32.045 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:52:32.046 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:52:32.047 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:52:32.048 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:52:32.049 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:52:32.050 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:52:32.051 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:52:32.052 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:52:32.053 +08:00 [INF] JWT Claim: jti = 032cffc1-b0fd-4e6f-87cb-fd688f7ba526
2025-05-30 09:52:32.054 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:52:32.055 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:52:32.056 +08:00 [INF] JWT Claim: exp = 1748570539
2025-05-30 09:52:32.057 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:52:32.059 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:52:32.060 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:52:32.061 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDMyY2ZmYzEtYjBmZC00ZTZmLTg3Y2ItZmQ2ODhmN2JhNTI2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzA1MzksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9._LCxjRInKEVJ_OUZCOqla-rRKgEyrL7TkAQ0DokPK78]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-f03978a589ec45d446c47d6b30000093-9a2e3dbef20fd88c-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 09:52:32.068 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:52:32.069 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 09:52:32.070 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 09:52:32.077 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 09:52:32.081 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 09:52:32.084 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 09:52:32.085 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 09:52:32.087 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 15.1469ms
2025-05-30 09:52:32.088 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 09:52:32.089 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 63ms
2025-05-30 09:52:32.092 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 68.9203ms
2025-05-30 09:52:36.060 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperty/5 - null 0
2025-05-30 09:52:36.063 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:52:36.065 +08:00 [INF] 请求路径: /api/Property/GetProperty/5
2025-05-30 09:52:36.066 +08:00 [INF] 请求方法: GET
2025-05-30 09:52:36.068 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:52:36.069 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 09:52:36.071 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:52:36.072 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:52:36.075 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:52:36.076 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDMyY2ZmYzEtYjBmZC00ZTZmLTg3Y2ItZmQ2ODhmN2JhNTI2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzA1MzksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9._LCxjRInKEVJ_OUZCOqla-rRKgEyrL7TkAQ0DokPK78
2025-05-30 09:52:36.078 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:52:36.079 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:52:36.081 +08:00 [INF] 请求头: traceparent = 00-95454d49f5d334bfaa99e4fd4c225b7a-c74a42a507250e72-00
2025-05-30 09:52:36.082 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:52:36.083 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:52:36.085 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:52:36.086 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:52:36.087 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:52:36.089 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:52:36.090 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:52:36.092 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:52:36.093 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:52:36.094 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:52:36.096 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:52:36.097 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:52:36.099 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:52:36.100 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:52:36.101 +08:00 [INF] JWT Claim: jti = 032cffc1-b0fd-4e6f-87cb-fd688f7ba526
2025-05-30 09:52:36.103 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:52:36.104 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:52:36.106 +08:00 [INF] JWT Claim: exp = 1748570539
2025-05-30 09:52:36.107 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:52:36.109 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:52:36.110 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:52:36.111 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDMyY2ZmYzEtYjBmZC00ZTZmLTg3Y2ItZmQ2ODhmN2JhNTI2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzA1MzksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9._LCxjRInKEVJ_OUZCOqla-rRKgEyrL7TkAQ0DokPK78]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-95454d49f5d334bfaa99e4fd4c225b7a-c74a42a507250e72-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 09:52:36.120 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:52:36.124 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperty (RealEstateSolution.PropertyService)'
2025-05-30 09:52:36.130 +08:00 [INF] Route matched with {action = "GetProperty", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]] GetProperty(Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 09:52:36.171 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
WHERE [p].[Id] = @__id_0
2025-05-30 09:52:36.178 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
WHERE [p].[Id] = @__p_0
2025-05-30 09:52:36.237 +08:00 [INF] Executed DbCommand (19ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FileName], [p].[FilePath], [p].[FileSize], [p].[FileType], [p].[IsMain], [p].[PropertyId], [p].[UploadedAt], [p].[UploadedBy]
FROM [PropertyImages] AS [p]
WHERE [p].[PropertyId] = @__id_0
2025-05-30 09:52:36.270 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 09:52:36.275 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperty (RealEstateSolution.PropertyService) in 141.8794ms
2025-05-30 09:52:36.276 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperty (RealEstateSolution.PropertyService)'
2025-05-30 09:52:36.277 +08:00 [INF] 请求 GET /api/Property/GetProperty/5 完成，状态码: 200，耗时: 213ms
2025-05-30 09:52:36.279 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperty/5 - 200 null application/json; charset=utf-8 219.0473ms
2025-05-30 09:52:46.108 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperty/5 - null 0
2025-05-30 09:52:46.111 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:52:46.112 +08:00 [INF] 请求路径: /api/Property/GetProperty/5
2025-05-30 09:52:46.113 +08:00 [INF] 请求方法: GET
2025-05-30 09:52:46.114 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:52:46.115 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 09:52:46.117 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:52:46.118 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:52:46.119 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:52:46.120 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDMyY2ZmYzEtYjBmZC00ZTZmLTg3Y2ItZmQ2ODhmN2JhNTI2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzA1MzksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9._LCxjRInKEVJ_OUZCOqla-rRKgEyrL7TkAQ0DokPK78
2025-05-30 09:52:46.121 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:52:46.122 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:52:46.124 +08:00 [INF] 请求头: traceparent = 00-6e6bfd03ae3252f2a3a9b5700841aa9d-8ba1f5415d4d5dd5-00
2025-05-30 09:52:46.125 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:52:46.126 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:52:46.128 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:52:46.129 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:52:46.130 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:52:46.131 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:52:46.132 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:52:46.134 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:52:46.135 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:52:46.136 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:52:46.136 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:52:46.137 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:52:46.138 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:52:46.139 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:52:46.140 +08:00 [INF] JWT Claim: jti = 032cffc1-b0fd-4e6f-87cb-fd688f7ba526
2025-05-30 09:52:46.142 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:52:46.143 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:52:46.144 +08:00 [INF] JWT Claim: exp = 1748570539
2025-05-30 09:52:46.145 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:52:46.146 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:52:46.147 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:52:46.148 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDMyY2ZmYzEtYjBmZC00ZTZmLTg3Y2ItZmQ2ODhmN2JhNTI2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzA1MzksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9._LCxjRInKEVJ_OUZCOqla-rRKgEyrL7TkAQ0DokPK78]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-6e6bfd03ae3252f2a3a9b5700841aa9d-8ba1f5415d4d5dd5-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 09:52:46.155 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:52:46.156 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperty (RealEstateSolution.PropertyService)'
2025-05-30 09:52:46.158 +08:00 [INF] Route matched with {action = "GetProperty", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]] GetProperty(Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 09:52:46.194 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FileName], [p].[FilePath], [p].[FileSize], [p].[FileType], [p].[IsMain], [p].[PropertyId], [p].[UploadedAt], [p].[UploadedBy]
FROM [PropertyImages] AS [p]
WHERE [p].[PropertyId] = @__id_0
2025-05-30 09:52:46.196 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 09:52:46.198 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperty (RealEstateSolution.PropertyService) in 38.111ms
2025-05-30 09:52:46.199 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperty (RealEstateSolution.PropertyService)'
2025-05-30 09:52:46.201 +08:00 [INF] 请求 GET /api/Property/GetProperty/5 完成，状态码: 200，耗时: 89ms
2025-05-30 09:52:46.203 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperty/5 - 200 null application/json; charset=utf-8 94.8724ms
2025-05-30 09:52:58.653 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 09:52:58.656 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:52:58.658 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 09:52:58.659 +08:00 [INF] 请求方法: GET
2025-05-30 09:52:58.660 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:52:58.661 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 09:52:58.663 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:52:58.664 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:52:58.666 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:52:58.667 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDMyY2ZmYzEtYjBmZC00ZTZmLTg3Y2ItZmQ2ODhmN2JhNTI2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzA1MzksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9._LCxjRInKEVJ_OUZCOqla-rRKgEyrL7TkAQ0DokPK78
2025-05-30 09:52:58.669 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:52:58.671 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:52:58.673 +08:00 [INF] 请求头: traceparent = 00-ce06275fd884d752e3c482b985323da0-25ecd8d82a6b5913-00
2025-05-30 09:52:58.674 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:52:58.676 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:52:58.677 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:52:58.678 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:52:58.679 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:52:58.680 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:52:58.682 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:52:58.685 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:52:58.691 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 09:52:58.691 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:52:58.693 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:52:58.694 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:52:58.695 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 09:52:58.696 +08:00 [INF] 请求方法: GET
2025-05-30 09:52:58.697 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:52:58.696 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:52:58.698 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 09:52:58.699 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:52:58.700 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:52:58.701 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:52:58.702 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:52:58.703 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:52:58.705 +08:00 [INF] JWT Claim: jti = 032cffc1-b0fd-4e6f-87cb-fd688f7ba526
2025-05-30 09:52:58.706 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:52:58.704 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:52:58.707 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:52:58.708 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDMyY2ZmYzEtYjBmZC00ZTZmLTg3Y2ItZmQ2ODhmN2JhNTI2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzA1MzksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9._LCxjRInKEVJ_OUZCOqla-rRKgEyrL7TkAQ0DokPK78
2025-05-30 09:52:58.709 +08:00 [INF] JWT Claim: exp = 1748570539
2025-05-30 09:52:58.711 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:52:58.712 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:52:58.713 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:52:58.713 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:52:58.714 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:52:58.716 +08:00 [INF] 请求头: traceparent = 00-c9c5203b7815b7e993c08f31a52d09b9-7f31a6f4d5d2d619-00
2025-05-30 09:52:58.716 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDMyY2ZmYzEtYjBmZC00ZTZmLTg3Y2ItZmQ2ODhmN2JhNTI2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzA1MzksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9._LCxjRInKEVJ_OUZCOqla-rRKgEyrL7TkAQ0DokPK78]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-ce06275fd884d752e3c482b985323da0-25ecd8d82a6b5913-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 09:52:58.718 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:52:58.724 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:52:58.725 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:52:58.725 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 09:52:58.726 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:52:58.727 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 09:52:58.728 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:52:58.731 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:52:58.733 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 09:52:58.734 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:52:58.737 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:52:58.738 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:52:58.739 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 09:52:58.744 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:52:58.748 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 09:52:58.748 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:52:58.750 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 09:52:58.750 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:52:58.752 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 21.9892ms
2025-05-30 09:52:58.753 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:52:58.754 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 09:52:58.755 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:52:58.756 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 99ms
2025-05-30 09:52:58.757 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:52:58.759 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 105.5716ms
2025-05-30 09:52:58.760 +08:00 [INF] JWT Claim: jti = 032cffc1-b0fd-4e6f-87cb-fd688f7ba526
2025-05-30 09:52:58.766 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:52:58.767 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:52:58.768 +08:00 [INF] JWT Claim: exp = 1748570539
2025-05-30 09:52:58.769 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:52:58.770 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:52:58.772 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:52:58.773 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDMyY2ZmYzEtYjBmZC00ZTZmLTg3Y2ItZmQ2ODhmN2JhNTI2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzA1MzksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9._LCxjRInKEVJ_OUZCOqla-rRKgEyrL7TkAQ0DokPK78]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-c9c5203b7815b7e993c08f31a52d09b9-7f31a6f4d5d2d619-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 09:52:58.779 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:52:58.780 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 09:52:58.781 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 09:52:58.787 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 09:52:58.790 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 09:52:58.791 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 7.9935ms
2025-05-30 09:52:58.793 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 09:52:58.794 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 100ms
2025-05-30 09:52:58.795 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 104.6423ms
2025-05-30 09:53:01.055 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 09:53:01.057 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:53:01.058 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 09:53:01.059 +08:00 [INF] 请求方法: GET
2025-05-30 09:53:01.060 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:53:01.061 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 09:53:01.062 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:53:01.063 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:53:01.064 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:53:01.064 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDMyY2ZmYzEtYjBmZC00ZTZmLTg3Y2ItZmQ2ODhmN2JhNTI2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzA1MzksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9._LCxjRInKEVJ_OUZCOqla-rRKgEyrL7TkAQ0DokPK78
2025-05-30 09:53:01.066 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:53:01.067 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:53:01.068 +08:00 [INF] 请求头: traceparent = 00-42c958ab8a6f1f890f51f089442f58fe-83a1d88f2ebe7599-00
2025-05-30 09:53:01.069 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:53:01.070 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:53:01.071 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:53:01.072 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:53:01.073 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:53:01.074 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:53:01.075 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:53:01.076 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:53:01.077 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:53:01.078 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:53:01.078 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:53:01.079 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:53:01.080 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:53:01.081 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:53:01.082 +08:00 [INF] JWT Claim: jti = 032cffc1-b0fd-4e6f-87cb-fd688f7ba526
2025-05-30 09:53:01.084 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:53:01.085 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:53:01.086 +08:00 [INF] JWT Claim: exp = 1748570539
2025-05-30 09:53:01.087 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:53:01.088 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:53:01.089 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:53:01.089 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDMyY2ZmYzEtYjBmZC00ZTZmLTg3Y2ItZmQ2ODhmN2JhNTI2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzA1MzksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9._LCxjRInKEVJ_OUZCOqla-rRKgEyrL7TkAQ0DokPK78]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-42c958ab8a6f1f890f51f089442f58fe-83a1d88f2ebe7599-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 09:53:01.097 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:53:01.098 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 09:53:01.099 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 09:53:01.104 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 09:53:01.108 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 09:53:01.110 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 09:53:01.112 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 09:53:01.113 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 12.2627ms
2025-05-30 09:53:01.114 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 09:53:01.115 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 57ms
2025-05-30 09:53:01.117 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 62.9836ms
2025-05-30 09:53:02.829 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 09:53:02.831 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:53:02.833 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 09:53:02.834 +08:00 [INF] 请求方法: GET
2025-05-30 09:53:02.834 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:53:02.835 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 09:53:02.836 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:53:02.837 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:53:02.838 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:53:02.839 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDMyY2ZmYzEtYjBmZC00ZTZmLTg3Y2ItZmQ2ODhmN2JhNTI2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzA1MzksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9._LCxjRInKEVJ_OUZCOqla-rRKgEyrL7TkAQ0DokPK78
2025-05-30 09:53:02.841 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:53:02.842 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:53:02.843 +08:00 [INF] 请求头: traceparent = 00-6e3ec3370023e54daa5d46a9f670fe31-eb82a12fa1f6fa57-00
2025-05-30 09:53:02.844 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:53:02.845 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:53:02.846 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:53:02.847 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:53:02.848 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:53:02.850 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:53:02.851 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:53:02.852 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:53:02.853 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:53:02.854 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:53:02.855 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:53:02.855 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:53:02.856 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:53:02.858 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:53:02.859 +08:00 [INF] JWT Claim: jti = 032cffc1-b0fd-4e6f-87cb-fd688f7ba526
2025-05-30 09:53:02.861 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:53:02.862 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:53:02.863 +08:00 [INF] JWT Claim: exp = 1748570539
2025-05-30 09:53:02.864 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:53:02.865 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:53:02.867 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:53:02.867 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDMyY2ZmYzEtYjBmZC00ZTZmLTg3Y2ItZmQ2ODhmN2JhNTI2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzA1MzksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9._LCxjRInKEVJ_OUZCOqla-rRKgEyrL7TkAQ0DokPK78]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-6e3ec3370023e54daa5d46a9f670fe31-eb82a12fa1f6fa57-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 09:53:02.874 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:53:02.875 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 09:53:02.876 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 09:53:02.881 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 09:53:02.886 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 09:53:02.888 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 09:53:02.889 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 09:53:02.891 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 13.1469ms
2025-05-30 09:53:02.893 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 09:53:02.894 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 62ms
2025-05-30 09:53:02.896 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 67.002ms
2025-05-30 09:53:13.975 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 09:53:13.978 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:53:13.979 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 09:53:13.980 +08:00 [INF] 请求方法: GET
2025-05-30 09:53:13.980 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:53:13.982 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 09:53:13.983 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:53:13.985 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:53:13.986 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:53:13.987 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDMyY2ZmYzEtYjBmZC00ZTZmLTg3Y2ItZmQ2ODhmN2JhNTI2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzA1MzksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9._LCxjRInKEVJ_OUZCOqla-rRKgEyrL7TkAQ0DokPK78
2025-05-30 09:53:13.988 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:53:13.989 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:53:13.991 +08:00 [INF] 请求头: traceparent = 00-5c5a59dbccd452f6bcba1e6acfa80cd0-20e3e39c60dae8e6-00
2025-05-30 09:53:13.992 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:53:13.993 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:53:13.994 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:53:13.995 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:53:13.997 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:53:13.997 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:53:13.999 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:53:14.000 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:53:14.001 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:53:14.002 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:53:14.003 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:53:14.003 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:53:14.004 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:53:14.005 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:53:14.006 +08:00 [INF] JWT Claim: jti = 032cffc1-b0fd-4e6f-87cb-fd688f7ba526
2025-05-30 09:53:14.008 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:53:14.009 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:53:14.010 +08:00 [INF] JWT Claim: exp = 1748570539
2025-05-30 09:53:14.011 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:53:14.012 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:53:14.012 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:53:14.013 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDMyY2ZmYzEtYjBmZC00ZTZmLTg3Y2ItZmQ2ODhmN2JhNTI2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzA1MzksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9._LCxjRInKEVJ_OUZCOqla-rRKgEyrL7TkAQ0DokPK78]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-5c5a59dbccd452f6bcba1e6acfa80cd0-20e3e39c60dae8e6-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 09:53:14.020 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:53:14.021 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 09:53:14.022 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 09:53:14.027 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 09:53:14.031 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 09:53:14.033 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 09:53:14.034 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 09:53:14.036 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 11.9941ms
2025-05-30 09:53:14.037 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 09:53:14.038 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 59ms
2025-05-30 09:53:14.040 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 65.2429ms
2025-05-30 09:53:17.520 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperty/25 - null 0
2025-05-30 09:53:17.523 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:53:17.523 +08:00 [INF] 请求路径: /api/Property/GetProperty/25
2025-05-30 09:53:17.525 +08:00 [INF] 请求方法: GET
2025-05-30 09:53:17.526 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:53:17.527 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 09:53:17.528 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:53:17.529 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:53:17.530 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:53:17.531 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDMyY2ZmYzEtYjBmZC00ZTZmLTg3Y2ItZmQ2ODhmN2JhNTI2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzA1MzksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9._LCxjRInKEVJ_OUZCOqla-rRKgEyrL7TkAQ0DokPK78
2025-05-30 09:53:17.532 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:53:17.534 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:53:17.535 +08:00 [INF] 请求头: traceparent = 00-3babe8cffc1be1c6625a5f043b8896d2-315972e2e8eab66e-00
2025-05-30 09:53:17.536 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:53:17.537 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:53:17.537 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:53:17.538 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:53:17.539 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:53:17.541 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:53:17.542 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:53:17.543 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:53:17.544 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:53:17.544 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:53:17.545 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:53:17.546 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:53:17.547 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:53:17.548 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:53:17.549 +08:00 [INF] JWT Claim: jti = 032cffc1-b0fd-4e6f-87cb-fd688f7ba526
2025-05-30 09:53:17.550 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:53:17.551 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:53:17.552 +08:00 [INF] JWT Claim: exp = 1748570539
2025-05-30 09:53:17.554 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:53:17.555 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:53:17.556 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:53:17.556 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDMyY2ZmYzEtYjBmZC00ZTZmLTg3Y2ItZmQ2ODhmN2JhNTI2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzA1MzksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9._LCxjRInKEVJ_OUZCOqla-rRKgEyrL7TkAQ0DokPK78]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-3babe8cffc1be1c6625a5f043b8896d2-315972e2e8eab66e-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 09:53:17.564 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:53:17.565 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperty (RealEstateSolution.PropertyService)'
2025-05-30 09:53:17.566 +08:00 [INF] Route matched with {action = "GetProperty", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]] GetProperty(Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 09:53:17.574 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
WHERE [p].[Id] = @__id_0
2025-05-30 09:53:17.579 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
WHERE [p].[Id] = @__p_0
2025-05-30 09:53:17.586 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FileName], [p].[FilePath], [p].[FileSize], [p].[FileType], [p].[IsMain], [p].[PropertyId], [p].[UploadedAt], [p].[UploadedBy]
FROM [PropertyImages] AS [p]
WHERE [p].[PropertyId] = @__id_0
2025-05-30 09:53:17.588 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 09:53:17.589 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperty (RealEstateSolution.PropertyService) in 20.8242ms
2025-05-30 09:53:17.591 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperty (RealEstateSolution.PropertyService)'
2025-05-30 09:53:17.592 +08:00 [INF] 请求 GET /api/Property/GetProperty/25 完成，状态码: 200，耗时: 69ms
2025-05-30 09:53:17.594 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperty/25 - 200 null application/json; charset=utf-8 73.4767ms
2025-05-30 09:53:22.739 +08:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Property/ChangePropertyStatus/25 - null 0
2025-05-30 09:53:22.742 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:53:22.744 +08:00 [INF] 请求路径: /api/Property/ChangePropertyStatus/25
2025-05-30 09:53:22.745 +08:00 [INF] 请求方法: POST
2025-05-30 09:53:22.745 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:53:22.747 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 09:53:22.748 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:53:22.749 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:53:22.751 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:53:22.752 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDMyY2ZmYzEtYjBmZC00ZTZmLTg3Y2ItZmQ2ODhmN2JhNTI2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzA1MzksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9._LCxjRInKEVJ_OUZCOqla-rRKgEyrL7TkAQ0DokPK78
2025-05-30 09:53:22.753 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:53:22.755 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:53:22.756 +08:00 [INF] 请求头: traceparent = 00-1f5e2394bce45b1c2ee03104fc0fd936-08bf76264f4ab344-00
2025-05-30 09:53:22.757 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:53:22.758 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:53:22.760 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:53:22.761 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:53:22.762 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:53:22.763 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:53:22.764 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:53:22.766 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:53:22.767 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:53:22.768 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:53:22.769 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:53:22.770 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:53:22.771 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:53:22.772 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:53:22.773 +08:00 [INF] JWT Claim: jti = 032cffc1-b0fd-4e6f-87cb-fd688f7ba526
2025-05-30 09:53:22.774 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:53:22.776 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:53:22.777 +08:00 [INF] JWT Claim: exp = 1748570539
2025-05-30 09:53:22.778 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:53:22.779 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:53:22.780 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:53:22.781 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDMyY2ZmYzEtYjBmZC00ZTZmLTg3Y2ItZmQ2ODhmN2JhNTI2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzA1MzksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9._LCxjRInKEVJ_OUZCOqla-rRKgEyrL7TkAQ0DokPK78]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-1f5e2394bce45b1c2ee03104fc0fd936-08bf76264f4ab344-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 09:53:22.789 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:53:22.792 +08:00 [INF] 请求 POST /api/Property/ChangePropertyStatus/25 完成，状态码: 404，耗时: 49ms
2025-05-30 09:53:22.795 +08:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Property/ChangePropertyStatus/25 - 404 0 null 55.9654ms
2025-05-30 09:53:22.801 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:5001/api/Property/ChangePropertyStatus/25, Response status code: 404
2025-05-30 09:53:31.678 +08:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Property/ChangePropertyStatus/25 - null 0
2025-05-30 09:53:31.681 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:53:31.682 +08:00 [INF] 请求路径: /api/Property/ChangePropertyStatus/25
2025-05-30 09:53:31.684 +08:00 [INF] 请求方法: POST
2025-05-30 09:53:31.685 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:53:31.686 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 09:53:31.687 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:53:31.688 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:53:31.688 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:53:31.689 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDMyY2ZmYzEtYjBmZC00ZTZmLTg3Y2ItZmQ2ODhmN2JhNTI2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzA1MzksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9._LCxjRInKEVJ_OUZCOqla-rRKgEyrL7TkAQ0DokPK78
2025-05-30 09:53:31.691 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:53:31.692 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:53:31.693 +08:00 [INF] 请求头: traceparent = 00-b07033d32ecddfc8559fe0dfef63bcae-3307e1487b8af20f-00
2025-05-30 09:53:31.694 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:53:31.695 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:53:31.696 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:53:31.697 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:53:31.698 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:53:31.699 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:53:31.701 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:53:31.702 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:53:31.703 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:53:31.704 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:53:31.704 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:53:31.705 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:53:31.706 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:53:31.707 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:53:31.708 +08:00 [INF] JWT Claim: jti = 032cffc1-b0fd-4e6f-87cb-fd688f7ba526
2025-05-30 09:53:31.709 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:53:31.710 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:53:31.711 +08:00 [INF] JWT Claim: exp = 1748570539
2025-05-30 09:53:31.712 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:53:31.713 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:53:31.714 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:53:31.715 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDMyY2ZmYzEtYjBmZC00ZTZmLTg3Y2ItZmQ2ODhmN2JhNTI2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzA1MzksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9._LCxjRInKEVJ_OUZCOqla-rRKgEyrL7TkAQ0DokPK78]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-b07033d32ecddfc8559fe0dfef63bcae-3307e1487b8af20f-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 09:53:31.721 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:53:31.722 +08:00 [INF] 请求 POST /api/Property/ChangePropertyStatus/25 完成，状态码: 404，耗时: 41ms
2025-05-30 09:53:31.724 +08:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Property/ChangePropertyStatus/25 - 404 0 null 45.5713ms
2025-05-30 09:53:31.728 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:5001/api/Property/ChangePropertyStatus/25, Response status code: 404
2025-05-30 09:53:34.201 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperty/25 - null 0
2025-05-30 09:53:34.204 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:53:34.204 +08:00 [INF] 请求路径: /api/Property/GetProperty/25
2025-05-30 09:53:34.205 +08:00 [INF] 请求方法: GET
2025-05-30 09:53:34.206 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:53:34.207 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 09:53:34.208 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:53:34.209 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:53:34.210 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:53:34.211 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDMyY2ZmYzEtYjBmZC00ZTZmLTg3Y2ItZmQ2ODhmN2JhNTI2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzA1MzksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9._LCxjRInKEVJ_OUZCOqla-rRKgEyrL7TkAQ0DokPK78
2025-05-30 09:53:34.212 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:53:34.213 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:53:34.214 +08:00 [INF] 请求头: traceparent = 00-5bf5927cd758a0e1ce486820686cf1c2-8dad093cc65df1da-00
2025-05-30 09:53:34.215 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:53:34.217 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:53:34.218 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:53:34.219 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:53:34.220 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:53:34.221 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:53:34.222 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:53:34.223 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:53:34.224 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:53:34.225 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:53:34.226 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:53:34.226 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:53:34.227 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:53:34.228 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:53:34.229 +08:00 [INF] JWT Claim: jti = 032cffc1-b0fd-4e6f-87cb-fd688f7ba526
2025-05-30 09:53:34.230 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:53:34.232 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:53:34.233 +08:00 [INF] JWT Claim: exp = 1748570539
2025-05-30 09:53:34.234 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:53:34.235 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:53:34.236 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:53:34.237 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDMyY2ZmYzEtYjBmZC00ZTZmLTg3Y2ItZmQ2ODhmN2JhNTI2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzA1MzksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9._LCxjRInKEVJ_OUZCOqla-rRKgEyrL7TkAQ0DokPK78]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-5bf5927cd758a0e1ce486820686cf1c2-8dad093cc65df1da-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 09:53:34.243 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:53:34.244 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperty (RealEstateSolution.PropertyService)'
2025-05-30 09:53:34.245 +08:00 [INF] Route matched with {action = "GetProperty", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]] GetProperty(Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 09:53:34.255 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FileName], [p].[FilePath], [p].[FileSize], [p].[FileType], [p].[IsMain], [p].[PropertyId], [p].[UploadedAt], [p].[UploadedBy]
FROM [PropertyImages] AS [p]
WHERE [p].[PropertyId] = @__id_0
2025-05-30 09:53:34.258 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 09:53:34.259 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperty (RealEstateSolution.PropertyService) in 12.6318ms
2025-05-30 09:53:34.260 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperty (RealEstateSolution.PropertyService)'
2025-05-30 09:53:34.261 +08:00 [INF] 请求 GET /api/Property/GetProperty/25 完成，状态码: 200，耗时: 57ms
2025-05-30 09:53:34.263 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperty/25 - 200 null application/json; charset=utf-8 61.4178ms
2025-05-30 09:53:38.314 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 09:53:38.317 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:53:38.317 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 09:53:38.318 +08:00 [INF] 请求方法: GET
2025-05-30 09:53:38.319 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:53:38.320 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 09:53:38.321 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:53:38.322 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:53:38.324 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:53:38.325 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDMyY2ZmYzEtYjBmZC00ZTZmLTg3Y2ItZmQ2ODhmN2JhNTI2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzA1MzksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9._LCxjRInKEVJ_OUZCOqla-rRKgEyrL7TkAQ0DokPK78
2025-05-30 09:53:38.327 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:53:38.328 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:53:38.329 +08:00 [INF] 请求头: traceparent = 00-0abca8ed528424542ba018f93ddb4c5a-39537f0b7a3f58c4-00
2025-05-30 09:53:38.330 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:53:38.331 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:53:38.333 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:53:38.334 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:53:38.335 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:53:38.336 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:53:38.337 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:53:38.338 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:53:38.339 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:53:38.340 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:53:38.341 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:53:38.342 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:53:38.343 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:53:38.345 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:53:38.346 +08:00 [INF] JWT Claim: jti = 032cffc1-b0fd-4e6f-87cb-fd688f7ba526
2025-05-30 09:53:38.347 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:53:38.348 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:53:38.350 +08:00 [INF] JWT Claim: exp = 1748570539
2025-05-30 09:53:38.351 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:53:38.352 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:53:38.353 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:53:38.354 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDMyY2ZmYzEtYjBmZC00ZTZmLTg3Y2ItZmQ2ODhmN2JhNTI2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzA1MzksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9._LCxjRInKEVJ_OUZCOqla-rRKgEyrL7TkAQ0DokPK78]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-0abca8ed528424542ba018f93ddb4c5a-39537f0b7a3f58c4-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 09:53:38.361 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:53:38.362 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 09:53:38.363 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 09:53:38.369 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 09:53:38.374 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 09:53:38.377 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 09:53:38.378 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 09:53:38.379 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 14.6827ms
2025-05-30 09:53:38.381 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 09:53:38.382 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 65ms
2025-05-30 09:53:38.385 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 71.0437ms
2025-05-30 09:55:25.843 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 09:55:25.854 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:55:25.855 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 09:55:25.856 +08:00 [INF] 请求方法: GET
2025-05-30 09:55:25.857 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:55:25.858 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 09:55:25.859 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:55:25.860 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:55:25.861 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:55:25.862 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDMyY2ZmYzEtYjBmZC00ZTZmLTg3Y2ItZmQ2ODhmN2JhNTI2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzA1MzksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9._LCxjRInKEVJ_OUZCOqla-rRKgEyrL7TkAQ0DokPK78
2025-05-30 09:55:25.863 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:55:25.865 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:55:25.866 +08:00 [INF] 请求头: traceparent = 00-45c587e7fc11c97ce11886f3a85605e0-7435eaeb454c31eb-00
2025-05-30 09:55:25.867 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:55:25.868 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:55:25.869 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:55:25.870 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:55:25.871 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:55:25.872 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:55:25.874 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:55:25.875 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:55:25.876 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:55:25.877 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:55:25.878 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:55:25.878 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:55:25.879 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:55:25.880 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:55:25.882 +08:00 [INF] JWT Claim: jti = 032cffc1-b0fd-4e6f-87cb-fd688f7ba526
2025-05-30 09:55:25.883 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:55:25.884 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:55:25.885 +08:00 [INF] JWT Claim: exp = 1748570539
2025-05-30 09:55:25.886 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:55:25.887 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:55:25.888 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:55:25.889 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDMyY2ZmYzEtYjBmZC00ZTZmLTg3Y2ItZmQ2ODhmN2JhNTI2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzA1MzksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9._LCxjRInKEVJ_OUZCOqla-rRKgEyrL7TkAQ0DokPK78]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-45c587e7fc11c97ce11886f3a85605e0-7435eaeb454c31eb-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 09:55:25.896 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:55:25.897 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 09:55:25.898 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 09:55:25.904 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 09:55:25.908 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 09:55:25.910 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 09:55:25.911 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 09:55:25.912 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 12.789ms
2025-05-30 09:55:25.914 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 09:55:25.915 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 60ms
2025-05-30 09:55:25.917 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 74.1265ms
2025-05-30 09:56:22.141 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 09:56:22.151 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:56:22.152 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 09:56:22.153 +08:00 [INF] 请求方法: GET
2025-05-30 09:56:22.153 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:56:22.154 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 09:56:22.156 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:56:22.157 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:56:22.158 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:56:22.159 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDMyY2ZmYzEtYjBmZC00ZTZmLTg3Y2ItZmQ2ODhmN2JhNTI2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzA1MzksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9._LCxjRInKEVJ_OUZCOqla-rRKgEyrL7TkAQ0DokPK78
2025-05-30 09:56:22.160 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:56:22.161 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:56:22.162 +08:00 [INF] 请求头: traceparent = 00-de4b653756d6045c62ebd85e3ff78d8d-ece9b27b51774058-00
2025-05-30 09:56:22.163 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:56:22.164 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:56:22.165 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:56:22.166 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:56:22.167 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:56:22.168 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:56:22.169 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:56:22.170 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:56:22.171 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:56:22.172 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:56:22.173 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:56:22.174 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:56:22.175 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:56:22.176 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:56:22.177 +08:00 [INF] JWT Claim: jti = 032cffc1-b0fd-4e6f-87cb-fd688f7ba526
2025-05-30 09:56:22.178 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:56:22.179 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:56:22.180 +08:00 [INF] JWT Claim: exp = 1748570539
2025-05-30 09:56:22.182 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:56:22.183 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:56:22.184 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:56:22.184 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDMyY2ZmYzEtYjBmZC00ZTZmLTg3Y2ItZmQ2ODhmN2JhNTI2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzA1MzksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9._LCxjRInKEVJ_OUZCOqla-rRKgEyrL7TkAQ0DokPK78]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-de4b653756d6045c62ebd85e3ff78d8d-ece9b27b51774058-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 09:56:22.192 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:56:22.192 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 09:56:22.193 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 09:56:22.205 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 09:56:22.209 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 09:56:22.211 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 09:56:22.212 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 09:56:22.214 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 18.815ms
2025-05-30 09:56:22.216 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 09:56:22.217 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 65ms
2025-05-30 09:56:22.218 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 78.2033ms
2025-05-30 09:56:23.439 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 09:56:23.442 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:56:23.443 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 09:56:23.444 +08:00 [INF] 请求方法: GET
2025-05-30 09:56:23.445 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:56:23.446 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 09:56:23.447 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:56:23.449 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:56:23.450 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:56:23.451 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDMyY2ZmYzEtYjBmZC00ZTZmLTg3Y2ItZmQ2ODhmN2JhNTI2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzA1MzksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9._LCxjRInKEVJ_OUZCOqla-rRKgEyrL7TkAQ0DokPK78
2025-05-30 09:56:23.452 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:56:23.453 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:56:23.454 +08:00 [INF] 请求头: traceparent = 00-bbda71cafbdf9a29ec35334752ebbd24-678004e4fe285322-00
2025-05-30 09:56:23.455 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:56:23.457 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:56:23.458 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:56:23.459 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:56:23.460 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:56:23.461 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:56:23.462 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:56:23.463 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:56:23.464 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:56:23.465 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:56:23.466 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:56:23.467 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:56:23.468 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:56:23.469 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:56:23.469 +08:00 [INF] JWT Claim: jti = 032cffc1-b0fd-4e6f-87cb-fd688f7ba526
2025-05-30 09:56:23.470 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:56:23.471 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:56:23.473 +08:00 [INF] JWT Claim: exp = 1748570539
2025-05-30 09:56:23.474 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:56:23.475 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:56:23.476 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:56:23.476 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDMyY2ZmYzEtYjBmZC00ZTZmLTg3Y2ItZmQ2ODhmN2JhNTI2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzA1MzksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9._LCxjRInKEVJ_OUZCOqla-rRKgEyrL7TkAQ0DokPK78]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-bbda71cafbdf9a29ec35334752ebbd24-678004e4fe285322-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 09:56:23.483 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:56:23.484 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 09:56:23.485 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 09:56:23.490 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 09:56:23.497 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 09:56:23.499 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 09:56:23.500 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 09:56:23.502 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 15.4962ms
2025-05-30 09:56:23.503 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 09:56:23.504 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 61ms
2025-05-30 09:56:23.506 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 66.9266ms
2025-05-30 09:56:24.588 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 09:56:24.591 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:56:24.592 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 09:56:24.593 +08:00 [INF] 请求方法: GET
2025-05-30 09:56:24.593 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:56:24.594 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 09:56:24.595 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:56:24.596 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:56:24.598 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:56:24.599 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDMyY2ZmYzEtYjBmZC00ZTZmLTg3Y2ItZmQ2ODhmN2JhNTI2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzA1MzksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9._LCxjRInKEVJ_OUZCOqla-rRKgEyrL7TkAQ0DokPK78
2025-05-30 09:56:24.600 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:56:24.601 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:56:24.602 +08:00 [INF] 请求头: traceparent = 00-0d776f9e79025d0bd0254b63b2a8fcd3-f09f2e99cc53dd84-00
2025-05-30 09:56:24.603 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:56:24.604 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:56:24.606 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:56:24.607 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:56:24.608 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:56:24.609 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:56:24.610 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:56:24.610 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:56:24.611 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:56:24.612 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:56:24.613 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:56:24.614 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:56:24.615 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:56:24.616 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:56:24.617 +08:00 [INF] JWT Claim: jti = 032cffc1-b0fd-4e6f-87cb-fd688f7ba526
2025-05-30 09:56:24.618 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:56:24.619 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:56:24.620 +08:00 [INF] JWT Claim: exp = 1748570539
2025-05-30 09:56:24.621 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:56:24.622 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:56:24.623 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:56:24.624 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDMyY2ZmYzEtYjBmZC00ZTZmLTg3Y2ItZmQ2ODhmN2JhNTI2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzA1MzksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9._LCxjRInKEVJ_OUZCOqla-rRKgEyrL7TkAQ0DokPK78]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-0d776f9e79025d0bd0254b63b2a8fcd3-f09f2e99cc53dd84-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 09:56:24.631 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:56:24.632 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 09:56:24.633 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 09:56:24.637 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 09:56:24.649 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 09:56:24.651 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 09:56:24.652 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 09:56:24.653 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 18.4983ms
2025-05-30 09:56:24.654 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 09:56:24.655 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 64ms
2025-05-30 09:56:24.657 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 69.4727ms
2025-05-30 09:56:26.446 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 09:56:26.449 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:56:26.450 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 09:56:26.450 +08:00 [INF] 请求方法: GET
2025-05-30 09:56:26.451 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:56:26.452 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 09:56:26.453 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:56:26.454 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:56:26.455 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:56:26.456 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDMyY2ZmYzEtYjBmZC00ZTZmLTg3Y2ItZmQ2ODhmN2JhNTI2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzA1MzksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9._LCxjRInKEVJ_OUZCOqla-rRKgEyrL7TkAQ0DokPK78
2025-05-30 09:56:26.457 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:56:26.458 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:56:26.459 +08:00 [INF] 请求头: traceparent = 00-2856e80a3a1ee76223c6d71c2187ba28-8d8c5750b316f6a6-00
2025-05-30 09:56:26.460 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:56:26.461 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:56:26.462 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:56:26.463 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:56:26.464 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:56:26.465 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:56:26.466 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:56:26.467 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:56:26.468 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:56:26.469 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:56:26.470 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:56:26.471 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:56:26.472 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:56:26.473 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:56:26.474 +08:00 [INF] JWT Claim: jti = 032cffc1-b0fd-4e6f-87cb-fd688f7ba526
2025-05-30 09:56:26.475 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:56:26.476 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:56:26.478 +08:00 [INF] JWT Claim: exp = 1748570539
2025-05-30 09:56:26.479 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:56:26.480 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:56:26.481 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:56:26.482 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDMyY2ZmYzEtYjBmZC00ZTZmLTg3Y2ItZmQ2ODhmN2JhNTI2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzA1MzksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9._LCxjRInKEVJ_OUZCOqla-rRKgEyrL7TkAQ0DokPK78]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-2856e80a3a1ee76223c6d71c2187ba28-8d8c5750b316f6a6-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 09:56:26.490 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:56:26.491 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 09:56:26.492 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 09:56:26.496 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 09:56:26.500 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 09:56:26.501 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 09:56:26.502 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 09:56:26.504 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 10.011ms
2025-05-30 09:56:26.505 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 09:56:26.507 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 57ms
2025-05-30 09:56:26.508 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 62.4899ms
2025-05-30 09:56:27.953 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 09:56:27.957 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:56:27.958 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 09:56:27.959 +08:00 [INF] 请求方法: GET
2025-05-30 09:56:27.959 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:56:27.960 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 09:56:27.961 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:56:27.962 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:56:27.964 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:56:27.965 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDMyY2ZmYzEtYjBmZC00ZTZmLTg3Y2ItZmQ2ODhmN2JhNTI2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzA1MzksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9._LCxjRInKEVJ_OUZCOqla-rRKgEyrL7TkAQ0DokPK78
2025-05-30 09:56:27.967 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:56:27.967 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:56:27.968 +08:00 [INF] 请求头: traceparent = 00-5c3287827015740db6c24443cc5f21cf-1bb81590a980c5aa-00
2025-05-30 09:56:27.969 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:56:27.970 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:56:27.971 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:56:27.973 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:56:27.974 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:56:27.975 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:56:27.976 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:56:27.977 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:56:27.978 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:56:27.979 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:56:27.980 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:56:27.981 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:56:27.983 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:56:27.984 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:56:27.985 +08:00 [INF] JWT Claim: jti = 032cffc1-b0fd-4e6f-87cb-fd688f7ba526
2025-05-30 09:56:27.986 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:56:27.987 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:56:27.988 +08:00 [INF] JWT Claim: exp = 1748570539
2025-05-30 09:56:27.989 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:56:27.991 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:56:27.992 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:56:27.993 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDMyY2ZmYzEtYjBmZC00ZTZmLTg3Y2ItZmQ2ODhmN2JhNTI2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzA1MzksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9._LCxjRInKEVJ_OUZCOqla-rRKgEyrL7TkAQ0DokPK78]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-5c3287827015740db6c24443cc5f21cf-1bb81590a980c5aa-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 09:56:27.999 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:56:28.000 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 09:56:28.001 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 09:56:28.005 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 09:56:28.009 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 09:56:28.011 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 09:56:28.012 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 09:56:28.013 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 10.7233ms
2025-05-30 09:56:28.016 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 09:56:28.017 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 59ms
2025-05-30 09:56:28.018 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 65.1469ms
2025-05-30 09:56:29.201 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 09:56:29.205 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:56:29.206 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 09:56:29.207 +08:00 [INF] 请求方法: GET
2025-05-30 09:56:29.208 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:56:29.209 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 09:56:29.210 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:56:29.211 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:56:29.212 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:56:29.213 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDMyY2ZmYzEtYjBmZC00ZTZmLTg3Y2ItZmQ2ODhmN2JhNTI2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzA1MzksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9._LCxjRInKEVJ_OUZCOqla-rRKgEyrL7TkAQ0DokPK78
2025-05-30 09:56:29.215 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:56:29.216 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:56:29.217 +08:00 [INF] 请求头: traceparent = 00-cfb83d4170bbabea258a6184ba78ebb5-8f661abf5d3a074d-00
2025-05-30 09:56:29.218 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:56:29.219 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:56:29.220 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:56:29.221 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:56:29.222 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:56:29.223 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:56:29.224 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:56:29.225 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:56:29.226 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:56:29.227 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:56:29.227 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:56:29.228 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:56:29.229 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:56:29.230 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:56:29.231 +08:00 [INF] JWT Claim: jti = 032cffc1-b0fd-4e6f-87cb-fd688f7ba526
2025-05-30 09:56:29.232 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:56:29.233 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:56:29.234 +08:00 [INF] JWT Claim: exp = 1748570539
2025-05-30 09:56:29.235 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:56:29.236 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:56:29.237 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:56:29.238 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDMyY2ZmYzEtYjBmZC00ZTZmLTg3Y2ItZmQ2ODhmN2JhNTI2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzA1MzksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9._LCxjRInKEVJ_OUZCOqla-rRKgEyrL7TkAQ0DokPK78]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-cfb83d4170bbabea258a6184ba78ebb5-8f661abf5d3a074d-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 09:56:29.245 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:56:29.246 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 09:56:29.247 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 09:56:29.251 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 09:56:29.254 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 09:56:29.257 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 09:56:29.258 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 09:56:29.260 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 10.8328ms
2025-05-30 09:56:29.261 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 09:56:29.262 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 57ms
2025-05-30 09:56:29.263 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 62.2071ms
2025-05-30 10:06:44.732 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 10:06:44.753 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:06:44.753 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 10:06:44.754 +08:00 [INF] 请求方法: GET
2025-05-30 10:06:44.755 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:06:44.756 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:06:44.757 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:06:44.758 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:06:44.760 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:06:44.761 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTM1YTQ2OTItOTQzMC00ZjA4LWI2NTMtNTM5ZjM4MTM1YmZiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzE0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PO8NkALp-LO02iacPup4fjAkqAqH95LvUmVBWuvLV34
2025-05-30 10:06:44.762 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:06:44.763 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:06:44.765 +08:00 [INF] 请求头: traceparent = 00-220be8be0c2e30af0115e3ddd68b6007-de062cd73ef3ff36-00
2025-05-30 10:06:44.766 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:06:44.767 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:06:44.769 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:06:44.770 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:06:44.771 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:06:44.773 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:06:44.774 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:06:44.776 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:06:44.777 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:06:44.779 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:06:44.779 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:06:44.781 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:06:44.782 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:06:44.783 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:06:44.784 +08:00 [INF] JWT Claim: jti = 535a4692-9430-4f08-b653-539f38135bfb
2025-05-30 10:06:44.785 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:06:44.786 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:06:44.788 +08:00 [INF] JWT Claim: exp = 1748571404
2025-05-30 10:06:44.789 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:06:44.790 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:06:44.791 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:06:44.792 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTM1YTQ2OTItOTQzMC00ZjA4LWI2NTMtNTM5ZjM4MTM1YmZiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzE0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PO8NkALp-LO02iacPup4fjAkqAqH95LvUmVBWuvLV34]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-220be8be0c2e30af0115e3ddd68b6007-de062cd73ef3ff36-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:06:44.799 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:06:44.801 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 10:06:44.802 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:06:44.829 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 10:06:44.835 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:06:44.837 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 32.6093ms
2025-05-30 10:06:44.838 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 10:06:44.839 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 86ms
2025-05-30 10:06:44.842 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 109.7125ms
2025-05-30 10:06:44.947 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 10:06:44.949 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:06:44.950 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 10:06:44.951 +08:00 [INF] 请求方法: GET
2025-05-30 10:06:44.952 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:06:44.953 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:06:44.954 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:06:44.955 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:06:44.956 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:06:44.957 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTM1YTQ2OTItOTQzMC00ZjA4LWI2NTMtNTM5ZjM4MTM1YmZiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzE0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PO8NkALp-LO02iacPup4fjAkqAqH95LvUmVBWuvLV34
2025-05-30 10:06:44.958 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:06:44.959 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:06:44.960 +08:00 [INF] 请求头: traceparent = 00-e371b15ee29d11b76f854af447d3ee03-82fbaccfba857337-00
2025-05-30 10:06:44.961 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:06:44.962 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:06:44.963 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:06:44.964 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:06:44.965 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:06:44.966 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:06:44.967 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:06:44.968 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:06:44.970 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:06:44.970 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:06:44.971 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:06:44.972 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:06:44.973 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:06:44.974 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:06:44.975 +08:00 [INF] JWT Claim: jti = 535a4692-9430-4f08-b653-539f38135bfb
2025-05-30 10:06:44.976 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:06:44.978 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:06:44.979 +08:00 [INF] JWT Claim: exp = 1748571404
2025-05-30 10:06:44.980 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:06:44.981 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:06:44.982 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:06:44.983 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTM1YTQ2OTItOTQzMC00ZjA4LWI2NTMtNTM5ZjM4MTM1YmZiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzE0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PO8NkALp-LO02iacPup4fjAkqAqH95LvUmVBWuvLV34]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-e371b15ee29d11b76f854af447d3ee03-82fbaccfba857337-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:06:44.990 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:06:44.991 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:06:44.993 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:06:44.998 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 10:06:45.005 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:06:45.007 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 10:06:45.009 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:06:45.011 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 16.1807ms
2025-05-30 10:06:45.012 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:06:45.014 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 64ms
2025-05-30 10:06:45.016 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 70.6733ms
2025-05-30 10:06:47.133 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 10:06:47.136 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:06:47.137 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 10:06:47.138 +08:00 [INF] 请求方法: GET
2025-05-30 10:06:47.139 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:06:47.140 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:06:47.141 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:06:47.142 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:06:47.143 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:06:47.144 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTM1YTQ2OTItOTQzMC00ZjA4LWI2NTMtNTM5ZjM4MTM1YmZiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzE0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PO8NkALp-LO02iacPup4fjAkqAqH95LvUmVBWuvLV34
2025-05-30 10:06:47.146 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:06:47.147 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:06:47.148 +08:00 [INF] 请求头: traceparent = 00-f2f9f069d306c4e45d9f5637f98ac62a-40836dd68637e8b0-00
2025-05-30 10:06:47.149 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:06:47.150 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:06:47.151 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:06:47.152 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:06:47.153 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:06:47.154 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:06:47.155 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:06:47.156 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:06:47.157 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:06:47.157 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:06:47.158 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:06:47.159 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:06:47.160 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:06:47.161 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:06:47.162 +08:00 [INF] JWT Claim: jti = 535a4692-9430-4f08-b653-539f38135bfb
2025-05-30 10:06:47.162 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:06:47.163 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:06:47.164 +08:00 [INF] JWT Claim: exp = 1748571404
2025-05-30 10:06:47.165 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:06:47.166 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:06:47.167 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:06:47.168 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTM1YTQ2OTItOTQzMC00ZjA4LWI2NTMtNTM5ZjM4MTM1YmZiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzE0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PO8NkALp-LO02iacPup4fjAkqAqH95LvUmVBWuvLV34]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-f2f9f069d306c4e45d9f5637f98ac62a-40836dd68637e8b0-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:06:47.175 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:06:47.176 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:06:47.177 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:06:47.181 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 10:06:47.186 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:06:47.188 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 10:06:47.189 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:06:47.190 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 11.5986ms
2025-05-30 10:06:47.192 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:06:47.194 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 57ms
2025-05-30 10:06:47.195 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 62.1639ms
2025-05-30 10:06:55.602 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 10:06:55.605 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:06:55.605 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 10:06:55.606 +08:00 [INF] 请求方法: GET
2025-05-30 10:06:55.607 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:06:55.608 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:06:55.609 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:06:55.610 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:06:55.611 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:06:55.612 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTM1YTQ2OTItOTQzMC00ZjA4LWI2NTMtNTM5ZjM4MTM1YmZiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzE0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PO8NkALp-LO02iacPup4fjAkqAqH95LvUmVBWuvLV34
2025-05-30 10:06:55.613 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:06:55.614 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:06:55.615 +08:00 [INF] 请求头: traceparent = 00-51a715450a2088f6a0d97955b3cbf84b-400cedbcbf0ff1da-00
2025-05-30 10:06:55.616 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:06:55.619 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:06:55.620 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:06:55.621 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:06:55.622 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:06:55.623 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:06:55.624 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:06:55.625 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:06:55.626 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:06:55.627 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:06:55.628 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:06:55.628 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:06:55.629 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:06:55.630 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:06:55.631 +08:00 [INF] JWT Claim: jti = 535a4692-9430-4f08-b653-539f38135bfb
2025-05-30 10:06:55.632 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:06:55.633 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:06:55.634 +08:00 [INF] JWT Claim: exp = 1748571404
2025-05-30 10:06:55.635 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:06:55.636 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:06:55.637 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:06:55.638 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTM1YTQ2OTItOTQzMC00ZjA4LWI2NTMtNTM5ZjM4MTM1YmZiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzE0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PO8NkALp-LO02iacPup4fjAkqAqH95LvUmVBWuvLV34]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-51a715450a2088f6a0d97955b3cbf84b-400cedbcbf0ff1da-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:06:55.644 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:06:55.645 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:06:55.646 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:06:55.652 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 10:06:55.660 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:06:55.661 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 10:06:55.662 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:06:55.664 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 16.0974ms
2025-05-30 10:06:55.665 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:06:55.666 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 61ms
2025-05-30 10:06:55.668 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 66.3337ms
2025-05-30 10:07:00.131 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 10:07:00.135 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:07:00.136 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 10:07:00.137 +08:00 [INF] 请求方法: GET
2025-05-30 10:07:00.138 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:07:00.139 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:07:00.140 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:07:00.141 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:07:00.143 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:07:00.144 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTM1YTQ2OTItOTQzMC00ZjA4LWI2NTMtNTM5ZjM4MTM1YmZiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzE0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PO8NkALp-LO02iacPup4fjAkqAqH95LvUmVBWuvLV34
2025-05-30 10:07:00.145 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:07:00.146 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:07:00.147 +08:00 [INF] 请求头: traceparent = 00-af4750cbba5ed85b2eb162f4fd074383-84112855c329d1f3-00
2025-05-30 10:07:00.149 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:07:00.150 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:07:00.151 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:07:00.152 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:07:00.153 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:07:00.154 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:07:00.155 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:07:00.156 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:07:00.157 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:07:00.158 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:07:00.159 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:07:00.160 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:07:00.161 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:07:00.162 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:07:00.163 +08:00 [INF] JWT Claim: jti = 535a4692-9430-4f08-b653-539f38135bfb
2025-05-30 10:07:00.164 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:07:00.165 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:07:00.167 +08:00 [INF] JWT Claim: exp = 1748571404
2025-05-30 10:07:00.168 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:07:00.169 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:07:00.170 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:07:00.171 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTM1YTQ2OTItOTQzMC00ZjA4LWI2NTMtNTM5ZjM4MTM1YmZiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzE0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PO8NkALp-LO02iacPup4fjAkqAqH95LvUmVBWuvLV34]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-af4750cbba5ed85b2eb162f4fd074383-84112855c329d1f3-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:07:00.178 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:07:00.179 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:07:00.180 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:07:00.184 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 10:07:00.188 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:07:00.190 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 10:07:00.191 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:07:00.192 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 10.199ms
2025-05-30 10:07:00.194 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:07:00.195 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 59ms
2025-05-30 10:07:00.196 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 64.9156ms
2025-05-30 10:07:02.951 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 10:07:02.954 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:07:02.955 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 10:07:02.956 +08:00 [INF] 请求方法: GET
2025-05-30 10:07:02.957 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:07:02.958 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:07:02.959 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:07:02.960 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:07:02.961 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:07:02.962 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTM1YTQ2OTItOTQzMC00ZjA4LWI2NTMtNTM5ZjM4MTM1YmZiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzE0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PO8NkALp-LO02iacPup4fjAkqAqH95LvUmVBWuvLV34
2025-05-30 10:07:02.963 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:07:02.964 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:07:02.965 +08:00 [INF] 请求头: traceparent = 00-44efe50c41aa2b75da47d04f991ae76e-2b5d0bf9ff9e8a9f-00
2025-05-30 10:07:02.967 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:07:02.968 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:07:02.969 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:07:02.970 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:07:02.971 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:07:02.972 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:07:02.973 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:07:02.973 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:07:02.975 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:07:02.976 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:07:02.976 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:07:02.977 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:07:02.978 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:07:02.979 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:07:02.980 +08:00 [INF] JWT Claim: jti = 535a4692-9430-4f08-b653-539f38135bfb
2025-05-30 10:07:02.981 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:07:02.982 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:07:02.983 +08:00 [INF] JWT Claim: exp = 1748571404
2025-05-30 10:07:02.984 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:07:02.985 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:07:02.986 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:07:02.987 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTM1YTQ2OTItOTQzMC00ZjA4LWI2NTMtNTM5ZjM4MTM1YmZiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzE0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PO8NkALp-LO02iacPup4fjAkqAqH95LvUmVBWuvLV34]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-44efe50c41aa2b75da47d04f991ae76e-2b5d0bf9ff9e8a9f-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:07:02.994 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:07:02.995 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:07:02.996 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:07:02.999 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 10:07:03.003 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:07:03.005 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 10:07:03.006 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:07:03.008 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 10.9269ms
2025-05-30 10:07:03.010 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:07:03.011 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 56ms
2025-05-30 10:07:03.013 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 62.0282ms
2025-05-30 10:07:32.432 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 10:07:32.435 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:07:32.436 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 10:07:32.437 +08:00 [INF] 请求方法: GET
2025-05-30 10:07:32.438 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:07:32.439 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:07:32.440 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:07:32.441 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:07:32.443 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:07:32.444 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTM1YTQ2OTItOTQzMC00ZjA4LWI2NTMtNTM5ZjM4MTM1YmZiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzE0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PO8NkALp-LO02iacPup4fjAkqAqH95LvUmVBWuvLV34
2025-05-30 10:07:32.445 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:07:32.446 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:07:32.447 +08:00 [INF] 请求头: traceparent = 00-89d715b86b46001b3e02aae6591669c1-faf4f78d738920e5-00
2025-05-30 10:07:32.448 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:07:32.449 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:07:32.450 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:07:32.451 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:07:32.452 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:07:32.453 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:07:32.454 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:07:32.455 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:07:32.456 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:07:32.457 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:07:32.459 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:07:32.460 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:07:32.461 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:07:32.462 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:07:32.463 +08:00 [INF] JWT Claim: jti = 535a4692-9430-4f08-b653-539f38135bfb
2025-05-30 10:07:32.464 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:07:32.465 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:07:32.465 +08:00 [INF] JWT Claim: exp = 1748571404
2025-05-30 10:07:32.467 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:07:32.468 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:07:32.469 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:07:32.470 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTM1YTQ2OTItOTQzMC00ZjA4LWI2NTMtNTM5ZjM4MTM1YmZiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzE0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PO8NkALp-LO02iacPup4fjAkqAqH95LvUmVBWuvLV34]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-89d715b86b46001b3e02aae6591669c1-faf4f78d738920e5-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:07:32.477 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:07:32.477 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:07:32.478 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:07:32.483 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 10:07:32.491 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:07:32.494 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 10:07:32.495 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:07:32.496 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 15.987ms
2025-05-30 10:07:32.497 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:07:32.498 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 63ms
2025-05-30 10:07:32.501 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 68.6324ms
2025-05-30 10:07:34.389 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 10:07:34.392 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:07:34.393 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 10:07:34.394 +08:00 [INF] 请求方法: GET
2025-05-30 10:07:34.395 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:07:34.396 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:07:34.397 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:07:34.398 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:07:34.400 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:07:34.401 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTM1YTQ2OTItOTQzMC00ZjA4LWI2NTMtNTM5ZjM4MTM1YmZiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzE0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PO8NkALp-LO02iacPup4fjAkqAqH95LvUmVBWuvLV34
2025-05-30 10:07:34.403 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:07:34.404 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:07:34.405 +08:00 [INF] 请求头: traceparent = 00-f94ad22ec668793687f7ca5415630a5a-79a44908dcbd1887-00
2025-05-30 10:07:34.406 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:07:34.408 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:07:34.409 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:07:34.411 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:07:34.412 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:07:34.413 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:07:34.414 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:07:34.415 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:07:34.417 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:07:34.417 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:07:34.419 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:07:34.420 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:07:34.421 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:07:34.422 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:07:34.423 +08:00 [INF] JWT Claim: jti = 535a4692-9430-4f08-b653-539f38135bfb
2025-05-30 10:07:34.424 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:07:34.425 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:07:34.426 +08:00 [INF] JWT Claim: exp = 1748571404
2025-05-30 10:07:34.427 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:07:34.428 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:07:34.429 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:07:34.430 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTM1YTQ2OTItOTQzMC00ZjA4LWI2NTMtNTM5ZjM4MTM1YmZiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzE0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PO8NkALp-LO02iacPup4fjAkqAqH95LvUmVBWuvLV34]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-f94ad22ec668793687f7ca5415630a5a-79a44908dcbd1887-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:07:34.437 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:07:34.438 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:07:34.439 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:07:34.442 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 10:07:34.446 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:07:34.448 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 10:07:34.449 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:07:34.450 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 10.2656ms
2025-05-30 10:07:34.452 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:07:34.453 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 60ms
2025-05-30 10:07:34.454 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 65.402ms
2025-05-30 10:07:36.695 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperty/5 - null 0
2025-05-30 10:07:36.698 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:07:36.699 +08:00 [INF] 请求路径: /api/Property/GetProperty/5
2025-05-30 10:07:36.700 +08:00 [INF] 请求方法: GET
2025-05-30 10:07:36.701 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:07:36.702 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:07:36.703 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:07:36.704 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:07:36.704 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:07:36.705 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTM1YTQ2OTItOTQzMC00ZjA4LWI2NTMtNTM5ZjM4MTM1YmZiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzE0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PO8NkALp-LO02iacPup4fjAkqAqH95LvUmVBWuvLV34
2025-05-30 10:07:36.706 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:07:36.707 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:07:36.709 +08:00 [INF] 请求头: traceparent = 00-a9a08bfabdc8f9804b5b868d3e77b91a-4198c2b9b36ba3f0-00
2025-05-30 10:07:36.710 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:07:36.711 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:07:36.712 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:07:36.713 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:07:36.714 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:07:36.715 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:07:36.716 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:07:36.717 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:07:36.718 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:07:36.719 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:07:36.720 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:07:36.721 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:07:36.722 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:07:36.722 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:07:36.723 +08:00 [INF] JWT Claim: jti = 535a4692-9430-4f08-b653-539f38135bfb
2025-05-30 10:07:36.725 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:07:36.726 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:07:36.727 +08:00 [INF] JWT Claim: exp = 1748571404
2025-05-30 10:07:36.728 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:07:36.729 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:07:36.730 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:07:36.731 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTM1YTQ2OTItOTQzMC00ZjA4LWI2NTMtNTM5ZjM4MTM1YmZiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzE0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PO8NkALp-LO02iacPup4fjAkqAqH95LvUmVBWuvLV34]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-a9a08bfabdc8f9804b5b868d3e77b91a-4198c2b9b36ba3f0-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:07:36.737 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:07:36.738 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperty (RealEstateSolution.PropertyService)'
2025-05-30 10:07:36.739 +08:00 [INF] Route matched with {action = "GetProperty", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]] GetProperty(Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:07:36.746 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FileName], [p].[FilePath], [p].[FileSize], [p].[FileType], [p].[IsMain], [p].[PropertyId], [p].[UploadedAt], [p].[UploadedBy]
FROM [PropertyImages] AS [p]
WHERE [p].[PropertyId] = @__id_0
2025-05-30 10:07:36.748 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:07:36.749 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperty (RealEstateSolution.PropertyService) in 8.9827ms
2025-05-30 10:07:36.752 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperty (RealEstateSolution.PropertyService)'
2025-05-30 10:07:36.752 +08:00 [INF] 请求 GET /api/Property/GetProperty/5 完成，状态码: 200，耗时: 54ms
2025-05-30 10:07:36.754 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperty/5 - 200 null application/json; charset=utf-8 58.866ms
2025-05-30 10:07:58.131 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 10:07:58.134 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:07:58.135 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 10:07:58.136 +08:00 [INF] 请求方法: GET
2025-05-30 10:07:58.137 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:07:58.138 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:07:58.139 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:07:58.140 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:07:58.141 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:07:58.142 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTM1YTQ2OTItOTQzMC00ZjA4LWI2NTMtNTM5ZjM4MTM1YmZiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzE0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PO8NkALp-LO02iacPup4fjAkqAqH95LvUmVBWuvLV34
2025-05-30 10:07:58.143 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:07:58.144 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:07:58.145 +08:00 [INF] 请求头: traceparent = 00-3c115f4e837d43701e6525e5c9905e2f-cd3025775a93c222-00
2025-05-30 10:07:58.146 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:07:58.147 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:07:58.148 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:07:58.150 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:07:58.151 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:07:58.152 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:07:58.153 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:07:58.154 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:07:58.155 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:07:58.156 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:07:58.156 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:07:58.157 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:07:58.159 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:07:58.160 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:07:58.161 +08:00 [INF] JWT Claim: jti = 535a4692-9430-4f08-b653-539f38135bfb
2025-05-30 10:07:58.162 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:07:58.163 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:07:58.164 +08:00 [INF] JWT Claim: exp = 1748571404
2025-05-30 10:07:58.165 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:07:58.166 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:07:58.168 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:07:58.168 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTM1YTQ2OTItOTQzMC00ZjA4LWI2NTMtNTM5ZjM4MTM1YmZiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzE0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PO8NkALp-LO02iacPup4fjAkqAqH95LvUmVBWuvLV34]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-3c115f4e837d43701e6525e5c9905e2f-cd3025775a93c222-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:07:58.175 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:07:58.176 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:07:58.177 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:07:58.188 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 10:07:58.192 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:07:58.195 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 10:07:58.196 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:07:58.197 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 18.2407ms
2025-05-30 10:07:58.199 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:07:58.200 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 65ms
2025-05-30 10:07:58.202 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 71.2942ms
2025-05-30 10:07:59.916 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperty/5 - null 0
2025-05-30 10:07:59.919 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:07:59.919 +08:00 [INF] 请求路径: /api/Property/GetProperty/5
2025-05-30 10:07:59.920 +08:00 [INF] 请求方法: GET
2025-05-30 10:07:59.921 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:07:59.922 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:07:59.923 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:07:59.924 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:07:59.926 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:07:59.927 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTM1YTQ2OTItOTQzMC00ZjA4LWI2NTMtNTM5ZjM4MTM1YmZiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzE0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PO8NkALp-LO02iacPup4fjAkqAqH95LvUmVBWuvLV34
2025-05-30 10:07:59.928 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:07:59.929 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:07:59.930 +08:00 [INF] 请求头: traceparent = 00-539f42e87402c64f6c65f9b93ccf5016-2d6bc98320df3f65-00
2025-05-30 10:07:59.931 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:07:59.932 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:07:59.934 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:07:59.935 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:07:59.936 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:07:59.937 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:07:59.938 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:07:59.939 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:07:59.941 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:07:59.942 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:07:59.943 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:07:59.944 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:07:59.945 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:07:59.946 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:07:59.947 +08:00 [INF] JWT Claim: jti = 535a4692-9430-4f08-b653-539f38135bfb
2025-05-30 10:07:59.948 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:07:59.949 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:07:59.951 +08:00 [INF] JWT Claim: exp = 1748571404
2025-05-30 10:07:59.952 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:07:59.953 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:07:59.954 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:07:59.955 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTM1YTQ2OTItOTQzMC00ZjA4LWI2NTMtNTM5ZjM4MTM1YmZiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzE0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PO8NkALp-LO02iacPup4fjAkqAqH95LvUmVBWuvLV34]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-539f42e87402c64f6c65f9b93ccf5016-2d6bc98320df3f65-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:07:59.962 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:07:59.963 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperty (RealEstateSolution.PropertyService)'
2025-05-30 10:07:59.964 +08:00 [INF] Route matched with {action = "GetProperty", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]] GetProperty(Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:07:59.973 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FileName], [p].[FilePath], [p].[FileSize], [p].[FileType], [p].[IsMain], [p].[PropertyId], [p].[UploadedAt], [p].[UploadedBy]
FROM [PropertyImages] AS [p]
WHERE [p].[PropertyId] = @__id_0
2025-05-30 10:07:59.976 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:07:59.977 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperty (RealEstateSolution.PropertyService) in 11.1597ms
2025-05-30 10:07:59.979 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperty (RealEstateSolution.PropertyService)'
2025-05-30 10:07:59.980 +08:00 [INF] 请求 GET /api/Property/GetProperty/5 完成，状态码: 200，耗时: 61ms
2025-05-30 10:07:59.981 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperty/5 - 200 null application/json; charset=utf-8 65.5836ms
2025-05-30 10:08:10.514 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 10:08:10.518 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:08:10.519 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 10:08:10.520 +08:00 [INF] 请求方法: GET
2025-05-30 10:08:10.521 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:08:10.522 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:08:10.523 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:08:10.524 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:08:10.525 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:08:10.527 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTM1YTQ2OTItOTQzMC00ZjA4LWI2NTMtNTM5ZjM4MTM1YmZiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzE0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PO8NkALp-LO02iacPup4fjAkqAqH95LvUmVBWuvLV34
2025-05-30 10:08:10.528 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:08:10.529 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:08:10.531 +08:00 [INF] 请求头: traceparent = 00-ecaefec45d868bcaf075d13206444bdc-68861fb613d782eb-00
2025-05-30 10:08:10.532 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:08:10.533 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:08:10.535 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:08:10.536 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:08:10.537 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:08:10.538 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:08:10.539 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:08:10.540 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:08:10.542 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:08:10.543 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:08:10.544 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:08:10.545 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:08:10.546 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:08:10.548 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:08:10.549 +08:00 [INF] JWT Claim: jti = 535a4692-9430-4f08-b653-539f38135bfb
2025-05-30 10:08:10.551 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:08:10.552 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:08:10.553 +08:00 [INF] JWT Claim: exp = 1748571404
2025-05-30 10:08:10.555 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:08:10.556 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:08:10.557 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:08:10.558 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTM1YTQ2OTItOTQzMC00ZjA4LWI2NTMtNTM5ZjM4MTM1YmZiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzE0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PO8NkALp-LO02iacPup4fjAkqAqH95LvUmVBWuvLV34]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-ecaefec45d868bcaf075d13206444bdc-68861fb613d782eb-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:08:10.567 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:08:10.569 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:08:10.570 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:08:10.574 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 10:08:10.586 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:08:10.589 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 10:08:10.590 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:08:10.592 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 20.0927ms
2025-05-30 10:08:10.594 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:08:10.595 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 77ms
2025-05-30 10:08:10.598 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 83.9721ms
2025-05-30 10:08:19.480 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperty/5 - null 0
2025-05-30 10:08:19.482 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:08:19.483 +08:00 [INF] 请求路径: /api/Property/GetProperty/5
2025-05-30 10:08:19.485 +08:00 [INF] 请求方法: GET
2025-05-30 10:08:19.486 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:08:19.487 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:08:19.488 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:08:19.489 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:08:19.490 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:08:19.492 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTM1YTQ2OTItOTQzMC00ZjA4LWI2NTMtNTM5ZjM4MTM1YmZiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzE0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PO8NkALp-LO02iacPup4fjAkqAqH95LvUmVBWuvLV34
2025-05-30 10:08:19.493 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:08:19.494 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:08:19.496 +08:00 [INF] 请求头: traceparent = 00-997444c6c972b5df98704728978f0e6c-c747b0ab2528df0e-00
2025-05-30 10:08:19.497 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:08:19.498 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:08:19.499 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:08:19.501 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:08:19.502 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:08:19.503 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:08:19.504 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:08:19.505 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:08:19.506 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:08:19.507 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:08:19.508 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:08:19.509 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:08:19.510 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:08:19.511 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:08:19.512 +08:00 [INF] JWT Claim: jti = 535a4692-9430-4f08-b653-539f38135bfb
2025-05-30 10:08:19.513 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:08:19.514 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:08:19.515 +08:00 [INF] JWT Claim: exp = 1748571404
2025-05-30 10:08:19.516 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:08:19.517 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:08:19.518 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:08:19.519 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTM1YTQ2OTItOTQzMC00ZjA4LWI2NTMtNTM5ZjM4MTM1YmZiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzE0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PO8NkALp-LO02iacPup4fjAkqAqH95LvUmVBWuvLV34]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-997444c6c972b5df98704728978f0e6c-c747b0ab2528df0e-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:08:19.525 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:08:19.526 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperty (RealEstateSolution.PropertyService)'
2025-05-30 10:08:19.528 +08:00 [INF] Route matched with {action = "GetProperty", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]] GetProperty(Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:08:19.534 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FileName], [p].[FilePath], [p].[FileSize], [p].[FileType], [p].[IsMain], [p].[PropertyId], [p].[UploadedAt], [p].[UploadedBy]
FROM [PropertyImages] AS [p]
WHERE [p].[PropertyId] = @__id_0
2025-05-30 10:08:19.536 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:08:19.537 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperty (RealEstateSolution.PropertyService) in 8.3707ms
2025-05-30 10:08:19.539 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperty (RealEstateSolution.PropertyService)'
2025-05-30 10:08:19.540 +08:00 [INF] 请求 GET /api/Property/GetProperty/5 完成，状态码: 200，耗时: 57ms
2025-05-30 10:08:19.542 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperty/5 - 200 null application/json; charset=utf-8 62.5889ms
2025-05-30 10:08:22.927 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 10:08:22.930 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:08:22.931 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 10:08:22.932 +08:00 [INF] 请求方法: GET
2025-05-30 10:08:22.933 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:08:22.934 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:08:22.936 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:08:22.937 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:08:22.938 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:08:22.939 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTM1YTQ2OTItOTQzMC00ZjA4LWI2NTMtNTM5ZjM4MTM1YmZiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzE0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PO8NkALp-LO02iacPup4fjAkqAqH95LvUmVBWuvLV34
2025-05-30 10:08:22.940 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:08:22.942 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:08:22.943 +08:00 [INF] 请求头: traceparent = 00-cf6bdc66fcb5fb501c69e2343e6d3457-28b75e91c7fb163c-00
2025-05-30 10:08:22.944 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:08:22.945 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:08:22.946 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:08:22.947 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:08:22.948 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:08:22.950 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:08:22.951 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:08:22.953 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:08:22.954 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:08:22.954 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:08:22.955 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:08:22.956 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:08:22.957 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:08:22.958 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:08:22.960 +08:00 [INF] JWT Claim: jti = 535a4692-9430-4f08-b653-539f38135bfb
2025-05-30 10:08:22.961 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:08:22.962 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:08:22.963 +08:00 [INF] JWT Claim: exp = 1748571404
2025-05-30 10:08:22.964 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:08:22.965 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:08:22.966 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:08:22.967 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTM1YTQ2OTItOTQzMC00ZjA4LWI2NTMtNTM5ZjM4MTM1YmZiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzE0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PO8NkALp-LO02iacPup4fjAkqAqH95LvUmVBWuvLV34]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-cf6bdc66fcb5fb501c69e2343e6d3457-28b75e91c7fb163c-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:08:22.974 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:08:22.975 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:08:22.977 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:08:22.981 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 10:08:22.986 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:08:22.988 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 10:08:22.989 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:08:22.991 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 12.7228ms
2025-05-30 10:08:22.993 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:08:22.995 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 64ms
2025-05-30 10:08:22.997 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 69.7178ms
2025-05-30 10:08:43.544 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 10:08:43.546 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:08:43.547 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 10:08:43.548 +08:00 [INF] 请求方法: GET
2025-05-30 10:08:43.549 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:08:43.551 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:08:43.552 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:08:43.553 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:08:43.554 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:08:43.555 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTM1YTQ2OTItOTQzMC00ZjA4LWI2NTMtNTM5ZjM4MTM1YmZiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzE0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PO8NkALp-LO02iacPup4fjAkqAqH95LvUmVBWuvLV34
2025-05-30 10:08:43.556 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:08:43.557 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:08:43.559 +08:00 [INF] 请求头: traceparent = 00-87ed3d755d0d98bcd4a9f2ce4286a77e-b2647916a1240e4a-00
2025-05-30 10:08:43.560 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:08:43.561 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:08:43.562 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:08:43.563 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:08:43.564 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:08:43.566 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:08:43.567 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:08:43.568 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:08:43.569 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:08:43.570 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:08:43.571 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:08:43.571 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:08:43.572 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:08:43.573 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:08:43.574 +08:00 [INF] JWT Claim: jti = 535a4692-9430-4f08-b653-539f38135bfb
2025-05-30 10:08:43.575 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:08:43.576 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:08:43.577 +08:00 [INF] JWT Claim: exp = 1748571404
2025-05-30 10:08:43.578 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:08:43.579 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:08:43.580 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:08:43.581 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTM1YTQ2OTItOTQzMC00ZjA4LWI2NTMtNTM5ZjM4MTM1YmZiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzE0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PO8NkALp-LO02iacPup4fjAkqAqH95LvUmVBWuvLV34]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-87ed3d755d0d98bcd4a9f2ce4286a77e-b2647916a1240e4a-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:08:43.587 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:08:43.588 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:08:43.589 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:08:43.594 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 10:08:43.603 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:08:43.605 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 10:08:43.605 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:08:43.607 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 16.0497ms
2025-05-30 10:08:43.608 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:08:43.609 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 63ms
2025-05-30 10:08:43.611 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 67.1759ms
2025-05-30 10:08:45.007 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 10:08:45.010 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:08:45.011 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 10:08:45.012 +08:00 [INF] 请求方法: GET
2025-05-30 10:08:45.013 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:08:45.014 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:08:45.015 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:08:45.016 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:08:45.018 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:08:45.019 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTM1YTQ2OTItOTQzMC00ZjA4LWI2NTMtNTM5ZjM4MTM1YmZiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzE0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PO8NkALp-LO02iacPup4fjAkqAqH95LvUmVBWuvLV34
2025-05-30 10:08:45.020 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:08:45.021 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:08:45.022 +08:00 [INF] 请求头: traceparent = 00-63b608ef1e0c582473ffaee880e35183-707ce6392728db8d-00
2025-05-30 10:08:45.023 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:08:45.025 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:08:45.026 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:08:45.027 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:08:45.028 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:08:45.029 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:08:45.030 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:08:45.031 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:08:45.031 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:08:45.032 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:08:45.034 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:08:45.035 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:08:45.036 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:08:45.037 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:08:45.037 +08:00 [INF] JWT Claim: jti = 535a4692-9430-4f08-b653-539f38135bfb
2025-05-30 10:08:45.038 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:08:45.039 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:08:45.041 +08:00 [INF] JWT Claim: exp = 1748571404
2025-05-30 10:08:45.042 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:08:45.043 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:08:45.044 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:08:45.045 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTM1YTQ2OTItOTQzMC00ZjA4LWI2NTMtNTM5ZjM4MTM1YmZiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzE0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PO8NkALp-LO02iacPup4fjAkqAqH95LvUmVBWuvLV34]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-63b608ef1e0c582473ffaee880e35183-707ce6392728db8d-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:08:45.052 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:08:45.053 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:08:45.054 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:08:45.057 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 10:08:45.061 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:08:45.063 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 10:08:45.064 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:08:45.066 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 10.2779ms
2025-05-30 10:08:45.067 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:08:45.068 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 57ms
2025-05-30 10:08:45.070 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 62.738ms
2025-05-30 10:08:46.281 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 10:08:46.284 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:08:46.285 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 10:08:46.286 +08:00 [INF] 请求方法: GET
2025-05-30 10:08:46.287 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:08:46.288 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:08:46.289 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:08:46.290 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:08:46.292 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:08:46.293 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTM1YTQ2OTItOTQzMC00ZjA4LWI2NTMtNTM5ZjM4MTM1YmZiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzE0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PO8NkALp-LO02iacPup4fjAkqAqH95LvUmVBWuvLV34
2025-05-30 10:08:46.294 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:08:46.295 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:08:46.296 +08:00 [INF] 请求头: traceparent = 00-37f011fb93efc610eb58ed6cda819b12-3578a3806bc53db5-00
2025-05-30 10:08:46.297 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:08:46.298 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:08:46.300 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:08:46.301 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:08:46.302 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:08:46.303 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:08:46.304 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:08:46.305 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:08:46.306 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:08:46.307 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:08:46.307 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:08:46.308 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:08:46.309 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:08:46.310 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:08:46.311 +08:00 [INF] JWT Claim: jti = 535a4692-9430-4f08-b653-539f38135bfb
2025-05-30 10:08:46.312 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:08:46.313 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:08:46.314 +08:00 [INF] JWT Claim: exp = 1748571404
2025-05-30 10:08:46.315 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:08:46.317 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:08:46.318 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:08:46.318 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTM1YTQ2OTItOTQzMC00ZjA4LWI2NTMtNTM5ZjM4MTM1YmZiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzE0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PO8NkALp-LO02iacPup4fjAkqAqH95LvUmVBWuvLV34]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-37f011fb93efc610eb58ed6cda819b12-3578a3806bc53db5-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:08:46.325 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:08:46.326 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:08:46.327 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:08:46.330 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 10:08:46.334 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:08:46.336 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 10:08:46.337 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:08:46.338 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 10.1748ms
2025-05-30 10:08:46.339 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:08:46.341 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 56ms
2025-05-30 10:08:46.342 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 61.6128ms
2025-05-30 10:08:47.316 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 10:08:47.319 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:08:47.320 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 10:08:47.321 +08:00 [INF] 请求方法: GET
2025-05-30 10:08:47.322 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:08:47.323 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:08:47.324 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:08:47.325 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:08:47.327 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:08:47.328 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTM1YTQ2OTItOTQzMC00ZjA4LWI2NTMtNTM5ZjM4MTM1YmZiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzE0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PO8NkALp-LO02iacPup4fjAkqAqH95LvUmVBWuvLV34
2025-05-30 10:08:47.330 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:08:47.331 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:08:47.332 +08:00 [INF] 请求头: traceparent = 00-968a89e17b717259cdeba75cee8a376d-2d9720503257caf7-00
2025-05-30 10:08:47.334 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:08:47.335 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:08:47.336 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:08:47.337 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:08:47.338 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:08:47.339 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:08:47.340 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:08:47.342 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:08:47.343 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:08:47.344 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:08:47.345 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:08:47.346 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:08:47.347 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:08:47.348 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:08:47.349 +08:00 [INF] JWT Claim: jti = 535a4692-9430-4f08-b653-539f38135bfb
2025-05-30 10:08:47.351 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:08:47.352 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:08:47.353 +08:00 [INF] JWT Claim: exp = 1748571404
2025-05-30 10:08:47.354 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:08:47.355 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:08:47.356 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:08:47.356 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTM1YTQ2OTItOTQzMC00ZjA4LWI2NTMtNTM5ZjM4MTM1YmZiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzE0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PO8NkALp-LO02iacPup4fjAkqAqH95LvUmVBWuvLV34]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-968a89e17b717259cdeba75cee8a376d-2d9720503257caf7-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:08:47.364 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:08:47.365 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:08:47.366 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:08:47.377 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 10:08:47.380 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:08:47.382 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 10:08:47.383 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:08:47.385 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 17.2051ms
2025-05-30 10:08:47.386 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:08:47.387 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 67ms
2025-05-30 10:08:47.389 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 72.5203ms
2025-05-30 10:08:50.421 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 10:08:50.425 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:08:50.426 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 10:08:50.428 +08:00 [INF] 请求方法: GET
2025-05-30 10:08:50.429 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:08:50.430 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:08:50.432 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:08:50.433 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:08:50.435 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:08:50.436 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTM1YTQ2OTItOTQzMC00ZjA4LWI2NTMtNTM5ZjM4MTM1YmZiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzE0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PO8NkALp-LO02iacPup4fjAkqAqH95LvUmVBWuvLV34
2025-05-30 10:08:50.438 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:08:50.439 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:08:50.441 +08:00 [INF] 请求头: traceparent = 00-8c4288bacbedaa07001f1a73c10d307f-f48135e66c7c44b9-00
2025-05-30 10:08:50.442 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:08:50.444 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:08:50.446 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:08:50.447 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:08:50.449 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:08:50.451 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:08:50.452 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:08:50.453 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:08:50.454 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:08:50.455 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:08:50.456 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:08:50.457 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:08:50.458 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:08:50.460 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:08:50.462 +08:00 [INF] JWT Claim: jti = 535a4692-9430-4f08-b653-539f38135bfb
2025-05-30 10:08:50.463 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:08:50.464 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:08:50.465 +08:00 [INF] JWT Claim: exp = 1748571404
2025-05-30 10:08:50.466 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:08:50.468 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:08:50.469 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:08:50.470 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTM1YTQ2OTItOTQzMC00ZjA4LWI2NTMtNTM5ZjM4MTM1YmZiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzE0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PO8NkALp-LO02iacPup4fjAkqAqH95LvUmVBWuvLV34]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-8c4288bacbedaa07001f1a73c10d307f-f48135e66c7c44b9-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:08:50.477 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:08:50.478 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:08:50.479 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:08:50.485 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 10:08:50.488 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:08:50.491 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 10:08:50.492 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:08:50.493 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 12.1281ms
2025-05-30 10:08:50.495 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:08:50.496 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 70ms
2025-05-30 10:08:50.499 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 77.6157ms
2025-05-30 10:08:51.917 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 10:08:51.920 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:08:51.921 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 10:08:51.922 +08:00 [INF] 请求方法: GET
2025-05-30 10:08:51.923 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:08:51.925 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:08:51.927 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:08:51.928 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:08:51.929 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:08:51.931 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTM1YTQ2OTItOTQzMC00ZjA4LWI2NTMtNTM5ZjM4MTM1YmZiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzE0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PO8NkALp-LO02iacPup4fjAkqAqH95LvUmVBWuvLV34
2025-05-30 10:08:51.932 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:08:51.934 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:08:51.935 +08:00 [INF] 请求头: traceparent = 00-d4622763f4a3e678041cfecfeabaf5b3-2942429a25f02f8d-00
2025-05-30 10:08:51.936 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:08:51.937 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:08:51.939 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:08:51.940 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:08:51.941 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:08:51.943 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:08:51.944 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:08:51.945 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:08:51.946 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:08:51.947 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:08:51.948 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:08:51.949 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:08:51.950 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:08:51.951 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:08:51.952 +08:00 [INF] JWT Claim: jti = 535a4692-9430-4f08-b653-539f38135bfb
2025-05-30 10:08:51.953 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:08:51.955 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:08:51.956 +08:00 [INF] JWT Claim: exp = 1748571404
2025-05-30 10:08:51.957 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:08:51.958 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:08:51.959 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:08:51.960 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTM1YTQ2OTItOTQzMC00ZjA4LWI2NTMtNTM5ZjM4MTM1YmZiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzE0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PO8NkALp-LO02iacPup4fjAkqAqH95LvUmVBWuvLV34]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-d4622763f4a3e678041cfecfeabaf5b3-2942429a25f02f8d-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:08:51.968 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:08:51.969 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:08:51.970 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:08:51.975 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 10:08:51.978 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:08:51.980 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 10:08:51.981 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:08:51.982 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 10.4826ms
2025-05-30 10:08:51.984 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:08:51.984 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 64ms
2025-05-30 10:08:51.986 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 69.5986ms
2025-05-30 10:08:52.878 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 10:08:52.880 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:08:52.881 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 10:08:52.883 +08:00 [INF] 请求方法: GET
2025-05-30 10:08:52.884 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:08:52.885 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:08:52.886 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:08:52.887 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:08:52.888 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:08:52.889 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTM1YTQ2OTItOTQzMC00ZjA4LWI2NTMtNTM5ZjM4MTM1YmZiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzE0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PO8NkALp-LO02iacPup4fjAkqAqH95LvUmVBWuvLV34
2025-05-30 10:08:52.891 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:08:52.892 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:08:52.893 +08:00 [INF] 请求头: traceparent = 00-fdf4669fdea5150dfb1b6d2b74e12fef-54153693b75f3353-00
2025-05-30 10:08:52.895 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:08:52.895 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:08:52.896 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:08:52.897 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:08:52.898 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:08:52.900 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:08:52.901 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:08:52.902 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:08:52.903 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:08:52.904 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:08:52.905 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:08:52.906 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:08:52.907 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:08:52.908 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:08:52.909 +08:00 [INF] JWT Claim: jti = 535a4692-9430-4f08-b653-539f38135bfb
2025-05-30 10:08:52.910 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:08:52.911 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:08:52.912 +08:00 [INF] JWT Claim: exp = 1748571404
2025-05-30 10:08:52.913 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:08:52.914 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:08:52.915 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:08:52.916 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTM1YTQ2OTItOTQzMC00ZjA4LWI2NTMtNTM5ZjM4MTM1YmZiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzE0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PO8NkALp-LO02iacPup4fjAkqAqH95LvUmVBWuvLV34]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-fdf4669fdea5150dfb1b6d2b74e12fef-54153693b75f3353-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:08:52.922 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:08:52.923 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:08:52.924 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:08:52.928 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 10:08:52.931 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:08:52.933 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 10:08:52.934 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:08:52.936 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 9.708ms
2025-05-30 10:08:52.937 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:08:52.938 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 57ms
2025-05-30 10:08:52.939 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 61.3006ms
2025-05-30 10:08:54.759 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 10:08:54.761 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:08:54.762 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 10:08:54.763 +08:00 [INF] 请求方法: GET
2025-05-30 10:08:54.764 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:08:54.765 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:08:54.766 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:08:54.767 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:08:54.768 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:08:54.769 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTM1YTQ2OTItOTQzMC00ZjA4LWI2NTMtNTM5ZjM4MTM1YmZiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzE0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PO8NkALp-LO02iacPup4fjAkqAqH95LvUmVBWuvLV34
2025-05-30 10:08:54.771 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:08:54.771 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:08:54.773 +08:00 [INF] 请求头: traceparent = 00-08c1514ee96616f99b2270fb578fea4e-4df6a40c6f2c30c1-00
2025-05-30 10:08:54.774 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:08:54.775 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:08:54.776 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:08:54.778 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:08:54.779 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:08:54.780 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:08:54.781 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:08:54.782 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:08:54.783 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:08:54.784 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:08:54.785 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:08:54.785 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:08:54.786 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:08:54.787 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:08:54.788 +08:00 [INF] JWT Claim: jti = 535a4692-9430-4f08-b653-539f38135bfb
2025-05-30 10:08:54.789 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:08:54.790 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:08:54.792 +08:00 [INF] JWT Claim: exp = 1748571404
2025-05-30 10:08:54.793 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:08:54.794 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:08:54.795 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:08:54.795 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTM1YTQ2OTItOTQzMC00ZjA4LWI2NTMtNTM5ZjM4MTM1YmZiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzE0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PO8NkALp-LO02iacPup4fjAkqAqH95LvUmVBWuvLV34]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-08c1514ee96616f99b2270fb578fea4e-4df6a40c6f2c30c1-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:08:54.802 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:08:54.803 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:08:54.804 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:08:54.807 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 10:08:54.811 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:08:54.813 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 10:08:54.814 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:08:54.815 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 9.6823ms
2025-05-30 10:08:54.817 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:08:54.817 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 56ms
2025-05-30 10:08:54.819 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 60.5776ms
2025-05-30 10:10:53.041 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperty/5 - null 0
2025-05-30 10:10:53.044 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:10:53.045 +08:00 [INF] 请求路径: /api/Property/GetProperty/5
2025-05-30 10:10:53.047 +08:00 [INF] 请求方法: GET
2025-05-30 10:10:53.049 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:10:53.051 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:10:53.052 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:10:53.054 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:10:53.057 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:10:53.060 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTM1YTQ2OTItOTQzMC00ZjA4LWI2NTMtNTM5ZjM4MTM1YmZiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzE0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PO8NkALp-LO02iacPup4fjAkqAqH95LvUmVBWuvLV34
2025-05-30 10:10:53.062 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:10:53.064 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:10:53.065 +08:00 [INF] 请求头: traceparent = 00-5125b0140dacc67914a1d0b581473813-c3d5daede15fa1b5-00
2025-05-30 10:10:53.066 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:10:53.068 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:10:53.070 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:10:53.072 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:10:53.075 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:10:53.077 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:10:53.079 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:10:53.081 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:10:53.083 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:10:53.085 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:10:53.086 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:10:53.092 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:10:53.095 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:10:53.096 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:10:53.099 +08:00 [INF] JWT Claim: jti = 535a4692-9430-4f08-b653-539f38135bfb
2025-05-30 10:10:53.101 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:10:53.102 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:10:53.103 +08:00 [INF] JWT Claim: exp = 1748571404
2025-05-30 10:10:53.104 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:10:53.105 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:10:53.107 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:10:53.108 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTM1YTQ2OTItOTQzMC00ZjA4LWI2NTMtNTM5ZjM4MTM1YmZiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzE0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PO8NkALp-LO02iacPup4fjAkqAqH95LvUmVBWuvLV34]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-5125b0140dacc67914a1d0b581473813-c3d5daede15fa1b5-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:10:53.147 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:10:53.148 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperty (RealEstateSolution.PropertyService)'
2025-05-30 10:10:53.150 +08:00 [INF] Route matched with {action = "GetProperty", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]] GetProperty(Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:10:53.171 +08:00 [INF] Executed DbCommand (15ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FileName], [p].[FilePath], [p].[FileSize], [p].[FileType], [p].[IsMain], [p].[PropertyId], [p].[UploadedAt], [p].[UploadedBy]
FROM [PropertyImages] AS [p]
WHERE [p].[PropertyId] = @__id_0
2025-05-30 10:10:53.176 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:10:53.178 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperty (RealEstateSolution.PropertyService) in 25.3756ms
2025-05-30 10:10:53.180 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperty (RealEstateSolution.PropertyService)'
2025-05-30 10:10:53.182 +08:00 [INF] 请求 GET /api/Property/GetProperty/5 完成，状态码: 200，耗时: 137ms
2025-05-30 10:10:53.185 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperty/5 - 200 null application/json; charset=utf-8 146.9296ms
2025-05-30 10:16:34.698 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 10:16:34.739 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:16:34.741 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 10:16:34.744 +08:00 [INF] 请求方法: GET
2025-05-30 10:16:34.751 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:16:34.756 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:16:34.759 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:16:34.763 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:16:34.767 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:16:34.771 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTM1YTQ2OTItOTQzMC00ZjA4LWI2NTMtNTM5ZjM4MTM1YmZiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzE0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PO8NkALp-LO02iacPup4fjAkqAqH95LvUmVBWuvLV34
2025-05-30 10:16:34.775 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:16:34.779 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:16:34.783 +08:00 [INF] 请求头: traceparent = 00-fbc6e493df2c646d50fd8474577fe9e0-e949133750250bec-00
2025-05-30 10:16:34.786 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:16:34.790 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:16:34.794 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:16:34.799 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:16:34.801 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:16:34.806 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:16:34.808 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:16:34.813 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:16:34.816 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:16:34.818 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:16:34.822 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:16:34.826 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:16:34.832 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:16:34.838 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:16:34.843 +08:00 [INF] JWT Claim: jti = 535a4692-9430-4f08-b653-539f38135bfb
2025-05-30 10:16:34.856 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:16:34.857 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:16:34.860 +08:00 [INF] JWT Claim: exp = 1748571404
2025-05-30 10:16:34.863 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:16:34.866 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:16:34.869 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:16:34.872 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTM1YTQ2OTItOTQzMC00ZjA4LWI2NTMtNTM5ZjM4MTM1YmZiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzE0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PO8NkALp-LO02iacPup4fjAkqAqH95LvUmVBWuvLV34]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-fbc6e493df2c646d50fd8474577fe9e0-e949133750250bec-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:16:34.891 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:16:34.894 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 10:16:34.898 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:16:34.966 +08:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 10:16:34.974 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:16:34.979 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 77.1311ms
2025-05-30 10:16:34.983 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 10:16:34.986 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 246ms
2025-05-30 10:16:34.991 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 293.4583ms
2025-05-30 10:16:35.099 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 10:16:35.281 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:16:35.294 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 10:16:35.297 +08:00 [INF] 请求方法: GET
2025-05-30 10:16:35.300 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:16:35.306 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:16:35.308 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:16:35.311 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:16:35.315 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:16:35.323 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTM1YTQ2OTItOTQzMC00ZjA4LWI2NTMtNTM5ZjM4MTM1YmZiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzE0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PO8NkALp-LO02iacPup4fjAkqAqH95LvUmVBWuvLV34
2025-05-30 10:16:35.330 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:16:35.334 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:16:35.335 +08:00 [INF] 请求头: traceparent = 00-5c8e737f6b7a80b63f7a4d74db7e3cc0-560f91432bb9b1db-00
2025-05-30 10:16:35.336 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:16:35.339 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:16:35.340 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:16:35.341 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:16:35.342 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:16:35.342 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:16:35.343 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:16:35.344 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:16:35.347 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:16:35.347 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:16:35.349 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:16:35.350 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:16:35.351 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:16:35.352 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:16:35.352 +08:00 [INF] JWT Claim: jti = 535a4692-9430-4f08-b653-539f38135bfb
2025-05-30 10:16:35.354 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:16:35.355 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:16:35.356 +08:00 [INF] JWT Claim: exp = 1748571404
2025-05-30 10:16:35.357 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:16:35.358 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:16:35.359 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:16:35.359 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTM1YTQ2OTItOTQzMC00ZjA4LWI2NTMtNTM5ZjM4MTM1YmZiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzE0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PO8NkALp-LO02iacPup4fjAkqAqH95LvUmVBWuvLV34]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-5c8e737f6b7a80b63f7a4d74db7e3cc0-560f91432bb9b1db-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:16:35.369 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:16:35.371 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:16:35.372 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:16:35.387 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 10:16:35.417 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:16:35.420 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 10:16:35.431 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:16:35.435 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 62.0298ms
2025-05-30 10:16:35.438 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:16:35.439 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 157ms
2025-05-30 10:16:35.441 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 341.4064ms
2025-05-30 10:16:36.571 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 10:16:36.575 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:16:36.576 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 10:16:36.579 +08:00 [INF] 请求方法: GET
2025-05-30 10:16:36.581 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:16:36.583 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:16:36.585 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:16:36.590 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:16:36.591 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:16:36.593 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTM1YTQ2OTItOTQzMC00ZjA4LWI2NTMtNTM5ZjM4MTM1YmZiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzE0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PO8NkALp-LO02iacPup4fjAkqAqH95LvUmVBWuvLV34
2025-05-30 10:16:36.597 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:16:36.600 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:16:36.603 +08:00 [INF] 请求头: traceparent = 00-7d86d224fba2e87f22425ed1d5979fe2-d6db03fe7774e70b-00
2025-05-30 10:16:36.609 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:16:36.615 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:16:36.617 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:16:36.622 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:16:36.625 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:16:36.631 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:16:36.634 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:16:36.635 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:16:36.640 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:16:36.642 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:16:36.643 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:16:36.647 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:16:36.650 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:16:36.657 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:16:36.659 +08:00 [INF] JWT Claim: jti = 535a4692-9430-4f08-b653-539f38135bfb
2025-05-30 10:16:36.661 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:16:36.664 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:16:36.665 +08:00 [INF] JWT Claim: exp = 1748571404
2025-05-30 10:16:36.667 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:16:36.668 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:16:36.670 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:16:36.672 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTM1YTQ2OTItOTQzMC00ZjA4LWI2NTMtNTM5ZjM4MTM1YmZiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzE0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PO8NkALp-LO02iacPup4fjAkqAqH95LvUmVBWuvLV34]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-7d86d224fba2e87f22425ed1d5979fe2-d6db03fe7774e70b-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:16:36.682 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:16:36.684 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:16:36.685 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:16:36.704 +08:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 10:16:36.710 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:16:36.714 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 10:16:36.717 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:16:36.721 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 32.2801ms
2025-05-30 10:16:36.723 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:16:36.726 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 151ms
2025-05-30 10:16:36.730 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 158.5335ms
2025-05-30 10:16:38.602 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperty/5 - null 0
2025-05-30 10:16:38.608 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:16:38.609 +08:00 [INF] 请求路径: /api/Property/GetProperty/5
2025-05-30 10:16:38.611 +08:00 [INF] 请求方法: GET
2025-05-30 10:16:38.612 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:16:38.614 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:16:38.615 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:16:38.618 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:16:38.620 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:16:38.621 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTM1YTQ2OTItOTQzMC00ZjA4LWI2NTMtNTM5ZjM4MTM1YmZiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzE0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PO8NkALp-LO02iacPup4fjAkqAqH95LvUmVBWuvLV34
2025-05-30 10:16:38.623 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:16:38.625 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:16:38.626 +08:00 [INF] 请求头: traceparent = 00-0fe7d8d2f35994a849c5e047384d54cd-8b6f43518b3ca3d4-00
2025-05-30 10:16:38.628 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:16:38.630 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:16:38.632 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:16:38.634 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:16:38.636 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:16:38.637 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:16:38.639 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:16:38.640 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:16:38.642 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:16:38.644 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:16:38.645 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:16:38.646 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:16:38.648 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:16:38.650 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:16:38.651 +08:00 [INF] JWT Claim: jti = 535a4692-9430-4f08-b653-539f38135bfb
2025-05-30 10:16:38.652 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:16:38.655 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:16:38.656 +08:00 [INF] JWT Claim: exp = 1748571404
2025-05-30 10:16:38.657 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:16:38.658 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:16:38.660 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:16:38.660 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTM1YTQ2OTItOTQzMC00ZjA4LWI2NTMtNTM5ZjM4MTM1YmZiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzE0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PO8NkALp-LO02iacPup4fjAkqAqH95LvUmVBWuvLV34]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-0fe7d8d2f35994a849c5e047384d54cd-8b6f43518b3ca3d4-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:16:38.673 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:16:38.674 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperty (RealEstateSolution.PropertyService)'
2025-05-30 10:16:38.676 +08:00 [INF] Route matched with {action = "GetProperty", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]] GetProperty(Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:16:38.752 +08:00 [INF] Executed DbCommand (70ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FileName], [p].[FilePath], [p].[FileSize], [p].[FileType], [p].[IsMain], [p].[PropertyId], [p].[UploadedAt], [p].[UploadedBy]
FROM [PropertyImages] AS [p]
WHERE [p].[PropertyId] = @__id_0
2025-05-30 10:16:38.842 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:16:38.891 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperty (RealEstateSolution.PropertyService) in 213.7018ms
2025-05-30 10:16:38.893 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperty (RealEstateSolution.PropertyService)'
2025-05-30 10:16:38.897 +08:00 [INF] 请求 GET /api/Property/GetProperty/5 完成，状态码: 200，耗时: 288ms
2025-05-30 10:16:38.901 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperty/5 - 200 null application/json; charset=utf-8 298.8226ms
2025-05-30 10:17:07.973 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 10:17:07.979 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:17:07.981 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 10:17:07.984 +08:00 [INF] 请求方法: GET
2025-05-30 10:17:07.986 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:17:07.987 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:17:07.989 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:17:07.992 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:17:07.995 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:17:07.996 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNjFmNjk4NDktYThkMy00MzFmLWFmOTEtYjhhOTI1NWQxYzAzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzIwMjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ksdrBl7e_OO3Fj8kcTVPqfmIWMVZyBHI64dKY1Wtglo
2025-05-30 10:17:07.999 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:17:08.001 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:17:08.002 +08:00 [INF] 请求头: traceparent = 00-c9141cea87eaebff889495f17fe786b7-24d8fc5fa80ae1fe-00
2025-05-30 10:17:08.003 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:17:08.004 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:17:08.006 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:17:08.008 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:17:08.009 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:17:08.011 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:17:08.012 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:17:08.013 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:17:08.021 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:17:08.032 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:17:08.036 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:17:08.039 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:17:08.043 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:17:08.045 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:17:08.048 +08:00 [INF] JWT Claim: jti = 61f69849-a8d3-431f-af91-b8a9255d1c03
2025-05-30 10:17:08.050 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:17:08.053 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:17:08.056 +08:00 [INF] JWT Claim: exp = 1748572027
2025-05-30 10:17:08.058 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:17:08.064 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:17:08.068 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:17:08.085 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNjFmNjk4NDktYThkMy00MzFmLWFmOTEtYjhhOTI1NWQxYzAzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzIwMjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ksdrBl7e_OO3Fj8kcTVPqfmIWMVZyBHI64dKY1Wtglo]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-c9141cea87eaebff889495f17fe786b7-24d8fc5fa80ae1fe-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:17:08.119 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:17:08.122 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 10:17:08.135 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:17:08.148 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 10:17:08.166 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:17:08.168 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 28.8054ms
2025-05-30 10:17:08.170 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 10:17:08.174 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 195ms
2025-05-30 10:17:08.178 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 205.2533ms
2025-05-30 10:17:08.307 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 10:17:08.336 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:17:08.339 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 10:17:08.343 +08:00 [INF] 请求方法: GET
2025-05-30 10:17:08.347 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:17:08.351 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:17:08.356 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:17:08.360 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:17:08.364 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:17:08.367 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNjFmNjk4NDktYThkMy00MzFmLWFmOTEtYjhhOTI1NWQxYzAzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzIwMjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ksdrBl7e_OO3Fj8kcTVPqfmIWMVZyBHI64dKY1Wtglo
2025-05-30 10:17:08.369 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:17:08.373 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:17:08.374 +08:00 [INF] 请求头: traceparent = 00-7c0370ee85a9d74fbc129a2e4ce5e8e1-5286bebbe95afd4a-00
2025-05-30 10:17:08.377 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:17:08.380 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:17:08.381 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:17:08.383 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:17:08.385 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:17:08.388 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:17:08.390 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:17:08.392 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:17:08.394 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:17:08.396 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:17:08.398 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:17:08.399 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:17:08.401 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:17:08.402 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:17:08.405 +08:00 [INF] JWT Claim: jti = 61f69849-a8d3-431f-af91-b8a9255d1c03
2025-05-30 10:17:08.407 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:17:08.408 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:17:08.411 +08:00 [INF] JWT Claim: exp = 1748572027
2025-05-30 10:17:08.414 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:17:08.415 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:17:08.417 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:17:08.418 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNjFmNjk4NDktYThkMy00MzFmLWFmOTEtYjhhOTI1NWQxYzAzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzIwMjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ksdrBl7e_OO3Fj8kcTVPqfmIWMVZyBHI64dKY1Wtglo]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-7c0370ee85a9d74fbc129a2e4ce5e8e1-5286bebbe95afd4a-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:17:08.435 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:17:08.438 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:17:08.442 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:17:08.471 +08:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 10:17:08.480 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:17:08.486 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 10:17:08.489 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:17:08.493 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 45.7406ms
2025-05-30 10:17:08.500 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:17:08.506 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 170ms
2025-05-30 10:17:08.512 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 204.7831ms
2025-05-30 10:17:10.359 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 10:17:10.363 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:17:10.367 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 10:17:10.371 +08:00 [INF] 请求方法: GET
2025-05-30 10:17:10.373 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:17:10.377 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:17:10.379 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:17:10.380 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:17:10.385 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:17:10.389 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNjFmNjk4NDktYThkMy00MzFmLWFmOTEtYjhhOTI1NWQxYzAzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzIwMjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ksdrBl7e_OO3Fj8kcTVPqfmIWMVZyBHI64dKY1Wtglo
2025-05-30 10:17:10.396 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:17:10.400 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:17:10.404 +08:00 [INF] 请求头: traceparent = 00-01424cedae93e8c3e09778cb7ff29109-295e2796b0e7cd68-00
2025-05-30 10:17:10.408 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:17:10.412 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:17:10.415 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:17:10.422 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:17:10.429 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:17:10.433 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:17:10.438 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:17:10.442 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:17:10.446 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:17:10.447 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:17:10.450 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:17:10.453 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:17:10.456 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:17:10.460 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:17:10.463 +08:00 [INF] JWT Claim: jti = 61f69849-a8d3-431f-af91-b8a9255d1c03
2025-05-30 10:17:10.467 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:17:10.471 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:17:10.475 +08:00 [INF] JWT Claim: exp = 1748572027
2025-05-30 10:17:10.479 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:17:10.483 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:17:10.487 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:17:10.488 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNjFmNjk4NDktYThkMy00MzFmLWFmOTEtYjhhOTI1NWQxYzAzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzIwMjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ksdrBl7e_OO3Fj8kcTVPqfmIWMVZyBHI64dKY1Wtglo]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-01424cedae93e8c3e09778cb7ff29109-295e2796b0e7cd68-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:17:10.504 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:17:10.507 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:17:10.510 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:17:10.552 +08:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 10:17:10.558 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:17:10.561 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 10:17:10.564 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:17:10.572 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 56.4146ms
2025-05-30 10:17:10.578 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:17:10.585 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 221ms
2025-05-30 10:17:10.594 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 234.8179ms
2025-05-30 10:17:13.664 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperty/5 - null 0
2025-05-30 10:17:13.669 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:17:13.671 +08:00 [INF] 请求路径: /api/Property/GetProperty/5
2025-05-30 10:17:13.672 +08:00 [INF] 请求方法: GET
2025-05-30 10:17:13.674 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:17:13.676 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:17:13.679 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:17:13.681 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:17:13.683 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:17:13.686 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNjFmNjk4NDktYThkMy00MzFmLWFmOTEtYjhhOTI1NWQxYzAzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzIwMjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ksdrBl7e_OO3Fj8kcTVPqfmIWMVZyBHI64dKY1Wtglo
2025-05-30 10:17:13.689 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:17:13.691 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:17:13.693 +08:00 [INF] 请求头: traceparent = 00-5d22fbea4d2de46af4adcbe0e89e85d1-bfca8fed2cebeb92-00
2025-05-30 10:17:13.696 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:17:13.698 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:17:13.699 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:17:13.700 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:17:13.703 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:17:13.705 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:17:13.707 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:17:13.709 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:17:13.711 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:17:13.713 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:17:13.714 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:17:13.716 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:17:13.719 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:17:13.721 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:17:13.724 +08:00 [INF] JWT Claim: jti = 61f69849-a8d3-431f-af91-b8a9255d1c03
2025-05-30 10:17:13.726 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:17:13.728 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:17:13.729 +08:00 [INF] JWT Claim: exp = 1748572027
2025-05-30 10:17:13.731 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:17:13.732 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:17:13.735 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:17:13.737 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNjFmNjk4NDktYThkMy00MzFmLWFmOTEtYjhhOTI1NWQxYzAzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzIwMjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ksdrBl7e_OO3Fj8kcTVPqfmIWMVZyBHI64dKY1Wtglo]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-5d22fbea4d2de46af4adcbe0e89e85d1-bfca8fed2cebeb92-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:17:13.753 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:17:13.753 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperty (RealEstateSolution.PropertyService)'
2025-05-30 10:17:13.755 +08:00 [INF] Route matched with {action = "GetProperty", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]] GetProperty(Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:17:13.772 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FileName], [p].[FilePath], [p].[FileSize], [p].[FileType], [p].[IsMain], [p].[PropertyId], [p].[UploadedAt], [p].[UploadedBy]
FROM [PropertyImages] AS [p]
WHERE [p].[PropertyId] = @__id_0
2025-05-30 10:17:13.776 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:17:13.780 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperty (RealEstateSolution.PropertyService) in 20.5276ms
2025-05-30 10:17:13.783 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperty (RealEstateSolution.PropertyService)'
2025-05-30 10:17:13.785 +08:00 [INF] 请求 GET /api/Property/GetProperty/5 完成，状态码: 200，耗时: 116ms
2025-05-30 10:17:13.789 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperty/5 - 200 null application/json; charset=utf-8 124.6629ms
2025-05-30 10:17:22.735 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 10:17:22.741 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:17:22.743 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 10:17:22.747 +08:00 [INF] 请求方法: GET
2025-05-30 10:17:22.751 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:17:22.756 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:17:22.761 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:17:22.764 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:17:22.768 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:17:22.774 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNjFmNjk4NDktYThkMy00MzFmLWFmOTEtYjhhOTI1NWQxYzAzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzIwMjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ksdrBl7e_OO3Fj8kcTVPqfmIWMVZyBHI64dKY1Wtglo
2025-05-30 10:17:22.780 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 10:17:22.785 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:17:22.799 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:17:22.801 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:17:22.803 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 10:17:22.805 +08:00 [INF] 请求头: traceparent = 00-9d6770f77e1daec46fd447a3d13173ed-529dcff5164cda32-00
2025-05-30 10:17:22.807 +08:00 [INF] 请求方法: GET
2025-05-30 10:17:22.809 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:17:22.811 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:17:22.814 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:17:22.815 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:17:22.819 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:17:22.817 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:17:22.823 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:17:22.828 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:17:22.826 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:17:22.831 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNjFmNjk4NDktYThkMy00MzFmLWFmOTEtYjhhOTI1NWQxYzAzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzIwMjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ksdrBl7e_OO3Fj8kcTVPqfmIWMVZyBHI64dKY1Wtglo
2025-05-30 10:17:22.833 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:17:22.837 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:17:22.839 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:17:22.841 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:17:22.846 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:17:22.847 +08:00 [INF] 请求头: traceparent = 00-358918ca1c71acd37f756e8f42e3e2b3-7f194d5fb7dec428-00
2025-05-30 10:17:22.853 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:17:22.851 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:17:22.854 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:17:22.857 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:17:22.860 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:17:22.862 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:17:22.864 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:17:22.867 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:17:22.869 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:17:22.872 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:17:22.875 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:17:22.878 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:17:22.881 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:17:22.885 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:17:22.888 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:17:22.890 +08:00 [INF] JWT Claim: jti = 61f69849-a8d3-431f-af91-b8a9255d1c03
2025-05-30 10:17:22.893 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:17:22.898 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:17:22.901 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:17:22.906 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:17:22.907 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:17:22.910 +08:00 [INF] JWT Claim: exp = 1748572027
2025-05-30 10:17:22.911 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:17:22.914 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:17:22.917 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:17:22.920 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:17:22.922 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:17:22.925 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:17:22.927 +08:00 [INF] JWT Claim: jti = 61f69849-a8d3-431f-af91-b8a9255d1c03
2025-05-30 10:17:22.930 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNjFmNjk4NDktYThkMy00MzFmLWFmOTEtYjhhOTI1NWQxYzAzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzIwMjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ksdrBl7e_OO3Fj8kcTVPqfmIWMVZyBHI64dKY1Wtglo]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-9d6770f77e1daec46fd447a3d13173ed-529dcff5164cda32-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:17:22.932 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:17:22.954 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:17:22.955 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:17:22.957 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 10:17:22.959 +08:00 [INF] JWT Claim: exp = 1748572027
2025-05-30 10:17:22.963 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:17:22.965 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:17:22.975 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:17:22.977 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 10:17:22.978 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:17:22.985 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:17:22.986 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNjFmNjk4NDktYThkMy00MzFmLWFmOTEtYjhhOTI1NWQxYzAzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzIwMjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ksdrBl7e_OO3Fj8kcTVPqfmIWMVZyBHI64dKY1Wtglo]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-358918ca1c71acd37f756e8f42e3e2b3-7f194d5fb7dec428-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:17:22.988 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 16.6184ms
2025-05-30 10:17:23.006 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:17:23.009 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 10:17:23.011 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:17:23.013 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 272ms
2025-05-30 10:17:23.017 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:17:23.023 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 292.1539ms
2025-05-30 10:17:23.058 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 10:17:23.067 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:17:23.073 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 10:17:23.075 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:17:23.078 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 50.1243ms
2025-05-30 10:17:23.081 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:17:23.083 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 283ms
2025-05-30 10:17:23.088 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 308.4436ms
2025-05-30 10:18:49.701 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 10:18:49.714 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:18:49.718 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 10:18:49.720 +08:00 [INF] 请求方法: GET
2025-05-30 10:18:49.722 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:18:49.727 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:18:49.729 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:18:49.732 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:18:49.734 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:18:49.737 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNjFmNjk4NDktYThkMy00MzFmLWFmOTEtYjhhOTI1NWQxYzAzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzIwMjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ksdrBl7e_OO3Fj8kcTVPqfmIWMVZyBHI64dKY1Wtglo
2025-05-30 10:18:49.740 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:18:49.742 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:18:49.745 +08:00 [INF] 请求头: traceparent = 00-261f7b62321abbfad69b9ec2e9da4a19-8563e8cdf0babdb5-00
2025-05-30 10:18:49.747 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:18:49.749 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:18:49.752 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:18:49.753 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:18:49.756 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:18:49.758 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:18:49.761 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:18:49.762 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:18:49.765 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:18:49.766 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:18:49.769 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:18:49.770 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:18:49.772 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:18:49.774 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:18:49.777 +08:00 [INF] JWT Claim: jti = 61f69849-a8d3-431f-af91-b8a9255d1c03
2025-05-30 10:18:49.778 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:18:49.781 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:18:49.783 +08:00 [INF] JWT Claim: exp = 1748572027
2025-05-30 10:18:49.785 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:18:49.788 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:18:49.790 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:18:49.792 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNjFmNjk4NDktYThkMy00MzFmLWFmOTEtYjhhOTI1NWQxYzAzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzIwMjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ksdrBl7e_OO3Fj8kcTVPqfmIWMVZyBHI64dKY1Wtglo]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-261f7b62321abbfad69b9ec2e9da4a19-8563e8cdf0babdb5-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:18:49.806 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:18:49.808 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:18:49.810 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:18:49.841 +08:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 10:18:49.847 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:18:49.851 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 10:18:49.854 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:18:49.856 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 42.7925ms
2025-05-30 10:18:49.858 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:18:49.860 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 146ms
2025-05-30 10:18:49.863 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 162.2527ms
2025-05-30 10:18:51.053 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperty/5 - null 0
2025-05-30 10:18:51.065 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:18:51.069 +08:00 [INF] 请求路径: /api/Property/GetProperty/5
2025-05-30 10:18:51.072 +08:00 [INF] 请求方法: GET
2025-05-30 10:18:51.077 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:18:51.087 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:18:51.089 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:18:51.092 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:18:51.095 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:18:51.098 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNjFmNjk4NDktYThkMy00MzFmLWFmOTEtYjhhOTI1NWQxYzAzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzIwMjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ksdrBl7e_OO3Fj8kcTVPqfmIWMVZyBHI64dKY1Wtglo
2025-05-30 10:18:51.102 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:18:51.105 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:18:51.108 +08:00 [INF] 请求头: traceparent = 00-9b4519d30f67eebaad3fd97d2e2b58bf-2c1a872d74570ffe-00
2025-05-30 10:18:51.111 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:18:51.113 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:18:51.116 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:18:51.120 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:18:51.123 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:18:51.124 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:18:51.126 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:18:51.128 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:18:51.130 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:18:51.132 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:18:51.134 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:18:51.138 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:18:51.141 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:18:51.143 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:18:51.145 +08:00 [INF] JWT Claim: jti = 61f69849-a8d3-431f-af91-b8a9255d1c03
2025-05-30 10:18:51.149 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:18:51.153 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:18:51.156 +08:00 [INF] JWT Claim: exp = 1748572027
2025-05-30 10:18:51.160 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:18:51.166 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:18:51.168 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:18:51.170 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNjFmNjk4NDktYThkMy00MzFmLWFmOTEtYjhhOTI1NWQxYzAzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzIwMjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ksdrBl7e_OO3Fj8kcTVPqfmIWMVZyBHI64dKY1Wtglo]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-9b4519d30f67eebaad3fd97d2e2b58bf-2c1a872d74570ffe-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:18:51.182 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:18:51.185 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperty (RealEstateSolution.PropertyService)'
2025-05-30 10:18:51.187 +08:00 [INF] Route matched with {action = "GetProperty", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]] GetProperty(Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:18:51.207 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FileName], [p].[FilePath], [p].[FileSize], [p].[FileType], [p].[IsMain], [p].[PropertyId], [p].[UploadedAt], [p].[UploadedBy]
FROM [PropertyImages] AS [p]
WHERE [p].[PropertyId] = @__id_0
2025-05-30 10:18:51.212 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:18:51.214 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperty (RealEstateSolution.PropertyService) in 22.9251ms
2025-05-30 10:18:51.217 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperty (RealEstateSolution.PropertyService)'
2025-05-30 10:18:51.219 +08:00 [INF] 请求 GET /api/Property/GetProperty/5 完成，状态码: 200，耗时: 153ms
2025-05-30 10:18:51.223 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperty/5 - 200 null application/json; charset=utf-8 170.2509ms
2025-05-30 10:18:57.375 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 10:18:57.384 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:18:57.385 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 10:18:57.388 +08:00 [INF] 请求方法: GET
2025-05-30 10:18:57.389 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:18:57.391 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:18:57.393 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:18:57.395 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:18:57.396 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:18:57.398 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNjFmNjk4NDktYThkMy00MzFmLWFmOTEtYjhhOTI1NWQxYzAzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzIwMjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ksdrBl7e_OO3Fj8kcTVPqfmIWMVZyBHI64dKY1Wtglo
2025-05-30 10:18:57.400 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:18:57.402 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:18:57.403 +08:00 [INF] 请求头: traceparent = 00-c2bcce02fe47c8b0035736faac54d3be-09825550f12fdf0f-00
2025-05-30 10:18:57.404 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:18:57.405 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:18:57.407 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:18:57.409 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:18:57.409 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:18:57.412 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:18:57.414 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:18:57.416 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:18:57.418 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:18:57.419 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:18:57.420 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:18:57.422 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:18:57.424 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:18:57.426 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:18:57.428 +08:00 [INF] JWT Claim: jti = 61f69849-a8d3-431f-af91-b8a9255d1c03
2025-05-30 10:18:57.429 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:18:57.431 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:18:57.433 +08:00 [INF] JWT Claim: exp = 1748572027
2025-05-30 10:18:57.435 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:18:57.436 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:18:57.438 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:18:57.439 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNjFmNjk4NDktYThkMy00MzFmLWFmOTEtYjhhOTI1NWQxYzAzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzIwMjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ksdrBl7e_OO3Fj8kcTVPqfmIWMVZyBHI64dKY1Wtglo]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-c2bcce02fe47c8b0035736faac54d3be-09825550f12fdf0f-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:18:57.449 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:18:57.451 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:18:57.453 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:18:57.464 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 10:18:57.471 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:18:57.475 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 10:18:57.476 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:18:57.478 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 22.9886ms
2025-05-30 10:18:57.480 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:18:57.482 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 98ms
2025-05-30 10:18:57.486 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 110.7371ms
2025-05-30 10:18:59.837 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperty/15 - null 0
2025-05-30 10:18:59.843 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:18:59.844 +08:00 [INF] 请求路径: /api/Property/GetProperty/15
2025-05-30 10:18:59.846 +08:00 [INF] 请求方法: GET
2025-05-30 10:18:59.848 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:18:59.850 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:18:59.852 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:18:59.854 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:18:59.857 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:18:59.859 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNjFmNjk4NDktYThkMy00MzFmLWFmOTEtYjhhOTI1NWQxYzAzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzIwMjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ksdrBl7e_OO3Fj8kcTVPqfmIWMVZyBHI64dKY1Wtglo
2025-05-30 10:18:59.861 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:18:59.863 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:18:59.865 +08:00 [INF] 请求头: traceparent = 00-3793fa070248f8b64f9a353f97ec595f-b591cdd48ecc350d-00
2025-05-30 10:18:59.867 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:18:59.869 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:18:59.871 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:18:59.873 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:18:59.875 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:18:59.897 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:18:59.899 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:18:59.901 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:18:59.903 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:18:59.904 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:18:59.906 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:18:59.908 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:18:59.909 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:18:59.912 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:18:59.913 +08:00 [INF] JWT Claim: jti = 61f69849-a8d3-431f-af91-b8a9255d1c03
2025-05-30 10:18:59.914 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:18:59.916 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:18:59.917 +08:00 [INF] JWT Claim: exp = 1748572027
2025-05-30 10:18:59.918 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:18:59.922 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:18:59.923 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:18:59.925 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNjFmNjk4NDktYThkMy00MzFmLWFmOTEtYjhhOTI1NWQxYzAzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzIwMjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ksdrBl7e_OO3Fj8kcTVPqfmIWMVZyBHI64dKY1Wtglo]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-3793fa070248f8b64f9a353f97ec595f-b591cdd48ecc350d-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:18:59.933 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:18:59.934 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperty (RealEstateSolution.PropertyService)'
2025-05-30 10:18:59.936 +08:00 [INF] Route matched with {action = "GetProperty", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]] GetProperty(Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:18:59.973 +08:00 [INF] Executed DbCommand (32ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
WHERE [p].[Id] = @__id_0
2025-05-30 10:18:59.981 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
WHERE [p].[Id] = @__p_0
2025-05-30 10:18:59.992 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FileName], [p].[FilePath], [p].[FileSize], [p].[FileType], [p].[IsMain], [p].[PropertyId], [p].[UploadedAt], [p].[UploadedBy]
FROM [PropertyImages] AS [p]
WHERE [p].[PropertyId] = @__id_0
2025-05-30 10:18:59.997 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:19:00.000 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperty (RealEstateSolution.PropertyService) in 64.0091ms
2025-05-30 10:19:00.006 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperty (RealEstateSolution.PropertyService)'
2025-05-30 10:19:00.019 +08:00 [INF] 请求 GET /api/Property/GetProperty/15 完成，状态码: 200，耗时: 176ms
2025-05-30 10:19:00.061 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperty/15 - 200 null application/json; charset=utf-8 223.7735ms
2025-05-30 10:19:04.699 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperty/15 - null 0
2025-05-30 10:19:04.705 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:19:04.710 +08:00 [INF] 请求路径: /api/Property/GetProperty/15
2025-05-30 10:19:04.711 +08:00 [INF] 请求方法: GET
2025-05-30 10:19:04.715 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:19:04.717 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:19:04.722 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:19:04.727 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:19:04.732 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:19:04.735 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNjFmNjk4NDktYThkMy00MzFmLWFmOTEtYjhhOTI1NWQxYzAzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzIwMjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ksdrBl7e_OO3Fj8kcTVPqfmIWMVZyBHI64dKY1Wtglo
2025-05-30 10:19:04.737 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:19:04.743 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:19:04.745 +08:00 [INF] 请求头: traceparent = 00-6410146e904ef2f794e9e52b129cb8c3-331c820fdab68923-00
2025-05-30 10:19:04.749 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:19:04.753 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:19:04.754 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:19:04.756 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:19:04.758 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:19:04.759 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:19:04.761 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:19:04.761 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:19:04.763 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:19:04.763 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:19:04.764 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:19:04.764 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:19:04.765 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:19:04.765 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:19:04.766 +08:00 [INF] JWT Claim: jti = 61f69849-a8d3-431f-af91-b8a9255d1c03
2025-05-30 10:19:04.767 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:19:04.768 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:19:04.769 +08:00 [INF] JWT Claim: exp = 1748572027
2025-05-30 10:19:04.770 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:19:04.771 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:19:04.771 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:19:04.771 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNjFmNjk4NDktYThkMy00MzFmLWFmOTEtYjhhOTI1NWQxYzAzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzIwMjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ksdrBl7e_OO3Fj8kcTVPqfmIWMVZyBHI64dKY1Wtglo]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-6410146e904ef2f794e9e52b129cb8c3-331c820fdab68923-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:19:04.779 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:19:04.779 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperty (RealEstateSolution.PropertyService)'
2025-05-30 10:19:04.802 +08:00 [INF] Route matched with {action = "GetProperty", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]] GetProperty(Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:19:04.834 +08:00 [INF] Executed DbCommand (25ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FileName], [p].[FilePath], [p].[FileSize], [p].[FileType], [p].[IsMain], [p].[PropertyId], [p].[UploadedAt], [p].[UploadedBy]
FROM [PropertyImages] AS [p]
WHERE [p].[PropertyId] = @__id_0
2025-05-30 10:19:04.843 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:19:04.848 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperty (RealEstateSolution.PropertyService) in 45.2811ms
2025-05-30 10:19:04.850 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperty (RealEstateSolution.PropertyService)'
2025-05-30 10:19:04.853 +08:00 [INF] 请求 GET /api/Property/GetProperty/15 完成，状态码: 200，耗时: 148ms
2025-05-30 10:19:04.857 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperty/15 - 200 null application/json; charset=utf-8 157.8923ms
2025-05-30 10:19:07.021 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 10:19:07.032 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:19:07.037 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 10:19:07.039 +08:00 [INF] 请求方法: GET
2025-05-30 10:19:07.042 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:19:07.047 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:19:07.053 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:19:07.059 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:19:07.064 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:19:07.069 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNjFmNjk4NDktYThkMy00MzFmLWFmOTEtYjhhOTI1NWQxYzAzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzIwMjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ksdrBl7e_OO3Fj8kcTVPqfmIWMVZyBHI64dKY1Wtglo
2025-05-30 10:19:07.074 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:19:07.080 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:19:07.085 +08:00 [INF] 请求头: traceparent = 00-69f22b38c8b33060cd8e181a16ece95b-e1114cbfa80f411a-00
2025-05-30 10:19:07.088 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:19:07.095 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:19:07.101 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:19:07.107 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:19:07.113 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:19:07.118 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:19:07.124 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:19:07.128 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:19:07.133 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:19:07.137 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:19:07.140 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:19:07.145 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:19:07.147 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:19:07.148 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:19:07.153 +08:00 [INF] JWT Claim: jti = 61f69849-a8d3-431f-af91-b8a9255d1c03
2025-05-30 10:19:07.155 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:19:07.159 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:19:07.162 +08:00 [INF] JWT Claim: exp = 1748572027
2025-05-30 10:19:07.166 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:19:07.170 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:19:07.174 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:19:07.176 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNjFmNjk4NDktYThkMy00MzFmLWFmOTEtYjhhOTI1NWQxYzAzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzIwMjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ksdrBl7e_OO3Fj8kcTVPqfmIWMVZyBHI64dKY1Wtglo]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-69f22b38c8b33060cd8e181a16ece95b-e1114cbfa80f411a-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:19:07.196 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:19:07.200 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:19:07.203 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:19:07.215 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 10:19:07.223 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:19:07.230 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 10:19:07.235 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:19:07.240 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 32.178ms
2025-05-30 10:19:07.245 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:19:07.248 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 215ms
2025-05-30 10:19:07.252 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 231.7907ms
2025-05-30 10:19:08.866 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperty/5 - null 0
2025-05-30 10:19:08.871 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:19:08.873 +08:00 [INF] 请求路径: /api/Property/GetProperty/5
2025-05-30 10:19:08.875 +08:00 [INF] 请求方法: GET
2025-05-30 10:19:08.877 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:19:08.879 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:19:08.882 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:19:08.884 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:19:08.887 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:19:08.889 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNjFmNjk4NDktYThkMy00MzFmLWFmOTEtYjhhOTI1NWQxYzAzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzIwMjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ksdrBl7e_OO3Fj8kcTVPqfmIWMVZyBHI64dKY1Wtglo
2025-05-30 10:19:08.891 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:19:08.894 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:19:08.895 +08:00 [INF] 请求头: traceparent = 00-0144d60a6a70ac6ec4ea2478ec03462a-abb9be30a83e1e5e-00
2025-05-30 10:19:08.897 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:19:08.899 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:19:08.901 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:19:08.903 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:19:08.904 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:19:08.906 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:19:08.909 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:19:08.911 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:19:08.912 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:19:08.914 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:19:08.916 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:19:08.918 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:19:08.920 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:19:08.921 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:19:08.924 +08:00 [INF] JWT Claim: jti = 61f69849-a8d3-431f-af91-b8a9255d1c03
2025-05-30 10:19:08.926 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:19:08.928 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:19:08.929 +08:00 [INF] JWT Claim: exp = 1748572027
2025-05-30 10:19:08.932 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:19:08.934 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:19:08.936 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:19:08.937 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNjFmNjk4NDktYThkMy00MzFmLWFmOTEtYjhhOTI1NWQxYzAzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzIwMjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ksdrBl7e_OO3Fj8kcTVPqfmIWMVZyBHI64dKY1Wtglo]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-0144d60a6a70ac6ec4ea2478ec03462a-abb9be30a83e1e5e-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:19:08.949 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:19:08.951 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperty (RealEstateSolution.PropertyService)'
2025-05-30 10:19:08.953 +08:00 [INF] Route matched with {action = "GetProperty", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]] GetProperty(Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:19:08.972 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FileName], [p].[FilePath], [p].[FileSize], [p].[FileType], [p].[IsMain], [p].[PropertyId], [p].[UploadedAt], [p].[UploadedBy]
FROM [PropertyImages] AS [p]
WHERE [p].[PropertyId] = @__id_0
2025-05-30 10:19:08.975 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:19:08.979 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperty (RealEstateSolution.PropertyService) in 23.4169ms
2025-05-30 10:19:08.980 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperty (RealEstateSolution.PropertyService)'
2025-05-30 10:19:08.982 +08:00 [INF] 请求 GET /api/Property/GetProperty/5 完成，状态码: 200，耗时: 110ms
2025-05-30 10:19:08.985 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperty/5 - 200 null application/json; charset=utf-8 118.236ms
2025-05-30 10:19:23.227 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 10:19:23.233 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:19:23.234 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 10:19:23.236 +08:00 [INF] 请求方法: GET
2025-05-30 10:19:23.238 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:19:23.240 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:19:23.243 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:19:23.245 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:19:23.247 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:19:23.250 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNjFmNjk4NDktYThkMy00MzFmLWFmOTEtYjhhOTI1NWQxYzAzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzIwMjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ksdrBl7e_OO3Fj8kcTVPqfmIWMVZyBHI64dKY1Wtglo
2025-05-30 10:19:23.253 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:19:23.256 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:19:23.260 +08:00 [INF] 请求头: traceparent = 00-7bebc87a4db5ec707d3c5276a5b54f50-7e4c5a3c5559a57b-00
2025-05-30 10:19:23.261 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:19:23.264 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:19:23.267 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:19:23.270 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:19:23.272 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:19:23.275 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:19:23.277 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:19:23.279 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:19:23.282 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:19:23.284 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:19:23.286 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:19:23.287 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:19:23.291 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:19:23.293 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:19:23.295 +08:00 [INF] JWT Claim: jti = 61f69849-a8d3-431f-af91-b8a9255d1c03
2025-05-30 10:19:23.298 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:19:23.301 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:19:23.303 +08:00 [INF] JWT Claim: exp = 1748572027
2025-05-30 10:19:23.305 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:19:23.308 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:19:23.311 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:19:23.313 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNjFmNjk4NDktYThkMy00MzFmLWFmOTEtYjhhOTI1NWQxYzAzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzIwMjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ksdrBl7e_OO3Fj8kcTVPqfmIWMVZyBHI64dKY1Wtglo]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-7bebc87a4db5ec707d3c5276a5b54f50-7e4c5a3c5559a57b-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:19:23.330 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:19:23.333 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:19:23.335 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:19:23.347 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 10:19:23.359 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:19:23.363 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 10:19:23.365 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:19:23.369 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 29.4902ms
2025-05-30 10:19:23.372 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:19:23.374 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 141ms
2025-05-30 10:19:23.378 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 150.6213ms
2025-05-30 10:19:23.460 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 10:19:23.464 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:19:23.465 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 10:19:23.466 +08:00 [INF] 请求方法: GET
2025-05-30 10:19:23.467 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:19:23.468 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:19:23.469 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:19:23.471 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:19:23.475 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:19:23.480 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNjFmNjk4NDktYThkMy00MzFmLWFmOTEtYjhhOTI1NWQxYzAzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzIwMjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ksdrBl7e_OO3Fj8kcTVPqfmIWMVZyBHI64dKY1Wtglo
2025-05-30 10:19:23.482 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:19:23.484 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:19:23.486 +08:00 [INF] 请求头: traceparent = 00-a482ec3e99005626879369b0736110ec-f97750b9f00a4f03-00
2025-05-30 10:19:23.487 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:19:23.488 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:19:23.489 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:19:23.490 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:19:23.496 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:19:23.498 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:19:23.500 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:19:23.501 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:19:23.502 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:19:23.503 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:19:23.504 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:19:23.505 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:19:23.506 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:19:23.513 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:19:23.519 +08:00 [INF] JWT Claim: jti = 61f69849-a8d3-431f-af91-b8a9255d1c03
2025-05-30 10:19:23.520 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:19:23.524 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:19:23.526 +08:00 [INF] JWT Claim: exp = 1748572027
2025-05-30 10:19:23.527 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:19:23.528 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:19:23.529 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:19:23.534 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNjFmNjk4NDktYThkMy00MzFmLWFmOTEtYjhhOTI1NWQxYzAzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzIwMjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ksdrBl7e_OO3Fj8kcTVPqfmIWMVZyBHI64dKY1Wtglo]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-a482ec3e99005626879369b0736110ec-f97750b9f00a4f03-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:19:23.562 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:19:23.565 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 10:19:23.567 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:19:23.583 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 10:19:23.590 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:19:23.593 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 19.2952ms
2025-05-30 10:19:23.598 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 10:19:23.599 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 135ms
2025-05-30 10:19:23.601 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 141.38ms
2025-05-30 10:19:51.047 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 10:19:51.053 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:19:51.055 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 10:19:51.057 +08:00 [INF] 请求方法: GET
2025-05-30 10:19:51.059 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:19:51.061 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:19:51.063 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:19:51.065 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:19:51.067 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:19:51.069 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNjFmNjk4NDktYThkMy00MzFmLWFmOTEtYjhhOTI1NWQxYzAzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzIwMjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ksdrBl7e_OO3Fj8kcTVPqfmIWMVZyBHI64dKY1Wtglo
2025-05-30 10:19:51.071 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:19:51.073 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:19:51.076 +08:00 [INF] 请求头: traceparent = 00-7364b4d91a2c1638a72390a3649422d5-9e3360809a0e50f4-00
2025-05-30 10:19:51.078 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:19:51.079 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:19:51.082 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:19:51.084 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:19:51.085 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:19:51.086 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:19:51.088 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:19:51.091 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:19:51.093 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:19:51.094 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:19:51.095 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:19:51.097 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:19:51.099 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:19:51.101 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:19:51.104 +08:00 [INF] JWT Claim: jti = 61f69849-a8d3-431f-af91-b8a9255d1c03
2025-05-30 10:19:51.107 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:19:51.109 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:19:51.111 +08:00 [INF] JWT Claim: exp = 1748572027
2025-05-30 10:19:51.113 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:19:51.116 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:19:51.118 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:19:51.119 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNjFmNjk4NDktYThkMy00MzFmLWFmOTEtYjhhOTI1NWQxYzAzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzIwMjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ksdrBl7e_OO3Fj8kcTVPqfmIWMVZyBHI64dKY1Wtglo]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-7364b4d91a2c1638a72390a3649422d5-9e3360809a0e50f4-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:19:51.138 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:19:51.140 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:19:51.142 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:19:51.155 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 10:19:51.164 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:19:51.182 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 10:19:51.185 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:19:51.188 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 40.1007ms
2025-05-30 10:19:51.191 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:19:51.194 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 141ms
2025-05-30 10:19:51.200 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 152.7567ms
2025-05-30 10:20:24.495 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 10:20:24.503 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:20:24.506 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 10:20:24.509 +08:00 [INF] 请求方法: GET
2025-05-30 10:20:24.511 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:20:24.515 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:20:24.518 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:20:24.521 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:20:24.525 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:20:24.528 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNjFmNjk4NDktYThkMy00MzFmLWFmOTEtYjhhOTI1NWQxYzAzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzIwMjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ksdrBl7e_OO3Fj8kcTVPqfmIWMVZyBHI64dKY1Wtglo
2025-05-30 10:20:24.532 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:20:24.534 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:20:24.538 +08:00 [INF] 请求头: traceparent = 00-acbd3d70bd4d360f699388403f4dd870-bc33f638c1214e6d-00
2025-05-30 10:20:24.542 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:20:24.545 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:20:24.547 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:20:24.550 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:20:24.553 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:20:24.555 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:20:24.558 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:20:24.560 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:20:24.563 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:20:24.565 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:20:24.567 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:20:24.569 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:20:24.571 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:20:24.574 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:20:24.576 +08:00 [INF] JWT Claim: jti = 61f69849-a8d3-431f-af91-b8a9255d1c03
2025-05-30 10:20:24.578 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:20:24.580 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:20:24.584 +08:00 [INF] JWT Claim: exp = 1748572027
2025-05-30 10:20:24.586 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:20:24.590 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:20:24.593 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:20:24.595 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNjFmNjk4NDktYThkMy00MzFmLWFmOTEtYjhhOTI1NWQxYzAzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzIwMjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ksdrBl7e_OO3Fj8kcTVPqfmIWMVZyBHI64dKY1Wtglo]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-acbd3d70bd4d360f699388403f4dd870-bc33f638c1214e6d-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:20:24.612 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:20:24.614 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:20:24.617 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:20:24.632 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 10:20:24.647 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:20:24.653 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 10:20:24.656 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:20:24.659 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 37.4694ms
2025-05-30 10:20:24.662 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:20:24.664 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 161ms
2025-05-30 10:20:24.669 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 173.3574ms
2025-05-30 10:21:15.334 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 10:21:15.347 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:21:15.349 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 10:21:15.375 +08:00 [INF] 请求方法: GET
2025-05-30 10:21:15.377 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:21:15.379 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:21:15.382 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:21:15.383 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:21:15.384 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:21:15.386 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNjFmNjk4NDktYThkMy00MzFmLWFmOTEtYjhhOTI1NWQxYzAzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzIwMjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ksdrBl7e_OO3Fj8kcTVPqfmIWMVZyBHI64dKY1Wtglo
2025-05-30 10:21:15.388 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:21:15.390 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:21:15.392 +08:00 [INF] 请求头: traceparent = 00-1f3b54b204e46067fd10da4f8649ffa9-e717f4ae5d780a7a-00
2025-05-30 10:21:15.394 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:21:15.397 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:21:15.398 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:21:15.402 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:21:15.403 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:21:15.405 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:21:15.407 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:21:15.410 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:21:15.411 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:21:15.413 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:21:15.414 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:21:15.414 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:21:15.415 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:21:15.416 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:21:15.416 +08:00 [INF] JWT Claim: jti = 61f69849-a8d3-431f-af91-b8a9255d1c03
2025-05-30 10:21:15.417 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:21:15.419 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:21:15.419 +08:00 [INF] JWT Claim: exp = 1748572027
2025-05-30 10:21:15.420 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:21:15.420 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:21:15.421 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:21:15.422 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNjFmNjk4NDktYThkMy00MzFmLWFmOTEtYjhhOTI1NWQxYzAzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzIwMjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ksdrBl7e_OO3Fj8kcTVPqfmIWMVZyBHI64dKY1Wtglo]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-1f3b54b204e46067fd10da4f8649ffa9-e717f4ae5d780a7a-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:21:15.431 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:21:15.432 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:21:15.433 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:21:15.441 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 10:21:15.463 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:21:15.469 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 10:21:15.470 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:21:15.472 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 37.6668ms
2025-05-30 10:21:15.478 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:21:15.479 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 132ms
2025-05-30 10:21:15.483 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 149.075ms
2025-05-30 10:24:25.907 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperty/5 - null 0
2025-05-30 10:24:25.923 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:24:25.925 +08:00 [INF] 请求路径: /api/Property/GetProperty/5
2025-05-30 10:24:25.931 +08:00 [INF] 请求方法: GET
2025-05-30 10:24:25.935 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:24:25.938 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:24:25.942 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:24:25.945 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:24:25.947 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:24:25.951 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNjFmNjk4NDktYThkMy00MzFmLWFmOTEtYjhhOTI1NWQxYzAzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzIwMjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ksdrBl7e_OO3Fj8kcTVPqfmIWMVZyBHI64dKY1Wtglo
2025-05-30 10:24:25.954 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:24:25.957 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:24:25.961 +08:00 [INF] 请求头: traceparent = 00-77dfa2d897b4a5e969850baffea93ecf-395d33659432a074-00
2025-05-30 10:24:25.964 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:24:25.967 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:24:25.970 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:24:25.973 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:24:25.975 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:24:25.978 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:24:25.981 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:24:25.984 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:24:25.987 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:24:25.988 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:24:25.990 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:24:25.993 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:24:25.996 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:24:26.001 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:24:26.003 +08:00 [INF] JWT Claim: jti = 61f69849-a8d3-431f-af91-b8a9255d1c03
2025-05-30 10:24:26.006 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:24:26.009 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:24:26.011 +08:00 [INF] JWT Claim: exp = 1748572027
2025-05-30 10:24:26.015 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:24:26.017 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:24:26.020 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:24:26.021 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNjFmNjk4NDktYThkMy00MzFmLWFmOTEtYjhhOTI1NWQxYzAzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzIwMjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ksdrBl7e_OO3Fj8kcTVPqfmIWMVZyBHI64dKY1Wtglo]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-77dfa2d897b4a5e969850baffea93ecf-395d33659432a074-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:24:26.040 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:24:26.042 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperty (RealEstateSolution.PropertyService)'
2025-05-30 10:24:26.045 +08:00 [INF] Route matched with {action = "GetProperty", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]] GetProperty(Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:24:26.090 +08:00 [INF] Executed DbCommand (33ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
WHERE [p].[Id] = @__id_0
2025-05-30 10:24:26.104 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
WHERE [p].[Id] = @__p_0
2025-05-30 10:24:26.121 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FileName], [p].[FilePath], [p].[FileSize], [p].[FileType], [p].[IsMain], [p].[PropertyId], [p].[UploadedAt], [p].[UploadedBy]
FROM [PropertyImages] AS [p]
WHERE [p].[PropertyId] = @__id_0
2025-05-30 10:24:26.126 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:24:26.129 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperty (RealEstateSolution.PropertyService) in 80.4096ms
2025-05-30 10:24:26.130 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperty (RealEstateSolution.PropertyService)'
2025-05-30 10:24:26.132 +08:00 [INF] 请求 GET /api/Property/GetProperty/5 完成，状态码: 200，耗时: 208ms
2025-05-30 10:24:26.136 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperty/5 - 200 null application/json; charset=utf-8 229.1499ms
2025-05-30 10:24:31.189 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperty/5 - null 0
2025-05-30 10:24:31.195 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:24:31.197 +08:00 [INF] 请求路径: /api/Property/GetProperty/5
2025-05-30 10:24:31.199 +08:00 [INF] 请求方法: GET
2025-05-30 10:24:31.202 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:24:31.205 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:24:31.211 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:24:31.214 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:24:31.218 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:24:31.221 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNjFmNjk4NDktYThkMy00MzFmLWFmOTEtYjhhOTI1NWQxYzAzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzIwMjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ksdrBl7e_OO3Fj8kcTVPqfmIWMVZyBHI64dKY1Wtglo
2025-05-30 10:24:31.224 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:24:31.225 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:24:31.229 +08:00 [INF] 请求头: traceparent = 00-00b98c28f6438204822ac7606cd6d223-5a7e7614c2feeebf-00
2025-05-30 10:24:31.231 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:24:31.233 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:24:31.234 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:24:31.239 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:24:31.241 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:24:31.243 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:24:31.245 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:24:31.248 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:24:31.250 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:24:31.251 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:24:31.254 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:24:31.256 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:24:31.258 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:24:31.260 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:24:31.262 +08:00 [INF] JWT Claim: jti = 61f69849-a8d3-431f-af91-b8a9255d1c03
2025-05-30 10:24:31.264 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:24:31.266 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:24:31.268 +08:00 [INF] JWT Claim: exp = 1748572027
2025-05-30 10:24:31.270 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:24:31.273 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:24:31.276 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:24:31.277 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNjFmNjk4NDktYThkMy00MzFmLWFmOTEtYjhhOTI1NWQxYzAzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzIwMjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ksdrBl7e_OO3Fj8kcTVPqfmIWMVZyBHI64dKY1Wtglo]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-00b98c28f6438204822ac7606cd6d223-5a7e7614c2feeebf-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:24:31.290 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:24:31.294 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperty (RealEstateSolution.PropertyService)'
2025-05-30 10:24:31.296 +08:00 [INF] Route matched with {action = "GetProperty", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]] GetProperty(Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:24:31.308 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FileName], [p].[FilePath], [p].[FileSize], [p].[FileType], [p].[IsMain], [p].[PropertyId], [p].[UploadedAt], [p].[UploadedBy]
FROM [PropertyImages] AS [p]
WHERE [p].[PropertyId] = @__id_0
2025-05-30 10:24:31.313 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:24:31.319 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperty (RealEstateSolution.PropertyService) in 18.3562ms
2025-05-30 10:24:31.323 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperty (RealEstateSolution.PropertyService)'
2025-05-30 10:24:31.326 +08:00 [INF] 请求 GET /api/Property/GetProperty/5 完成，状态码: 200，耗时: 130ms
2025-05-30 10:24:31.331 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperty/5 - 200 null application/json; charset=utf-8 141.772ms
2025-05-30 10:24:39.040 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperty/5 - null 0
2025-05-30 10:24:39.048 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:24:39.049 +08:00 [INF] 请求路径: /api/Property/GetProperty/5
2025-05-30 10:24:39.051 +08:00 [INF] 请求方法: GET
2025-05-30 10:24:39.054 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:24:39.057 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:24:39.060 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:24:39.064 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:24:39.067 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:24:39.072 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNjFmNjk4NDktYThkMy00MzFmLWFmOTEtYjhhOTI1NWQxYzAzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzIwMjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ksdrBl7e_OO3Fj8kcTVPqfmIWMVZyBHI64dKY1Wtglo
2025-05-30 10:24:39.075 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:24:39.079 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:24:39.082 +08:00 [INF] 请求头: traceparent = 00-0479729bd45907df869650f38601db61-a5d7e6a39e83fe5c-00
2025-05-30 10:24:39.085 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:24:39.089 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:24:39.092 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:24:39.095 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:24:39.099 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:24:39.104 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:24:39.108 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:24:39.111 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:24:39.115 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:24:39.121 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:24:39.125 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:24:39.127 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:24:39.129 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:24:39.131 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:24:39.132 +08:00 [INF] JWT Claim: jti = 61f69849-a8d3-431f-af91-b8a9255d1c03
2025-05-30 10:24:39.139 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:24:39.142 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:24:39.145 +08:00 [INF] JWT Claim: exp = 1748572027
2025-05-30 10:24:39.147 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:24:39.151 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:24:39.154 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:24:39.155 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNjFmNjk4NDktYThkMy00MzFmLWFmOTEtYjhhOTI1NWQxYzAzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzIwMjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ksdrBl7e_OO3Fj8kcTVPqfmIWMVZyBHI64dKY1Wtglo]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-0479729bd45907df869650f38601db61-a5d7e6a39e83fe5c-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:24:39.172 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:24:39.174 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperty (RealEstateSolution.PropertyService)'
2025-05-30 10:24:39.177 +08:00 [INF] Route matched with {action = "GetProperty", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]] GetProperty(Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:24:39.191 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FileName], [p].[FilePath], [p].[FileSize], [p].[FileType], [p].[IsMain], [p].[PropertyId], [p].[UploadedAt], [p].[UploadedBy]
FROM [PropertyImages] AS [p]
WHERE [p].[PropertyId] = @__id_0
2025-05-30 10:24:39.198 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:24:39.204 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperty (RealEstateSolution.PropertyService) in 22.4532ms
2025-05-30 10:24:39.215 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperty (RealEstateSolution.PropertyService)'
2025-05-30 10:24:39.219 +08:00 [INF] 请求 GET /api/Property/GetProperty/5 完成，状态码: 200，耗时: 170ms
2025-05-30 10:24:39.226 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperty/5 - 200 null application/json; charset=utf-8 185.468ms
2025-05-30 10:25:09.352 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperty/5 - null 0
2025-05-30 10:25:09.357 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:25:09.358 +08:00 [INF] 请求路径: /api/Property/GetProperty/5
2025-05-30 10:25:09.360 +08:00 [INF] 请求方法: GET
2025-05-30 10:25:09.362 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:25:09.364 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:25:09.368 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:25:09.371 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:25:09.374 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:25:09.377 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNjFmNjk4NDktYThkMy00MzFmLWFmOTEtYjhhOTI1NWQxYzAzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzIwMjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ksdrBl7e_OO3Fj8kcTVPqfmIWMVZyBHI64dKY1Wtglo
2025-05-30 10:25:09.380 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:25:09.383 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:25:09.386 +08:00 [INF] 请求头: traceparent = 00-2ec9c81c2efeda903c2ca22dc2216761-ebd5c57c8683710b-00
2025-05-30 10:25:09.389 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:25:09.392 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:25:09.394 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:25:09.397 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:25:09.399 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:25:09.402 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:25:09.404 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:25:09.406 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:25:09.408 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:25:09.410 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:25:09.412 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:25:09.415 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:25:09.418 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:25:09.420 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:25:09.423 +08:00 [INF] JWT Claim: jti = 61f69849-a8d3-431f-af91-b8a9255d1c03
2025-05-30 10:25:09.425 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:25:09.428 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:25:09.431 +08:00 [INF] JWT Claim: exp = 1748572027
2025-05-30 10:25:09.434 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:25:09.436 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:25:09.439 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:25:09.441 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNjFmNjk4NDktYThkMy00MzFmLWFmOTEtYjhhOTI1NWQxYzAzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzIwMjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ksdrBl7e_OO3Fj8kcTVPqfmIWMVZyBHI64dKY1Wtglo]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-2ec9c81c2efeda903c2ca22dc2216761-ebd5c57c8683710b-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:25:09.457 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:25:09.459 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperty (RealEstateSolution.PropertyService)'
2025-05-30 10:25:09.462 +08:00 [INF] Route matched with {action = "GetProperty", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]] GetProperty(Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:25:09.473 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FileName], [p].[FilePath], [p].[FileSize], [p].[FileType], [p].[IsMain], [p].[PropertyId], [p].[UploadedAt], [p].[UploadedBy]
FROM [PropertyImages] AS [p]
WHERE [p].[PropertyId] = @__id_0
2025-05-30 10:25:09.488 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:25:09.491 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperty (RealEstateSolution.PropertyService) in 26.0905ms
2025-05-30 10:25:09.494 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperty (RealEstateSolution.PropertyService)'
2025-05-30 10:25:09.497 +08:00 [INF] 请求 GET /api/Property/GetProperty/5 完成，状态码: 200，耗时: 140ms
2025-05-30 10:25:09.501 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperty/5 - 200 null application/json; charset=utf-8 149.1093ms
2025-05-30 10:37:48.852 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 10:37:48.864 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 10:37:48.881 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:37:48.885 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:37:48.886 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 10:37:48.887 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 10:37:48.888 +08:00 [INF] 请求方法: GET
2025-05-30 10:37:48.890 +08:00 [INF] 请求方法: GET
2025-05-30 10:37:48.892 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:37:48.895 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:37:48.893 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:37:48.896 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:37:48.898 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:37:48.902 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:37:48.900 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:37:48.902 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:37:48.908 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:37:48.909 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:37:48.926 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTA3NWM4NTktNjE3ZS00ZWEzLTliNGItOGVmNTgxNTI5NGFlIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzMyNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.TbVkAUYApR_IH2mIeW5NFXXKML3yCzKTKAPOzPwRZn8
2025-05-30 10:37:48.925 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTA3NWM4NTktNjE3ZS00ZWEzLTliNGItOGVmNTgxNTI5NGFlIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzMyNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.TbVkAUYApR_IH2mIeW5NFXXKML3yCzKTKAPOzPwRZn8
2025-05-30 10:37:48.928 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:37:48.933 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:37:48.936 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:37:48.941 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:37:48.947 +08:00 [INF] 请求头: traceparent = 00-32b07cce32fda1c000089831467ff183-6530004dc3eff5da-00
2025-05-30 10:37:48.942 +08:00 [INF] 请求头: traceparent = 00-a708c79e413be64ad1a110fcdedd0c0b-6ec63d2939bfcf7c-00
2025-05-30 10:37:48.951 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:37:48.952 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:37:48.954 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:37:48.956 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:37:48.958 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:37:48.959 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:37:48.961 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:37:48.969 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:37:48.972 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:37:48.974 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:37:48.976 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:37:48.977 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:37:48.979 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:37:48.981 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:37:48.983 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:37:48.985 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:37:48.987 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:37:48.989 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:37:48.991 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:37:48.993 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:37:48.995 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:37:48.996 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:37:48.998 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:37:49.001 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:37:49.000 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:37:49.003 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:37:49.005 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:37:49.007 +08:00 [INF] JWT Claim: jti = 5075c859-617e-4ea3-9b4b-8ef5815294ae
2025-05-30 10:37:49.009 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:37:49.011 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:37:49.013 +08:00 [INF] JWT Claim: jti = 5075c859-617e-4ea3-9b4b-8ef5815294ae
2025-05-30 10:37:49.015 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:37:49.017 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:37:49.019 +08:00 [INF] JWT Claim: exp = 1748573267
2025-05-30 10:37:49.021 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:37:49.026 +08:00 [INF] JWT Claim: exp = 1748573267
2025-05-30 10:37:49.023 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:37:49.027 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:37:49.030 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:37:49.032 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:37:49.034 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:37:49.037 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:37:49.039 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTA3NWM4NTktNjE3ZS00ZWEzLTliNGItOGVmNTgxNTI5NGFlIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzMyNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.TbVkAUYApR_IH2mIeW5NFXXKML3yCzKTKAPOzPwRZn8]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-32b07cce32fda1c000089831467ff183-6530004dc3eff5da-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:37:49.041 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTA3NWM4NTktNjE3ZS00ZWEzLTliNGItOGVmNTgxNTI5NGFlIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzMyNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.TbVkAUYApR_IH2mIeW5NFXXKML3yCzKTKAPOzPwRZn8]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-a708c79e413be64ad1a110fcdedd0c0b-6ec63d2939bfcf7c-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:37:49.057 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:37:49.070 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:37:49.072 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 10:37:49.073 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:37:49.076 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:37:49.078 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:37:49.117 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 10:37:49.123 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 10:37:49.123 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:37:49.130 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 48.5404ms
2025-05-30 10:37:49.131 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:37:49.133 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 10:37:49.137 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 10:37:49.139 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 256ms
2025-05-30 10:37:49.140 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:37:49.146 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 293.6332ms
2025-05-30 10:37:49.156 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 70.2221ms
2025-05-30 10:37:49.179 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:37:49.181 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 296ms
2025-05-30 10:37:49.189 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 324.9189ms
2025-05-30 10:37:51.468 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 10:37:51.473 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:37:51.475 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 10:37:51.476 +08:00 [INF] 请求方法: GET
2025-05-30 10:37:51.478 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:37:51.480 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:37:51.482 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:37:51.484 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:37:51.486 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:37:51.488 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTA3NWM4NTktNjE3ZS00ZWEzLTliNGItOGVmNTgxNTI5NGFlIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzMyNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.TbVkAUYApR_IH2mIeW5NFXXKML3yCzKTKAPOzPwRZn8
2025-05-30 10:37:51.490 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:37:51.494 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:37:51.496 +08:00 [INF] 请求头: traceparent = 00-2667a7ba2cbf97d5c43310ea5b917969-4c21e703196853a1-00
2025-05-30 10:37:51.498 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:37:51.500 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:37:51.502 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:37:51.504 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:37:51.506 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:37:51.509 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:37:51.511 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:37:51.513 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:37:51.516 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:37:51.517 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:37:51.519 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:37:51.520 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:37:51.522 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:37:51.524 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:37:51.526 +08:00 [INF] JWT Claim: jti = 5075c859-617e-4ea3-9b4b-8ef5815294ae
2025-05-30 10:37:51.528 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:37:51.530 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:37:51.532 +08:00 [INF] JWT Claim: exp = 1748573267
2025-05-30 10:37:51.533 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:37:51.535 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:37:51.538 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:37:51.540 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTA3NWM4NTktNjE3ZS00ZWEzLTliNGItOGVmNTgxNTI5NGFlIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzMyNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.TbVkAUYApR_IH2mIeW5NFXXKML3yCzKTKAPOzPwRZn8]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-2667a7ba2cbf97d5c43310ea5b917969-4c21e703196853a1-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:37:51.552 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:37:51.554 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:37:51.556 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:37:51.564 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 10:37:51.572 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:37:51.576 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 10:37:51.577 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:37:51.581 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 21.8347ms
2025-05-30 10:37:51.583 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:37:51.584 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 111ms
2025-05-30 10:37:51.587 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 118.6562ms
2025-05-30 10:37:55.513 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 10:37:55.517 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:37:55.518 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 10:37:55.519 +08:00 [INF] 请求方法: GET
2025-05-30 10:37:55.520 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:37:55.522 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:37:55.523 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:37:55.524 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:37:55.525 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:37:55.525 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTA3NWM4NTktNjE3ZS00ZWEzLTliNGItOGVmNTgxNTI5NGFlIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzMyNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.TbVkAUYApR_IH2mIeW5NFXXKML3yCzKTKAPOzPwRZn8
2025-05-30 10:37:55.528 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:37:55.529 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:37:55.530 +08:00 [INF] 请求头: traceparent = 00-abeb594ead844a3691c8aa7b25c19c6b-e972a32b0263c439-00
2025-05-30 10:37:55.532 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:37:55.534 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:37:55.535 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:37:55.537 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:37:55.539 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:37:55.540 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:37:55.541 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:37:55.544 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:37:55.544 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:37:55.545 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:37:55.546 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:37:55.547 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:37:55.548 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:37:55.549 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:37:55.550 +08:00 [INF] JWT Claim: jti = 5075c859-617e-4ea3-9b4b-8ef5815294ae
2025-05-30 10:37:55.552 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:37:55.553 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:37:55.554 +08:00 [INF] JWT Claim: exp = 1748573267
2025-05-30 10:37:55.555 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:37:55.557 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:37:55.558 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:37:55.560 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTA3NWM4NTktNjE3ZS00ZWEzLTliNGItOGVmNTgxNTI5NGFlIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzMyNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.TbVkAUYApR_IH2mIeW5NFXXKML3yCzKTKAPOzPwRZn8]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-abeb594ead844a3691c8aa7b25c19c6b-e972a32b0263c439-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:37:55.570 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:37:55.574 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:37:55.575 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:37:55.582 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 10:37:55.591 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:37:55.595 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 10:37:55.596 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:37:55.598 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 20.9111ms
2025-05-30 10:37:55.602 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:37:55.603 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 86ms
2025-05-30 10:37:55.606 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 93.1402ms
2025-05-30 10:37:59.153 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 10:37:59.160 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:37:59.160 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 10:37:59.163 +08:00 [INF] 请求方法: GET
2025-05-30 10:37:59.164 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:37:59.167 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:37:59.168 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:37:59.170 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:37:59.173 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:37:59.175 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTA3NWM4NTktNjE3ZS00ZWEzLTliNGItOGVmNTgxNTI5NGFlIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzMyNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.TbVkAUYApR_IH2mIeW5NFXXKML3yCzKTKAPOzPwRZn8
2025-05-30 10:37:59.177 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:37:59.179 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:37:59.181 +08:00 [INF] 请求头: traceparent = 00-f84a886d2e358b3ebd9c863c9bfc8a40-e51148dba3087293-00
2025-05-30 10:37:59.183 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:37:59.185 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:37:59.187 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:37:59.189 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:37:59.191 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:37:59.193 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:37:59.196 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:37:59.198 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:37:59.200 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:37:59.202 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:37:59.204 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:37:59.205 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:37:59.207 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:37:59.210 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:37:59.212 +08:00 [INF] JWT Claim: jti = 5075c859-617e-4ea3-9b4b-8ef5815294ae
2025-05-30 10:37:59.213 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:37:59.215 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:37:59.217 +08:00 [INF] JWT Claim: exp = 1748573267
2025-05-30 10:37:59.220 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:37:59.222 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:37:59.224 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:37:59.225 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTA3NWM4NTktNjE3ZS00ZWEzLTliNGItOGVmNTgxNTI5NGFlIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzMyNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.TbVkAUYApR_IH2mIeW5NFXXKML3yCzKTKAPOzPwRZn8]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-f84a886d2e358b3ebd9c863c9bfc8a40-e51148dba3087293-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:37:59.243 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:37:59.245 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:37:59.247 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:37:59.255 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 10:37:59.262 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:37:59.266 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 10:37:59.267 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:37:59.269 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 19.5385ms
2025-05-30 10:37:59.272 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:37:59.273 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 113ms
2025-05-30 10:37:59.277 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 123.8172ms
2025-05-30 10:41:27.667 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 10:41:27.675 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:41:27.675 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 10:41:27.676 +08:00 [INF] 请求方法: GET
2025-05-30 10:41:27.678 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:41:27.680 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:41:27.684 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:41:27.688 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:41:27.692 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:41:27.695 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTA3NWM4NTktNjE3ZS00ZWEzLTliNGItOGVmNTgxNTI5NGFlIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzMyNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.TbVkAUYApR_IH2mIeW5NFXXKML3yCzKTKAPOzPwRZn8
2025-05-30 10:41:27.700 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:41:27.703 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:41:27.705 +08:00 [INF] 请求头: traceparent = 00-52010356c782785a2975f737826e003b-a67171a8129b75db-00
2025-05-30 10:41:27.707 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:41:27.711 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:41:27.712 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:41:27.714 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:41:27.717 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:41:27.718 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:41:27.720 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:41:27.721 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:41:27.722 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:41:27.723 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:41:27.726 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:41:27.727 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:41:27.728 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:41:27.746 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:41:27.749 +08:00 [INF] JWT Claim: jti = 5075c859-617e-4ea3-9b4b-8ef5815294ae
2025-05-30 10:41:27.751 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:41:27.753 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:41:27.755 +08:00 [INF] JWT Claim: exp = 1748573267
2025-05-30 10:41:27.756 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:41:27.757 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:41:27.760 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:41:27.761 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTA3NWM4NTktNjE3ZS00ZWEzLTliNGItOGVmNTgxNTI5NGFlIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzMyNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.TbVkAUYApR_IH2mIeW5NFXXKML3yCzKTKAPOzPwRZn8]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-52010356c782785a2975f737826e003b-a67171a8129b75db-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:41:27.793 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:41:27.794 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 10:41:27.796 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:41:27.837 +08:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 10:41:27.841 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:41:27.842 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 44.1564ms
2025-05-30 10:41:27.859 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 10:41:27.870 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 194ms
2025-05-30 10:41:27.897 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 229.9143ms
2025-05-30 10:41:27.915 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 10:41:27.923 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:41:27.944 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 10:41:27.952 +08:00 [INF] 请求方法: GET
2025-05-30 10:41:27.954 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:41:27.963 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:41:27.977 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:41:27.981 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:41:27.989 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:41:28.001 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTA3NWM4NTktNjE3ZS00ZWEzLTliNGItOGVmNTgxNTI5NGFlIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzMyNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.TbVkAUYApR_IH2mIeW5NFXXKML3yCzKTKAPOzPwRZn8
2025-05-30 10:41:28.014 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:41:28.028 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:41:28.071 +08:00 [INF] 请求头: traceparent = 00-c2815f7ef003b2c0b58e1a12f23ee22d-22335bbf6da17369-00
2025-05-30 10:41:28.095 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:41:28.105 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:41:28.107 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:41:28.111 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:41:28.113 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:41:28.115 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:41:28.119 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:41:28.122 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:41:28.128 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:41:28.131 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:41:28.134 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:41:28.135 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:41:28.140 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:41:28.144 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:41:28.147 +08:00 [INF] JWT Claim: jti = 5075c859-617e-4ea3-9b4b-8ef5815294ae
2025-05-30 10:41:28.152 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:41:28.153 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:41:28.155 +08:00 [INF] JWT Claim: exp = 1748573267
2025-05-30 10:41:28.158 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:41:28.161 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:41:28.163 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:41:28.166 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTA3NWM4NTktNjE3ZS00ZWEzLTliNGItOGVmNTgxNTI5NGFlIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzMyNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.TbVkAUYApR_IH2mIeW5NFXXKML3yCzKTKAPOzPwRZn8]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-c2815f7ef003b2c0b58e1a12f23ee22d-22335bbf6da17369-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:41:28.209 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:41:28.218 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:41:28.221 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:41:28.235 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 10:41:28.242 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:41:28.245 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 10:41:28.247 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:41:28.253 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 29.412ms
2025-05-30 10:41:28.260 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:41:28.261 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 338ms
2025-05-30 10:41:28.266 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 351.314ms
2025-05-30 10:41:30.220 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 10:41:30.224 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:41:30.224 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 10:41:30.227 +08:00 [INF] 请求方法: GET
2025-05-30 10:41:30.229 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:41:30.231 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:41:30.233 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:41:30.235 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:41:30.237 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:41:30.238 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTA3NWM4NTktNjE3ZS00ZWEzLTliNGItOGVmNTgxNTI5NGFlIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzMyNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.TbVkAUYApR_IH2mIeW5NFXXKML3yCzKTKAPOzPwRZn8
2025-05-30 10:41:30.240 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:41:30.243 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:41:30.244 +08:00 [INF] 请求头: traceparent = 00-1e7aa746154a2b3cd28f283949094140-79e9356d4370895d-00
2025-05-30 10:41:30.245 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:41:30.247 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:41:30.248 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:41:30.250 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:41:30.251 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:41:30.253 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:41:30.262 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:41:30.269 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:41:30.273 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:41:30.286 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:41:30.289 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:41:30.295 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:41:30.301 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:41:30.304 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:41:30.306 +08:00 [INF] JWT Claim: jti = 5075c859-617e-4ea3-9b4b-8ef5815294ae
2025-05-30 10:41:30.311 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:41:30.314 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:41:30.318 +08:00 [INF] JWT Claim: exp = 1748573267
2025-05-30 10:41:30.335 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:41:30.341 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:41:30.343 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:41:30.345 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTA3NWM4NTktNjE3ZS00ZWEzLTliNGItOGVmNTgxNTI5NGFlIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzMyNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.TbVkAUYApR_IH2mIeW5NFXXKML3yCzKTKAPOzPwRZn8]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-1e7aa746154a2b3cd28f283949094140-79e9356d4370895d-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:41:30.401 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:41:30.410 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:41:30.418 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:41:30.461 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 10:41:30.472 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:41:30.479 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 10:41:30.484 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:41:30.489 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 63.5761ms
2025-05-30 10:41:30.494 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:41:30.498 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 274ms
2025-05-30 10:41:30.503 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 282.974ms
2025-05-30 10:41:30.611 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 10:41:30.623 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:41:30.627 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 10:41:30.628 +08:00 [INF] 请求方法: GET
2025-05-30 10:41:30.629 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:41:30.631 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:41:30.632 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:41:30.633 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:41:30.634 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:41:30.635 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTA3NWM4NTktNjE3ZS00ZWEzLTliNGItOGVmNTgxNTI5NGFlIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzMyNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.TbVkAUYApR_IH2mIeW5NFXXKML3yCzKTKAPOzPwRZn8
2025-05-30 10:41:30.637 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:41:30.638 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:41:30.640 +08:00 [INF] 请求头: traceparent = 00-2cde82ed5fcd1798c1b3e4ee9e61a668-4fe4c1b1189e52c8-00
2025-05-30 10:41:30.641 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:41:30.641 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:41:30.642 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:41:30.643 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:41:30.644 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:41:30.646 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:41:30.647 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:41:30.649 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:41:30.650 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:41:30.651 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:41:30.652 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:41:30.653 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:41:30.655 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:41:30.657 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:41:30.663 +08:00 [INF] JWT Claim: jti = 5075c859-617e-4ea3-9b4b-8ef5815294ae
2025-05-30 10:41:30.668 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:41:30.670 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:41:30.673 +08:00 [INF] JWT Claim: exp = 1748573267
2025-05-30 10:41:30.677 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:41:30.679 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:41:30.684 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:41:30.686 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTA3NWM4NTktNjE3ZS00ZWEzLTliNGItOGVmNTgxNTI5NGFlIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzMyNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.TbVkAUYApR_IH2mIeW5NFXXKML3yCzKTKAPOzPwRZn8]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-2cde82ed5fcd1798c1b3e4ee9e61a668-4fe4c1b1189e52c8-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:41:30.702 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:41:30.706 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 10:41:30.712 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:41:30.720 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 10:41:30.726 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:41:30.728 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 11.4636ms
2025-05-30 10:41:30.764 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 10:41:30.786 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 163ms
2025-05-30 10:41:30.795 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 183.8077ms
2025-05-30 10:41:51.706 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 10:41:51.726 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:41:51.728 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 10:41:51.729 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 10:41:51.730 +08:00 [INF] 请求方法: GET
2025-05-30 10:41:51.748 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:41:51.748 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:41:51.749 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 10:41:51.751 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:41:51.752 +08:00 [INF] 请求方法: GET
2025-05-30 10:41:51.754 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:41:51.757 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:41:51.759 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:41:51.763 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:41:51.765 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:41:51.768 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:41:51.770 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTA3NWM4NTktNjE3ZS00ZWEzLTliNGItOGVmNTgxNTI5NGFlIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzMyNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.TbVkAUYApR_IH2mIeW5NFXXKML3yCzKTKAPOzPwRZn8
2025-05-30 10:41:51.773 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:41:51.774 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:41:51.777 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:41:51.779 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:41:51.783 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTA3NWM4NTktNjE3ZS00ZWEzLTliNGItOGVmNTgxNTI5NGFlIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzMyNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.TbVkAUYApR_IH2mIeW5NFXXKML3yCzKTKAPOzPwRZn8
2025-05-30 10:41:51.785 +08:00 [INF] 请求头: traceparent = 00-d5e3519afb20a190ed60aafbabec20a8-2247fc58ef67dc8e-00
2025-05-30 10:41:51.788 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:41:51.791 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:41:51.794 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:41:51.796 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:41:51.799 +08:00 [INF] 请求头: traceparent = 00-80da25bb441b27c4641fcb09b899eb18-0f52b94d347c98b9-00
2025-05-30 10:41:51.802 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:41:51.805 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:41:51.807 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:41:51.809 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:41:51.811 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:41:51.813 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:41:51.816 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:41:51.818 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:41:51.820 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:41:51.822 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:41:51.824 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:41:51.827 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:41:51.829 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:41:51.832 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:41:51.834 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:41:51.836 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:41:51.838 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:41:51.840 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:41:51.841 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:41:51.843 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:41:51.846 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:41:51.849 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:41:51.850 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:41:51.852 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:41:51.856 +08:00 [INF] JWT Claim: jti = 5075c859-617e-4ea3-9b4b-8ef5815294ae
2025-05-30 10:41:51.862 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:41:51.865 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:41:51.859 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:41:51.867 +08:00 [INF] JWT Claim: exp = 1748573267
2025-05-30 10:41:51.871 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:41:51.873 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:41:51.875 +08:00 [INF] JWT Claim: jti = 5075c859-617e-4ea3-9b4b-8ef5815294ae
2025-05-30 10:41:51.878 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:41:51.881 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:41:51.883 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:41:51.886 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:41:51.888 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTA3NWM4NTktNjE3ZS00ZWEzLTliNGItOGVmNTgxNTI5NGFlIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzMyNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.TbVkAUYApR_IH2mIeW5NFXXKML3yCzKTKAPOzPwRZn8]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-d5e3519afb20a190ed60aafbabec20a8-2247fc58ef67dc8e-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:41:51.891 +08:00 [INF] JWT Claim: exp = 1748573267
2025-05-30 10:41:51.910 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:41:51.910 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:41:51.913 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:41:51.915 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:41:51.916 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:41:51.918 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:41:51.925 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTA3NWM4NTktNjE3ZS00ZWEzLTliNGItOGVmNTgxNTI5NGFlIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzMyNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.TbVkAUYApR_IH2mIeW5NFXXKML3yCzKTKAPOzPwRZn8]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-80da25bb441b27c4641fcb09b899eb18-0f52b94d347c98b9-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:41:51.931 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 10:41:51.944 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:41:51.952 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:41:51.957 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 10:41:51.960 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 10:41:51.962 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:41:51.964 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:41:51.974 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 52.0252ms
2025-05-30 10:41:51.980 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 10:41:51.982 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:41:51.995 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:41:51.997 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 270ms
2025-05-30 10:41:52.000 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 29.0266ms
2025-05-30 10:41:52.004 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 298.4468ms
2025-05-30 10:41:52.007 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 10:41:52.017 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 269ms
2025-05-30 10:41:52.022 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 293.0274ms
2025-05-30 10:43:20.494 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 10:43:20.503 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:43:20.505 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 10:43:20.508 +08:00 [INF] 请求方法: GET
2025-05-30 10:43:20.529 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:43:20.532 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:43:20.535 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 10:43:20.583 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:43:20.587 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:43:20.588 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:43:20.591 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 10:43:20.594 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:43:20.595 +08:00 [INF] 请求方法: GET
2025-05-30 10:43:20.597 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTA3NWM4NTktNjE3ZS00ZWEzLTliNGItOGVmNTgxNTI5NGFlIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzMyNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.TbVkAUYApR_IH2mIeW5NFXXKML3yCzKTKAPOzPwRZn8
2025-05-30 10:43:20.599 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:43:20.600 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:43:20.603 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:43:20.606 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:43:20.608 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:43:20.611 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:43:20.616 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:43:20.609 +08:00 [INF] 请求头: traceparent = 00-4acd11d4f4a8cc4bba0081d528b18516-fe0b4e3799190484-00
2025-05-30 10:43:20.634 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTA3NWM4NTktNjE3ZS00ZWEzLTliNGItOGVmNTgxNTI5NGFlIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzMyNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.TbVkAUYApR_IH2mIeW5NFXXKML3yCzKTKAPOzPwRZn8
2025-05-30 10:43:20.636 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:43:20.638 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:43:20.635 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:43:20.643 +08:00 [INF] 请求头: traceparent = 00-466202a6ae8042207a3df3388b3f46ad-3ebee32510e895d7-00
2025-05-30 10:43:20.644 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:43:20.648 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:43:20.654 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:43:20.655 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:43:20.656 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:43:20.658 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:43:20.659 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:43:20.660 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:43:20.661 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:43:20.662 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:43:20.663 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:43:20.664 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:43:20.665 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:43:20.667 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:43:20.668 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:43:20.669 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:43:20.672 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:43:20.670 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:43:20.675 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:43:20.676 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:43:20.677 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:43:20.678 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:43:20.677 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:43:20.679 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:43:20.681 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:43:20.684 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:43:20.689 +08:00 [INF] JWT Claim: jti = 5075c859-617e-4ea3-9b4b-8ef5815294ae
2025-05-30 10:43:20.692 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:43:20.686 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:43:20.696 +08:00 [INF] JWT Claim: jti = 5075c859-617e-4ea3-9b4b-8ef5815294ae
2025-05-30 10:43:20.699 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:43:20.694 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:43:20.703 +08:00 [INF] JWT Claim: exp = 1748573267
2025-05-30 10:43:20.705 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:43:20.701 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:43:20.710 +08:00 [INF] JWT Claim: exp = 1748573267
2025-05-30 10:43:20.712 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:43:20.708 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:43:20.718 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:43:20.720 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTA3NWM4NTktNjE3ZS00ZWEzLTliNGItOGVmNTgxNTI5NGFlIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzMyNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.TbVkAUYApR_IH2mIeW5NFXXKML3yCzKTKAPOzPwRZn8]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-466202a6ae8042207a3df3388b3f46ad-3ebee32510e895d7-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:43:20.716 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:43:20.740 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:43:20.742 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTA3NWM4NTktNjE3ZS00ZWEzLTliNGItOGVmNTgxNTI5NGFlIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzMyNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.TbVkAUYApR_IH2mIeW5NFXXKML3yCzKTKAPOzPwRZn8]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-4acd11d4f4a8cc4bba0081d528b18516-fe0b4e3799190484-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:43:20.738 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:43:20.759 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:43:20.761 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 10:43:20.763 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:43:20.764 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:43:20.766 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:43:20.778 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 10:43:20.792 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:43:20.795 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 26.1454ms
2025-05-30 10:43:20.798 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 10:43:20.800 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 213ms
2025-05-30 10:43:20.804 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 268.5026ms
2025-05-30 10:43:20.826 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 10:43:20.835 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:43:20.840 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 10:43:20.844 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:43:20.847 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 77.1774ms
2025-05-30 10:43:20.851 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:43:20.853 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 350ms
2025-05-30 10:43:20.858 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 363.5536ms
2025-05-30 10:43:47.371 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 10:43:47.373 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 10:43:47.385 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:43:47.392 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:43:47.394 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 10:43:47.396 +08:00 [INF] 请求方法: GET
2025-05-30 10:43:47.396 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:43:47.395 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 10:43:47.399 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:43:47.399 +08:00 [INF] 请求方法: GET
2025-05-30 10:43:47.400 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:43:47.402 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:43:47.405 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:43:47.408 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:43:47.403 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:43:47.413 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:43:47.428 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOTEyZmMyZTUtNjg5OS00YzE0LTk0NWYtODc2ZDYzMTljY2NmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzM2MjYsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.yhLnt9Dn8bdSqKzIWrKlrACkeYOu6kMPzS4Kx4UCdaQ
2025-05-30 10:43:47.429 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:43:47.430 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:43:47.432 +08:00 [INF] 请求头: traceparent = 00-fa8bc67776653fd4aa02b3f4d9400b3d-e9400f2d930b9bbb-00
2025-05-30 10:43:47.411 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:43:47.434 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:43:47.439 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:43:47.440 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:43:47.438 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:43:47.441 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:43:47.444 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOTEyZmMyZTUtNjg5OS00YzE0LTk0NWYtODc2ZDYzMTljY2NmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzM2MjYsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.yhLnt9Dn8bdSqKzIWrKlrACkeYOu6kMPzS4Kx4UCdaQ
2025-05-30 10:43:47.445 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:43:47.450 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:43:47.453 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:43:47.451 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:43:47.459 +08:00 [INF] 请求头: traceparent = 00-8db51b4f1e7f0fec18f728c7286dfd78-542a3bd25e1e98f2-00
2025-05-30 10:43:47.461 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:43:47.462 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:43:47.463 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:43:47.465 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:43:47.466 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:43:47.467 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:43:47.468 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:43:47.470 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:43:47.470 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:43:47.472 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:43:47.474 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:43:47.476 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:43:47.477 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:43:47.479 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:43:47.479 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:43:47.482 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:43:47.483 +08:00 [INF] JWT Claim: jti = 912fc2e5-6899-4c14-945f-876d6319cccf
2025-05-30 10:43:47.493 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:43:47.493 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:43:47.494 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:43:47.495 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:43:47.496 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:43:47.496 +08:00 [INF] JWT Claim: exp = 1748573626
2025-05-30 10:43:47.497 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:43:47.500 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:43:47.498 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:43:47.502 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:43:47.503 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:43:47.504 +08:00 [INF] JWT Claim: jti = 912fc2e5-6899-4c14-945f-876d6319cccf
2025-05-30 10:43:47.510 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:43:47.504 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:43:47.518 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:43:47.523 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOTEyZmMyZTUtNjg5OS00YzE0LTk0NWYtODc2ZDYzMTljY2NmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzM2MjYsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.yhLnt9Dn8bdSqKzIWrKlrACkeYOu6kMPzS4Kx4UCdaQ]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-fa8bc67776653fd4aa02b3f4d9400b3d-e9400f2d930b9bbb-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:43:47.529 +08:00 [INF] JWT Claim: exp = 1748573626
2025-05-30 10:43:47.538 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:43:47.545 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:43:47.552 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 10:43:47.563 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:43:47.561 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:43:47.584 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:43:47.598 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOTEyZmMyZTUtNjg5OS00YzE0LTk0NWYtODc2ZDYzMTljY2NmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzM2MjYsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.yhLnt9Dn8bdSqKzIWrKlrACkeYOu6kMPzS4Kx4UCdaQ]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-8db51b4f1e7f0fec18f728c7286dfd78-542a3bd25e1e98f2-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:43:47.589 +08:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 10:43:47.612 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:43:47.615 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:43:47.619 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:43:47.620 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 49.0818ms
2025-05-30 10:43:47.621 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:43:47.624 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 10:43:47.632 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 247ms
2025-05-30 10:43:47.635 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 264.2584ms
2025-05-30 10:43:47.635 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 10:43:47.651 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:43:47.654 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 10:43:47.660 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:43:47.664 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 31.8781ms
2025-05-30 10:43:47.668 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:43:47.669 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 276ms
2025-05-30 10:43:47.671 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 297.5725ms
2025-05-30 10:45:10.189 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-30 10:45:10.479 +08:00 [INF] Now listening on: https://localhost:5001
2025-05-30 10:45:10.649 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 10:45:10.652 +08:00 [INF] Hosting environment: Development
2025-05-30 10:45:10.654 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.PropertyService
2025-05-30 10:45:12.261 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-05-30 10:45:12.260 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-05-30 10:45:12.426 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 179.629ms
2025-05-30 10:45:12.592 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 346.4847ms
2025-05-30 10:45:12.892 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-05-30 10:45:12.991 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 99.8795ms
2025-05-30 10:45:26.179 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 10:45:26.179 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 10:45:26.236 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:45:26.236 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:45:26.238 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 10:45:26.239 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 10:45:26.240 +08:00 [INF] 请求方法: GET
2025-05-30 10:45:26.242 +08:00 [INF] 请求方法: GET
2025-05-30 10:45:26.244 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:45:26.245 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:45:26.246 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:45:26.249 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:45:26.247 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:45:26.251 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:45:26.253 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:45:26.255 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:45:26.257 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOTEyZmMyZTUtNjg5OS00YzE0LTk0NWYtODc2ZDYzMTljY2NmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzM2MjYsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.yhLnt9Dn8bdSqKzIWrKlrACkeYOu6kMPzS4Kx4UCdaQ
2025-05-30 10:45:26.256 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:45:26.260 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:45:26.262 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:45:26.263 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:45:26.265 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOTEyZmMyZTUtNjg5OS00YzE0LTk0NWYtODc2ZDYzMTljY2NmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzM2MjYsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.yhLnt9Dn8bdSqKzIWrKlrACkeYOu6kMPzS4Kx4UCdaQ
2025-05-30 10:45:26.266 +08:00 [INF] 请求头: traceparent = 00-abbb7c36e810c333929356a8a7d0ec15-96a3a59736f37417-00
2025-05-30 10:45:26.268 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:45:26.271 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:45:26.272 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:45:26.275 +08:00 [INF] 请求头: traceparent = 00-f0d81cddfca231c615a4fcbc2ccac591-6bf6ba641aa0d267-00
2025-05-30 10:45:26.273 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:45:26.277 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:45:26.279 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:45:26.280 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:45:26.281 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:45:26.283 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:45:26.285 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:45:26.286 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:45:26.288 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:45:26.290 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:45:26.292 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:45:26.294 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:45:26.295 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:45:26.298 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:45:26.299 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:45:26.301 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:45:26.302 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:45:26.303 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:45:26.306 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:45:26.344 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:45:26.344 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:45:26.346 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:45:26.347 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:45:26.348 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:45:26.350 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:45:26.352 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:45:26.353 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:45:26.354 +08:00 [INF] JWT Claim: jti = 912fc2e5-6899-4c14-945f-876d6319cccf
2025-05-30 10:45:26.356 +08:00 [INF] JWT Claim: jti = 912fc2e5-6899-4c14-945f-876d6319cccf
2025-05-30 10:45:26.357 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:45:26.358 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:45:26.360 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:45:26.362 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:45:26.363 +08:00 [INF] JWT Claim: exp = 1748573626
2025-05-30 10:45:26.364 +08:00 [INF] JWT Claim: exp = 1748573626
2025-05-30 10:45:26.366 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:45:26.368 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:45:26.369 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:45:26.371 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:45:26.372 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:45:26.373 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:45:26.378 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOTEyZmMyZTUtNjg5OS00YzE0LTk0NWYtODc2ZDYzMTljY2NmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzM2MjYsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.yhLnt9Dn8bdSqKzIWrKlrACkeYOu6kMPzS4Kx4UCdaQ]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-f0d81cddfca231c615a4fcbc2ccac591-6bf6ba641aa0d267-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:45:26.378 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOTEyZmMyZTUtNjg5OS00YzE0LTk0NWYtODc2ZDYzMTljY2NmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzM2MjYsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.yhLnt9Dn8bdSqKzIWrKlrACkeYOu6kMPzS4Kx4UCdaQ]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-abbb7c36e810c333929356a8a7d0ec15-96a3a59736f37417-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:45:26.451 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:45:26.451 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:45:26.480 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 10:45:26.480 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:45:26.503 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:45:26.505 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:45:28.179 +08:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 10:45:28.179 +08:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 10:45:28.268 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:45:28.310 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 1800.7201ms
2025-05-30 10:45:28.313 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 10:45:28.313 +08:00 [INF] Executed DbCommand (38ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:45:28.316 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 2127ms
2025-05-30 10:45:28.326 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 10:45:28.328 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:45:28.329 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 2150.6ms
2025-05-30 10:45:28.353 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 1843.3298ms
2025-05-30 10:45:28.355 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:45:28.361 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 2159ms
2025-05-30 10:45:28.371 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 2192.5703ms
2025-05-30 10:46:19.428 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 10:46:19.433 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:46:19.434 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 10:46:19.435 +08:00 [INF] 请求方法: GET
2025-05-30 10:46:19.436 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:46:19.438 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:46:19.439 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:46:19.440 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:46:19.442 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:46:19.443 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzc0ZTk4NWItN2I3NS00MDEwLWI1MmEtMWZhNTU4NGFiYzJmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzM3NzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.YL3yNApWAMqxeTGFukWO4E_30wLf5GlsYYktbzjMQTk
2025-05-30 10:46:19.445 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:46:19.452 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:46:19.453 +08:00 [INF] 请求头: traceparent = 00-b1a10713242a690e5ffcc1dd89bbb0fb-f7487c4f4d45af17-00
2025-05-30 10:46:19.454 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:46:19.456 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:46:19.457 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 10:46:19.463 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:46:19.466 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:46:19.468 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:46:19.469 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 10:46:19.470 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:46:19.472 +08:00 [INF] 请求方法: GET
2025-05-30 10:46:19.474 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:46:19.475 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:46:19.477 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:46:19.479 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:46:19.481 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:46:19.482 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:46:19.483 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:46:19.485 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:46:19.485 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:46:19.487 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:46:19.488 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:46:19.490 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzc0ZTk4NWItN2I3NS00MDEwLWI1MmEtMWZhNTU4NGFiYzJmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzM3NzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.YL3yNApWAMqxeTGFukWO4E_30wLf5GlsYYktbzjMQTk
2025-05-30 10:46:19.491 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:46:19.493 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:46:19.494 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:46:19.495 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:46:19.496 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:46:19.497 +08:00 [INF] 请求头: traceparent = 00-5c8fea4a9d0bc6b98af07547d784b611-dea63fee5de3c792-00
2025-05-30 10:46:19.499 +08:00 [INF] JWT Claim: jti = 374e985b-7b75-4010-b52a-1fa5584abc2f
2025-05-30 10:46:19.501 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:46:19.502 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:46:19.504 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:46:19.506 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:46:19.508 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:46:19.509 +08:00 [INF] JWT Claim: exp = 1748573778
2025-05-30 10:46:19.511 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:46:19.512 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:46:19.513 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:46:19.514 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:46:19.516 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:46:19.517 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:46:19.518 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:46:19.519 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzc0ZTk4NWItN2I3NS00MDEwLWI1MmEtMWZhNTU4NGFiYzJmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzM3NzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.YL3yNApWAMqxeTGFukWO4E_30wLf5GlsYYktbzjMQTk]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-b1a10713242a690e5ffcc1dd89bbb0fb-f7487c4f4d45af17-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:46:19.520 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:46:19.528 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:46:19.529 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:46:19.529 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:46:19.532 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:46:19.532 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:46:19.533 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:46:19.534 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:46:19.535 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:46:19.538 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:46:19.543 +08:00 [INF] JWT Claim: jti = 374e985b-7b75-4010-b52a-1fa5584abc2f
2025-05-30 10:46:19.544 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:46:19.546 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:46:19.548 +08:00 [INF] JWT Claim: exp = 1748573778
2025-05-30 10:46:19.549 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:46:19.551 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:46:19.553 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:46:19.554 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzc0ZTk4NWItN2I3NS00MDEwLWI1MmEtMWZhNTU4NGFiYzJmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzM3NzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.YL3yNApWAMqxeTGFukWO4E_30wLf5GlsYYktbzjMQTk]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-5c8fea4a9d0bc6b98af07547d784b611-dea63fee5de3c792-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:46:19.564 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:46:19.566 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 10:46:19.568 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:46:19.582 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 10:46:19.583 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 10:46:19.585 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:46:19.589 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 18.803ms
2025-05-30 10:46:19.591 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 10:46:19.592 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:46:19.593 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 126ms
2025-05-30 10:46:19.596 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 10:46:19.599 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 142.6257ms
2025-05-30 10:46:19.601 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:46:19.607 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 70.083ms
2025-05-30 10:46:19.608 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:46:19.609 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 176ms
2025-05-30 10:46:19.611 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 183.2081ms
2025-05-30 10:46:43.120 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 10:46:43.136 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:46:43.139 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 10:46:43.141 +08:00 [INF] 请求方法: GET
2025-05-30 10:46:43.142 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:46:43.144 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:46:43.147 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:46:43.148 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:46:43.149 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:46:43.158 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzc0ZTk4NWItN2I3NS00MDEwLWI1MmEtMWZhNTU4NGFiYzJmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzM3NzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.YL3yNApWAMqxeTGFukWO4E_30wLf5GlsYYktbzjMQTk
2025-05-30 10:46:43.164 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:46:43.168 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:46:43.171 +08:00 [INF] 请求头: traceparent = 00-c77a0b270251a632a675d34b792c9743-3a94c98c3fae09aa-00
2025-05-30 10:46:43.175 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:46:43.180 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:46:43.184 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:46:43.189 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:46:43.193 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:46:43.197 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:46:43.201 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:46:43.206 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:46:43.211 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:46:43.214 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:46:43.217 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:46:43.220 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:46:43.223 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:46:43.228 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:46:43.233 +08:00 [INF] JWT Claim: jti = 374e985b-7b75-4010-b52a-1fa5584abc2f
2025-05-30 10:46:43.237 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:46:43.241 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:46:43.248 +08:00 [INF] JWT Claim: exp = 1748573778
2025-05-30 10:46:43.242 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 10:46:43.252 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:46:43.265 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:46:43.268 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:46:43.271 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 10:46:43.274 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:46:43.278 +08:00 [INF] 请求方法: GET
2025-05-30 10:46:43.280 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzc0ZTk4NWItN2I3NS00MDEwLWI1MmEtMWZhNTU4NGFiYzJmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzM3NzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.YL3yNApWAMqxeTGFukWO4E_30wLf5GlsYYktbzjMQTk]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-c77a0b270251a632a675d34b792c9743-3a94c98c3fae09aa-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:46:43.283 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:46:43.306 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:46:43.308 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:46:43.311 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 10:46:43.315 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:46:43.318 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:46:43.321 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:46:43.327 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:46:43.333 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 10:46:43.334 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzc0ZTk4NWItN2I3NS00MDEwLWI1MmEtMWZhNTU4NGFiYzJmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzM3NzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.YL3yNApWAMqxeTGFukWO4E_30wLf5GlsYYktbzjMQTk
2025-05-30 10:46:43.342 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:46:43.342 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:46:43.346 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:46:43.349 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 25.0914ms
2025-05-30 10:46:43.351 +08:00 [INF] 请求头: traceparent = 00-71aa27b82484b2217d1c8aa69f2b9337-317a73ecb0b928f7-00
2025-05-30 10:46:43.356 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 10:46:43.358 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:46:43.360 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 224ms
2025-05-30 10:46:43.363 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:46:43.367 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 247.2877ms
2025-05-30 10:46:43.370 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:46:43.383 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:46:43.387 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:46:43.390 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:46:43.394 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:46:43.399 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:46:43.403 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:46:43.407 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:46:43.410 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:46:43.413 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:46:43.416 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:46:43.419 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:46:43.423 +08:00 [INF] JWT Claim: jti = 374e985b-7b75-4010-b52a-1fa5584abc2f
2025-05-30 10:46:43.424 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:46:43.426 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:46:43.428 +08:00 [INF] JWT Claim: exp = 1748573778
2025-05-30 10:46:43.430 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:46:43.431 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:46:43.433 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:46:43.435 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzc0ZTk4NWItN2I3NS00MDEwLWI1MmEtMWZhNTU4NGFiYzJmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzM3NzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.YL3yNApWAMqxeTGFukWO4E_30wLf5GlsYYktbzjMQTk]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-71aa27b82484b2217d1c8aa69f2b9337-317a73ecb0b928f7-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:46:43.452 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:46:43.456 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:46:43.457 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:46:43.474 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 10:46:43.485 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:46:43.492 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 10:46:43.495 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:46:43.499 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 38.0439ms
2025-05-30 10:46:43.502 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:46:43.504 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 239ms
2025-05-30 10:46:43.509 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 266.7716ms
2025-05-30 10:47:33.732 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 10:47:33.737 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:47:33.739 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 10:47:33.740 +08:00 [INF] 请求方法: GET
2025-05-30 10:47:33.741 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:47:33.742 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:47:33.743 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:47:33.744 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:47:33.744 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:47:33.746 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzc0ZTk4NWItN2I3NS00MDEwLWI1MmEtMWZhNTU4NGFiYzJmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzM3NzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.YL3yNApWAMqxeTGFukWO4E_30wLf5GlsYYktbzjMQTk
2025-05-30 10:47:33.748 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:47:33.749 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:47:33.750 +08:00 [INF] 请求头: traceparent = 00-56873e9b001e1499692e6b4b54800f47-4cfed2fc2b2ffabc-00
2025-05-30 10:47:33.751 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:47:33.753 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:47:33.759 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:47:33.760 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:47:33.762 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:47:33.767 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:47:33.770 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:47:33.774 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:47:33.777 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:47:33.779 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:47:33.781 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:47:33.783 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:47:33.786 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:47:33.787 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:47:33.790 +08:00 [INF] JWT Claim: jti = 374e985b-7b75-4010-b52a-1fa5584abc2f
2025-05-30 10:47:33.792 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:47:33.795 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:47:33.799 +08:00 [INF] JWT Claim: exp = 1748573778
2025-05-30 10:47:33.809 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:47:33.815 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:47:33.820 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:47:33.825 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzc0ZTk4NWItN2I3NS00MDEwLWI1MmEtMWZhNTU4NGFiYzJmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzM3NzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.YL3yNApWAMqxeTGFukWO4E_30wLf5GlsYYktbzjMQTk]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-56873e9b001e1499692e6b4b54800f47-4cfed2fc2b2ffabc-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:47:33.842 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:47:33.844 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:47:33.849 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:47:33.868 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 10:47:33.884 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:47:33.890 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 10:47:33.893 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:47:33.899 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 43.3096ms
2025-05-30 10:47:33.903 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:47:33.906 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 169ms
2025-05-30 10:47:33.910 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 177.6882ms
2025-05-30 10:47:37.267 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 10:47:37.369 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:47:37.375 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 10:47:37.399 +08:00 [INF] 请求方法: GET
2025-05-30 10:47:37.409 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:47:37.420 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:47:37.428 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:47:37.433 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:47:37.441 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:47:37.446 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzc0ZTk4NWItN2I3NS00MDEwLWI1MmEtMWZhNTU4NGFiYzJmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzM3NzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.YL3yNApWAMqxeTGFukWO4E_30wLf5GlsYYktbzjMQTk
2025-05-30 10:47:37.455 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:47:37.461 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:47:37.467 +08:00 [INF] 请求头: traceparent = 00-8b34eb67ec82a9124a66469a5e208624-5af79595256256a2-00
2025-05-30 10:47:37.482 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:47:37.493 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:47:37.504 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:47:37.519 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:47:37.534 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:47:37.542 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:47:37.570 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:47:37.587 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:47:37.601 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:47:37.607 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:47:37.617 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:47:37.632 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:47:37.636 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:47:37.643 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:47:37.651 +08:00 [INF] JWT Claim: jti = 374e985b-7b75-4010-b52a-1fa5584abc2f
2025-05-30 10:47:37.658 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:47:37.661 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:47:37.666 +08:00 [INF] JWT Claim: exp = 1748573778
2025-05-30 10:47:37.669 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:47:37.674 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:47:37.677 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:47:37.679 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzc0ZTk4NWItN2I3NS00MDEwLWI1MmEtMWZhNTU4NGFiYzJmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzM3NzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.YL3yNApWAMqxeTGFukWO4E_30wLf5GlsYYktbzjMQTk]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-8b34eb67ec82a9124a66469a5e208624-5af79595256256a2-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:47:37.701 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:47:37.712 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:47:37.724 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:47:37.757 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 10:47:37.770 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:47:37.796 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 10:47:37.808 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:47:37.812 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 69.7255ms
2025-05-30 10:47:37.817 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:47:37.819 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 450ms
2025-05-30 10:47:37.825 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 557.3323ms
2025-05-30 10:47:37.939 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 10:47:37.954 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:47:37.958 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 10:47:37.960 +08:00 [INF] 请求方法: GET
2025-05-30 10:47:37.962 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:47:37.965 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:47:37.968 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:47:37.970 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:47:37.974 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:47:37.976 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzc0ZTk4NWItN2I3NS00MDEwLWI1MmEtMWZhNTU4NGFiYzJmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzM3NzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.YL3yNApWAMqxeTGFukWO4E_30wLf5GlsYYktbzjMQTk
2025-05-30 10:47:37.979 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:47:37.982 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:47:37.986 +08:00 [INF] 请求头: traceparent = 00-46d2685359b0f3ae52bc4709470770ad-d3d8270eb485d1e4-00
2025-05-30 10:47:37.989 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:47:37.991 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:47:37.995 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:47:37.998 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:47:38.001 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:47:38.005 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:47:38.008 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:47:38.011 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:47:38.014 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:47:38.016 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:47:38.019 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:47:38.022 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:47:38.026 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:47:38.031 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:47:38.033 +08:00 [INF] JWT Claim: jti = 374e985b-7b75-4010-b52a-1fa5584abc2f
2025-05-30 10:47:38.036 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:47:38.039 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:47:38.044 +08:00 [INF] JWT Claim: exp = 1748573778
2025-05-30 10:47:38.049 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:47:38.054 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:47:38.057 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:47:38.060 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzc0ZTk4NWItN2I3NS00MDEwLWI1MmEtMWZhNTU4NGFiYzJmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzM3NzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.YL3yNApWAMqxeTGFukWO4E_30wLf5GlsYYktbzjMQTk]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-46d2685359b0f3ae52bc4709470770ad-d3d8270eb485d1e4-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:47:38.080 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:47:38.082 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 10:47:38.084 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:47:38.093 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 10:47:38.103 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:47:38.106 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 20.846ms
2025-05-30 10:47:38.112 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 10:47:38.114 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 159ms
2025-05-30 10:47:38.115 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 176.3314ms
2025-05-30 10:47:42.250 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?minPrice=100&maxPrice=200&minArea=80&maxArea=120&keyword=%E6%9C%9D%E9%98%B3%E5%8C%BA&pageIndex=1&pageSize=50 - null 0
2025-05-30 10:47:42.268 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:47:42.270 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 10:47:42.272 +08:00 [INF] 请求方法: GET
2025-05-30 10:47:42.273 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:47:42.275 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:47:42.278 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:47:42.280 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:47:42.282 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:47:42.285 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzc0ZTk4NWItN2I3NS00MDEwLWI1MmEtMWZhNTU4NGFiYzJmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzM3NzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.YL3yNApWAMqxeTGFukWO4E_30wLf5GlsYYktbzjMQTk
2025-05-30 10:47:42.288 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:47:42.290 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:47:42.293 +08:00 [INF] 请求头: traceparent = 00-09e70ccd73e87673e231dbc188fb22ef-a4f0d4846ed57678-00
2025-05-30 10:47:42.295 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:47:42.297 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:47:42.299 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:47:42.301 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:47:42.303 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:47:42.305 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:47:42.307 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:47:42.310 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:47:42.312 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:47:42.314 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:47:42.315 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:47:42.317 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:47:42.320 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:47:42.322 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:47:42.324 +08:00 [INF] JWT Claim: jti = 374e985b-7b75-4010-b52a-1fa5584abc2f
2025-05-30 10:47:42.326 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:47:42.329 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:47:42.331 +08:00 [INF] JWT Claim: exp = 1748573778
2025-05-30 10:47:42.333 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:47:42.335 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:47:42.338 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:47:42.339 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzc0ZTk4NWItN2I3NS00MDEwLWI1MmEtMWZhNTU4NGFiYzJmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzM3NzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.YL3yNApWAMqxeTGFukWO4E_30wLf5GlsYYktbzjMQTk]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-09e70ccd73e87673e231dbc188fb22ef-a4f0d4846ed57678-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:47:42.355 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:47:42.357 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:47:42.359 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:47:42.498 +08:00 [INF] Executed DbCommand (63ms) [Parameters=[@__keyword_0_rewritten='?' (Size = 100), @__keyword_0_rewritten_1='?' (Size = 200), @__keyword_0_rewritten_2='?' (Size = 1000), @__query_MinPrice_Value_1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @__query_MaxPrice_Value_2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @__query_MinArea_Value_3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @__query_MaxArea_Value_4='?' (Precision = 10) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE ([p].[Title] LIKE @__keyword_0_rewritten ESCAPE N'\' OR [p].[Address] LIKE @__keyword_0_rewritten_1 ESCAPE N'\' OR ([p].[Description] IS NOT NULL AND [p].[Description] LIKE @__keyword_0_rewritten_2 ESCAPE N'\')) AND [p].[Price] >= @__query_MinPrice_Value_1 AND [p].[Price] <= @__query_MaxPrice_Value_2 AND [p].[Area] >= @__query_MinArea_Value_3 AND [p].[Area] <= @__query_MaxArea_Value_4
2025-05-30 10:47:42.527 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[@__keyword_0_rewritten='?' (Size = 100), @__keyword_0_rewritten_1='?' (Size = 200), @__keyword_0_rewritten_2='?' (Size = 1000), @__query_MinPrice_Value_1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @__query_MaxPrice_Value_2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @__query_MinArea_Value_3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @__query_MaxArea_Value_4='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @__p_5='?' (DbType = Int32), @__p_6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
WHERE ([p].[Title] LIKE @__keyword_0_rewritten ESCAPE N'\' OR [p].[Address] LIKE @__keyword_0_rewritten_1 ESCAPE N'\' OR ([p].[Description] IS NOT NULL AND [p].[Description] LIKE @__keyword_0_rewritten_2 ESCAPE N'\')) AND [p].[Price] >= @__query_MinPrice_Value_1 AND [p].[Price] <= @__query_MaxPrice_Value_2 AND [p].[Area] >= @__query_MinArea_Value_3 AND [p].[Area] <= @__query_MaxArea_Value_4
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_5 ROWS FETCH NEXT @__p_6 ROWS ONLY
2025-05-30 10:47:42.537 +08:00 [INF] 查询房源列表完成，共找到 0 条记录
2025-05-30 10:47:42.547 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:47:42.552 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 188.6462ms
2025-05-30 10:47:42.559 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:47:42.566 +08:00 [INF] 请求 GET /api/Property/GetProperties?minPrice=100&maxPrice=200&minArea=80&maxArea=120&keyword=%E6%9C%9D%E9%98%B3%E5%8C%BA&pageIndex=1&pageSize=50 完成，状态码: 200，耗时: 297ms
2025-05-30 10:47:42.574 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?minPrice=100&maxPrice=200&minArea=80&maxArea=120&keyword=%E6%9C%9D%E9%98%B3%E5%8C%BA&pageIndex=1&pageSize=50 - 200 null application/json; charset=utf-8 324.2762ms
2025-05-30 10:47:54.305 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 10:47:54.310 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:47:54.311 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 10:47:54.312 +08:00 [INF] 请求方法: GET
2025-05-30 10:47:54.314 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:47:54.314 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:47:54.316 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:47:54.318 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:47:54.320 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:47:54.323 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzc0ZTk4NWItN2I3NS00MDEwLWI1MmEtMWZhNTU4NGFiYzJmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzM3NzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.YL3yNApWAMqxeTGFukWO4E_30wLf5GlsYYktbzjMQTk
2025-05-30 10:47:54.325 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:47:54.329 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:47:54.330 +08:00 [INF] 请求头: traceparent = 00-8d7aaff61315466756a43a9c303f3c06-8783822e84f5a7fa-00
2025-05-30 10:47:54.333 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:47:54.338 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:47:54.342 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:47:54.346 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:47:54.350 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:47:54.354 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:47:54.357 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:47:54.360 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:47:54.363 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:47:54.364 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:47:54.368 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:47:54.371 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:47:54.373 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:47:54.376 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:47:54.380 +08:00 [INF] JWT Claim: jti = 374e985b-7b75-4010-b52a-1fa5584abc2f
2025-05-30 10:47:54.384 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:47:54.387 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:47:54.393 +08:00 [INF] JWT Claim: exp = 1748573778
2025-05-30 10:47:54.398 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:47:54.405 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:47:54.412 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:47:54.416 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzc0ZTk4NWItN2I3NS00MDEwLWI1MmEtMWZhNTU4NGFiYzJmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzM3NzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.YL3yNApWAMqxeTGFukWO4E_30wLf5GlsYYktbzjMQTk]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-8d7aaff61315466756a43a9c303f3c06-8783822e84f5a7fa-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:47:54.456 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:47:54.462 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:47:54.467 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:47:54.480 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 10:47:54.489 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:47:54.494 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 10:47:54.498 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:47:54.503 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 30.9883ms
2025-05-30 10:47:54.507 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:47:54.509 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 198ms
2025-05-30 10:47:54.510 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 205.8094ms
2025-05-30 10:47:55.765 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 10:47:55.768 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:47:55.770 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 10:47:55.773 +08:00 [INF] 请求方法: GET
2025-05-30 10:47:55.776 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:47:55.781 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:47:55.785 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:47:55.790 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:47:55.796 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:47:55.800 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzc0ZTk4NWItN2I3NS00MDEwLWI1MmEtMWZhNTU4NGFiYzJmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzM3NzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.YL3yNApWAMqxeTGFukWO4E_30wLf5GlsYYktbzjMQTk
2025-05-30 10:47:55.807 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:47:55.814 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:47:55.821 +08:00 [INF] 请求头: traceparent = 00-605c323dfd8bbc0471557c830439a172-a03952d7793295fe-00
2025-05-30 10:47:55.824 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:47:55.829 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:47:55.831 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:47:55.836 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:47:55.839 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:47:55.844 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:47:55.848 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:47:55.855 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:47:55.859 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:47:55.863 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:47:55.866 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:47:55.869 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:47:55.874 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:47:55.880 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:47:55.885 +08:00 [INF] JWT Claim: jti = 374e985b-7b75-4010-b52a-1fa5584abc2f
2025-05-30 10:47:55.890 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:47:55.895 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:47:55.900 +08:00 [INF] JWT Claim: exp = 1748573778
2025-05-30 10:47:55.904 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:47:55.909 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:47:55.915 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:47:55.917 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzc0ZTk4NWItN2I3NS00MDEwLWI1MmEtMWZhNTU4NGFiYzJmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzM3NzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.YL3yNApWAMqxeTGFukWO4E_30wLf5GlsYYktbzjMQTk]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-605c323dfd8bbc0471557c830439a172-a03952d7793295fe-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:47:55.943 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:47:55.948 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:47:55.950 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:47:55.958 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 10:47:55.966 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:47:55.969 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 10:47:55.975 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:47:55.977 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 23.7649ms
2025-05-30 10:47:55.978 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:47:55.980 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 211ms
2025-05-30 10:47:55.982 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 217.0475ms
2025-05-30 10:52:07.944 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 10:52:07.950 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:52:07.954 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 10:52:07.955 +08:00 [INF] 请求方法: GET
2025-05-30 10:52:07.957 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:52:07.959 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:52:07.963 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:52:07.965 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:52:07.972 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:52:07.975 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzc0ZTk4NWItN2I3NS00MDEwLWI1MmEtMWZhNTU4NGFiYzJmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzM3NzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.YL3yNApWAMqxeTGFukWO4E_30wLf5GlsYYktbzjMQTk
2025-05-30 10:52:07.980 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:52:07.984 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:52:07.988 +08:00 [INF] 请求头: traceparent = 00-fa4ac209358fa7532f041809a6bea550-ff68912d0f5a2b5c-00
2025-05-30 10:52:07.992 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:52:07.996 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:52:08.000 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:52:08.004 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:52:08.007 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:52:08.010 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:52:08.014 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:52:08.017 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:52:08.020 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:52:08.023 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:52:08.027 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:52:08.030 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:52:08.034 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:52:08.037 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:52:08.042 +08:00 [INF] JWT Claim: jti = 374e985b-7b75-4010-b52a-1fa5584abc2f
2025-05-30 10:52:08.046 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:52:08.048 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:52:08.051 +08:00 [INF] JWT Claim: exp = 1748573778
2025-05-30 10:52:08.054 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:52:08.056 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:52:08.058 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:52:08.060 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzc0ZTk4NWItN2I3NS00MDEwLWI1MmEtMWZhNTU4NGFiYzJmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzM3NzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.YL3yNApWAMqxeTGFukWO4E_30wLf5GlsYYktbzjMQTk]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-fa4ac209358fa7532f041809a6bea550-ff68912d0f5a2b5c-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:52:08.087 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:52:08.089 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:52:08.091 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:52:08.152 +08:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 10:52:08.167 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:52:08.175 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 10:52:08.180 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:52:08.184 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 88.2489ms
2025-05-30 10:52:08.191 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:52:08.197 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 246ms
2025-05-30 10:52:08.208 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 263.5019ms
2025-05-30 10:52:09.843 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 10:52:09.851 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:52:09.855 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 10:52:09.857 +08:00 [INF] 请求方法: GET
2025-05-30 10:52:09.859 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:52:09.863 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:52:09.865 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:52:09.868 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:52:09.873 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:52:09.875 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzc0ZTk4NWItN2I3NS00MDEwLWI1MmEtMWZhNTU4NGFiYzJmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzM3NzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.YL3yNApWAMqxeTGFukWO4E_30wLf5GlsYYktbzjMQTk
2025-05-30 10:52:09.879 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:52:09.881 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:52:09.884 +08:00 [INF] 请求头: traceparent = 00-7e1d7f23bf94f0150a7e6acb584335f9-74fc5ae45d6fa9ec-00
2025-05-30 10:52:09.887 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:52:09.889 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:52:09.892 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:52:09.896 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:52:09.898 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:52:09.900 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:52:09.906 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:52:09.915 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:52:09.923 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:52:09.931 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:52:09.938 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:52:09.946 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:52:09.954 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:52:09.963 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:52:09.967 +08:00 [INF] JWT Claim: jti = 374e985b-7b75-4010-b52a-1fa5584abc2f
2025-05-30 10:52:09.970 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:52:09.973 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:52:09.976 +08:00 [INF] JWT Claim: exp = 1748573778
2025-05-30 10:52:09.982 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:52:09.985 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:52:09.990 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:52:09.993 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzc0ZTk4NWItN2I3NS00MDEwLWI1MmEtMWZhNTU4NGFiYzJmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzM3NzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.YL3yNApWAMqxeTGFukWO4E_30wLf5GlsYYktbzjMQTk]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-7e1d7f23bf94f0150a7e6acb584335f9-74fc5ae45d6fa9ec-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:52:10.038 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:52:10.040 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:52:10.043 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:52:10.065 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 10:52:10.096 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:52:10.105 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 10:52:10.109 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:52:10.114 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 62.7947ms
2025-05-30 10:52:10.118 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:52:10.121 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 270ms
2025-05-30 10:52:10.140 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 296.7155ms
2025-05-30 10:52:57.850 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 10:52:57.855 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:52:57.858 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 10:52:57.859 +08:00 [INF] 请求方法: GET
2025-05-30 10:52:57.863 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:52:57.864 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:52:57.865 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:52:57.866 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:52:57.867 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:52:57.868 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzc0ZTk4NWItN2I3NS00MDEwLWI1MmEtMWZhNTU4NGFiYzJmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzM3NzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.YL3yNApWAMqxeTGFukWO4E_30wLf5GlsYYktbzjMQTk
2025-05-30 10:52:57.869 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:52:57.876 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:52:57.878 +08:00 [INF] 请求头: traceparent = 00-cdcba388d1256162f4cb20a32a1e1ca9-11414da17640ceea-00
2025-05-30 10:52:57.879 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:52:57.886 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:52:57.887 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:52:57.888 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:52:57.890 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:52:57.892 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:52:57.894 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:52:57.895 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:52:57.897 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:52:57.898 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:52:57.899 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:52:57.900 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:52:57.902 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:52:57.904 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:52:57.904 +08:00 [INF] JWT Claim: jti = 374e985b-7b75-4010-b52a-1fa5584abc2f
2025-05-30 10:52:57.906 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:52:57.907 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:52:57.908 +08:00 [INF] JWT Claim: exp = 1748573778
2025-05-30 10:52:57.909 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:52:57.911 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:52:57.911 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:52:57.912 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzc0ZTk4NWItN2I3NS00MDEwLWI1MmEtMWZhNTU4NGFiYzJmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzM3NzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.YL3yNApWAMqxeTGFukWO4E_30wLf5GlsYYktbzjMQTk]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-cdcba388d1256162f4cb20a32a1e1ca9-11414da17640ceea-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:52:57.929 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:52:57.930 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:52:57.932 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:52:57.979 +08:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 10:52:57.985 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:52:57.993 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 10:52:57.996 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:52:57.999 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 63.1134ms
2025-05-30 10:52:58.003 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:52:58.005 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 150ms
2025-05-30 10:52:58.010 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 160.0453ms
2025-05-30 10:53:19.599 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 10:53:19.608 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:53:19.613 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 10:53:19.616 +08:00 [INF] 请求方法: GET
2025-05-30 10:53:19.621 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:53:19.626 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:53:19.631 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:53:19.633 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:53:19.638 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:53:19.640 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzc0ZTk4NWItN2I3NS00MDEwLWI1MmEtMWZhNTU4NGFiYzJmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzM3NzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.YL3yNApWAMqxeTGFukWO4E_30wLf5GlsYYktbzjMQTk
2025-05-30 10:53:19.644 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:53:19.648 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:53:19.649 +08:00 [INF] 请求头: traceparent = 00-86bc41aad8ca7af6b166c98574a958d3-2e07e8bd72395352-00
2025-05-30 10:53:19.654 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:53:19.656 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:53:19.660 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:53:19.666 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:53:19.669 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:53:19.674 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:53:19.680 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:53:19.684 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:53:19.688 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:53:19.690 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:53:19.691 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:53:19.694 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:53:19.696 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:53:19.698 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:53:19.700 +08:00 [INF] JWT Claim: jti = 374e985b-7b75-4010-b52a-1fa5584abc2f
2025-05-30 10:53:19.705 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:53:19.708 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:53:19.712 +08:00 [INF] JWT Claim: exp = 1748573778
2025-05-30 10:53:19.714 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:53:19.717 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:53:19.722 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:53:19.723 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzc0ZTk4NWItN2I3NS00MDEwLWI1MmEtMWZhNTU4NGFiYzJmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzM3NzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.YL3yNApWAMqxeTGFukWO4E_30wLf5GlsYYktbzjMQTk]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-86bc41aad8ca7af6b166c98574a958d3-2e07e8bd72395352-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:53:19.741 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:53:19.745 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:53:19.748 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:53:19.760 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 10:53:19.781 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:53:19.785 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 10:53:19.789 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:53:19.791 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 37.5696ms
2025-05-30 10:53:19.793 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:53:19.795 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 187ms
2025-05-30 10:53:19.798 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 199.8395ms
2025-05-30 10:53:22.209 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 10:53:22.215 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:53:22.217 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 10:53:22.220 +08:00 [INF] 请求方法: GET
2025-05-30 10:53:22.220 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:53:22.222 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:53:22.223 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:53:22.225 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:53:22.228 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:53:22.230 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzc0ZTk4NWItN2I3NS00MDEwLWI1MmEtMWZhNTU4NGFiYzJmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzM3NzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.YL3yNApWAMqxeTGFukWO4E_30wLf5GlsYYktbzjMQTk
2025-05-30 10:53:22.233 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:53:22.235 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:53:22.238 +08:00 [INF] 请求头: traceparent = 00-4ea59a6bad734250392e75bc0c7be5fd-829abf8c099bcc5e-00
2025-05-30 10:53:22.239 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:53:22.241 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:53:22.243 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:53:22.246 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:53:22.247 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:53:22.249 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:53:22.250 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:53:22.253 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:53:22.255 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:53:22.256 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:53:22.257 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:53:22.259 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:53:22.262 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:53:22.266 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:53:22.272 +08:00 [INF] JWT Claim: jti = 374e985b-7b75-4010-b52a-1fa5584abc2f
2025-05-30 10:53:22.273 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:53:22.276 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:53:22.280 +08:00 [INF] JWT Claim: exp = 1748573778
2025-05-30 10:53:22.282 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:53:22.284 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:53:22.286 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:53:22.288 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzc0ZTk4NWItN2I3NS00MDEwLWI1MmEtMWZhNTU4NGFiYzJmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzM3NzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.YL3yNApWAMqxeTGFukWO4E_30wLf5GlsYYktbzjMQTk]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-4ea59a6bad734250392e75bc0c7be5fd-829abf8c099bcc5e-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:53:22.300 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:53:22.303 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:53:22.305 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:53:22.315 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 10:53:22.321 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:53:22.324 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 10:53:22.326 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:53:22.329 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 21.3604ms
2025-05-30 10:53:22.331 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:53:22.333 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 117ms
2025-05-30 10:53:22.339 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 130.345ms
2025-05-30 10:53:38.901 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 10:53:38.906 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:53:38.907 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 10:53:38.912 +08:00 [INF] 请求方法: GET
2025-05-30 10:53:38.914 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:53:38.916 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:53:38.918 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:53:38.921 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:53:38.923 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:53:38.924 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzc0ZTk4NWItN2I3NS00MDEwLWI1MmEtMWZhNTU4NGFiYzJmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzM3NzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.YL3yNApWAMqxeTGFukWO4E_30wLf5GlsYYktbzjMQTk
2025-05-30 10:53:38.927 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:53:38.930 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:53:38.933 +08:00 [INF] 请求头: traceparent = 00-e599eaa6c2191cb4979c1a469b099a87-596f3c3c7b231b0b-00
2025-05-30 10:53:38.936 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:53:38.938 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:53:38.939 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:53:38.941 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:53:38.945 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:53:38.947 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:53:38.952 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:53:38.955 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:53:38.959 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:53:38.961 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:53:38.963 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:53:38.964 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:53:38.966 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:53:38.968 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:53:38.970 +08:00 [INF] JWT Claim: jti = 374e985b-7b75-4010-b52a-1fa5584abc2f
2025-05-30 10:53:38.972 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:53:38.976 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:53:38.977 +08:00 [INF] JWT Claim: exp = 1748573778
2025-05-30 10:53:38.980 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:53:38.983 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:53:38.985 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:53:38.987 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzc0ZTk4NWItN2I3NS00MDEwLWI1MmEtMWZhNTU4NGFiYzJmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzM3NzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.YL3yNApWAMqxeTGFukWO4E_30wLf5GlsYYktbzjMQTk]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-e599eaa6c2191cb4979c1a469b099a87-596f3c3c7b231b0b-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:53:39.004 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:53:39.007 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:53:39.009 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:53:39.020 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 10:53:39.031 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:53:39.037 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 10:53:39.039 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:53:39.043 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 30.4482ms
2025-05-30 10:53:39.048 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:53:39.049 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 143ms
2025-05-30 10:53:39.055 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 153.928ms
2025-05-30 10:53:58.113 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 10:53:58.121 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:53:58.123 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 10:53:58.125 +08:00 [INF] 请求方法: GET
2025-05-30 10:53:58.127 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:53:58.130 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:53:58.133 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:53:58.137 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:53:58.141 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:53:58.146 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzc0ZTk4NWItN2I3NS00MDEwLWI1MmEtMWZhNTU4NGFiYzJmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzM3NzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.YL3yNApWAMqxeTGFukWO4E_30wLf5GlsYYktbzjMQTk
2025-05-30 10:53:58.148 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:53:58.153 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:53:58.155 +08:00 [INF] 请求头: traceparent = 00-0691e3716493867a7a78a4bb53230f0a-77804643079fef23-00
2025-05-30 10:53:58.158 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:53:58.163 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:53:58.167 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:53:58.169 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:53:58.172 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:53:58.176 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:53:58.179 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:53:58.182 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:53:58.184 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:53:58.187 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:53:58.191 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:53:58.194 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:53:58.199 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:53:58.203 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:53:58.206 +08:00 [INF] JWT Claim: jti = 374e985b-7b75-4010-b52a-1fa5584abc2f
2025-05-30 10:53:58.208 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:53:58.212 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:53:58.214 +08:00 [INF] JWT Claim: exp = 1748573778
2025-05-30 10:53:58.216 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:53:58.222 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:53:58.224 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:53:58.226 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzc0ZTk4NWItN2I3NS00MDEwLWI1MmEtMWZhNTU4NGFiYzJmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzM3NzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.YL3yNApWAMqxeTGFukWO4E_30wLf5GlsYYktbzjMQTk]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-0691e3716493867a7a78a4bb53230f0a-77804643079fef23-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:53:58.243 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:53:58.247 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:53:58.249 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:53:58.281 +08:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 10:53:58.290 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:53:58.297 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 10:53:58.300 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:53:58.305 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 50.9643ms
2025-05-30 10:53:58.308 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:53:58.312 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 190ms
2025-05-30 10:53:58.316 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 203.9006ms
2025-05-30 10:54:22.173 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 10:54:22.179 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:54:22.181 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 10:54:22.183 +08:00 [INF] 请求方法: GET
2025-05-30 10:54:22.188 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:54:22.191 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:54:22.197 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:54:22.199 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:54:22.202 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:54:22.204 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzc0ZTk4NWItN2I3NS00MDEwLWI1MmEtMWZhNTU4NGFiYzJmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzM3NzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.YL3yNApWAMqxeTGFukWO4E_30wLf5GlsYYktbzjMQTk
2025-05-30 10:54:22.207 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:54:22.214 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:54:22.217 +08:00 [INF] 请求头: traceparent = 00-bf69b6a1a106cfe754b355ab86aaab67-bffd528a7e2812b4-00
2025-05-30 10:54:22.223 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:54:22.225 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:54:22.228 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:54:22.230 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:54:22.233 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:54:22.234 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:54:22.237 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:54:22.239 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:54:22.241 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:54:22.242 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:54:22.245 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:54:22.247 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:54:22.249 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:54:22.253 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:54:22.258 +08:00 [INF] JWT Claim: jti = 374e985b-7b75-4010-b52a-1fa5584abc2f
2025-05-30 10:54:22.263 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:54:22.266 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:54:22.270 +08:00 [INF] JWT Claim: exp = 1748573778
2025-05-30 10:54:22.273 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:54:22.276 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:54:22.281 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:54:22.283 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzc0ZTk4NWItN2I3NS00MDEwLWI1MmEtMWZhNTU4NGFiYzJmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzM3NzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.YL3yNApWAMqxeTGFukWO4E_30wLf5GlsYYktbzjMQTk]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-bf69b6a1a106cfe754b355ab86aaab67-bffd528a7e2812b4-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:54:22.296 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:54:22.300 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:54:22.305 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:54:22.316 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 10:54:22.332 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:54:22.337 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 10:54:22.339 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:54:22.341 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 32.4008ms
2025-05-30 10:54:22.346 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:54:22.350 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 171ms
2025-05-30 10:54:22.354 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 181.1482ms
2025-05-30 10:54:43.927 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 10:54:43.936 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:54:43.940 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 10:54:43.941 +08:00 [INF] 请求方法: GET
2025-05-30 10:54:43.944 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:54:43.945 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:54:43.947 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:54:43.948 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:54:43.953 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:54:43.956 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzc0ZTk4NWItN2I3NS00MDEwLWI1MmEtMWZhNTU4NGFiYzJmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzM3NzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.YL3yNApWAMqxeTGFukWO4E_30wLf5GlsYYktbzjMQTk
2025-05-30 10:54:43.961 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:54:43.963 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:54:43.965 +08:00 [INF] 请求头: traceparent = 00-3b8e7dec7ac746bbe9f7b5c58a21d4c1-9ad9ab697006964e-00
2025-05-30 10:54:43.970 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:54:43.973 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:54:43.979 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:54:43.981 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:54:43.983 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:54:43.989 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:54:43.991 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:54:43.994 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:54:43.999 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:54:44.003 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:54:44.005 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:54:44.008 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:54:44.013 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:54:44.027 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:54:44.037 +08:00 [INF] JWT Claim: jti = 374e985b-7b75-4010-b52a-1fa5584abc2f
2025-05-30 10:54:44.040 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:54:44.042 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:54:44.046 +08:00 [INF] JWT Claim: exp = 1748573778
2025-05-30 10:54:44.049 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:54:44.051 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:54:44.055 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:54:44.058 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzc0ZTk4NWItN2I3NS00MDEwLWI1MmEtMWZhNTU4NGFiYzJmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzM3NzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.YL3yNApWAMqxeTGFukWO4E_30wLf5GlsYYktbzjMQTk]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-3b8e7dec7ac746bbe9f7b5c58a21d4c1-9ad9ab697006964e-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:54:44.082 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:54:44.085 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:54:44.090 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:54:44.099 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 10:54:44.106 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:54:44.112 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 10:54:44.117 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:54:44.122 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 26.5385ms
2025-05-30 10:54:44.126 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:54:44.131 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 194ms
2025-05-30 10:54:44.140 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 213.7942ms
2025-05-30 10:55:21.736 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 10:55:21.755 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:55:21.756 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 10:55:21.758 +08:00 [INF] 请求方法: GET
2025-05-30 10:55:21.759 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:55:21.762 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 10:55:21.764 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:55:21.767 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:55:21.770 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:55:21.772 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzc0ZTk4NWItN2I3NS00MDEwLWI1MmEtMWZhNTU4NGFiYzJmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzM3NzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.YL3yNApWAMqxeTGFukWO4E_30wLf5GlsYYktbzjMQTk
2025-05-30 10:55:21.774 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:55:21.779 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:55:21.781 +08:00 [INF] 请求头: traceparent = 00-72de5d5503ab042743842c0c5bb8b079-2375cc1418ed137f-00
2025-05-30 10:55:21.783 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:55:21.787 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:55:21.788 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:55:21.789 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:55:21.791 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:55:21.792 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:55:21.794 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:55:21.796 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:55:21.798 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:55:21.799 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:55:21.802 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:55:21.807 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:55:21.808 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:55:21.812 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:55:21.814 +08:00 [INF] JWT Claim: jti = 374e985b-7b75-4010-b52a-1fa5584abc2f
2025-05-30 10:55:21.816 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:55:21.819 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:55:21.821 +08:00 [INF] JWT Claim: exp = 1748573778
2025-05-30 10:55:21.824 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:55:21.828 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:55:21.832 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:55:21.833 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzc0ZTk4NWItN2I3NS00MDEwLWI1MmEtMWZhNTU4NGFiYzJmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzM3NzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.YL3yNApWAMqxeTGFukWO4E_30wLf5GlsYYktbzjMQTk]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-72de5d5503ab042743842c0c5bb8b079-2375cc1418ed137f-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 10:55:21.851 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:55:21.854 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:55:21.856 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 10:55:21.878 +08:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 10:55:21.885 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:55:21.889 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 10:55:21.895 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:55:21.898 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 35.8498ms
2025-05-30 10:55:21.902 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 10:55:21.904 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 149ms
2025-05-30 10:55:21.909 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 172.1954ms
2025-05-30 11:10:05.455 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 11:10:05.459 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:10:05.463 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 11:10:05.466 +08:00 [INF] 请求方法: GET
2025-05-30 11:10:05.468 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:10:05.469 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 11:10:05.474 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 11:10:05.478 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:10:05.479 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:10:05.480 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 11:10:05.481 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:10:05.482 +08:00 [INF] 请求方法: GET
2025-05-30 11:10:05.483 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:10:05.485 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:10:05.486 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODNiZmFmMGMtMTgzOS00ZTJkLTk4NWUtMzkyMjE2NWI3M2UwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzUyMDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.O7CYBadBlv-OjUg-0xLRjoMj-dNWszlDiIzW5alBUq8
2025-05-30 11:10:05.487 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 11:10:05.489 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:10:05.490 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:10:05.492 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:10:05.493 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:10:05.494 +08:00 [INF] 请求头: traceparent = 00-f6f17b98971a538bf7c70e2f3bc95f0a-11517908a5d37be6-00
2025-05-30 11:10:05.496 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:10:05.497 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:10:05.498 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODNiZmFmMGMtMTgzOS00ZTJkLTk4NWUtMzkyMjE2NWI3M2UwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzUyMDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.O7CYBadBlv-OjUg-0xLRjoMj-dNWszlDiIzW5alBUq8
2025-05-30 11:10:05.500 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:10:05.501 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:10:05.503 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:10:05.504 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:10:05.505 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:10:05.507 +08:00 [INF] 请求头: traceparent = 00-ede67a65877711d15535bca07ee2fc70-062aa0f55dff1457-00
2025-05-30 11:10:05.508 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:10:05.509 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:10:05.511 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:10:05.512 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:10:05.514 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:10:05.515 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:10:05.517 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:10:05.518 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:10:05.520 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:10:05.521 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:10:05.522 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:10:05.523 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:10:05.524 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:10:05.526 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:10:05.527 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:10:05.528 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:10:05.529 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:10:05.531 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:10:05.532 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:10:05.533 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:10:05.535 +08:00 [INF] JWT Claim: jti = 83bfaf0c-1839-4e2d-985e-3922165b73e0
2025-05-30 11:10:05.536 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:10:05.537 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:10:05.538 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:10:05.539 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:10:05.541 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:10:05.542 +08:00 [INF] JWT Claim: exp = 1748575204
2025-05-30 11:10:05.544 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:10:05.545 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:10:05.546 +08:00 [INF] JWT Claim: jti = 83bfaf0c-1839-4e2d-985e-3922165b73e0
2025-05-30 11:10:05.548 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:10:05.549 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:10:05.550 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:10:05.552 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:10:05.553 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODNiZmFmMGMtMTgzOS00ZTJkLTk4NWUtMzkyMjE2NWI3M2UwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzUyMDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.O7CYBadBlv-OjUg-0xLRjoMj-dNWszlDiIzW5alBUq8]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-f6f17b98971a538bf7c70e2f3bc95f0a-11517908a5d37be6-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 11:10:05.554 +08:00 [INF] JWT Claim: exp = 1748575204
2025-05-30 11:10:05.563 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:10:05.563 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:10:05.564 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 11:10:05.565 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:10:05.567 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 11:10:05.568 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:10:05.571 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODNiZmFmMGMtMTgzOS00ZTJkLTk4NWUtMzkyMjE2NWI3M2UwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzUyMDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.O7CYBadBlv-OjUg-0xLRjoMj-dNWszlDiIzW5alBUq8]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-ede67a65877711d15535bca07ee2fc70-062aa0f55dff1457-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 11:10:05.585 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 11:10:05.585 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:10:05.588 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 11:10:05.590 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 11:10:05.590 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 11:10:05.597 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 11:10:05.599 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:10:05.601 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 30.9996ms
2025-05-30 11:10:05.605 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 11:10:05.605 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 11:10:05.606 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 147ms
2025-05-30 11:10:05.609 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:10:05.610 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 155.6511ms
2025-05-30 11:10:05.612 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 20.6653ms
2025-05-30 11:10:05.616 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 11:10:05.618 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 139ms
2025-05-30 11:10:05.620 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 152.3329ms
2025-05-30 11:10:15.423 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 11:10:15.427 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:10:15.428 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 11:10:15.429 +08:00 [INF] 请求方法: GET
2025-05-30 11:10:15.430 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:10:15.432 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 11:10:15.433 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:10:15.434 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:10:15.436 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:10:15.437 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODNiZmFmMGMtMTgzOS00ZTJkLTk4NWUtMzkyMjE2NWI3M2UwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzUyMDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.O7CYBadBlv-OjUg-0xLRjoMj-dNWszlDiIzW5alBUq8
2025-05-30 11:10:15.439 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:10:15.441 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 11:10:15.441 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:10:15.445 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:10:15.446 +08:00 [INF] 请求头: traceparent = 00-95278b298ca74a69cb8fff1b5fcb68fe-e8157a2f714314fc-00
2025-05-30 11:10:15.447 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 11:10:15.448 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:10:15.449 +08:00 [INF] 请求方法: GET
2025-05-30 11:10:15.450 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:10:15.451 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:10:15.453 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:10:15.454 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 11:10:15.456 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:10:15.457 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:10:15.458 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:10:15.459 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:10:15.461 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:10:15.462 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:10:15.464 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:10:15.465 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODNiZmFmMGMtMTgzOS00ZTJkLTk4NWUtMzkyMjE2NWI3M2UwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzUyMDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.O7CYBadBlv-OjUg-0xLRjoMj-dNWszlDiIzW5alBUq8
2025-05-30 11:10:15.466 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:10:15.467 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:10:15.469 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:10:15.470 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:10:15.471 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:10:15.472 +08:00 [INF] 请求头: traceparent = 00-a316632f5cfe8629a23960c1d468e1fa-345396c1817743bb-00
2025-05-30 11:10:15.473 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:10:15.474 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:10:15.475 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:10:15.476 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:10:15.478 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:10:15.479 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:10:15.481 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:10:15.482 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:10:15.484 +08:00 [INF] JWT Claim: jti = 83bfaf0c-1839-4e2d-985e-3922165b73e0
2025-05-30 11:10:15.485 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:10:15.487 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:10:15.488 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:10:15.490 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:10:15.492 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:10:15.493 +08:00 [INF] JWT Claim: exp = 1748575204
2025-05-30 11:10:15.495 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:10:15.497 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:10:15.498 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:10:15.500 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:10:15.501 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:10:15.503 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:10:15.504 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:10:15.505 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODNiZmFmMGMtMTgzOS00ZTJkLTk4NWUtMzkyMjE2NWI3M2UwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzUyMDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.O7CYBadBlv-OjUg-0xLRjoMj-dNWszlDiIzW5alBUq8]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-95278b298ca74a69cb8fff1b5fcb68fe-e8157a2f714314fc-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 11:10:15.506 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:10:15.517 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:10:15.518 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:10:15.520 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 11:10:15.521 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:10:15.523 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 11:10:15.524 +08:00 [INF] JWT Claim: jti = 83bfaf0c-1839-4e2d-985e-3922165b73e0
2025-05-30 11:10:15.529 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:10:15.532 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:10:15.534 +08:00 [INF] JWT Claim: exp = 1748575204
2025-05-30 11:10:15.536 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:10:15.538 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:10:15.539 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:10:15.540 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODNiZmFmMGMtMTgzOS00ZTJkLTk4NWUtMzkyMjE2NWI3M2UwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzUyMDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.O7CYBadBlv-OjUg-0xLRjoMj-dNWszlDiIzW5alBUq8]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-a316632f5cfe8629a23960c1d468e1fa-345396c1817743bb-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 11:10:15.543 +08:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 11:10:15.552 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:10:15.556 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 11:10:15.556 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 11:10:15.557 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 11:10:15.561 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 11:10:15.567 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:10:15.567 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 11:10:15.570 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 42.5603ms
2025-05-30 11:10:15.573 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:10:15.574 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 11:10:15.575 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 12.15ms
2025-05-30 11:10:15.577 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 150ms
2025-05-30 11:10:15.579 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 11:10:15.581 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 158.4097ms
2025-05-30 11:10:15.583 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 138ms
2025-05-30 11:10:15.590 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 149.4153ms
2025-05-30 11:10:53.497 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 11:10:53.507 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:10:53.508 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 11:10:53.509 +08:00 [INF] 请求方法: GET
2025-05-30 11:10:53.510 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:10:53.511 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 11:10:53.513 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:10:53.514 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:10:53.516 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 11:10:53.516 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:10:53.524 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:10:53.525 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODNiZmFmMGMtMTgzOS00ZTJkLTk4NWUtMzkyMjE2NWI3M2UwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzUyMDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.O7CYBadBlv-OjUg-0xLRjoMj-dNWszlDiIzW5alBUq8
2025-05-30 11:10:53.525 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 11:10:53.527 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:10:53.527 +08:00 [INF] 请求方法: GET
2025-05-30 11:10:53.529 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:10:53.529 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:10:53.530 +08:00 [INF] 请求头: traceparent = 00-8afec4cadb945eb1a316e99dcbb100c1-3795a291c2fbed08-00
2025-05-30 11:10:53.531 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 11:10:53.534 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:10:53.532 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:10:53.535 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:10:53.536 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:10:53.537 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:10:53.538 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:10:53.539 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODNiZmFmMGMtMTgzOS00ZTJkLTk4NWUtMzkyMjE2NWI3M2UwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzUyMDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.O7CYBadBlv-OjUg-0xLRjoMj-dNWszlDiIzW5alBUq8
2025-05-30 11:10:53.541 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:10:53.540 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:10:53.542 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:10:53.543 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:10:53.545 +08:00 [INF] 请求头: traceparent = 00-77560583635fb812b82e6dbc1c577cb3-4d9371b47c50a87f-00
2025-05-30 11:10:53.547 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:10:53.546 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:10:53.548 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:10:53.549 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:10:53.550 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:10:53.551 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:10:53.552 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:10:53.553 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:10:53.554 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:10:53.555 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:10:53.556 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:10:53.557 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:10:53.558 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:10:53.559 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:10:53.560 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:10:53.561 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:10:53.562 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:10:53.563 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:10:53.564 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:10:53.565 +08:00 [INF] JWT Claim: jti = 83bfaf0c-1839-4e2d-985e-3922165b73e0
2025-05-30 11:10:53.566 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:10:53.567 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:10:53.568 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:10:53.569 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:10:53.571 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:10:53.572 +08:00 [INF] JWT Claim: exp = 1748575204
2025-05-30 11:10:53.573 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:10:53.574 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:10:53.575 +08:00 [INF] JWT Claim: jti = 83bfaf0c-1839-4e2d-985e-3922165b73e0
2025-05-30 11:10:53.576 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:10:53.578 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:10:53.579 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:10:53.580 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:10:53.581 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODNiZmFmMGMtMTgzOS00ZTJkLTk4NWUtMzkyMjE2NWI3M2UwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzUyMDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.O7CYBadBlv-OjUg-0xLRjoMj-dNWszlDiIzW5alBUq8]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-8afec4cadb945eb1a316e99dcbb100c1-3795a291c2fbed08-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 11:10:53.582 +08:00 [INF] JWT Claim: exp = 1748575204
2025-05-30 11:10:53.591 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:10:53.592 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:10:53.593 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 11:10:53.595 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:10:53.596 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 11:10:53.597 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:10:53.602 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODNiZmFmMGMtMTgzOS00ZTJkLTk4NWUtMzkyMjE2NWI3M2UwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzUyMDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.O7CYBadBlv-OjUg-0xLRjoMj-dNWszlDiIzW5alBUq8]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-77560583635fb812b82e6dbc1c577cb3-4d9371b47c50a87f-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 11:10:53.605 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 11:10:53.612 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:10:53.615 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:10:53.616 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 11:10:53.617 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 17.3829ms
2025-05-30 11:10:53.619 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 11:10:53.621 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 11:10:53.626 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 118ms
2025-05-30 11:10:53.629 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 11:10:53.636 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 139.6246ms
2025-05-30 11:10:53.642 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 11:10:53.648 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 11:10:53.649 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:10:53.651 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 27.7051ms
2025-05-30 11:10:53.653 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 11:10:53.654 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 130ms
2025-05-30 11:10:53.656 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 140.4019ms
2025-05-30 11:11:31.088 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 11:11:31.091 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:11:31.093 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 11:11:31.094 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 11:11:31.094 +08:00 [INF] 请求方法: GET
2025-05-30 11:11:31.097 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:11:31.099 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:11:31.100 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 11:11:31.101 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 11:11:31.102 +08:00 [INF] 请求方法: GET
2025-05-30 11:11:31.103 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:11:31.104 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:11:31.106 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:11:31.107 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 11:11:31.108 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:11:31.109 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:11:31.111 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODNiZmFmMGMtMTgzOS00ZTJkLTk4NWUtMzkyMjE2NWI3M2UwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzUyMDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.O7CYBadBlv-OjUg-0xLRjoMj-dNWszlDiIzW5alBUq8
2025-05-30 11:11:31.112 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:11:31.114 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:11:31.115 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:11:31.116 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:11:31.118 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODNiZmFmMGMtMTgzOS00ZTJkLTk4NWUtMzkyMjE2NWI3M2UwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzUyMDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.O7CYBadBlv-OjUg-0xLRjoMj-dNWszlDiIzW5alBUq8
2025-05-30 11:11:31.120 +08:00 [INF] 请求头: traceparent = 00-96f6e742d5299c451cc896e9ed85aeea-48176b075a1cacac-00
2025-05-30 11:11:31.122 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:11:31.123 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:11:31.124 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:11:31.125 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:11:31.127 +08:00 [INF] 请求头: traceparent = 00-f26f04bebb22ef594b31e4f2e3da70a9-765eda5c0e0dad1c-00
2025-05-30 11:11:31.129 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:11:31.131 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:11:31.132 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:11:31.133 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:11:31.136 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:11:31.137 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:11:31.139 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:11:31.141 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:11:31.142 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:11:31.144 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:11:31.146 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:11:31.147 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:11:31.148 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:11:31.150 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:11:31.151 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:11:31.152 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:11:31.153 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:11:31.155 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:11:31.156 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:11:31.157 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:11:31.158 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:11:31.159 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:11:31.160 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:11:31.162 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:11:31.163 +08:00 [INF] JWT Claim: jti = 83bfaf0c-1839-4e2d-985e-3922165b73e0
2025-05-30 11:11:31.165 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:11:31.166 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:11:31.168 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:11:31.169 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:11:31.170 +08:00 [INF] JWT Claim: jti = 83bfaf0c-1839-4e2d-985e-3922165b73e0
2025-05-30 11:11:31.171 +08:00 [INF] JWT Claim: exp = 1748575204
2025-05-30 11:11:31.172 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:11:31.174 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:11:31.175 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:11:31.176 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:11:31.177 +08:00 [INF] JWT Claim: exp = 1748575204
2025-05-30 11:11:31.178 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:11:31.180 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:11:31.180 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODNiZmFmMGMtMTgzOS00ZTJkLTk4NWUtMzkyMjE2NWI3M2UwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzUyMDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.O7CYBadBlv-OjUg-0xLRjoMj-dNWszlDiIzW5alBUq8]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-96f6e742d5299c451cc896e9ed85aeea-48176b075a1cacac-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 11:11:31.181 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:11:31.189 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:11:31.190 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:11:31.191 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 11:11:31.192 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODNiZmFmMGMtMTgzOS00ZTJkLTk4NWUtMzkyMjE2NWI3M2UwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzUyMDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.O7CYBadBlv-OjUg-0xLRjoMj-dNWszlDiIzW5alBUq8]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-f26f04bebb22ef594b31e4f2e3da70a9-765eda5c0e0dad1c-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 11:11:31.193 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 11:11:31.200 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:11:31.203 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 11:11:31.206 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 11:11:31.206 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 11:11:31.212 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 11:11:31.216 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 11:11:31.220 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:11:31.222 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 11:11:31.223 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 14.9455ms
2025-05-30 11:11:31.224 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:11:31.225 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 11:11:31.227 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 25.1473ms
2025-05-30 11:11:31.228 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 130ms
2025-05-30 11:11:31.230 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 11:11:31.232 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 137.8339ms
2025-05-30 11:11:31.233 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 141ms
2025-05-30 11:11:31.240 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 151.311ms
2025-05-30 11:12:37.907 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 11:12:37.910 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:12:37.911 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 11:12:37.912 +08:00 [INF] 请求方法: GET
2025-05-30 11:12:37.913 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:12:37.914 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 11:12:37.915 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:12:37.916 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:12:37.918 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:12:37.919 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODNiZmFmMGMtMTgzOS00ZTJkLTk4NWUtMzkyMjE2NWI3M2UwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzUyMDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.O7CYBadBlv-OjUg-0xLRjoMj-dNWszlDiIzW5alBUq8
2025-05-30 11:12:37.920 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:12:37.921 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:12:37.923 +08:00 [INF] 请求头: traceparent = 00-b2cb505d83187157e4e36deb47ddad90-d34b9da385f64e9f-00
2025-05-30 11:12:37.924 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:12:37.925 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:12:37.926 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:12:37.928 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:12:37.929 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:12:37.930 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:12:37.931 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:12:37.932 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:12:37.933 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:12:37.934 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:12:37.935 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:12:37.936 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:12:37.937 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:12:37.938 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:12:37.940 +08:00 [INF] JWT Claim: jti = 83bfaf0c-1839-4e2d-985e-3922165b73e0
2025-05-30 11:12:37.941 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:12:37.942 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:12:37.943 +08:00 [INF] JWT Claim: exp = 1748575204
2025-05-30 11:12:37.944 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:12:37.946 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:12:37.947 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:12:37.948 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODNiZmFmMGMtMTgzOS00ZTJkLTk4NWUtMzkyMjE2NWI3M2UwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzUyMDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.O7CYBadBlv-OjUg-0xLRjoMj-dNWszlDiIzW5alBUq8]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-b2cb505d83187157e4e36deb47ddad90-d34b9da385f64e9f-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 11:12:37.956 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:12:37.957 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 11:12:37.958 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 11:12:37.964 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 11:12:37.969 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 11:12:37.971 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 11:12:37.973 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:12:37.974 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 14.3822ms
2025-05-30 11:12:37.976 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 11:12:37.977 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 67ms
2025-05-30 11:12:37.979 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 72.9506ms
2025-05-30 11:12:38.024 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 11:12:38.027 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:12:38.028 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 11:12:38.029 +08:00 [INF] 请求方法: GET
2025-05-30 11:12:38.030 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:12:38.031 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 11:12:38.033 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:12:38.035 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:12:38.036 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:12:38.038 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODNiZmFmMGMtMTgzOS00ZTJkLTk4NWUtMzkyMjE2NWI3M2UwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzUyMDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.O7CYBadBlv-OjUg-0xLRjoMj-dNWszlDiIzW5alBUq8
2025-05-30 11:12:38.039 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:12:38.040 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:12:38.041 +08:00 [INF] 请求头: traceparent = 00-76891c25fb86c81c44612e0c1fa03ff4-52fab6d237d9659d-00
2025-05-30 11:12:38.043 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:12:38.044 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:12:38.046 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:12:38.047 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:12:38.048 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:12:38.049 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:12:38.050 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:12:38.051 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:12:38.052 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:12:38.053 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:12:38.054 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:12:38.055 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:12:38.056 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:12:38.057 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:12:38.058 +08:00 [INF] JWT Claim: jti = 83bfaf0c-1839-4e2d-985e-3922165b73e0
2025-05-30 11:12:38.059 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:12:38.060 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:12:38.061 +08:00 [INF] JWT Claim: exp = 1748575204
2025-05-30 11:12:38.062 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:12:38.063 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:12:38.064 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:12:38.065 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODNiZmFmMGMtMTgzOS00ZTJkLTk4NWUtMzkyMjE2NWI3M2UwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzUyMDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.O7CYBadBlv-OjUg-0xLRjoMj-dNWszlDiIzW5alBUq8]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-76891c25fb86c81c44612e0c1fa03ff4-52fab6d237d9659d-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 11:12:38.072 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:12:38.073 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 11:12:38.074 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 11:12:38.079 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 11:12:38.081 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:12:38.082 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 6.3697ms
2025-05-30 11:12:38.084 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 11:12:38.085 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 58ms
2025-05-30 11:12:38.087 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 63.2682ms
2025-05-30 11:13:06.763 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 11:13:06.766 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:13:06.768 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 11:13:06.769 +08:00 [INF] 请求方法: GET
2025-05-30 11:13:06.770 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:13:06.772 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 11:13:06.773 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:13:06.774 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:13:06.776 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:13:06.778 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODNiZmFmMGMtMTgzOS00ZTJkLTk4NWUtMzkyMjE2NWI3M2UwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzUyMDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.O7CYBadBlv-OjUg-0xLRjoMj-dNWszlDiIzW5alBUq8
2025-05-30 11:13:06.780 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:13:06.782 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:13:06.784 +08:00 [INF] 请求头: traceparent = 00-ccaac58dbfcbd1da8119dd3d457c85aa-164feb46f7c1edfe-00
2025-05-30 11:13:06.793 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:13:06.800 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:13:06.801 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 11:13:06.802 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:13:06.805 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:13:06.806 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:13:06.807 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 11:13:06.808 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:13:06.809 +08:00 [INF] 请求方法: GET
2025-05-30 11:13:06.811 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:13:06.812 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:13:06.813 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:13:06.814 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 11:13:06.815 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:13:06.816 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:13:06.818 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:13:06.819 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:13:06.820 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:13:06.821 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:13:06.822 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:13:06.823 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODNiZmFmMGMtMTgzOS00ZTJkLTk4NWUtMzkyMjE2NWI3M2UwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzUyMDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.O7CYBadBlv-OjUg-0xLRjoMj-dNWszlDiIzW5alBUq8
2025-05-30 11:13:06.824 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:13:06.826 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:13:06.828 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:13:06.829 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:13:06.830 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:13:06.832 +08:00 [INF] 请求头: traceparent = 00-cf8a0a70e6b2680fe794999b86ddf03d-23b0fe4e90e1db4a-00
2025-05-30 11:13:06.833 +08:00 [INF] JWT Claim: jti = 83bfaf0c-1839-4e2d-985e-3922165b73e0
2025-05-30 11:13:06.835 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:13:06.836 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:13:06.838 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:13:06.839 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:13:06.840 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:13:06.841 +08:00 [INF] JWT Claim: exp = 1748575204
2025-05-30 11:13:06.843 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:13:06.844 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:13:06.846 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:13:06.847 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:13:06.848 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:13:06.849 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:13:06.851 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:13:06.852 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODNiZmFmMGMtMTgzOS00ZTJkLTk4NWUtMzkyMjE2NWI3M2UwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzUyMDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.O7CYBadBlv-OjUg-0xLRjoMj-dNWszlDiIzW5alBUq8]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-ccaac58dbfcbd1da8119dd3d457c85aa-164feb46f7c1edfe-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 11:13:06.853 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:13:06.862 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:13:06.862 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:13:06.864 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 11:13:06.864 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:13:06.865 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 11:13:06.866 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:13:06.869 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:13:06.873 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 11:13:06.874 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:13:06.880 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:13:06.880 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 11:13:06.881 +08:00 [INF] JWT Claim: jti = 83bfaf0c-1839-4e2d-985e-3922165b73e0
2025-05-30 11:13:06.883 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 11:13:06.885 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:13:06.886 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:13:06.887 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:13:06.889 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 20.6725ms
2025-05-30 11:13:06.890 +08:00 [INF] JWT Claim: exp = 1748575204
2025-05-30 11:13:06.891 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 11:13:06.893 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:13:06.894 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 127ms
2025-05-30 11:13:06.896 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:13:06.898 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 134.9335ms
2025-05-30 11:13:06.899 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:13:06.905 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODNiZmFmMGMtMTgzOS00ZTJkLTk4NWUtMzkyMjE2NWI3M2UwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzUyMDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.O7CYBadBlv-OjUg-0xLRjoMj-dNWszlDiIzW5alBUq8]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-cf8a0a70e6b2680fe794999b86ddf03d-23b0fe4e90e1db4a-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 11:13:06.916 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:13:06.918 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 11:13:06.919 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 11:13:06.925 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 11:13:06.929 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:13:06.931 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 9.1284ms
2025-05-30 11:13:06.932 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 11:13:06.934 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 128ms
2025-05-30 11:13:06.936 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 135.0845ms
2025-05-30 11:13:23.513 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 11:13:23.518 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:13:23.519 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 11:13:23.520 +08:00 [INF] 请求方法: GET
2025-05-30 11:13:23.522 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:13:23.523 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 11:13:23.525 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:13:23.527 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:13:23.528 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:13:23.530 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODNiZmFmMGMtMTgzOS00ZTJkLTk4NWUtMzkyMjE2NWI3M2UwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzUyMDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.O7CYBadBlv-OjUg-0xLRjoMj-dNWszlDiIzW5alBUq8
2025-05-30 11:13:23.532 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:13:23.534 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:13:23.536 +08:00 [INF] 请求头: traceparent = 00-4f0d66061b8c631b0384ab4003733097-521e0274d9005267-00
2025-05-30 11:13:23.537 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:13:23.539 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:13:23.543 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:13:23.545 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:13:23.547 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:13:23.548 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:13:23.550 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:13:23.552 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:13:23.554 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:13:23.555 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:13:23.557 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:13:23.559 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:13:23.561 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:13:23.563 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:13:23.564 +08:00 [INF] JWT Claim: jti = 83bfaf0c-1839-4e2d-985e-3922165b73e0
2025-05-30 11:13:23.566 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:13:23.568 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:13:23.571 +08:00 [INF] JWT Claim: exp = 1748575204
2025-05-30 11:13:23.573 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:13:23.577 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:13:23.579 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:13:23.581 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODNiZmFmMGMtMTgzOS00ZTJkLTk4NWUtMzkyMjE2NWI3M2UwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzUyMDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.O7CYBadBlv-OjUg-0xLRjoMj-dNWszlDiIzW5alBUq8]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-4f0d66061b8c631b0384ab4003733097-521e0274d9005267-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 11:13:23.598 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:13:23.600 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 11:13:23.603 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 11:13:23.610 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 11:13:23.615 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:13:23.618 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 12.7159ms
2025-05-30 11:13:23.620 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 11:13:23.622 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 103ms
2025-05-30 11:13:23.624 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 111.1949ms
2025-05-30 11:13:23.747 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 11:13:23.750 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:13:23.752 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 11:13:23.753 +08:00 [INF] 请求方法: GET
2025-05-30 11:13:23.754 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:13:23.756 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 11:13:23.758 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:13:23.759 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:13:23.761 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:13:23.762 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODNiZmFmMGMtMTgzOS00ZTJkLTk4NWUtMzkyMjE2NWI3M2UwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzUyMDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.O7CYBadBlv-OjUg-0xLRjoMj-dNWszlDiIzW5alBUq8
2025-05-30 11:13:23.764 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:13:23.765 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:13:23.767 +08:00 [INF] 请求头: traceparent = 00-0bf3e5b9f42e0e4daa8e2d462a16b424-9087b7e7084eaf9a-00
2025-05-30 11:13:23.768 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:13:23.770 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:13:23.771 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:13:23.773 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:13:23.775 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:13:23.776 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:13:23.778 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:13:23.779 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:13:23.780 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:13:23.781 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:13:23.782 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:13:23.783 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:13:23.785 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:13:23.786 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:13:23.787 +08:00 [INF] JWT Claim: jti = 83bfaf0c-1839-4e2d-985e-3922165b73e0
2025-05-30 11:13:23.788 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:13:23.790 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:13:23.791 +08:00 [INF] JWT Claim: exp = 1748575204
2025-05-30 11:13:23.792 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:13:23.794 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:13:23.795 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:13:23.796 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODNiZmFmMGMtMTgzOS00ZTJkLTk4NWUtMzkyMjE2NWI3M2UwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzUyMDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.O7CYBadBlv-OjUg-0xLRjoMj-dNWszlDiIzW5alBUq8]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-0bf3e5b9f42e0e4daa8e2d462a16b424-9087b7e7084eaf9a-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 11:13:23.804 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:13:23.805 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 11:13:23.806 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 11:13:23.811 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 11:13:23.816 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 11:13:23.819 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 11:13:23.821 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:13:23.823 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 14.7303ms
2025-05-30 11:13:23.825 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 11:13:23.828 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 77ms
2025-05-30 11:13:23.831 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 84.2497ms
2025-05-30 11:13:49.988 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 11:13:49.991 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:13:49.993 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 11:13:49.994 +08:00 [INF] 请求方法: GET
2025-05-30 11:13:49.995 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:13:49.996 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 11:13:49.998 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:13:49.999 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:13:50.001 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 11:13:50.001 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:13:50.012 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:13:50.013 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODNiZmFmMGMtMTgzOS00ZTJkLTk4NWUtMzkyMjE2NWI3M2UwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzUyMDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.O7CYBadBlv-OjUg-0xLRjoMj-dNWszlDiIzW5alBUq8
2025-05-30 11:13:50.014 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 11:13:50.015 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:13:50.016 +08:00 [INF] 请求方法: GET
2025-05-30 11:13:50.018 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:13:50.019 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:13:50.020 +08:00 [INF] 请求头: traceparent = 00-afc34bda9a2208817cc9f2c4ff4fbf5e-5828dd448bdb8460-00
2025-05-30 11:13:50.021 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 11:13:50.022 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:13:50.023 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:13:50.024 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:13:50.026 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:13:50.027 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:13:50.028 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:13:50.029 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:13:50.031 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODNiZmFmMGMtMTgzOS00ZTJkLTk4NWUtMzkyMjE2NWI3M2UwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzUyMDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.O7CYBadBlv-OjUg-0xLRjoMj-dNWszlDiIzW5alBUq8
2025-05-30 11:13:50.032 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:13:50.033 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:13:50.034 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:13:50.035 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:13:50.037 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:13:50.038 +08:00 [INF] 请求头: traceparent = 00-99476de79e7207b30a47c65de755b992-1c5bf2260e497462-00
2025-05-30 11:13:50.039 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:13:50.040 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:13:50.041 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:13:50.043 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:13:50.043 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:13:50.045 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:13:50.045 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:13:50.046 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:13:50.047 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:13:50.048 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:13:50.050 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:13:50.051 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:13:50.052 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:13:50.053 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:13:50.054 +08:00 [INF] JWT Claim: jti = 83bfaf0c-1839-4e2d-985e-3922165b73e0
2025-05-30 11:13:50.055 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:13:50.056 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:13:50.057 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:13:50.059 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:13:50.060 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:13:50.061 +08:00 [INF] JWT Claim: exp = 1748575204
2025-05-30 11:13:50.062 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:13:50.063 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:13:50.064 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:13:50.065 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:13:50.066 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:13:50.067 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:13:50.068 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:13:50.069 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODNiZmFmMGMtMTgzOS00ZTJkLTk4NWUtMzkyMjE2NWI3M2UwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzUyMDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.O7CYBadBlv-OjUg-0xLRjoMj-dNWszlDiIzW5alBUq8]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-afc34bda9a2208817cc9f2c4ff4fbf5e-5828dd448bdb8460-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 11:13:50.070 +08:00 [INF] JWT Claim: jti = 83bfaf0c-1839-4e2d-985e-3922165b73e0
2025-05-30 11:13:50.079 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:13:50.080 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:13:50.081 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 11:13:50.082 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:13:50.084 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 11:13:50.085 +08:00 [INF] JWT Claim: exp = 1748575204
2025-05-30 11:13:50.088 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:13:50.091 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:13:50.093 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:13:50.094 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODNiZmFmMGMtMTgzOS00ZTJkLTk4NWUtMzkyMjE2NWI3M2UwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzUyMDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.O7CYBadBlv-OjUg-0xLRjoMj-dNWszlDiIzW5alBUq8]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-99476de79e7207b30a47c65de755b992-1c5bf2260e497462-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 11:13:50.097 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 11:13:50.102 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:13:50.107 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 11:13:50.107 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 11:13:50.108 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 11:13:50.111 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 11:13:50.115 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:13:50.116 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 11:13:50.117 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 30.5783ms
2025-05-30 11:13:50.121 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:13:50.122 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 11:13:50.123 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 10.7395ms
2025-05-30 11:13:50.125 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 134ms
2025-05-30 11:13:50.127 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 11:13:50.130 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 142.7174ms
2025-05-30 11:13:50.132 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 120ms
2025-05-30 11:13:50.139 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 138.3522ms
2025-05-30 11:16:25.414 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 11:16:25.417 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:16:25.418 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 11:16:25.421 +08:00 [INF] 请求方法: GET
2025-05-30 11:16:25.421 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 11:16:25.428 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:16:25.434 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:16:25.436 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 11:16:25.437 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 11:16:25.438 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:16:25.440 +08:00 [INF] 请求方法: GET
2025-05-30 11:16:25.442 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:16:25.443 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:16:25.445 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:16:25.447 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 11:16:25.448 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODNiZmFmMGMtMTgzOS00ZTJkLTk4NWUtMzkyMjE2NWI3M2UwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzUyMDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.O7CYBadBlv-OjUg-0xLRjoMj-dNWszlDiIzW5alBUq8
2025-05-30 11:16:25.450 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:16:25.451 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:16:25.452 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:16:25.453 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:16:25.455 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:16:25.456 +08:00 [INF] 请求头: traceparent = 00-8c2de53273dffc7beaf0f61faabe7378-cb021fe29f2e3cad-00
2025-05-30 11:16:25.458 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODNiZmFmMGMtMTgzOS00ZTJkLTk4NWUtMzkyMjE2NWI3M2UwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzUyMDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.O7CYBadBlv-OjUg-0xLRjoMj-dNWszlDiIzW5alBUq8
2025-05-30 11:16:25.459 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:16:25.460 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:16:25.462 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:16:25.463 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:16:25.464 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:16:25.465 +08:00 [INF] 请求头: traceparent = 00-8ea99a65694270bd05d469ee0bf1ca45-d01403b689ee4072-00
2025-05-30 11:16:25.467 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:16:25.468 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:16:25.470 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:16:25.471 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:16:25.472 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:16:25.474 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:16:25.476 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:16:25.477 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:16:25.479 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:16:25.489 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:16:25.491 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:16:25.493 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:16:25.494 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:16:25.496 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:16:25.497 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:16:25.499 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:16:25.501 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:16:25.502 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:16:25.504 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:16:25.506 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:16:25.508 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:16:25.509 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:16:25.511 +08:00 [INF] JWT Claim: jti = 83bfaf0c-1839-4e2d-985e-3922165b73e0
2025-05-30 11:16:25.513 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:16:25.515 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:16:25.516 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:16:25.518 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:16:25.520 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:16:25.522 +08:00 [INF] JWT Claim: exp = 1748575204
2025-05-30 11:16:25.523 +08:00 [INF] JWT Claim: jti = 83bfaf0c-1839-4e2d-985e-3922165b73e0
2025-05-30 11:16:25.525 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:16:25.527 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:16:25.528 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:16:25.530 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:16:25.533 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:16:25.534 +08:00 [INF] JWT Claim: exp = 1748575204
2025-05-30 11:16:25.536 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODNiZmFmMGMtMTgzOS00ZTJkLTk4NWUtMzkyMjE2NWI3M2UwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzUyMDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.O7CYBadBlv-OjUg-0xLRjoMj-dNWszlDiIzW5alBUq8]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-8c2de53273dffc7beaf0f61faabe7378-cb021fe29f2e3cad-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 11:16:25.537 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:16:25.553 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:16:25.554 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:16:25.556 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 11:16:25.560 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:16:25.562 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 11:16:25.563 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODNiZmFmMGMtMTgzOS00ZTJkLTk4NWUtMzkyMjE2NWI3M2UwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzUyMDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.O7CYBadBlv-OjUg-0xLRjoMj-dNWszlDiIzW5alBUq8]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-8ea99a65694270bd05d469ee0bf1ca45-d01403b689ee4072-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 11:16:25.580 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:16:25.582 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 11:16:25.583 +08:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 11:16:25.583 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 11:16:25.586 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:16:25.591 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 23.9713ms
2025-05-30 11:16:25.593 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 11:16:25.599 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 11:16:25.608 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 191ms
2025-05-30 11:16:25.609 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 11:16:25.611 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 197.5585ms
2025-05-30 11:16:25.614 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 11:16:25.620 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:16:25.622 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 34.8213ms
2025-05-30 11:16:25.624 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 11:16:25.626 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 191ms
2025-05-30 11:16:25.628 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 206.9826ms
2025-05-30 11:16:45.242 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 11:16:45.246 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:16:45.247 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 11:16:45.250 +08:00 [INF] 请求方法: GET
2025-05-30 11:16:45.251 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:16:45.253 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 11:16:45.255 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:16:45.257 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:16:45.259 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:16:45.261 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODNiZmFmMGMtMTgzOS00ZTJkLTk4NWUtMzkyMjE2NWI3M2UwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzUyMDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.O7CYBadBlv-OjUg-0xLRjoMj-dNWszlDiIzW5alBUq8
2025-05-30 11:16:45.263 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:16:45.266 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:16:45.268 +08:00 [INF] 请求头: traceparent = 00-25a1eaa2a864c5078aa8ee9787b08445-6eab6b520b1de61c-00
2025-05-30 11:16:45.270 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:16:45.272 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:16:45.274 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:16:45.276 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:16:45.278 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:16:45.280 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:16:45.282 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:16:45.284 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:16:45.285 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:16:45.286 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:16:45.288 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:16:45.289 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:16:45.291 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:16:45.292 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:16:45.294 +08:00 [INF] JWT Claim: jti = 83bfaf0c-1839-4e2d-985e-3922165b73e0
2025-05-30 11:16:45.296 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:16:45.298 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:16:45.300 +08:00 [INF] JWT Claim: exp = 1748575204
2025-05-30 11:16:45.301 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:16:45.303 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:16:45.305 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:16:45.306 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODNiZmFmMGMtMTgzOS00ZTJkLTk4NWUtMzkyMjE2NWI3M2UwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzUyMDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.O7CYBadBlv-OjUg-0xLRjoMj-dNWszlDiIzW5alBUq8]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-25a1eaa2a864c5078aa8ee9787b08445-6eab6b520b1de61c-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 11:16:45.317 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:16:45.319 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 11:16:45.320 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 11:16:45.327 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 11:16:45.334 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 11:16:45.337 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 11:16:45.339 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:16:45.341 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 18.4823ms
2025-05-30 11:16:45.343 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 11:16:45.345 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 98ms
2025-05-30 11:16:45.348 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 105.5155ms
2025-05-30 11:16:45.462 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 11:16:45.465 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:16:45.466 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 11:16:45.468 +08:00 [INF] 请求方法: GET
2025-05-30 11:16:45.469 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:16:45.470 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 11:16:45.472 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:16:45.474 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:16:45.475 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:16:45.477 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODNiZmFmMGMtMTgzOS00ZTJkLTk4NWUtMzkyMjE2NWI3M2UwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzUyMDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.O7CYBadBlv-OjUg-0xLRjoMj-dNWszlDiIzW5alBUq8
2025-05-30 11:16:45.479 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:16:45.480 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:16:45.481 +08:00 [INF] 请求头: traceparent = 00-70d42c0422d76a480bfa3a6987a9acc1-0bb0783fc2b5ebf8-00
2025-05-30 11:16:45.483 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:16:45.484 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:16:45.485 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:16:45.486 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:16:45.488 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:16:45.489 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:16:45.491 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:16:45.492 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:16:45.493 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:16:45.494 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:16:45.495 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:16:45.496 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:16:45.497 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:16:45.499 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:16:45.500 +08:00 [INF] JWT Claim: jti = 83bfaf0c-1839-4e2d-985e-3922165b73e0
2025-05-30 11:16:45.501 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:16:45.502 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:16:45.504 +08:00 [INF] JWT Claim: exp = 1748575204
2025-05-30 11:16:45.505 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:16:45.506 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:16:45.507 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:16:45.508 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODNiZmFmMGMtMTgzOS00ZTJkLTk4NWUtMzkyMjE2NWI3M2UwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzUyMDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.O7CYBadBlv-OjUg-0xLRjoMj-dNWszlDiIzW5alBUq8]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-70d42c0422d76a480bfa3a6987a9acc1-0bb0783fc2b5ebf8-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 11:16:45.515 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:16:45.516 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 11:16:45.517 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 11:16:45.522 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 11:16:45.526 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:16:45.527 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 7.8592ms
2025-05-30 11:16:45.529 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 11:16:45.530 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 64ms
2025-05-30 11:16:45.533 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 70.6197ms
2025-05-30 11:16:46.503 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 11:16:46.505 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:16:46.506 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 11:16:46.507 +08:00 [INF] 请求方法: GET
2025-05-30 11:16:46.508 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:16:46.509 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 11:16:46.510 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:16:46.511 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:16:46.512 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:16:46.513 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODNiZmFmMGMtMTgzOS00ZTJkLTk4NWUtMzkyMjE2NWI3M2UwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzUyMDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.O7CYBadBlv-OjUg-0xLRjoMj-dNWszlDiIzW5alBUq8
2025-05-30 11:16:46.515 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:16:46.516 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:16:46.517 +08:00 [INF] 请求头: traceparent = 00-eec761f64e0486c363c87633768b83b9-e1ab4d182a9a4d9f-00
2025-05-30 11:16:46.518 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:16:46.519 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:16:46.520 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:16:46.521 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:16:46.522 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:16:46.523 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:16:46.525 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:16:46.526 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:16:46.527 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:16:46.527 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:16:46.528 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:16:46.529 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:16:46.530 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:16:46.531 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:16:46.532 +08:00 [INF] JWT Claim: jti = 83bfaf0c-1839-4e2d-985e-3922165b73e0
2025-05-30 11:16:46.534 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:16:46.535 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:16:46.535 +08:00 [INF] JWT Claim: exp = 1748575204
2025-05-30 11:16:46.536 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:16:46.537 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:16:46.538 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:16:46.539 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODNiZmFmMGMtMTgzOS00ZTJkLTk4NWUtMzkyMjE2NWI3M2UwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzUyMDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.O7CYBadBlv-OjUg-0xLRjoMj-dNWszlDiIzW5alBUq8]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-eec761f64e0486c363c87633768b83b9-e1ab4d182a9a4d9f-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 11:16:46.546 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:16:46.547 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 11:16:46.548 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 11:16:46.553 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 11:16:46.555 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 11:16:46.558 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 11:16:46.559 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:16:46.561 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 10.5145ms
2025-05-30 11:16:46.562 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 11:16:46.563 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 57ms
2025-05-30 11:16:46.565 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 62.1316ms
2025-05-30 11:16:47.914 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 11:16:47.918 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:16:47.919 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 11:16:47.920 +08:00 [INF] 请求方法: GET
2025-05-30 11:16:47.921 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:16:47.922 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 11:16:47.923 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:16:47.925 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:16:47.926 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:16:47.927 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODNiZmFmMGMtMTgzOS00ZTJkLTk4NWUtMzkyMjE2NWI3M2UwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzUyMDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.O7CYBadBlv-OjUg-0xLRjoMj-dNWszlDiIzW5alBUq8
2025-05-30 11:16:47.929 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:16:47.930 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:16:47.931 +08:00 [INF] 请求头: traceparent = 00-28b6c7a1c9320d17927ef48285516df6-871f873199c9e812-00
2025-05-30 11:16:47.932 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:16:47.934 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:16:47.935 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:16:47.936 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:16:47.937 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:16:47.938 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:16:47.939 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:16:47.941 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:16:47.942 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:16:47.943 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:16:47.944 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:16:47.944 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:16:47.945 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:16:47.946 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:16:47.947 +08:00 [INF] JWT Claim: jti = 83bfaf0c-1839-4e2d-985e-3922165b73e0
2025-05-30 11:16:47.948 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:16:47.950 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:16:47.951 +08:00 [INF] JWT Claim: exp = 1748575204
2025-05-30 11:16:47.952 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:16:47.953 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:16:47.954 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:16:47.955 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODNiZmFmMGMtMTgzOS00ZTJkLTk4NWUtMzkyMjE2NWI3M2UwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzUyMDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.O7CYBadBlv-OjUg-0xLRjoMj-dNWszlDiIzW5alBUq8]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-28b6c7a1c9320d17927ef48285516df6-871f873199c9e812-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 11:16:47.963 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:16:47.964 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 11:16:47.966 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 11:16:47.972 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 11:16:47.976 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 11:16:47.978 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 11:16:47.980 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:16:47.982 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 13.621ms
2025-05-30 11:16:47.984 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 11:16:47.985 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 67ms
2025-05-30 11:16:47.987 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 73.4135ms
2025-05-30 11:32:43.839 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 11:32:43.843 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:32:43.844 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 11:32:43.845 +08:00 [INF] 请求方法: GET
2025-05-30 11:32:43.846 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:32:43.847 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 11:32:43.848 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:32:43.850 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:32:43.851 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:32:43.852 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2I4ZmExMzAtZjcwMC00NmJhLTliZDEtZTU3NTdhMmJlZGZhIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzY1NjMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.8w3dn2Gs0dcK4ebcTL6T-Zo-dClzJwZ0FcbBUuI6IOg
2025-05-30 11:32:43.854 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:32:43.855 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:32:43.856 +08:00 [INF] 请求头: traceparent = 00-e2fcded86da753ecc2e69a605067076d-dcfbb1faaff7d269-00
2025-05-30 11:32:43.858 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:32:43.859 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:32:43.861 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:32:43.862 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:32:43.864 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:32:43.866 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:32:43.868 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:32:43.869 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:32:43.870 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:32:43.871 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:32:43.872 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:32:43.873 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:32:43.875 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:32:43.876 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:32:43.877 +08:00 [INF] JWT Claim: jti = cb8fa130-f700-46ba-9bd1-e5757a2bedfa
2025-05-30 11:32:43.879 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:32:43.880 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:32:43.881 +08:00 [INF] JWT Claim: exp = 1748576563
2025-05-30 11:32:43.883 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:32:43.884 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:32:43.885 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:32:43.886 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2I4ZmExMzAtZjcwMC00NmJhLTliZDEtZTU3NTdhMmJlZGZhIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzY1NjMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.8w3dn2Gs0dcK4ebcTL6T-Zo-dClzJwZ0FcbBUuI6IOg]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-e2fcded86da753ecc2e69a605067076d-dcfbb1faaff7d269-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 11:32:43.894 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:32:43.895 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 11:32:43.896 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 11:32:43.919 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 11:32:43.926 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 11:32:43.929 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 11:32:43.930 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:32:43.932 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 33.6379ms
2025-05-30 11:32:43.933 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 11:32:43.934 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 91ms
2025-05-30 11:32:43.937 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 97.6628ms
2025-05-30 11:32:44.002 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 11:32:44.009 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:32:44.010 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 11:32:44.011 +08:00 [INF] 请求方法: GET
2025-05-30 11:32:44.012 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:32:44.013 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 11:32:44.014 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:32:44.015 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:32:44.016 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:32:44.017 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2I4ZmExMzAtZjcwMC00NmJhLTliZDEtZTU3NTdhMmJlZGZhIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzY1NjMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.8w3dn2Gs0dcK4ebcTL6T-Zo-dClzJwZ0FcbBUuI6IOg
2025-05-30 11:32:44.019 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:32:44.020 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:32:44.021 +08:00 [INF] 请求头: traceparent = 00-313266d06be05429f6de66d012b3fa8a-50c2a1537f0ceed4-00
2025-05-30 11:32:44.022 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:32:44.023 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:32:44.024 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:32:44.025 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:32:44.027 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:32:44.028 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:32:44.029 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:32:44.030 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:32:44.031 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:32:44.032 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:32:44.033 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:32:44.034 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:32:44.035 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:32:44.036 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:32:44.037 +08:00 [INF] JWT Claim: jti = cb8fa130-f700-46ba-9bd1-e5757a2bedfa
2025-05-30 11:32:44.039 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:32:44.040 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:32:44.041 +08:00 [INF] JWT Claim: exp = 1748576563
2025-05-30 11:32:44.042 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:32:44.043 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:32:44.044 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:32:44.045 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2I4ZmExMzAtZjcwMC00NmJhLTliZDEtZTU3NTdhMmJlZGZhIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzY1NjMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.8w3dn2Gs0dcK4ebcTL6T-Zo-dClzJwZ0FcbBUuI6IOg]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-313266d06be05429f6de66d012b3fa8a-50c2a1537f0ceed4-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 11:32:44.053 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:32:44.054 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 11:32:44.056 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 11:32:44.061 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 11:32:44.064 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:32:44.066 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 7.6196ms
2025-05-30 11:32:44.067 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 11:32:44.068 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 59ms
2025-05-30 11:32:44.070 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 69.0424ms
2025-05-30 11:35:15.827 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-30 11:35:16.508 +08:00 [INF] Now listening on: https://localhost:5001
2025-05-30 11:35:16.757 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 11:35:16.760 +08:00 [INF] Hosting environment: Development
2025-05-30 11:35:16.763 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.PropertyService
2025-05-30 11:35:20.318 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-05-30 11:35:20.356 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 58.6091ms
2025-05-30 11:35:20.611 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-05-30 11:35:20.809 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 200.0297ms
2025-05-30 11:35:21.412 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-05-30 11:35:21.525 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 112.9024ms
2025-05-30 11:35:46.663 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 11:35:46.666 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 11:35:46.730 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:35:46.730 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:35:46.734 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 11:35:46.734 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 11:35:46.736 +08:00 [INF] 请求方法: GET
2025-05-30 11:35:46.738 +08:00 [INF] 请求方法: GET
2025-05-30 11:35:46.741 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:35:46.742 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:35:46.743 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 11:35:46.745 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 11:35:46.747 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:35:46.750 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:35:46.752 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:35:46.754 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:35:46.756 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:35:46.759 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:35:46.761 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2I4ZmExMzAtZjcwMC00NmJhLTliZDEtZTU3NTdhMmJlZGZhIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzY1NjMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.8w3dn2Gs0dcK4ebcTL6T-Zo-dClzJwZ0FcbBUuI6IOg
2025-05-30 11:35:46.763 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2I4ZmExMzAtZjcwMC00NmJhLTliZDEtZTU3NTdhMmJlZGZhIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzY1NjMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.8w3dn2Gs0dcK4ebcTL6T-Zo-dClzJwZ0FcbBUuI6IOg
2025-05-30 11:35:46.766 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:35:46.768 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:35:46.770 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:35:46.772 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:35:46.775 +08:00 [INF] 请求头: traceparent = 00-e0ccaafcf1e4283bb96afd0a7ca3e1c2-e630742b221a518b-00
2025-05-30 11:35:46.777 +08:00 [INF] 请求头: traceparent = 00-0fde859f3491521d90ba59d35edca653-fb6da82f4ef004ea-00
2025-05-30 11:35:46.779 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:35:46.781 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:35:46.784 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:35:46.786 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:35:46.788 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:35:46.790 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:35:46.793 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:35:46.795 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:35:46.798 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:35:46.800 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:35:46.802 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:35:46.804 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:35:46.807 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:35:46.809 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:35:46.810 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:35:46.812 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:35:46.815 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:35:46.817 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:35:46.819 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:35:46.820 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:35:46.889 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:35:46.889 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:35:46.891 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:35:46.893 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:35:46.895 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:35:46.897 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:35:46.899 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:35:46.901 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:35:46.903 +08:00 [INF] JWT Claim: jti = cb8fa130-f700-46ba-9bd1-e5757a2bedfa
2025-05-30 11:35:46.905 +08:00 [INF] JWT Claim: jti = cb8fa130-f700-46ba-9bd1-e5757a2bedfa
2025-05-30 11:35:46.908 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:35:46.910 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:35:46.913 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:35:46.915 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:35:46.917 +08:00 [INF] JWT Claim: exp = 1748576563
2025-05-30 11:35:46.919 +08:00 [INF] JWT Claim: exp = 1748576563
2025-05-30 11:35:46.921 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:35:46.924 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:35:46.926 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:35:46.928 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:35:46.931 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:35:46.933 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:35:46.939 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2I4ZmExMzAtZjcwMC00NmJhLTliZDEtZTU3NTdhMmJlZGZhIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzY1NjMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.8w3dn2Gs0dcK4ebcTL6T-Zo-dClzJwZ0FcbBUuI6IOg]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-e0ccaafcf1e4283bb96afd0a7ca3e1c2-e630742b221a518b-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 11:35:46.939 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2I4ZmExMzAtZjcwMC00NmJhLTliZDEtZTU3NTdhMmJlZGZhIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzY1NjMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.8w3dn2Gs0dcK4ebcTL6T-Zo-dClzJwZ0FcbBUuI6IOg]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-0fde859f3491521d90ba59d35edca653-fb6da82f4ef004ea-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 11:35:47.099 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:35:47.099 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:35:47.161 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 11:35:47.161 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 11:35:47.210 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 11:35:47.214 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 11:35:50.064 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 11:35:50.064 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 11:35:50.070 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:35:50.074 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:35:50.075 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 11:35:50.076 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 11:35:50.078 +08:00 [INF] 请求方法: GET
2025-05-30 11:35:50.079 +08:00 [INF] 请求方法: GET
2025-05-30 11:35:50.081 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:35:50.083 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:35:50.084 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 11:35:50.087 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 11:35:50.089 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:35:50.092 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:35:50.094 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:35:50.097 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:35:50.099 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:35:50.102 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:35:50.104 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2I4ZmExMzAtZjcwMC00NmJhLTliZDEtZTU3NTdhMmJlZGZhIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzY1NjMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.8w3dn2Gs0dcK4ebcTL6T-Zo-dClzJwZ0FcbBUuI6IOg
2025-05-30 11:35:50.107 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2I4ZmExMzAtZjcwMC00NmJhLTliZDEtZTU3NTdhMmJlZGZhIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzY1NjMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.8w3dn2Gs0dcK4ebcTL6T-Zo-dClzJwZ0FcbBUuI6IOg
2025-05-30 11:35:50.109 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:35:50.112 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:35:50.115 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:35:50.117 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:35:50.119 +08:00 [INF] 请求头: traceparent = 00-e102343e0bc7c7f3424119494d46e8ca-48c42b4df53c257e-00
2025-05-30 11:35:50.120 +08:00 [INF] 请求头: traceparent = 00-ff30d648467f9506d0268e25e0c66a88-dd434cdbe1a9e183-00
2025-05-30 11:35:50.123 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:35:50.125 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:35:50.127 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:35:50.129 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:35:50.131 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:35:50.133 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:35:50.135 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:35:50.137 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:35:50.139 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:35:50.141 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:35:50.143 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:35:50.155 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:35:50.157 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:35:50.159 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:35:50.161 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:35:50.163 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:35:50.165 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:35:50.167 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:35:50.168 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:35:50.169 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:35:50.171 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:35:50.172 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:35:50.174 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:35:50.176 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:35:50.178 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:35:50.180 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:35:50.182 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:35:50.184 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:35:50.186 +08:00 [INF] JWT Claim: jti = cb8fa130-f700-46ba-9bd1-e5757a2bedfa
2025-05-30 11:35:50.188 +08:00 [INF] JWT Claim: jti = cb8fa130-f700-46ba-9bd1-e5757a2bedfa
2025-05-30 11:35:50.191 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:35:50.193 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:35:50.195 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:35:50.197 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:35:50.199 +08:00 [INF] JWT Claim: exp = 1748576563
2025-05-30 11:35:50.201 +08:00 [INF] JWT Claim: exp = 1748576563
2025-05-30 11:35:50.203 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:35:50.217 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:35:50.219 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:35:50.221 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:35:50.224 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:35:50.226 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:35:50.227 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2I4ZmExMzAtZjcwMC00NmJhLTliZDEtZTU3NTdhMmJlZGZhIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzY1NjMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.8w3dn2Gs0dcK4ebcTL6T-Zo-dClzJwZ0FcbBUuI6IOg]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-e102343e0bc7c7f3424119494d46e8ca-48c42b4df53c257e-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 11:35:50.229 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2I4ZmExMzAtZjcwMC00NmJhLTliZDEtZTU3NTdhMmJlZGZhIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzY1NjMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.8w3dn2Gs0dcK4ebcTL6T-Zo-dClzJwZ0FcbBUuI6IOg]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-ff30d648467f9506d0268e25e0c66a88-dd434cdbe1a9e183-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 11:35:50.245 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:35:50.251 +08:00 [INF] Executed DbCommand (72ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 11:35:50.251 +08:00 [INF] Executed DbCommand (72ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 11:35:50.254 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:35:50.261 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 11:35:50.265 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 11:35:50.266 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 11:35:50.268 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 11:35:50.391 +08:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 11:35:50.410 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 11:35:50.460 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:35:50.461 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:35:50.522 +08:00 [INF] Executed DbCommand (41ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 11:35:50.522 +08:00 [INF] Executed DbCommand (42ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 11:35:50.528 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 3308.3473ms
2025-05-30 11:35:50.528 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 252.1594ms
2025-05-30 11:35:50.534 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 11:35:50.535 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 11:35:50.537 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 11:35:50.537 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 11:35:50.539 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 468ms
2025-05-30 11:35:50.539 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 3862ms
2025-05-30 11:35:50.541 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:35:50.542 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:35:50.555 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 499 null application/json; charset=utf-8 3893.5093ms
2025-05-30 11:35:50.555 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 490.6553ms
2025-05-30 11:35:50.597 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 321.8921ms
2025-05-30 11:35:50.598 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 3379.511ms
2025-05-30 11:35:50.600 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 11:35:50.603 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 11:35:50.604 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 530ms
2025-05-30 11:35:50.606 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 3930ms
2025-05-30 11:35:50.609 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 545.2236ms
2025-05-30 11:35:50.612 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 499 null application/json; charset=utf-8 3946.3868ms
2025-05-30 11:37:04.766 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-30 11:37:05.178 +08:00 [INF] Now listening on: https://localhost:5001
2025-05-30 11:37:05.323 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 11:37:05.326 +08:00 [INF] Hosting environment: Development
2025-05-30 11:37:05.327 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.PropertyService
2025-05-30 11:37:08.591 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-05-30 11:37:08.625 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-05-30 11:37:08.744 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 160.5718ms
2025-05-30 11:37:09.133 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 509.0482ms
2025-05-30 11:37:09.940 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-05-30 11:37:10.045 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 105.8753ms
2025-05-30 11:37:33.511 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 11:37:33.511 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 11:37:33.552 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:37:33.552 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:37:33.554 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 11:37:33.554 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 11:37:33.555 +08:00 [INF] 请求方法: GET
2025-05-30 11:37:33.556 +08:00 [INF] 请求方法: GET
2025-05-30 11:37:33.557 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:37:33.558 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:37:33.559 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 11:37:33.560 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 11:37:33.561 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:37:33.563 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:37:33.564 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:37:33.565 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:37:33.566 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:37:33.567 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:37:33.569 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2I4ZmExMzAtZjcwMC00NmJhLTliZDEtZTU3NTdhMmJlZGZhIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzY1NjMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.8w3dn2Gs0dcK4ebcTL6T-Zo-dClzJwZ0FcbBUuI6IOg
2025-05-30 11:37:33.570 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2I4ZmExMzAtZjcwMC00NmJhLTliZDEtZTU3NTdhMmJlZGZhIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzY1NjMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.8w3dn2Gs0dcK4ebcTL6T-Zo-dClzJwZ0FcbBUuI6IOg
2025-05-30 11:37:33.571 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:37:33.572 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:37:33.573 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:37:33.575 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:37:33.576 +08:00 [INF] 请求头: traceparent = 00-0e77eea0f9e2e72818c0dccef75965b0-e86a725048e07a4d-00
2025-05-30 11:37:33.577 +08:00 [INF] 请求头: traceparent = 00-44355186db3187e016d4242fef1b4183-229d7bca8b1a724f-00
2025-05-30 11:37:33.578 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:37:33.579 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:37:33.581 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:37:33.581 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:37:33.583 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:37:33.584 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:37:33.585 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:37:33.586 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:37:33.587 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:37:33.588 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:37:33.589 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:37:33.590 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:37:33.591 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:37:33.592 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:37:33.593 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:37:33.595 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:37:33.596 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:37:33.597 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:37:33.598 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:37:33.599 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:37:33.634 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:37:33.634 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:37:33.636 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:37:33.636 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:37:33.637 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:37:33.639 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:37:33.640 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:37:33.641 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:37:33.642 +08:00 [INF] JWT Claim: jti = cb8fa130-f700-46ba-9bd1-e5757a2bedfa
2025-05-30 11:37:33.643 +08:00 [INF] JWT Claim: jti = cb8fa130-f700-46ba-9bd1-e5757a2bedfa
2025-05-30 11:37:33.645 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:37:33.646 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:37:33.647 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:37:33.648 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:37:33.649 +08:00 [INF] JWT Claim: exp = 1748576563
2025-05-30 11:37:33.650 +08:00 [INF] JWT Claim: exp = 1748576563
2025-05-30 11:37:33.651 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:37:33.652 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:37:33.653 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:37:33.655 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:37:33.656 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:37:33.657 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:37:33.662 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2I4ZmExMzAtZjcwMC00NmJhLTliZDEtZTU3NTdhMmJlZGZhIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzY1NjMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.8w3dn2Gs0dcK4ebcTL6T-Zo-dClzJwZ0FcbBUuI6IOg]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-44355186db3187e016d4242fef1b4183-229d7bca8b1a724f-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 11:37:33.662 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2I4ZmExMzAtZjcwMC00NmJhLTliZDEtZTU3NTdhMmJlZGZhIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzY1NjMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.8w3dn2Gs0dcK4ebcTL6T-Zo-dClzJwZ0FcbBUuI6IOg]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-0e77eea0f9e2e72818c0dccef75965b0-e86a725048e07a4d-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 11:37:33.735 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:37:33.735 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:37:33.762 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 11:37:33.762 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 11:37:33.783 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 11:37:33.786 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 11:37:35.639 +08:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 11:37:35.639 +08:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 11:37:35.751 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:37:35.790 +08:00 [INF] Executed DbCommand (32ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 11:37:35.790 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 2001.1881ms
2025-05-30 11:37:35.796 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 11:37:35.799 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 2281ms
2025-05-30 11:37:35.799 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 11:37:35.804 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:37:35.809 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 2298.4838ms
2025-05-30 11:37:35.840 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 2051.5541ms
2025-05-30 11:37:35.842 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 11:37:35.844 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 2326ms
2025-05-30 11:37:35.847 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 2336.4191ms
2025-05-30 11:37:43.464 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 11:37:43.470 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:37:43.471 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 11:37:43.472 +08:00 [INF] 请求方法: GET
2025-05-30 11:37:43.474 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:37:43.475 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 11:37:43.478 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:37:43.480 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:37:43.482 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:37:43.483 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOTliYmI3MGItMjBhZS00ZWVmLTg5NTItYWNiNWQwYzI4YWEzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzY4NjIsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.1LQoQa-xw65YwXVMOhLzbswR-4hilzsevZiYSzMxqB4
2025-05-30 11:37:43.486 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:37:43.488 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:37:43.490 +08:00 [INF] 请求头: traceparent = 00-b9bad1f63e1e544cb8fcc54ccedffdb1-8406a6aa64720939-00
2025-05-30 11:37:43.491 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:37:43.494 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:37:43.496 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:37:43.498 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:37:43.500 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:37:43.501 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:37:43.503 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:37:43.505 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:37:43.507 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:37:43.508 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:37:43.509 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:37:43.511 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:37:43.513 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:37:43.514 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:37:43.516 +08:00 [INF] JWT Claim: jti = 99bbb70b-20ae-4eef-8952-acb5d0c28aa3
2025-05-30 11:37:43.517 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:37:43.519 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:37:43.521 +08:00 [INF] JWT Claim: exp = 1748576862
2025-05-30 11:37:43.522 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:37:43.524 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:37:43.525 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:37:43.527 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOTliYmI3MGItMjBhZS00ZWVmLTg5NTItYWNiNWQwYzI4YWEzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzY4NjIsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.1LQoQa-xw65YwXVMOhLzbswR-4hilzsevZiYSzMxqB4]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-b9bad1f63e1e544cb8fcc54ccedffdb1-8406a6aa64720939-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 11:37:43.539 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:37:43.546 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 11:37:43.548 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 11:37:43.630 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 11:37:43.635 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:37:43.637 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 87.0635ms
2025-05-30 11:37:43.640 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 11:37:43.642 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 171ms
2025-05-30 11:37:43.645 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 181.2404ms
2025-05-30 11:37:43.712 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 11:37:43.716 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:37:43.717 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 11:37:43.719 +08:00 [INF] 请求方法: GET
2025-05-30 11:37:43.721 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:37:43.723 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 11:37:43.726 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:37:43.728 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:37:43.730 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:37:43.732 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOTliYmI3MGItMjBhZS00ZWVmLTg5NTItYWNiNWQwYzI4YWEzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzY4NjIsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.1LQoQa-xw65YwXVMOhLzbswR-4hilzsevZiYSzMxqB4
2025-05-30 11:37:43.734 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:37:43.736 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:37:43.738 +08:00 [INF] 请求头: traceparent = 00-8be56bfef778afc6a6094c452cbca479-8038fde446d47e2e-00
2025-05-30 11:37:43.740 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:37:43.742 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:37:43.744 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:37:43.746 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:37:43.748 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:37:43.750 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:37:43.752 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:37:43.754 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:37:43.756 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:37:43.758 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:37:43.759 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:37:43.761 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:37:43.763 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:37:43.765 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:37:43.767 +08:00 [INF] JWT Claim: jti = 99bbb70b-20ae-4eef-8952-acb5d0c28aa3
2025-05-30 11:37:43.769 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:37:43.771 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:37:43.773 +08:00 [INF] JWT Claim: exp = 1748576862
2025-05-30 11:37:43.774 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:37:43.776 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:37:43.778 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:37:43.780 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOTliYmI3MGItMjBhZS00ZWVmLTg5NTItYWNiNWQwYzI4YWEzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzY4NjIsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.1LQoQa-xw65YwXVMOhLzbswR-4hilzsevZiYSzMxqB4]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-8be56bfef778afc6a6094c452cbca479-8038fde446d47e2e-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 11:37:43.791 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:37:43.792 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 11:37:43.794 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 11:37:43.806 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 11:37:43.814 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 11:37:43.818 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 11:37:43.820 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:37:43.822 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 25.6265ms
2025-05-30 11:37:43.825 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 11:37:43.827 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 111ms
2025-05-30 11:37:43.831 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 118.8763ms
2025-05-30 11:37:48.598 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 11:37:48.602 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:37:48.603 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 11:37:48.604 +08:00 [INF] 请求方法: GET
2025-05-30 11:37:48.605 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:37:48.607 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 11:37:48.608 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:37:48.610 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:37:48.611 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:37:48.613 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOTMyMmFlOGQtYWEzOS00ZjgzLTk2NmEtNDc5NDA0MDkyZjU4IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzY4NjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.GWR5gykNgdbKVKGFj-OpIBVqHFmfffmbOAVgJB28awM
2025-05-30 11:37:48.615 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:37:48.616 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:37:48.618 +08:00 [INF] 请求头: traceparent = 00-f297037659db0ca041e69ff7f920acf0-276bd5cb18cf37bf-00
2025-05-30 11:37:48.619 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:37:48.621 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:37:48.622 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:37:48.624 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:37:48.626 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:37:48.628 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:37:48.630 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:37:48.631 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:37:48.633 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:37:48.634 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:37:48.635 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:37:48.637 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:37:48.638 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:37:48.639 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:37:48.641 +08:00 [INF] JWT Claim: jti = 9322ae8d-aa39-4f83-966a-479404092f58
2025-05-30 11:37:48.643 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:37:48.645 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:37:48.647 +08:00 [INF] JWT Claim: exp = 1748576867
2025-05-30 11:37:48.648 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:37:48.650 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:37:48.652 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:37:48.653 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOTMyMmFlOGQtYWEzOS00ZjgzLTk2NmEtNDc5NDA0MDkyZjU4IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzY4NjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.GWR5gykNgdbKVKGFj-OpIBVqHFmfffmbOAVgJB28awM]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-f297037659db0ca041e69ff7f920acf0-276bd5cb18cf37bf-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 11:37:48.665 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:37:48.666 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 11:37:48.668 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 11:37:48.681 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 11:37:48.690 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 11:37:48.695 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 11:37:48.697 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:37:48.700 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 28.7552ms
2025-05-30 11:37:48.702 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 11:37:48.704 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 102ms
2025-05-30 11:37:48.708 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 110.2445ms
2025-05-30 11:37:48.870 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 11:37:48.874 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:37:48.876 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 11:37:48.877 +08:00 [INF] 请求方法: GET
2025-05-30 11:37:48.879 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:37:48.881 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 11:37:48.883 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:37:48.885 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:37:48.888 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:37:48.890 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOTMyMmFlOGQtYWEzOS00ZjgzLTk2NmEtNDc5NDA0MDkyZjU4IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzY4NjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.GWR5gykNgdbKVKGFj-OpIBVqHFmfffmbOAVgJB28awM
2025-05-30 11:37:48.892 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:37:48.894 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:37:48.896 +08:00 [INF] 请求头: traceparent = 00-bce378398f89eec5fca72738ec56d8e5-4694166935390a22-00
2025-05-30 11:37:48.898 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:37:48.900 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:37:48.901 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:37:48.903 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:37:48.905 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:37:48.906 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:37:48.908 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:37:48.911 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:37:48.913 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:37:48.915 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:37:48.916 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:37:48.918 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:37:48.920 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:37:48.922 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:37:48.924 +08:00 [INF] JWT Claim: jti = 9322ae8d-aa39-4f83-966a-479404092f58
2025-05-30 11:37:48.926 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:37:48.929 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:37:48.931 +08:00 [INF] JWT Claim: exp = 1748576867
2025-05-30 11:37:48.933 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:37:48.935 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:37:48.937 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:37:48.938 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOTMyMmFlOGQtYWEzOS00ZjgzLTk2NmEtNDc5NDA0MDkyZjU4IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzY4NjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.GWR5gykNgdbKVKGFj-OpIBVqHFmfffmbOAVgJB28awM]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-bce378398f89eec5fca72738ec56d8e5-4694166935390a22-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 11:37:48.953 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:37:48.955 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 11:37:48.957 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 11:37:48.967 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 11:37:48.972 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:37:48.975 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 13.9906ms
2025-05-30 11:37:48.977 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 11:37:48.979 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 104ms
2025-05-30 11:37:48.982 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 112.1752ms
2025-05-30 11:38:39.826 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 11:38:39.830 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:38:39.831 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 11:38:39.832 +08:00 [INF] 请求方法: GET
2025-05-30 11:38:39.833 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:38:39.835 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 11:38:39.837 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:38:39.838 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:38:39.839 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:38:39.840 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOGIwYjM5OWYtMzdkOC00ZWU3LWI5Y2EtNzFlYTc3NTE3N2JhIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzY5MTgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.aiG-Bg7jJQ2Xe7e-trT7pv9KyVEiR55T1f8HiVh75XY
2025-05-30 11:38:39.842 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:38:39.844 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:38:39.845 +08:00 [INF] 请求头: traceparent = 00-c1f5ff34d7dbf2fe0260b89c66d383c0-f060cc3c15c96a77-00
2025-05-30 11:38:39.847 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:38:39.848 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:38:39.851 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:38:39.853 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:38:39.855 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:38:39.857 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:38:39.859 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 11:38:39.864 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:38:39.869 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:38:39.870 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:38:39.870 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 11:38:39.871 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:38:39.872 +08:00 [INF] 请求方法: GET
2025-05-30 11:38:39.873 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:38:39.874 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:38:39.875 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:38:39.876 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 11:38:39.876 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:38:39.878 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:38:39.879 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:38:39.880 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:38:39.881 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:38:39.882 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:38:39.883 +08:00 [INF] JWT Claim: jti = 8b0b399f-37d8-4ee7-b9ca-71ea775177ba
2025-05-30 11:38:39.884 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOGIwYjM5OWYtMzdkOC00ZWU3LWI5Y2EtNzFlYTc3NTE3N2JhIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzY5MTgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.aiG-Bg7jJQ2Xe7e-trT7pv9KyVEiR55T1f8HiVh75XY
2025-05-30 11:38:39.885 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:38:39.886 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:38:39.887 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:38:39.888 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:38:39.890 +08:00 [INF] JWT Claim: exp = 1748576918
2025-05-30 11:38:39.891 +08:00 [INF] 请求头: traceparent = 00-55a4f035366a429ed7bc274cc3006580-fcce41d3b1e8a41d-00
2025-05-30 11:38:39.892 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:38:39.893 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:38:39.894 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:38:39.895 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:38:39.896 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:38:39.897 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:38:39.898 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOGIwYjM5OWYtMzdkOC00ZWU3LWI5Y2EtNzFlYTc3NTE3N2JhIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzY5MTgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.aiG-Bg7jJQ2Xe7e-trT7pv9KyVEiR55T1f8HiVh75XY]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-c1f5ff34d7dbf2fe0260b89c66d383c0-f060cc3c15c96a77-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 11:38:39.899 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:38:39.906 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:38:39.907 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:38:39.908 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 11:38:39.909 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:38:39.910 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 11:38:39.911 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:38:39.914 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:38:39.915 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:38:39.917 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:38:39.918 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 11:38:39.919 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:38:39.921 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:38:39.923 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:38:39.923 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 11:38:39.924 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:38:39.927 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 11:38:39.928 +08:00 [INF] JWT Claim: jti = 8b0b399f-37d8-4ee7-b9ca-71ea775177ba
2025-05-30 11:38:39.929 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:38:39.930 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:38:39.932 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:38:39.932 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 18.8078ms
2025-05-30 11:38:39.934 +08:00 [INF] JWT Claim: exp = 1748576918
2025-05-30 11:38:39.935 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 11:38:39.936 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:38:39.937 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 107ms
2025-05-30 11:38:39.938 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:38:39.941 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 114.7126ms
2025-05-30 11:38:39.941 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:38:39.946 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOGIwYjM5OWYtMzdkOC00ZWU3LWI5Y2EtNzFlYTc3NTE3N2JhIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzY5MTgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.aiG-Bg7jJQ2Xe7e-trT7pv9KyVEiR55T1f8HiVh75XY]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-55a4f035366a429ed7bc274cc3006580-fcce41d3b1e8a41d-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 11:38:39.955 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:38:39.957 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 11:38:39.958 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 11:38:39.965 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 11:38:39.969 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:38:39.971 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 9.9281ms
2025-05-30 11:38:39.972 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 11:38:39.973 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 104ms
2025-05-30 11:38:39.977 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 118.3922ms
2025-05-30 11:38:58.817 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 11:38:58.820 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:38:58.821 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 11:38:58.822 +08:00 [INF] 请求方法: GET
2025-05-30 11:38:58.823 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:38:58.824 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 11:38:58.825 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:38:58.826 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:38:58.828 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:38:58.830 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMTUxM2I1NjItMTFiNC00MWNlLWIzOGQtMDE2MzcwODMxZGM0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzY5MzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.oTBDTrQP01SM7rvacED_eZKrAsQ20nZnVH6NAbeDj9A
2025-05-30 11:38:58.831 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:38:58.833 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:38:58.834 +08:00 [INF] 请求头: traceparent = 00-60989e4883205996d33d452fab4de5b6-309efd0f2c93135e-00
2025-05-30 11:38:58.836 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:38:58.837 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:38:58.839 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:38:58.840 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:38:58.841 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:38:58.843 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:38:58.844 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:38:58.846 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:38:58.847 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:38:58.848 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:38:58.849 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:38:58.850 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:38:58.852 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:38:58.853 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:38:58.855 +08:00 [INF] JWT Claim: jti = 1513b562-11b4-41ce-b38d-016370831dc4
2025-05-30 11:38:58.856 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:38:58.857 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:38:58.859 +08:00 [INF] JWT Claim: exp = 1748576938
2025-05-30 11:38:58.860 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:38:58.861 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:38:58.863 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:38:58.864 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMTUxM2I1NjItMTFiNC00MWNlLWIzOGQtMDE2MzcwODMxZGM0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzY5MzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.oTBDTrQP01SM7rvacED_eZKrAsQ20nZnVH6NAbeDj9A]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-60989e4883205996d33d452fab4de5b6-309efd0f2c93135e-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 11:38:58.872 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:38:58.874 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 11:38:58.875 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 11:38:58.886 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 11:38:58.894 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 11:38:58.897 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 11:38:58.898 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:38:58.900 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 22.586ms
2025-05-30 11:38:58.902 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 11:38:58.904 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 83ms
2025-05-30 11:38:58.907 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 89.7303ms
2025-05-30 11:38:59.092 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 11:38:59.097 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:38:59.098 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 11:38:59.100 +08:00 [INF] 请求方法: GET
2025-05-30 11:38:59.101 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:38:59.103 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 11:38:59.104 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:38:59.106 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:38:59.108 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:38:59.109 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMTUxM2I1NjItMTFiNC00MWNlLWIzOGQtMDE2MzcwODMxZGM0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzY5MzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.oTBDTrQP01SM7rvacED_eZKrAsQ20nZnVH6NAbeDj9A
2025-05-30 11:38:59.111 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:38:59.112 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:38:59.114 +08:00 [INF] 请求头: traceparent = 00-30236c3d5996227b9c40e6ef447a4626-a7d1c8c59cc02ec0-00
2025-05-30 11:38:59.116 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:38:59.118 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:38:59.119 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:38:59.121 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:38:59.122 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:38:59.124 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:38:59.125 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:38:59.127 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:38:59.128 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:38:59.130 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:38:59.131 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:38:59.132 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:38:59.133 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:38:59.135 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:38:59.136 +08:00 [INF] JWT Claim: jti = 1513b562-11b4-41ce-b38d-016370831dc4
2025-05-30 11:38:59.138 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:38:59.139 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:38:59.141 +08:00 [INF] JWT Claim: exp = 1748576938
2025-05-30 11:38:59.142 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:38:59.144 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:38:59.145 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:38:59.146 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMTUxM2I1NjItMTFiNC00MWNlLWIzOGQtMDE2MzcwODMxZGM0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzY5MzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.oTBDTrQP01SM7rvacED_eZKrAsQ20nZnVH6NAbeDj9A]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-30236c3d5996227b9c40e6ef447a4626-a7d1c8c59cc02ec0-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 11:38:59.155 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:38:59.156 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 11:38:59.158 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 11:38:59.165 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 11:38:59.169 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:38:59.171 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 11.09ms
2025-05-30 11:38:59.173 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 11:38:59.174 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 77ms
2025-05-30 11:38:59.178 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 85.3637ms
2025-05-30 11:46:46.001 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 11:46:46.007 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 11:46:46.012 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:46:46.015 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:46:46.017 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 11:46:46.016 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 11:46:46.018 +08:00 [INF] 请求方法: GET
2025-05-30 11:46:46.019 +08:00 [INF] 请求方法: GET
2025-05-30 11:46:46.020 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:46:46.022 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:46:46.023 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 11:46:46.024 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 11:46:46.026 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:46:46.027 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:46:46.028 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:46:46.030 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:46:46.031 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:46:46.033 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:46:46.034 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOGY0NWE5ZDYtZTJjMC00YTFjLTlhOTMtODFlZDEwODUxNTM5IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzc0MDUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.zLR9LcZkkaV2ge3VZWZ2QqV2VVxCDLtEaY1nHmESsqs
2025-05-30 11:46:46.036 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOGY0NWE5ZDYtZTJjMC00YTFjLTlhOTMtODFlZDEwODUxNTM5IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzc0MDUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.zLR9LcZkkaV2ge3VZWZ2QqV2VVxCDLtEaY1nHmESsqs
2025-05-30 11:46:46.037 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:46:46.039 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:46:46.040 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:46:46.042 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:46:46.043 +08:00 [INF] 请求头: traceparent = 00-5eb8d925fb2ec2bf9e814a061fb3a4f0-2ae3a22d6b4432f5-00
2025-05-30 11:46:46.045 +08:00 [INF] 请求头: traceparent = 00-f4abb190a2fc30ee921a9dbe80b9ee5a-e340f3bfa5f7ed39-00
2025-05-30 11:46:46.046 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:46:46.047 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:46:46.049 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:46:46.050 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:46:46.051 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:46:46.053 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:46:46.054 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:46:46.056 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:46:46.057 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:46:46.059 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:46:46.060 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:46:46.062 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:46:46.063 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:46:46.065 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:46:46.067 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:46:46.068 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:46:46.070 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:46:46.071 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:46:46.072 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:46:46.073 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:46:46.074 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:46:46.075 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:46:46.076 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:46:46.077 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:46:46.079 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:46:46.080 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:46:46.082 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:46:46.084 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:46:46.085 +08:00 [INF] JWT Claim: jti = 8f45a9d6-e2c0-4a1c-9a93-81ed10851539
2025-05-30 11:46:46.087 +08:00 [INF] JWT Claim: jti = 8f45a9d6-e2c0-4a1c-9a93-81ed10851539
2025-05-30 11:46:46.089 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:46:46.090 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:46:46.092 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:46:46.093 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:46:46.095 +08:00 [INF] JWT Claim: exp = 1748577405
2025-05-30 11:46:46.097 +08:00 [INF] JWT Claim: exp = 1748577405
2025-05-30 11:46:46.099 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:46:46.100 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:46:46.102 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:46:46.104 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:46:46.106 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:46:46.107 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:46:46.109 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOGY0NWE5ZDYtZTJjMC00YTFjLTlhOTMtODFlZDEwODUxNTM5IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzc0MDUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.zLR9LcZkkaV2ge3VZWZ2QqV2VVxCDLtEaY1nHmESsqs]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-5eb8d925fb2ec2bf9e814a061fb3a4f0-2ae3a22d6b4432f5-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 11:46:46.110 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOGY0NWE5ZDYtZTJjMC00YTFjLTlhOTMtODFlZDEwODUxNTM5IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzc0MDUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.zLR9LcZkkaV2ge3VZWZ2QqV2VVxCDLtEaY1nHmESsqs]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-f4abb190a2fc30ee921a9dbe80b9ee5a-e340f3bfa5f7ed39-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 11:46:46.120 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:46:46.130 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:46:46.131 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 11:46:46.132 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 11:46:46.134 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 11:46:46.135 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 11:46:46.167 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 11:46:46.172 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 11:46:46.175 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:46:46.179 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 41.0866ms
2025-05-30 11:46:46.179 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 11:46:46.181 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 11:46:46.184 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 11:46:46.185 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 169ms
2025-05-30 11:46:46.186 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:46:46.188 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 181.5802ms
2025-05-30 11:46:46.190 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 47.4711ms
2025-05-30 11:46:46.197 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 11:46:46.199 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 186ms
2025-05-30 11:46:46.202 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 201.6253ms
2025-05-30 11:47:02.214 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 11:47:02.218 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:47:02.219 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 11:47:02.220 +08:00 [INF] 请求方法: GET
2025-05-30 11:47:02.221 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:47:02.222 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 11:47:02.224 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:47:02.226 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:47:02.227 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:47:02.228 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOThhMWNlYzMtOTcwNS00YWZkLTlmMjAtNjJlNzQ4Y2VlYmY5IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzc0MjEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.QmvH1Apv5zhX7CwgYK4lnqWrbuNnDFlTZTlrLmF-ork
2025-05-30 11:47:02.229 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:47:02.231 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:47:02.232 +08:00 [INF] 请求头: traceparent = 00-b8cc7db06b99adb6c01fee7cb7749b4e-40b2fb35226ae9c1-00
2025-05-30 11:47:02.234 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:47:02.235 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:47:02.237 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:47:02.238 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:47:02.240 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:47:02.241 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:47:02.243 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:47:02.244 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:47:02.246 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:47:02.247 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:47:02.248 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:47:02.249 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:47:02.251 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:47:02.252 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:47:02.254 +08:00 [INF] JWT Claim: jti = 98a1cec3-9705-4afd-9f20-62e748ceebf9
2025-05-30 11:47:02.256 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:47:02.257 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:47:02.258 +08:00 [INF] JWT Claim: exp = 1748577421
2025-05-30 11:47:02.260 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:47:02.261 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:47:02.262 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:47:02.263 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOThhMWNlYzMtOTcwNS00YWZkLTlmMjAtNjJlNzQ4Y2VlYmY5IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzc0MjEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.QmvH1Apv5zhX7CwgYK4lnqWrbuNnDFlTZTlrLmF-ork]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-b8cc7db06b99adb6c01fee7cb7749b4e-40b2fb35226ae9c1-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 11:47:02.273 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:47:02.275 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 11:47:02.276 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 11:47:02.286 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 11:47:02.295 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 11:47:02.298 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 11:47:02.300 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:47:02.302 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 23.6631ms
2025-05-30 11:47:02.304 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 11:47:02.306 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 87ms
2025-05-30 11:47:02.308 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 93.7903ms
2025-05-30 11:47:02.445 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 11:47:02.450 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:47:02.451 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 11:47:02.453 +08:00 [INF] 请求方法: GET
2025-05-30 11:47:02.454 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:47:02.460 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 11:47:02.462 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:47:02.465 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:47:02.467 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:47:02.468 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOThhMWNlYzMtOTcwNS00YWZkLTlmMjAtNjJlNzQ4Y2VlYmY5IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzc0MjEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.QmvH1Apv5zhX7CwgYK4lnqWrbuNnDFlTZTlrLmF-ork
2025-05-30 11:47:02.470 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:47:02.471 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:47:02.473 +08:00 [INF] 请求头: traceparent = 00-65d01f807c59f5c34f5a5255ab918e3d-db20fea0648d4c01-00
2025-05-30 11:47:02.474 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:47:02.475 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:47:02.476 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:47:02.477 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:47:02.478 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:47:02.483 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:47:02.484 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:47:02.485 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:47:02.486 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:47:02.487 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:47:02.488 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:47:02.489 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:47:02.491 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:47:02.492 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:47:02.493 +08:00 [INF] JWT Claim: jti = 98a1cec3-9705-4afd-9f20-62e748ceebf9
2025-05-30 11:47:02.494 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:47:02.495 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:47:02.497 +08:00 [INF] JWT Claim: exp = 1748577421
2025-05-30 11:47:02.498 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:47:02.499 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:47:02.501 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:47:02.501 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOThhMWNlYzMtOTcwNS00YWZkLTlmMjAtNjJlNzQ4Y2VlYmY5IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzc0MjEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.QmvH1Apv5zhX7CwgYK4lnqWrbuNnDFlTZTlrLmF-ork]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-65d01f807c59f5c34f5a5255ab918e3d-db20fea0648d4c01-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 11:47:02.509 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:47:02.510 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 11:47:02.511 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 11:47:02.520 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 11:47:02.524 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:47:02.526 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 12.7052ms
2025-05-30 11:47:02.528 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 11:47:02.529 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 79ms
2025-05-30 11:47:02.533 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 87.7408ms
2025-05-30 11:47:15.709 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 11:47:15.712 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:47:15.713 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 11:47:15.714 +08:00 [INF] 请求方法: GET
2025-05-30 11:47:15.715 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:47:15.717 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 11:47:15.718 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:47:15.719 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 11:47:15.720 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:47:15.723 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:47:15.724 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:47:15.725 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 11:47:15.726 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzVjNzE2YmUtZjYzYi00NzVhLWE4ZTEtNjI4MWQ0Zjg3YmZjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzc0MzUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.MTA1xpuOwQ4n-sRq-LjMY_H10bQavegNhy28csvJPas
2025-05-30 11:47:15.727 +08:00 [INF] 请求方法: GET
2025-05-30 11:47:15.728 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:47:15.729 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:47:15.730 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:47:15.731 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 11:47:15.732 +08:00 [INF] 请求头: traceparent = 00-0a07f6b3dac91ea8687203d9a1c09eb4-48d4814db149d478-00
2025-05-30 11:47:15.733 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:47:15.734 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:47:15.735 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:47:15.736 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:47:15.737 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:47:15.738 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:47:15.740 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzVjNzE2YmUtZjYzYi00NzVhLWE4ZTEtNjI4MWQ0Zjg3YmZjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzc0MzUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.MTA1xpuOwQ4n-sRq-LjMY_H10bQavegNhy28csvJPas
2025-05-30 11:47:15.741 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:47:15.742 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:47:15.743 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:47:15.744 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:47:15.745 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:47:15.747 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:47:15.746 +08:00 [INF] 请求头: traceparent = 00-99a5622bd9092e28ab23640f4be04754-46ba14a44ca514bf-00
2025-05-30 11:47:15.749 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:47:15.750 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:47:15.751 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:47:15.752 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:47:15.753 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:47:15.754 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:47:15.755 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:47:15.756 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:47:15.757 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:47:15.759 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:47:15.760 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:47:15.758 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:47:15.762 +08:00 [INF] JWT Claim: jti = 35c716be-f63b-475a-a8e1-6281d4f87bfc
2025-05-30 11:47:15.763 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:47:15.764 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:47:15.766 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:47:15.767 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:47:15.768 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:47:15.769 +08:00 [INF] JWT Claim: exp = 1748577435
2025-05-30 11:47:15.770 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:47:15.772 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:47:15.773 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:47:15.774 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:47:15.776 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:47:15.777 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:47:15.778 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:47:15.779 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzVjNzE2YmUtZjYzYi00NzVhLWE4ZTEtNjI4MWQ0Zjg3YmZjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzc0MzUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.MTA1xpuOwQ4n-sRq-LjMY_H10bQavegNhy28csvJPas]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-0a07f6b3dac91ea8687203d9a1c09eb4-48d4814db149d478-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 11:47:15.780 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:47:15.788 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:47:15.790 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:47:15.791 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 11:47:15.792 +08:00 [INF] JWT Claim: jti = 35c716be-f63b-475a-a8e1-6281d4f87bfc
2025-05-30 11:47:15.794 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 11:47:15.795 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:47:15.799 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:47:15.801 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 11:47:15.802 +08:00 [INF] JWT Claim: exp = 1748577435
2025-05-30 11:47:15.806 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:47:15.807 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:47:15.807 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 11:47:15.808 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:47:15.811 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 11:47:15.812 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzVjNzE2YmUtZjYzYi00NzVhLWE4ZTEtNjI4MWQ0Zjg3YmZjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzc0MzUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.MTA1xpuOwQ4n-sRq-LjMY_H10bQavegNhy28csvJPas]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-99a5622bd9092e28ab23640f4be04754-46ba14a44ca514bf-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 11:47:15.813 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:47:15.822 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:47:15.824 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 26.0597ms
2025-05-30 11:47:15.824 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 11:47:15.826 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 11:47:15.827 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 11:47:15.828 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 115ms
2025-05-30 11:47:15.834 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 125.3365ms
2025-05-30 11:47:15.834 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 11:47:15.850 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:47:15.852 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 22.5674ms
2025-05-30 11:47:15.855 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 11:47:15.856 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 133ms
2025-05-30 11:47:15.859 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 140.3173ms
2025-05-30 11:49:36.611 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-30 11:49:37.331 +08:00 [INF] Now listening on: https://localhost:5001
2025-05-30 11:49:37.736 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 11:49:37.741 +08:00 [INF] Hosting environment: Development
2025-05-30 11:49:37.744 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.PropertyService
2025-05-30 11:49:38.592 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-05-30 11:49:38.735 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 160.107ms
2025-05-30 11:49:39.190 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-05-30 11:49:39.883 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 694.7896ms
2025-05-30 11:49:40.680 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-05-30 11:49:40.932 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 252.8554ms
2025-05-30 11:50:02.481 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 11:50:02.481 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 11:50:02.579 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:50:02.579 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:50:02.583 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 11:50:02.583 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 11:50:02.584 +08:00 [INF] 请求方法: GET
2025-05-30 11:50:02.586 +08:00 [INF] 请求方法: GET
2025-05-30 11:50:02.588 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:50:02.589 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:50:02.591 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 11:50:02.593 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 11:50:02.595 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:50:02.598 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:50:02.600 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:50:02.602 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:50:02.604 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:50:02.606 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:50:02.608 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMjFkYzA1MjYtZmYxOS00ZTI5LThlNWMtOTI5OThmMTM2OGRhIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzc2MDEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.DLrbDiLxi48wUnP_ebrJK2p2UaD1MgEGoj-ZPRzFse0
2025-05-30 11:50:02.611 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMjFkYzA1MjYtZmYxOS00ZTI5LThlNWMtOTI5OThmMTM2OGRhIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzc2MDEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.DLrbDiLxi48wUnP_ebrJK2p2UaD1MgEGoj-ZPRzFse0
2025-05-30 11:50:02.613 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:50:02.615 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:50:02.617 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:50:02.619 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:50:02.621 +08:00 [INF] 请求头: traceparent = 00-7fb7cbf013bb1fcabbb4aaa2ac2b1a62-53f1c3988c58217b-00
2025-05-30 11:50:02.623 +08:00 [INF] 请求头: traceparent = 00-21ee0119a0e6ea07a95537abbf5e7d27-79842b58c162ae71-00
2025-05-30 11:50:02.626 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:50:02.628 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:50:02.631 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:50:02.633 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:50:02.635 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:50:02.637 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:50:02.639 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:50:02.641 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:50:02.643 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:50:02.645 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:50:02.647 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:50:02.649 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:50:02.651 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:50:02.653 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:50:02.655 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:50:02.657 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:50:02.659 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:50:02.661 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:50:02.663 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:50:02.664 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:50:02.727 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:50:02.727 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:50:02.729 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:50:02.731 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:50:02.734 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:50:02.736 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:50:02.738 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:50:02.740 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:50:02.742 +08:00 [INF] JWT Claim: jti = 21dc0526-ff19-4e29-8e5c-92998f1368da
2025-05-30 11:50:02.744 +08:00 [INF] JWT Claim: jti = 21dc0526-ff19-4e29-8e5c-92998f1368da
2025-05-30 11:50:02.746 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:50:02.747 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:50:02.750 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:50:02.752 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:50:02.754 +08:00 [INF] JWT Claim: exp = 1748577601
2025-05-30 11:50:02.756 +08:00 [INF] JWT Claim: exp = 1748577601
2025-05-30 11:50:02.758 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:50:02.760 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:50:02.762 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:50:02.764 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:50:02.766 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:50:02.768 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:50:02.774 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMjFkYzA1MjYtZmYxOS00ZTI5LThlNWMtOTI5OThmMTM2OGRhIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzc2MDEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.DLrbDiLxi48wUnP_ebrJK2p2UaD1MgEGoj-ZPRzFse0]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-21ee0119a0e6ea07a95537abbf5e7d27-79842b58c162ae71-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 11:50:02.774 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMjFkYzA1MjYtZmYxOS00ZTI5LThlNWMtOTI5OThmMTM2OGRhIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzc2MDEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.DLrbDiLxi48wUnP_ebrJK2p2UaD1MgEGoj-ZPRzFse0]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-7fb7cbf013bb1fcabbb4aaa2ac2b1a62-53f1c3988c58217b-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 11:50:02.916 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:50:02.916 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:50:02.961 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 11:50:02.962 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 11:50:02.999 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 11:50:03.003 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 11:50:05.131 +08:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 11:50:05.131 +08:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 11:50:05.256 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:50:05.291 +08:00 [INF] Executed DbCommand (32ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 11:50:05.295 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 2289.0039ms
2025-05-30 11:50:05.297 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 11:50:05.298 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 11:50:05.299 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 2809ms
2025-05-30 11:50:05.299 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:50:05.307 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 2827.9981ms
2025-05-30 11:50:05.334 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 2326.6382ms
2025-05-30 11:50:05.336 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 11:50:05.338 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 2847ms
2025-05-30 11:50:05.340 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 2861.6046ms
2025-05-30 11:50:23.131 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 11:50:23.135 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:50:23.136 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 11:50:23.137 +08:00 [INF] 请求方法: GET
2025-05-30 11:50:23.139 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:50:23.140 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 11:50:23.142 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:50:23.143 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:50:23.144 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:50:23.146 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZTgzMDVmNzYtOTEwYi00NDgzLWJmZDktYmMyNmM2NDA1MTU0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzc2MjIsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.78M2kpXAG7oxQJTIOgv1n84vS8q2FIHHzzRvca_SHZQ
2025-05-30 11:50:23.147 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:50:23.148 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:50:23.150 +08:00 [INF] 请求头: traceparent = 00-51cd44e4dea0473516916e3b01cc1fa2-2fe4d3b9ab52e6bb-00
2025-05-30 11:50:23.151 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:50:23.152 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:50:23.154 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:50:23.156 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:50:23.157 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:50:23.159 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:50:23.160 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:50:23.162 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:50:23.163 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:50:23.164 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:50:23.165 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:50:23.167 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:50:23.168 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:50:23.170 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:50:23.171 +08:00 [INF] JWT Claim: jti = e8305f76-910b-4483-bfd9-bc26c6405154
2025-05-30 11:50:23.172 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:50:23.174 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:50:23.175 +08:00 [INF] JWT Claim: exp = 1748577622
2025-05-30 11:50:23.177 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:50:23.179 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:50:23.180 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:50:23.182 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZTgzMDVmNzYtOTEwYi00NDgzLWJmZDktYmMyNmM2NDA1MTU0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzc2MjIsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.78M2kpXAG7oxQJTIOgv1n84vS8q2FIHHzzRvca_SHZQ]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-51cd44e4dea0473516916e3b01cc1fa2-2fe4d3b9ab52e6bb-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 11:50:23.194 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:50:23.201 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 11:50:23.203 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 11:50:23.275 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 11:50:23.289 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 11:50:23.292 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 11:50:23.294 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:50:23.297 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 90.858ms
2025-05-30 11:50:23.298 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 11:50:23.300 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 165ms
2025-05-30 11:50:23.303 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 171.5796ms
2025-05-30 11:50:23.360 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 11:50:23.363 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:50:23.364 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 11:50:23.366 +08:00 [INF] 请求方法: GET
2025-05-30 11:50:23.367 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:50:23.368 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 11:50:23.370 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:50:23.372 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:50:23.373 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:50:23.375 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZTgzMDVmNzYtOTEwYi00NDgzLWJmZDktYmMyNmM2NDA1MTU0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzc2MjIsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.78M2kpXAG7oxQJTIOgv1n84vS8q2FIHHzzRvca_SHZQ
2025-05-30 11:50:23.377 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:50:23.378 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:50:23.380 +08:00 [INF] 请求头: traceparent = 00-8bdac639c8bfca2a508198ceca6b0ca1-4a67e66d5a7a77ac-00
2025-05-30 11:50:23.381 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:50:23.383 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:50:23.384 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:50:23.386 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:50:23.388 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:50:23.389 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:50:23.391 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:50:23.393 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:50:23.394 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:50:23.395 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:50:23.397 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:50:23.398 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:50:23.400 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:50:23.401 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:50:23.403 +08:00 [INF] JWT Claim: jti = e8305f76-910b-4483-bfd9-bc26c6405154
2025-05-30 11:50:23.404 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:50:23.406 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:50:23.407 +08:00 [INF] JWT Claim: exp = 1748577622
2025-05-30 11:50:23.408 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:50:23.410 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:50:23.411 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:50:23.413 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZTgzMDVmNzYtOTEwYi00NDgzLWJmZDktYmMyNmM2NDA1MTU0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzc2MjIsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.78M2kpXAG7oxQJTIOgv1n84vS8q2FIHHzzRvca_SHZQ]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-8bdac639c8bfca2a508198ceca6b0ca1-4a67e66d5a7a77ac-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 11:50:23.422 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:50:23.424 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 11:50:23.425 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 11:50:23.431 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 11:50:23.437 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:50:23.439 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 12.3642ms
2025-05-30 11:50:23.441 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 11:50:23.443 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 79ms
2025-05-30 11:50:23.445 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 85.6924ms
2025-05-30 11:53:58.719 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-30 11:53:59.295 +08:00 [INF] Now listening on: https://localhost:5001
2025-05-30 11:53:59.458 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 11:53:59.461 +08:00 [INF] Hosting environment: Development
2025-05-30 11:53:59.463 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.PropertyService
2025-05-30 11:54:01.665 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-05-30 11:54:01.930 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 293.4124ms
2025-05-30 11:54:02.255 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-05-30 11:54:03.261 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 1008.0341ms
2025-05-30 11:54:03.913 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-05-30 11:54:04.096 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 182.8876ms
2025-05-30 11:54:09.890 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 11:54:09.890 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 11:54:10.024 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:54:10.024 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:54:10.028 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 11:54:10.028 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 11:54:10.030 +08:00 [INF] 请求方法: GET
2025-05-30 11:54:10.032 +08:00 [INF] 请求方法: GET
2025-05-30 11:54:10.035 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:54:10.036 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:54:10.038 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 11:54:10.040 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 11:54:10.043 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:54:10.046 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:54:10.048 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:54:10.050 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:54:10.052 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:54:10.055 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:54:10.057 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZTgzMDVmNzYtOTEwYi00NDgzLWJmZDktYmMyNmM2NDA1MTU0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzc2MjIsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.78M2kpXAG7oxQJTIOgv1n84vS8q2FIHHzzRvca_SHZQ
2025-05-30 11:54:10.059 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZTgzMDVmNzYtOTEwYi00NDgzLWJmZDktYmMyNmM2NDA1MTU0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzc2MjIsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.78M2kpXAG7oxQJTIOgv1n84vS8q2FIHHzzRvca_SHZQ
2025-05-30 11:54:10.062 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:54:10.064 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:54:10.066 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:54:10.069 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:54:10.071 +08:00 [INF] 请求头: traceparent = 00-024b9577efe5734ca74147acc8965f9d-3584861a2d1993e2-00
2025-05-30 11:54:10.073 +08:00 [INF] 请求头: traceparent = 00-b8c9844c1be168900d9d5b5fd89ec49a-fac17d69e4042366-00
2025-05-30 11:54:10.076 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:54:10.079 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:54:10.083 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:54:10.085 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:54:10.087 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:54:10.090 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:54:10.093 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:54:10.096 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:54:10.099 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:54:10.102 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:54:10.104 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:54:10.107 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:54:10.110 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:54:10.112 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:54:10.114 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:54:10.116 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:54:10.118 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:54:10.120 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:54:10.122 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:54:10.123 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:54:10.212 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:54:10.212 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:54:10.214 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:54:10.216 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:54:10.218 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:54:10.220 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:54:10.222 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:54:10.225 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:54:10.227 +08:00 [INF] JWT Claim: jti = e8305f76-910b-4483-bfd9-bc26c6405154
2025-05-30 11:54:10.229 +08:00 [INF] JWT Claim: jti = e8305f76-910b-4483-bfd9-bc26c6405154
2025-05-30 11:54:10.232 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:54:10.234 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:54:10.236 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:54:10.238 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:54:10.241 +08:00 [INF] JWT Claim: exp = 1748577622
2025-05-30 11:54:10.243 +08:00 [INF] JWT Claim: exp = 1748577622
2025-05-30 11:54:10.246 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:54:10.248 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:54:10.250 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:54:10.252 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:54:10.254 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:54:10.257 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:54:10.263 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZTgzMDVmNzYtOTEwYi00NDgzLWJmZDktYmMyNmM2NDA1MTU0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzc2MjIsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.78M2kpXAG7oxQJTIOgv1n84vS8q2FIHHzzRvca_SHZQ]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-b8c9844c1be168900d9d5b5fd89ec49a-fac17d69e4042366-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 11:54:10.263 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZTgzMDVmNzYtOTEwYi00NDgzLWJmZDktYmMyNmM2NDA1MTU0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzc2MjIsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.78M2kpXAG7oxQJTIOgv1n84vS8q2FIHHzzRvca_SHZQ]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-024b9577efe5734ca74147acc8965f9d-3584861a2d1993e2-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 11:54:10.423 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:54:10.423 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:54:10.475 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 11:54:10.475 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 11:54:10.518 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 11:54:10.521 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 11:54:12.546 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 11:54:12.552 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:54:12.554 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 11:54:12.557 +08:00 [INF] 请求方法: GET
2025-05-30 11:54:12.559 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:54:12.562 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 11:54:12.565 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:54:12.568 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:54:12.571 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:54:12.573 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZTgzMDVmNzYtOTEwYi00NDgzLWJmZDktYmMyNmM2NDA1MTU0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzc2MjIsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.78M2kpXAG7oxQJTIOgv1n84vS8q2FIHHzzRvca_SHZQ
2025-05-30 11:54:12.577 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:54:12.581 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:54:12.584 +08:00 [INF] 请求头: traceparent = 00-3b00c7336b516d266422a7d619525696-77205c7f33d0f334-00
2025-05-30 11:54:12.588 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:54:12.591 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:54:12.594 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:54:12.597 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:54:12.600 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:54:12.603 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:54:12.607 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:54:12.610 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:54:12.613 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:54:12.615 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:54:12.618 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:54:12.620 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:54:12.623 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:54:12.625 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:54:12.628 +08:00 [INF] JWT Claim: jti = e8305f76-910b-4483-bfd9-bc26c6405154
2025-05-30 11:54:12.631 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:54:12.634 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:54:12.637 +08:00 [INF] JWT Claim: exp = 1748577622
2025-05-30 11:54:12.640 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:54:12.643 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:54:12.646 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:54:12.648 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZTgzMDVmNzYtOTEwYi00NDgzLWJmZDktYmMyNmM2NDA1MTU0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzc2MjIsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.78M2kpXAG7oxQJTIOgv1n84vS8q2FIHHzzRvca_SHZQ]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-3b00c7336b516d266422a7d619525696-77205c7f33d0f334-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 11:54:12.673 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:54:12.684 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 11:54:12.687 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 11:54:13.053 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 11:54:13.061 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:54:13.063 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 11:54:13.066 +08:00 [INF] 请求方法: GET
2025-05-30 11:54:13.068 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:54:13.072 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 11:54:13.075 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:54:13.078 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:54:13.082 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:54:13.085 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZTgzMDVmNzYtOTEwYi00NDgzLWJmZDktYmMyNmM2NDA1MTU0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzc2MjIsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.78M2kpXAG7oxQJTIOgv1n84vS8q2FIHHzzRvca_SHZQ
2025-05-30 11:54:13.089 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:54:13.093 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:54:13.096 +08:00 [INF] 请求头: traceparent = 00-e67862989cc34e49da2c173cfaa2bdb2-f7072a64c7d7d972-00
2025-05-30 11:54:13.099 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:54:13.103 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:54:13.106 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:54:13.109 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:54:13.112 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:54:13.115 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:54:13.118 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:54:13.121 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:54:13.124 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:54:13.126 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:54:13.128 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:54:13.132 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:54:13.135 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:54:13.139 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:54:13.142 +08:00 [INF] JWT Claim: jti = e8305f76-910b-4483-bfd9-bc26c6405154
2025-05-30 11:54:13.144 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:54:13.149 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:54:13.152 +08:00 [INF] JWT Claim: exp = 1748577622
2025-05-30 11:54:13.155 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:54:13.158 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:54:13.162 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:54:13.164 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZTgzMDVmNzYtOTEwYi00NDgzLWJmZDktYmMyNmM2NDA1MTU0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzc2MjIsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.78M2kpXAG7oxQJTIOgv1n84vS8q2FIHHzzRvca_SHZQ]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-e67862989cc34e49da2c173cfaa2bdb2-f7072a64c7d7d972-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 11:54:13.183 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:54:13.186 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 11:54:13.188 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 11:54:14.013 +08:00 [INF] Executed DbCommand (77ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 11:54:14.013 +08:00 [INF] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 11:54:14.013 +08:00 [INF] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 11:54:14.013 +08:00 [INF] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 11:54:14.180 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:54:14.180 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:54:14.238 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 1039.6519ms
2025-05-30 11:54:14.238 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 3708.7431ms
2025-05-30 11:54:14.240 +08:00 [INF] Executed DbCommand (50ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 11:54:14.240 +08:00 [INF] Executed DbCommand (50ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 11:54:14.242 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 11:54:14.244 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 11:54:14.256 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 1194ms
2025-05-30 11:54:14.256 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 4347ms
2025-05-30 11:54:14.258 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 11:54:14.258 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 11:54:14.266 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:54:14.267 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:54:14.271 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 1217.9895ms
2025-05-30 11:54:14.271 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 499 null application/json; charset=utf-8 4383.9783ms
2025-05-30 11:54:14.319 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 1626.4556ms
2025-05-30 11:54:14.321 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 3791.2515ms
2025-05-30 11:54:14.322 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 11:54:14.325 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 11:54:14.327 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 1774ms
2025-05-30 11:54:14.329 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 4419ms
2025-05-30 11:54:14.333 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 1786.9457ms
2025-05-30 11:54:14.336 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 499 null application/json; charset=utf-8 4449.1827ms
2025-05-30 12:00:49.256 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-30 12:00:49.651 +08:00 [INF] Now listening on: https://localhost:5001
2025-05-30 12:00:49.826 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 12:00:49.835 +08:00 [INF] Hosting environment: Development
2025-05-30 12:00:49.856 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.PropertyService
2025-05-30 12:00:52.780 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-05-30 12:00:52.827 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 61.6149ms
2025-05-30 12:00:52.841 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-05-30 12:00:53.057 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 216.9426ms
2025-05-30 12:00:53.700 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-05-30 12:00:53.806 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 106.447ms
2025-05-30 12:12:38.631 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 12:12:38.644 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 12:12:38.682 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 12:12:38.682 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 12:12:38.684 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 12:12:38.684 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 12:12:38.685 +08:00 [INF] 请求方法: GET
2025-05-30 12:12:38.686 +08:00 [INF] 请求方法: GET
2025-05-30 12:12:38.687 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 12:12:38.687 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 12:12:38.689 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 12:12:38.690 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 12:12:38.691 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 12:12:38.692 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 12:12:38.693 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 12:12:38.694 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 12:12:38.695 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 12:12:38.696 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 12:12:38.697 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiN2VkNTU0YjYtZDcyNS00ZGY0LWFlZjctOWVhNzY1Y2M1MWFlIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzg5NTcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.VxNE7A29hV5W46r9r5Ot9e7rVUMv4L_SY2Z2LqKpKLQ
2025-05-30 12:12:38.698 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiN2VkNTU0YjYtZDcyNS00ZGY0LWFlZjctOWVhNzY1Y2M1MWFlIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzg5NTcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.VxNE7A29hV5W46r9r5Ot9e7rVUMv4L_SY2Z2LqKpKLQ
2025-05-30 12:12:38.699 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 12:12:38.700 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 12:12:38.701 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 12:12:38.702 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 12:12:38.703 +08:00 [INF] 请求头: traceparent = 00-ee2dfcb0c0675549bd96b67cd2f19506-18188a556a265438-00
2025-05-30 12:12:38.704 +08:00 [INF] 请求头: traceparent = 00-879ad42f321a64bba5723d101765d827-b98cc3bee837e98c-00
2025-05-30 12:12:38.705 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 12:12:38.706 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 12:12:38.708 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 12:12:38.709 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 12:12:38.710 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 12:12:38.711 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 12:12:38.712 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 12:12:38.713 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 12:12:38.714 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 12:12:38.715 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 12:12:38.716 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 12:12:38.717 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 12:12:38.718 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 12:12:38.719 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 12:12:38.720 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 12:12:38.721 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 12:12:38.723 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 12:12:38.724 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 12:12:38.725 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 12:12:38.725 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 12:12:38.758 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 12:12:38.758 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 12:12:38.759 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 12:12:38.760 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 12:12:38.761 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 12:12:38.762 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 12:12:38.764 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 12:12:38.765 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 12:12:38.766 +08:00 [INF] JWT Claim: jti = 7ed554b6-d725-4df4-aef7-9ea765cc51ae
2025-05-30 12:12:38.767 +08:00 [INF] JWT Claim: jti = 7ed554b6-d725-4df4-aef7-9ea765cc51ae
2025-05-30 12:12:38.768 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 12:12:38.769 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 12:12:38.770 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 12:12:38.771 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 12:12:38.772 +08:00 [INF] JWT Claim: exp = 1748578957
2025-05-30 12:12:38.773 +08:00 [INF] JWT Claim: exp = 1748578957
2025-05-30 12:12:38.774 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 12:12:38.776 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 12:12:38.777 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 12:12:38.778 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 12:12:38.779 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 12:12:38.780 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 12:12:38.783 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiN2VkNTU0YjYtZDcyNS00ZGY0LWFlZjctOWVhNzY1Y2M1MWFlIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzg5NTcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.VxNE7A29hV5W46r9r5Ot9e7rVUMv4L_SY2Z2LqKpKLQ]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-879ad42f321a64bba5723d101765d827-b98cc3bee837e98c-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 12:12:38.783 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiN2VkNTU0YjYtZDcyNS00ZGY0LWFlZjctOWVhNzY1Y2M1MWFlIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzg5NTcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.VxNE7A29hV5W46r9r5Ot9e7rVUMv4L_SY2Z2LqKpKLQ]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-ee2dfcb0c0675549bd96b67cd2f19506-18188a556a265438-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 12:12:38.845 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 12:12:38.845 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 12:12:38.866 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 12:12:38.866 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 12:12:38.883 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 12:12:38.884 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 12:12:39.999 +08:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 12:12:39.999 +08:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 12:12:40.074 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 12:12:40.103 +08:00 [INF] Executed DbCommand (27ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 12:12:40.106 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 1219.5795ms
2025-05-30 12:12:40.108 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 12:12:40.109 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 12:12:40.110 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 1458ms
2025-05-30 12:12:40.111 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 12:12:40.117 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 1487.6583ms
2025-05-30 12:12:40.133 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 1246.5518ms
2025-05-30 12:12:40.135 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 12:12:40.136 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 1483ms
2025-05-30 12:12:40.137 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 1495.7126ms
2025-05-30 12:12:46.960 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 12:12:46.964 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 12:12:46.965 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 12:12:46.966 +08:00 [INF] 请求方法: GET
2025-05-30 12:12:46.967 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 12:12:46.968 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 12:12:46.970 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 12:12:46.971 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 12:12:46.973 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 12:12:46.974 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiN2VkNTU0YjYtZDcyNS00ZGY0LWFlZjctOWVhNzY1Y2M1MWFlIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzg5NTcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.VxNE7A29hV5W46r9r5Ot9e7rVUMv4L_SY2Z2LqKpKLQ
2025-05-30 12:12:46.976 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 12:12:46.977 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 12:12:46.978 +08:00 [INF] 请求头: traceparent = 00-cecaf070cc705529011b7622146439ea-f6072c605fc32716-00
2025-05-30 12:12:46.978 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 12:12:46.979 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 12:12:46.981 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 12:12:46.982 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 12:12:46.983 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 12:12:46.985 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 12:12:46.986 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 12:12:46.987 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 12:12:46.988 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 12:12:46.989 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 12:12:46.990 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 12:12:46.991 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 12:12:46.992 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 12:12:46.993 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 12:12:46.994 +08:00 [INF] JWT Claim: jti = 7ed554b6-d725-4df4-aef7-9ea765cc51ae
2025-05-30 12:12:46.995 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 12:12:46.996 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 12:12:46.998 +08:00 [INF] JWT Claim: exp = 1748578957
2025-05-30 12:12:46.999 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 12:12:47.000 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 12:12:47.002 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 12:12:47.003 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiN2VkNTU0YjYtZDcyNS00ZGY0LWFlZjctOWVhNzY1Y2M1MWFlIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzg5NTcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.VxNE7A29hV5W46r9r5Ot9e7rVUMv4L_SY2Z2LqKpKLQ]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-cecaf070cc705529011b7622146439ea-f6072c605fc32716-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 12:12:47.012 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 12:12:47.016 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 12:12:47.017 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 12:12:47.062 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 12:12:47.070 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 12:12:47.073 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 12:12:47.074 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 12:12:47.076 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 56.9322ms
2025-05-30 12:12:47.077 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 12:12:47.078 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 114ms
2025-05-30 12:12:47.081 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 120.8957ms
2025-05-30 12:27:30.890 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-30 12:27:31.896 +08:00 [INF] Now listening on: https://localhost:5001
2025-05-30 12:27:32.281 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 12:27:32.289 +08:00 [INF] Hosting environment: Development
2025-05-30 12:27:32.294 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.PropertyService
2025-05-30 12:27:33.841 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-05-30 12:27:33.912 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 89.8334ms
2025-05-30 12:27:34.129 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-05-30 12:27:34.420 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 291.839ms
2025-05-30 12:27:34.896 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-05-30 12:27:35.070 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 173.9023ms
2025-05-30 12:27:52.107 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 12:27:52.107 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 12:27:52.167 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 12:27:52.167 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 12:27:52.170 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 12:27:52.170 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 12:27:52.172 +08:00 [INF] 请求方法: GET
2025-05-30 12:27:52.173 +08:00 [INF] 请求方法: GET
2025-05-30 12:27:52.175 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 12:27:52.175 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 12:27:52.177 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 12:27:52.179 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 12:27:52.180 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 12:27:52.181 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 12:27:52.183 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 12:27:52.184 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 12:27:52.186 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 12:27:52.188 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 12:27:52.189 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODQ2Njg5NTQtZTBmMi00ZWY2LTlmOGYtOGRhOTJjZDllNDZmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzk4NzEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.lAoIAfJ6uBp9SIPe3_BU-CsurbR7-n3LKsx91ssN0KI
2025-05-30 12:27:52.190 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODQ2Njg5NTQtZTBmMi00ZWY2LTlmOGYtOGRhOTJjZDllNDZmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzk4NzEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.lAoIAfJ6uBp9SIPe3_BU-CsurbR7-n3LKsx91ssN0KI
2025-05-30 12:27:52.192 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 12:27:52.193 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 12:27:52.195 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 12:27:52.196 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 12:27:52.197 +08:00 [INF] 请求头: traceparent = 00-1bc5a5bb574f7b77812b66708014680e-817af14a68f11f4c-00
2025-05-30 12:27:52.199 +08:00 [INF] 请求头: traceparent = 00-5cd1acde23e78c8b76bef1bb3f4ffc77-cd3f9f8d7f3e84c7-00
2025-05-30 12:27:52.200 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 12:27:52.202 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 12:27:52.204 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 12:27:52.205 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 12:27:52.206 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 12:27:52.208 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 12:27:52.209 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 12:27:52.210 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 12:27:52.212 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 12:27:52.213 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 12:27:52.214 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 12:27:52.215 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 12:27:52.217 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 12:27:52.218 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 12:27:52.220 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 12:27:52.221 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 12:27:52.222 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 12:27:52.224 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 12:27:52.225 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 12:27:52.226 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 12:27:52.278 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 12:27:52.278 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 12:27:52.279 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 12:27:52.280 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 12:27:52.282 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 12:27:52.284 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 12:27:52.285 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 12:27:52.286 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 12:27:52.288 +08:00 [INF] JWT Claim: jti = 84668954-e0f2-4ef6-9f8f-8da92cd9e46f
2025-05-30 12:27:52.289 +08:00 [INF] JWT Claim: jti = 84668954-e0f2-4ef6-9f8f-8da92cd9e46f
2025-05-30 12:27:52.291 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 12:27:52.293 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 12:27:52.294 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 12:27:52.296 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 12:27:52.297 +08:00 [INF] JWT Claim: exp = 1748579871
2025-05-30 12:27:52.299 +08:00 [INF] JWT Claim: exp = 1748579871
2025-05-30 12:27:52.300 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 12:27:52.302 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 12:27:52.303 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 12:27:52.305 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 12:27:52.306 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 12:27:52.308 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 12:27:52.312 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODQ2Njg5NTQtZTBmMi00ZWY2LTlmOGYtOGRhOTJjZDllNDZmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzk4NzEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.lAoIAfJ6uBp9SIPe3_BU-CsurbR7-n3LKsx91ssN0KI]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-5cd1acde23e78c8b76bef1bb3f4ffc77-cd3f9f8d7f3e84c7-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 12:27:52.312 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODQ2Njg5NTQtZTBmMi00ZWY2LTlmOGYtOGRhOTJjZDllNDZmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzk4NzEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.lAoIAfJ6uBp9SIPe3_BU-CsurbR7-n3LKsx91ssN0KI]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-1bc5a5bb574f7b77812b66708014680e-817af14a68f11f4c-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 12:27:52.420 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 12:27:52.420 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 12:27:52.455 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 12:27:52.455 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 12:27:52.481 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 12:27:52.483 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 12:27:54.635 +08:00 [INF] Executed DbCommand (66ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 12:27:54.635 +08:00 [INF] Executed DbCommand (66ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 12:27:54.803 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 12:27:54.847 +08:00 [INF] Executed DbCommand (43ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 12:27:54.854 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 2364.238ms
2025-05-30 12:27:54.858 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 12:27:54.860 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 12:27:54.863 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 2747ms
2025-05-30 12:27:54.864 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 12:27:54.879 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 2773.1792ms
2025-05-30 12:27:54.919 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 2431.2938ms
2025-05-30 12:27:54.921 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 12:27:54.922 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 2806ms
2025-05-30 12:27:54.926 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 2820.8789ms
2025-05-30 12:28:14.600 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 12:28:14.604 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 12:28:14.605 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 12:28:14.606 +08:00 [INF] 请求方法: GET
2025-05-30 12:28:14.608 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 12:28:14.610 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 12:28:14.614 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 12:28:14.616 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 12:28:14.617 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 12:28:14.619 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODQ2Njg5NTQtZTBmMi00ZWY2LTlmOGYtOGRhOTJjZDllNDZmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzk4NzEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.lAoIAfJ6uBp9SIPe3_BU-CsurbR7-n3LKsx91ssN0KI
2025-05-30 12:28:14.621 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 12:28:14.623 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 12:28:14.625 +08:00 [INF] 请求头: traceparent = 00-2fa86b8003afc255a6755a80d876b734-8d58594d6a67cb15-00
2025-05-30 12:28:14.626 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 12:28:14.627 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 12:28:14.629 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 12:28:14.630 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 12:28:14.632 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 12:28:14.633 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 12:28:14.635 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 12:28:14.637 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 12:28:14.639 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 12:28:14.640 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 12:28:14.641 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 12:28:14.644 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 12:28:14.645 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 12:28:14.645 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 12:28:14.646 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 12:28:14.647 +08:00 [INF] 请求方法: GET
2025-05-30 12:28:14.648 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 12:28:14.650 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 12:28:14.651 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 12:28:14.652 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 12:28:14.654 +08:00 [INF] JWT Claim: jti = 84668954-e0f2-4ef6-9f8f-8da92cd9e46f
2025-05-30 12:28:14.655 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 12:28:14.656 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 12:28:14.657 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 12:28:14.659 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 12:28:14.660 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 12:28:14.661 +08:00 [INF] JWT Claim: exp = 1748579871
2025-05-30 12:28:14.663 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODQ2Njg5NTQtZTBmMi00ZWY2LTlmOGYtOGRhOTJjZDllNDZmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzk4NzEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.lAoIAfJ6uBp9SIPe3_BU-CsurbR7-n3LKsx91ssN0KI
2025-05-30 12:28:14.664 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 12:28:14.666 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 12:28:14.667 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 12:28:14.669 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 12:28:14.670 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 12:28:14.671 +08:00 [INF] 请求头: traceparent = 00-c7d36655f06f3f94938259402b90cf80-1659cccde47db259-00
2025-05-30 12:28:14.673 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODQ2Njg5NTQtZTBmMi00ZWY2LTlmOGYtOGRhOTJjZDllNDZmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzk4NzEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.lAoIAfJ6uBp9SIPe3_BU-CsurbR7-n3LKsx91ssN0KI]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-2fa86b8003afc255a6755a80d876b734-8d58594d6a67cb15-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 12:28:14.674 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 12:28:14.685 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 12:28:14.687 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 12:28:14.687 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 12:28:14.689 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 12:28:14.691 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 12:28:14.693 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 12:28:14.693 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 12:28:14.694 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 12:28:14.696 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 12:28:14.697 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 12:28:14.701 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 12:28:14.702 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 12:28:14.703 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 12:28:14.705 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 12:28:14.706 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 12:28:14.708 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 12:28:14.709 +08:00 [INF] JWT Claim: jti = 84668954-e0f2-4ef6-9f8f-8da92cd9e46f
2025-05-30 12:28:14.711 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 12:28:14.713 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 12:28:14.714 +08:00 [INF] JWT Claim: exp = 1748579871
2025-05-30 12:28:14.716 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 12:28:14.717 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 12:28:14.719 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 12:28:14.720 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODQ2Njg5NTQtZTBmMi00ZWY2LTlmOGYtOGRhOTJjZDllNDZmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzk4NzEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.lAoIAfJ6uBp9SIPe3_BU-CsurbR7-n3LKsx91ssN0KI]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-c7d36655f06f3f94938259402b90cf80-1659cccde47db259-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 12:28:14.729 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 12:28:14.731 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 12:28:14.732 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 12:28:14.778 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 12:28:14.786 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 12:28:14.793 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 12:28:14.796 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 96.4168ms
2025-05-30 12:28:14.797 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 12:28:14.800 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 195ms
2025-05-30 12:28:14.802 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 12:28:14.803 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 203.4416ms
2025-05-30 12:28:14.806 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 12:28:14.812 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 12:28:14.813 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 78.4885ms
2025-05-30 12:28:14.815 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 12:28:14.817 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 173ms
2025-05-30 12:28:14.821 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 180.6735ms
2025-05-30 12:28:19.516 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-30 12:28:19.520 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 12:28:19.521 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 12:28:19.522 +08:00 [INF] 请求方法: GET
2025-05-30 12:28:19.523 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 12:28:19.524 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 12:28:19.526 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 12:28:19.527 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 12:28:19.528 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 12:28:19.530 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODQ2Njg5NTQtZTBmMi00ZWY2LTlmOGYtOGRhOTJjZDllNDZmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzk4NzEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.lAoIAfJ6uBp9SIPe3_BU-CsurbR7-n3LKsx91ssN0KI
2025-05-30 12:28:19.531 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 12:28:19.533 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 12:28:19.534 +08:00 [INF] 请求头: traceparent = 00-ef7f570d728e368e1e4ecbb37af844ef-8fb25562317abd63-00
2025-05-30 12:28:19.535 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 12:28:19.537 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 12:28:19.538 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 12:28:19.540 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 12:28:19.541 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 12:28:19.543 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 12:28:19.544 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 12:28:19.545 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 12:28:19.547 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 12:28:19.547 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 12:28:19.549 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 12:28:19.550 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 12:28:19.551 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 12:28:19.553 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 12:28:19.554 +08:00 [INF] JWT Claim: jti = 84668954-e0f2-4ef6-9f8f-8da92cd9e46f
2025-05-30 12:28:19.555 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 12:28:19.557 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 12:28:19.558 +08:00 [INF] JWT Claim: exp = 1748579871
2025-05-30 12:28:19.559 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 12:28:19.561 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 12:28:19.562 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 12:28:19.563 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODQ2Njg5NTQtZTBmMi00ZWY2LTlmOGYtOGRhOTJjZDllNDZmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzk4NzEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.lAoIAfJ6uBp9SIPe3_BU-CsurbR7-n3LKsx91ssN0KI]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-ef7f570d728e368e1e4ecbb37af844ef-8fb25562317abd63-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 12:28:19.573 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 12:28:19.574 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 12:28:19.576 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 12:28:19.585 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 12:28:19.590 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 12:28:19.594 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 12:28:19.595 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 12:28:19.597 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 19.1322ms
2025-05-30 12:28:19.599 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 12:28:19.600 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 80ms
2025-05-30 12:28:19.603 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 87.7106ms
2025-05-30 12:59:25.478 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-30 12:59:25.947 +08:00 [INF] Now listening on: https://localhost:5001
2025-05-30 12:59:26.174 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 12:59:26.200 +08:00 [INF] Hosting environment: Development
2025-05-30 12:59:26.225 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.PropertyService
2025-05-30 12:59:26.807 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-05-30 12:59:26.849 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 60.62ms
2025-05-30 12:59:27.024 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-05-30 12:59:27.216 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 191.9849ms
2025-05-30 12:59:27.621 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-05-30 12:59:27.781 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 160.8254ms
2025-05-30 13:01:05.491 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 13:01:05.491 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 13:01:05.553 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:01:05.553 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:01:05.556 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 13:01:05.556 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 13:01:05.557 +08:00 [INF] 请求方法: GET
2025-05-30 13:01:05.558 +08:00 [INF] 请求方法: GET
2025-05-30 13:01:05.560 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:01:05.561 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:01:05.562 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 13:01:05.563 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 13:01:05.565 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:01:05.566 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:01:05.568 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:01:05.569 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:01:05.571 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:01:05.572 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:01:05.573 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOTFhOTBhMDktYzVmMy00ZjBhLTg0ODctZjA3ZGI5MWEzYjBiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODE4NjQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.yOfsgUvWiHhPvofwzifGyIrwpxAJ5_sAW4cX5oUaJHo
2025-05-30 13:01:05.575 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOTFhOTBhMDktYzVmMy00ZjBhLTg0ODctZjA3ZGI5MWEzYjBiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODE4NjQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.yOfsgUvWiHhPvofwzifGyIrwpxAJ5_sAW4cX5oUaJHo
2025-05-30 13:01:05.576 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:01:05.577 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:01:05.578 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:01:05.580 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:01:05.581 +08:00 [INF] 请求头: traceparent = 00-58d4a3148d51cf17fa137481d26bbc55-64fdc996e0401008-00
2025-05-30 13:01:05.582 +08:00 [INF] 请求头: traceparent = 00-5a8a84469ab8a325976697e0d0d9f0ee-16a768efa83332b6-00
2025-05-30 13:01:05.583 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:01:05.584 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:01:05.586 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:01:05.587 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:01:05.588 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:01:05.589 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:01:05.590 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:01:05.591 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:01:05.592 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:01:05.594 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:01:05.595 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:01:05.596 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:01:05.597 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:01:05.598 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:01:05.599 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:01:05.601 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:01:05.602 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:01:05.603 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:01:05.604 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:01:05.605 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:01:05.651 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:01:05.651 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:01:05.653 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:01:05.654 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:01:05.655 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:01:05.657 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:01:05.658 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:01:05.660 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:01:05.662 +08:00 [INF] JWT Claim: jti = 91a90a09-c5f3-4f0a-8487-f07db91a3b0b
2025-05-30 13:01:05.663 +08:00 [INF] JWT Claim: jti = 91a90a09-c5f3-4f0a-8487-f07db91a3b0b
2025-05-30 13:01:05.664 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:01:05.666 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:01:05.667 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:01:05.668 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:01:05.670 +08:00 [INF] JWT Claim: exp = 1748581864
2025-05-30 13:01:05.671 +08:00 [INF] JWT Claim: exp = 1748581864
2025-05-30 13:01:05.672 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:01:05.674 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:01:05.675 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:01:05.677 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:01:05.678 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:01:05.679 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:01:05.683 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOTFhOTBhMDktYzVmMy00ZjBhLTg0ODctZjA3ZGI5MWEzYjBiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODE4NjQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.yOfsgUvWiHhPvofwzifGyIrwpxAJ5_sAW4cX5oUaJHo]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-5a8a84469ab8a325976697e0d0d9f0ee-16a768efa83332b6-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 13:01:05.683 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOTFhOTBhMDktYzVmMy00ZjBhLTg0ODctZjA3ZGI5MWEzYjBiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODE4NjQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.yOfsgUvWiHhPvofwzifGyIrwpxAJ5_sAW4cX5oUaJHo]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-58d4a3148d51cf17fa137481d26bbc55-64fdc996e0401008-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 13:01:05.814 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:01:05.814 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:01:05.840 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 13:01:05.840 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 13:01:05.863 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 13:01:05.865 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 13:01:07.518 +08:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 13:01:07.518 +08:00 [INF] Executed DbCommand (87ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 13:01:07.610 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:01:07.648 +08:00 [INF] Executed DbCommand (34ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 13:01:07.650 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 1780.0836ms
2025-05-30 13:01:07.654 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 13:01:07.657 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 2157ms
2025-05-30 13:01:07.660 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 13:01:07.663 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:01:07.669 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 2178.7811ms
2025-05-30 13:01:07.699 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 1830.9979ms
2025-05-30 13:01:07.702 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 13:01:07.703 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 2203ms
2025-05-30 13:01:07.706 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 2215.9989ms
2025-05-30 13:14:30.570 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-30 13:14:31.179 +08:00 [INF] Now listening on: https://localhost:5001
2025-05-30 13:14:31.414 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 13:14:31.418 +08:00 [INF] Hosting environment: Development
2025-05-30 13:14:31.421 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.PropertyService
2025-05-30 13:14:33.085 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-05-30 13:14:33.136 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 66.4344ms
2025-05-30 13:14:33.335 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-05-30 13:14:33.899 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 566.8518ms
2025-05-30 13:14:34.533 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-05-30 13:14:34.608 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 75.8541ms
2025-05-30 13:15:06.712 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 13:15:06.712 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 13:15:06.759 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:15:06.759 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:15:06.761 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 13:15:06.761 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 13:15:06.762 +08:00 [INF] 请求方法: GET
2025-05-30 13:15:06.763 +08:00 [INF] 请求方法: GET
2025-05-30 13:15:06.765 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:15:06.765 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:15:06.766 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 13:15:06.767 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 13:15:06.768 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:15:06.769 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:15:06.770 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:15:06.771 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:15:06.773 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:15:06.774 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:15:06.775 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMjUwNjVlY2YtYzFiNS00ZmM2LWI3N2MtOGFiMmIzMTVhN2I4IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODI3MDUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.NFGr7-ad3vTcgUN1tndn3aNg7pCWMzFGAAGYrlB5DOA
2025-05-30 13:15:06.776 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMjUwNjVlY2YtYzFiNS00ZmM2LWI3N2MtOGFiMmIzMTVhN2I4IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODI3MDUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.NFGr7-ad3vTcgUN1tndn3aNg7pCWMzFGAAGYrlB5DOA
2025-05-30 13:15:06.777 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:15:06.778 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:15:06.780 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:15:06.782 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:15:06.783 +08:00 [INF] 请求头: traceparent = 00-41d6cf934f5855a8823e46b3705c36f6-c8b1f2becf238ef9-00
2025-05-30 13:15:06.784 +08:00 [INF] 请求头: traceparent = 00-ccfbbc52899513500e152b0e959a1258-8ac26f87ab231f2f-00
2025-05-30 13:15:06.785 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:15:06.786 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:15:06.788 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:15:06.789 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:15:06.790 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:15:06.791 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:15:06.792 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:15:06.793 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:15:06.795 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:15:06.797 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:15:06.798 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:15:06.800 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:15:06.801 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:15:06.802 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:15:06.803 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:15:06.805 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:15:06.806 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:15:06.807 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:15:06.808 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:15:06.809 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:15:06.848 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:15:06.848 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:15:06.849 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:15:06.850 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:15:06.851 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:15:06.853 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:15:06.854 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:15:06.855 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:15:06.857 +08:00 [INF] JWT Claim: jti = 25065ecf-c1b5-4fc6-b77c-8ab2b315a7b8
2025-05-30 13:15:06.858 +08:00 [INF] JWT Claim: jti = 25065ecf-c1b5-4fc6-b77c-8ab2b315a7b8
2025-05-30 13:15:06.859 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:15:06.860 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:15:06.861 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:15:06.863 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:15:06.864 +08:00 [INF] JWT Claim: exp = 1748582705
2025-05-30 13:15:06.865 +08:00 [INF] JWT Claim: exp = 1748582705
2025-05-30 13:15:06.867 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:15:06.868 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:15:06.869 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:15:06.870 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:15:06.872 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:15:06.873 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:15:06.876 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMjUwNjVlY2YtYzFiNS00ZmM2LWI3N2MtOGFiMmIzMTVhN2I4IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODI3MDUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.NFGr7-ad3vTcgUN1tndn3aNg7pCWMzFGAAGYrlB5DOA]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-41d6cf934f5855a8823e46b3705c36f6-c8b1f2becf238ef9-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 13:15:06.876 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMjUwNjVlY2YtYzFiNS00ZmM2LWI3N2MtOGFiMmIzMTVhN2I4IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODI3MDUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.NFGr7-ad3vTcgUN1tndn3aNg7pCWMzFGAAGYrlB5DOA]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-ccfbbc52899513500e152b0e959a1258-8ac26f87ab231f2f-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 13:15:06.971 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:15:06.971 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:15:07.001 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 13:15:07.001 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 13:15:07.020 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 13:15:07.022 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 13:15:08.838 +08:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 13:15:08.838 +08:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 13:15:08.952 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:15:08.981 +08:00 [INF] Executed DbCommand (31ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 13:15:08.985 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 1959.9034ms
2025-05-30 13:15:08.987 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 13:15:08.989 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 13:15:08.990 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 2271ms
2025-05-30 13:15:08.992 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:15:09.000 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 2288.3312ms
2025-05-30 13:15:09.022 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 1997.9887ms
2025-05-30 13:15:09.025 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 13:15:09.026 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 2307ms
2025-05-30 13:15:09.030 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 2318.5647ms
2025-05-30 13:33:46.483 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-30 13:33:47.006 +08:00 [INF] Now listening on: https://localhost:5001
2025-05-30 13:33:47.167 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 13:33:47.169 +08:00 [INF] Hosting environment: Development
2025-05-30 13:33:47.171 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.PropertyService
2025-05-30 13:33:48.210 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-05-30 13:33:48.321 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 134.2756ms
2025-05-30 13:33:48.783 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-05-30 13:33:49.013 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 231.4977ms
2025-05-30 13:33:49.894 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-05-30 13:33:50.177 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 284.0824ms
2025-05-30 13:34:47.891 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 13:34:47.891 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 13:34:47.950 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:34:47.950 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:34:47.953 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 13:34:47.953 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 13:34:47.954 +08:00 [INF] 请求方法: GET
2025-05-30 13:34:47.955 +08:00 [INF] 请求方法: GET
2025-05-30 13:34:47.957 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:34:47.958 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:34:47.959 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 13:34:47.960 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 13:34:47.962 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:34:47.963 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:34:47.965 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:34:47.966 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:34:47.969 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:34:47.970 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:34:47.972 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdmNTY5NTMtYTE2Yy00ZDNhLTkzMTAtOTYxM2RhN2QxZDg1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODM4ODYsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.DF9mPzkoIU0znT0YA9YJFRYIQdtijFBxdCYj6Fzy15U
2025-05-30 13:34:47.973 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdmNTY5NTMtYTE2Yy00ZDNhLTkzMTAtOTYxM2RhN2QxZDg1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODM4ODYsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.DF9mPzkoIU0znT0YA9YJFRYIQdtijFBxdCYj6Fzy15U
2025-05-30 13:34:47.975 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:34:47.977 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:34:47.978 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:34:47.979 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:34:47.981 +08:00 [INF] 请求头: traceparent = 00-b4aa05da69bf41f87166fa950a9aa6e8-de29c9fe926b170f-00
2025-05-30 13:34:47.983 +08:00 [INF] 请求头: traceparent = 00-7f5a443f922957ec236543dfaf434b53-95503d8a76416e4b-00
2025-05-30 13:34:47.984 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:34:47.986 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:34:47.988 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:34:47.989 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:34:47.990 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:34:47.992 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:34:47.994 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:34:47.995 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:34:47.996 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:34:47.998 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:34:47.999 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:34:48.001 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:34:48.002 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:34:48.003 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:34:48.005 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:34:48.006 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:34:48.008 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:34:48.010 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:34:48.012 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:34:48.013 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:34:48.074 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:34:48.074 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:34:48.075 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:34:48.076 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:34:48.078 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:34:48.079 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:34:48.081 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:34:48.082 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:34:48.084 +08:00 [INF] JWT Claim: jti = 57f56953-a16c-4d3a-9310-9613da7d1d85
2025-05-30 13:34:48.085 +08:00 [INF] JWT Claim: jti = 57f56953-a16c-4d3a-9310-9613da7d1d85
2025-05-30 13:34:48.087 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:34:48.088 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:34:48.090 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:34:48.091 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:34:48.093 +08:00 [INF] JWT Claim: exp = 1748583886
2025-05-30 13:34:48.094 +08:00 [INF] JWT Claim: exp = 1748583886
2025-05-30 13:34:48.096 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:34:48.097 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:34:48.099 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:34:48.100 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:34:48.102 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:34:48.103 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:34:48.108 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdmNTY5NTMtYTE2Yy00ZDNhLTkzMTAtOTYxM2RhN2QxZDg1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODM4ODYsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.DF9mPzkoIU0znT0YA9YJFRYIQdtijFBxdCYj6Fzy15U]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-7f5a443f922957ec236543dfaf434b53-95503d8a76416e4b-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 13:34:48.108 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdmNTY5NTMtYTE2Yy00ZDNhLTkzMTAtOTYxM2RhN2QxZDg1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODM4ODYsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.DF9mPzkoIU0znT0YA9YJFRYIQdtijFBxdCYj6Fzy15U]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-b4aa05da69bf41f87166fa950a9aa6e8-de29c9fe926b170f-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 13:34:48.211 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:34:48.211 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:34:48.246 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 13:34:48.246 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 13:34:48.276 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 13:34:48.279 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 13:34:50.669 +08:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 13:34:50.669 +08:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 13:34:50.824 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:34:50.854 +08:00 [INF] Executed DbCommand (33ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 13:34:50.860 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 2577.2997ms
2025-05-30 13:34:50.863 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 13:34:50.863 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 13:34:50.865 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 2965ms
2025-05-30 13:34:50.866 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:34:50.876 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 2986.4068ms
2025-05-30 13:34:50.904 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 2622.6265ms
2025-05-30 13:34:50.907 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 13:34:50.908 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 3008ms
2025-05-30 13:34:50.911 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 3021.7016ms
2025-05-30 13:44:56.610 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 13:44:56.616 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:44:56.618 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 13:44:56.620 +08:00 [INF] 请求方法: GET
2025-05-30 13:44:56.622 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:44:56.624 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 13:44:56.626 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:44:56.628 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:44:56.630 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:44:56.633 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNDI4N2U0MmYtYTY4ZC00MTgzLTg3NzgtNzJhY2YzMDgzMzFiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODQ0OTUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Mppf8HR7jbE7hhPiwKi8YH_ndwAiuzBkBrtC__tule8
2025-05-30 13:44:56.635 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:44:56.637 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:44:56.640 +08:00 [INF] 请求头: traceparent = 00-213ea17078d25a5b292a68dd77005d9d-d0c5747439f6d542-00
2025-05-30 13:44:56.642 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:44:56.644 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:44:56.646 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:44:56.649 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:44:56.651 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:44:56.653 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:44:56.656 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:44:56.658 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:44:56.660 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:44:56.661 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:44:56.664 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:44:56.666 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:44:56.668 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:44:56.671 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:44:56.673 +08:00 [INF] JWT Claim: jti = 4287e42f-a68d-4183-8778-72acf308331b
2025-05-30 13:44:56.675 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:44:56.677 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:44:56.680 +08:00 [INF] JWT Claim: exp = 1748584495
2025-05-30 13:44:56.682 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:44:56.684 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:44:56.687 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:44:56.689 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNDI4N2U0MmYtYTY4ZC00MTgzLTg3NzgtNzJhY2YzMDgzMzFiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODQ0OTUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Mppf8HR7jbE7hhPiwKi8YH_ndwAiuzBkBrtC__tule8]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-213ea17078d25a5b292a68dd77005d9d-d0c5747439f6d542-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 13:44:56.707 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:44:56.717 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 13:44:56.719 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 13:44:56.854 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 13:44:56.861 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:44:56.865 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 141.6068ms
2025-05-30 13:44:56.868 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 13:44:56.870 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 253ms
2025-05-30 13:44:56.874 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 264.5231ms
2025-05-30 13:44:56.922 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 13:44:56.929 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:44:56.931 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 13:44:56.933 +08:00 [INF] 请求方法: GET
2025-05-30 13:44:56.935 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:44:56.937 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 13:44:56.940 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:44:56.943 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:44:56.945 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:44:56.948 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNDI4N2U0MmYtYTY4ZC00MTgzLTg3NzgtNzJhY2YzMDgzMzFiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODQ0OTUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Mppf8HR7jbE7hhPiwKi8YH_ndwAiuzBkBrtC__tule8
2025-05-30 13:44:56.951 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:44:56.955 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:44:56.958 +08:00 [INF] 请求头: traceparent = 00-9b8c222fadd442f341eaa470672fb72f-7f775141d7609408-00
2025-05-30 13:44:56.961 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:44:56.964 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:44:56.966 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:44:56.969 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:44:56.972 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:44:56.975 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:44:56.978 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:44:56.981 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:44:56.983 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:44:56.985 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:44:56.988 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:44:56.990 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:44:56.993 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:44:56.995 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:44:56.998 +08:00 [INF] JWT Claim: jti = 4287e42f-a68d-4183-8778-72acf308331b
2025-05-30 13:44:57.001 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:44:57.003 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:44:57.006 +08:00 [INF] JWT Claim: exp = 1748584495
2025-05-30 13:44:57.009 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:44:57.011 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:44:57.013 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:44:57.015 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNDI4N2U0MmYtYTY4ZC00MTgzLTg3NzgtNzJhY2YzMDgzMzFiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODQ0OTUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Mppf8HR7jbE7hhPiwKi8YH_ndwAiuzBkBrtC__tule8]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-9b8c222fadd442f341eaa470672fb72f-7f775141d7609408-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 13:44:57.033 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:44:57.036 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 13:44:57.039 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 13:44:57.058 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 13:44:57.079 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 13:44:57.083 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 13:44:57.086 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:44:57.090 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 46.8978ms
2025-05-30 13:44:57.093 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 13:44:57.095 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 165ms
2025-05-30 13:44:57.099 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 176.9981ms
2025-05-30 13:50:30.300 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 13:50:30.323 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 13:50:30.327 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:50:30.330 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:50:30.331 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 13:50:30.332 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 13:50:30.333 +08:00 [INF] 请求方法: GET
2025-05-30 13:50:30.334 +08:00 [INF] 请求方法: GET
2025-05-30 13:50:30.336 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:50:30.337 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:50:30.338 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 13:50:30.340 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 13:50:30.341 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:50:30.342 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:50:30.344 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:50:30.345 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:50:30.347 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:50:30.348 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:50:30.350 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNDI4N2U0MmYtYTY4ZC00MTgzLTg3NzgtNzJhY2YzMDgzMzFiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODQ0OTUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Mppf8HR7jbE7hhPiwKi8YH_ndwAiuzBkBrtC__tule8
2025-05-30 13:50:30.353 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNDI4N2U0MmYtYTY4ZC00MTgzLTg3NzgtNzJhY2YzMDgzMzFiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODQ0OTUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Mppf8HR7jbE7hhPiwKi8YH_ndwAiuzBkBrtC__tule8
2025-05-30 13:50:30.355 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:50:30.356 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:50:30.358 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:50:30.359 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:50:30.361 +08:00 [INF] 请求头: traceparent = 00-ccdd5ba24812a0079b07cd82d1e78073-e271d26c8b81b1a1-00
2025-05-30 13:50:30.362 +08:00 [INF] 请求头: traceparent = 00-ee67a47db226b8b3de5b4e8993c4092d-98abd616baa7067a-00
2025-05-30 13:50:30.364 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:50:30.365 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:50:30.367 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:50:30.368 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:50:30.370 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:50:30.371 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:50:30.373 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:50:30.374 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:50:30.376 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:50:30.377 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:50:30.379 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:50:30.380 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:50:30.382 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:50:30.384 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:50:30.385 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:50:30.387 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:50:30.388 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:50:30.390 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:50:30.391 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:50:30.392 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:50:30.393 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:50:30.394 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:50:30.395 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:50:30.396 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:50:30.398 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:50:30.400 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:50:30.401 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:50:30.403 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:50:30.404 +08:00 [INF] JWT Claim: jti = 4287e42f-a68d-4183-8778-72acf308331b
2025-05-30 13:50:30.406 +08:00 [INF] JWT Claim: jti = 4287e42f-a68d-4183-8778-72acf308331b
2025-05-30 13:50:30.408 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:50:30.409 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:50:30.411 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:50:30.412 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:50:30.414 +08:00 [INF] JWT Claim: exp = 1748584495
2025-05-30 13:50:30.415 +08:00 [INF] JWT Claim: exp = 1748584495
2025-05-30 13:50:30.417 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:50:30.419 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:50:30.420 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:50:30.422 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:50:30.424 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:50:30.426 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:50:30.427 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNDI4N2U0MmYtYTY4ZC00MTgzLTg3NzgtNzJhY2YzMDgzMzFiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODQ0OTUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Mppf8HR7jbE7hhPiwKi8YH_ndwAiuzBkBrtC__tule8]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-ccdd5ba24812a0079b07cd82d1e78073-e271d26c8b81b1a1-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 13:50:30.428 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNDI4N2U0MmYtYTY4ZC00MTgzLTg3NzgtNzJhY2YzMDgzMzFiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODQ0OTUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Mppf8HR7jbE7hhPiwKi8YH_ndwAiuzBkBrtC__tule8]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-ee67a47db226b8b3de5b4e8993c4092d-98abd616baa7067a-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 13:50:30.440 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:50:30.451 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:50:30.452 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 13:50:30.453 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 13:50:30.454 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 13:50:30.455 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 13:50:30.476 +08:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 13:50:30.482 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:50:30.484 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 25.923ms
2025-05-30 13:50:30.488 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 13:50:30.491 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 13:50:30.492 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 165ms
2025-05-30 13:50:30.498 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 198.0252ms
2025-05-30 13:50:30.499 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 13:50:30.507 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 13:50:30.508 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:50:30.511 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 50.5988ms
2025-05-30 13:50:30.513 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 13:50:30.515 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 184ms
2025-05-30 13:50:30.519 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 196.4723ms
2025-05-30 13:55:06.377 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 13:55:06.392 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:55:06.393 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 13:55:06.394 +08:00 [INF] 请求方法: GET
2025-05-30 13:55:06.395 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:55:06.397 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 13:55:06.398 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 13:55:06.400 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:55:06.403 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:55:06.405 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:55:06.406 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 13:55:06.407 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:55:06.408 +08:00 [INF] 请求方法: GET
2025-05-30 13:55:06.410 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNzU5MWE5MjktNzI2My00YjQxLWJkY2EtZjg3OWUyN2FlNWEwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODUxMDUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.pQ-HCsXmzkjNqVl5_Z6bmH1OXkviPYwM6zdqGSKrvMw
2025-05-30 13:55:06.411 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:55:06.413 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:55:06.414 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 13:55:06.416 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:55:06.417 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:55:06.418 +08:00 [INF] 请求头: traceparent = 00-6b964cf6ae84869941df1b978ff25386-548d842219ee7dd1-00
2025-05-30 13:55:06.419 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:55:06.421 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:55:06.422 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:55:06.424 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:55:06.425 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNzU5MWE5MjktNzI2My00YjQxLWJkY2EtZjg3OWUyN2FlNWEwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODUxMDUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.pQ-HCsXmzkjNqVl5_Z6bmH1OXkviPYwM6zdqGSKrvMw
2025-05-30 13:55:06.427 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:55:06.428 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:55:06.429 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:55:06.431 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:55:06.432 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:55:06.433 +08:00 [INF] 请求头: traceparent = 00-8a10f9c9a41548d26856ae18fc4a0d64-4927219db57a6a36-00
2025-05-30 13:55:06.435 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:55:06.436 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:55:06.437 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:55:06.439 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:55:06.440 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:55:06.441 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:55:06.443 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:55:06.444 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:55:06.445 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:55:06.446 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:55:06.447 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:55:06.449 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:55:06.450 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:55:06.451 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:55:06.452 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:55:06.454 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:55:06.455 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:55:06.457 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:55:06.458 +08:00 [INF] JWT Claim: jti = 7591a929-7263-4b41-bdca-f879e27ae5a0
2025-05-30 13:55:06.459 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:55:06.460 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:55:06.462 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:55:06.463 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:55:06.464 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:55:06.465 +08:00 [INF] JWT Claim: exp = 1748585105
2025-05-30 13:55:06.467 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:55:06.468 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:55:06.469 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:55:06.471 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:55:06.472 +08:00 [INF] JWT Claim: jti = 7591a929-7263-4b41-bdca-f879e27ae5a0
2025-05-30 13:55:06.473 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:55:06.475 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:55:06.476 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNzU5MWE5MjktNzI2My00YjQxLWJkY2EtZjg3OWUyN2FlNWEwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODUxMDUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.pQ-HCsXmzkjNqVl5_Z6bmH1OXkviPYwM6zdqGSKrvMw]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-6b964cf6ae84869941df1b978ff25386-548d842219ee7dd1-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 13:55:06.477 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:55:06.486 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:55:06.487 +08:00 [INF] JWT Claim: exp = 1748585105
2025-05-30 13:55:06.488 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 13:55:06.489 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:55:06.491 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 13:55:06.492 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:55:06.496 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:55:06.497 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNzU5MWE5MjktNzI2My00YjQxLWJkY2EtZjg3OWUyN2FlNWEwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODUxMDUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.pQ-HCsXmzkjNqVl5_Z6bmH1OXkviPYwM6zdqGSKrvMw]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-8a10f9c9a41548d26856ae18fc4a0d64-4927219db57a6a36-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 13:55:06.500 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 13:55:06.508 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:55:06.511 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:55:06.511 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 13:55:06.514 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 13:55:06.514 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 19.9258ms
2025-05-30 13:55:06.518 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 13:55:06.522 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 130ms
2025-05-30 13:55:06.522 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 13:55:06.530 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 153.3029ms
2025-05-30 13:55:06.539 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 13:55:06.542 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 13:55:06.544 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:55:06.546 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 29.4073ms
2025-05-30 13:55:06.548 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 13:55:06.550 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 146ms
2025-05-30 13:55:06.553 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 154.9158ms
2025-05-30 15:56:29.276 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 15:56:29.284 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 15:56:29.285 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 15:56:29.291 +08:00 [INF] 请求方法: GET
2025-05-30 15:56:29.298 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 15:56:29.301 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 15:56:29.306 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 15:56:29.309 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 15:56:29.310 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 15:56:29.311 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 15:56:29.313 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 15:56:29.314 +08:00 [INF] 请求方法: GET
2025-05-30 15:56:29.315 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 15:56:29.316 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 15:56:29.318 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNzNjNTQ1MzYtNzZhNi00NjNjLTk2N2MtMmJmZDgzMWJhNjZkIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTIzODgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.FzTdHKtiS9Vsqf6LWEPtyPD3FGVM1DYtxGn6g__y7B4
2025-05-30 15:56:29.319 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 15:56:29.321 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 15:56:29.322 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 15:56:29.323 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 15:56:29.325 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 15:56:29.326 +08:00 [INF] 请求头: traceparent = 00-26065ee89f4e2128b936ba58fda8bd7d-0e9726394b0d7847-00
2025-05-30 15:56:29.327 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 15:56:29.329 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 15:56:29.330 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNzNjNTQ1MzYtNzZhNi00NjNjLTk2N2MtMmJmZDgzMWJhNjZkIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTIzODgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.FzTdHKtiS9Vsqf6LWEPtyPD3FGVM1DYtxGn6g__y7B4
2025-05-30 15:56:29.332 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 15:56:29.333 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 15:56:29.335 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 15:56:29.336 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 15:56:29.338 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 15:56:29.339 +08:00 [INF] 请求头: traceparent = 00-d1e978758fa7006712e2e13614b4158b-0a935b36f0792a0c-00
2025-05-30 15:56:29.340 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 15:56:29.341 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 15:56:29.343 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 15:56:29.344 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 15:56:29.346 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 15:56:29.347 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 15:56:29.348 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 15:56:29.349 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 15:56:29.351 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 15:56:29.352 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 15:56:29.353 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 15:56:29.354 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 15:56:29.357 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 15:56:29.357 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 15:56:29.358 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 15:56:29.359 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 15:56:29.360 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 15:56:29.362 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 15:56:29.363 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 15:56:29.364 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 15:56:29.365 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 15:56:29.366 +08:00 [INF] JWT Claim: jti = 73c54536-76a6-463c-967c-2bfd831ba66d
2025-05-30 15:56:29.367 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 15:56:29.368 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 15:56:29.370 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 15:56:29.371 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 15:56:29.372 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 15:56:29.374 +08:00 [INF] JWT Claim: exp = 1748592388
2025-05-30 15:56:29.375 +08:00 [INF] JWT Claim: jti = 73c54536-76a6-463c-967c-2bfd831ba66d
2025-05-30 15:56:29.376 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 15:56:29.377 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 15:56:29.379 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 15:56:29.380 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 15:56:29.381 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 15:56:29.383 +08:00 [INF] JWT Claim: exp = 1748592388
2025-05-30 15:56:29.384 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNzNjNTQ1MzYtNzZhNi00NjNjLTk2N2MtMmJmZDgzMWJhNjZkIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTIzODgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.FzTdHKtiS9Vsqf6LWEPtyPD3FGVM1DYtxGn6g__y7B4]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-26065ee89f4e2128b936ba58fda8bd7d-0e9726394b0d7847-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 15:56:29.385 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 15:56:29.395 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 15:56:29.396 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 15:56:29.397 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 15:56:29.399 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNzNjNTQ1MzYtNzZhNi00NjNjLTk2N2MtMmJmZDgzMWJhNjZkIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTIzODgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.FzTdHKtiS9Vsqf6LWEPtyPD3FGVM1DYtxGn6g__y7B4]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-d1e978758fa7006712e2e13614b4158b-0a935b36f0792a0c-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 15:56:29.399 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 15:56:29.408 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 15:56:29.410 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 15:56:29.410 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 15:56:29.414 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 15:56:29.465 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 15:56:29.468 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 15:56:29.472 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 15:56:29.475 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 58.5775ms
2025-05-30 15:56:29.477 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 15:56:29.477 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 15:56:29.478 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 169ms
2025-05-30 15:56:29.481 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 15:56:29.484 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 185.5998ms
2025-05-30 15:56:29.485 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 15:56:29.491 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 78.3802ms
2025-05-30 15:56:29.493 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 15:56:29.494 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 210ms
2025-05-30 15:56:29.497 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 220.9082ms
2025-05-30 16:07:53.531 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 16:07:53.541 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:07:53.542 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 16:07:53.543 +08:00 [INF] 请求方法: GET
2025-05-30 16:07:53.544 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:07:53.545 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 16:07:53.545 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:07:53.546 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:07:53.548 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:07:53.549 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiYTc3ZDUzODEtZTFjMy00MGIzLTgyNTUtZDgyYmYwMGU1MDhmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTMwNzMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Oj1HAbQ7oR7OwHPkr6ZUgKP3c1EZ2iZdWzsNZxw6QEw
2025-05-30 16:07:53.550 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:07:53.551 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:07:53.552 +08:00 [INF] 请求头: traceparent = 00-1bb83ce51c74a56b5cb8cdbf37a9a538-c3c68208ac4aaaee-00
2025-05-30 16:07:53.553 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:07:53.554 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:07:53.556 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:07:53.557 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:07:53.558 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:07:53.559 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:07:53.560 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:07:53.561 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:07:53.562 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:07:53.563 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:07:53.565 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:07:53.566 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:07:53.567 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:07:53.568 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:07:53.569 +08:00 [INF] JWT Claim: jti = a77d5381-e1c3-40b3-8255-d82bf00e508f
2025-05-30 16:07:53.570 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:07:53.571 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:07:53.573 +08:00 [INF] JWT Claim: exp = 1748593073
2025-05-30 16:07:53.574 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:07:53.575 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:07:53.576 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:07:53.577 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiYTc3ZDUzODEtZTFjMy00MGIzLTgyNTUtZDgyYmYwMGU1MDhmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTMwNzMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Oj1HAbQ7oR7OwHPkr6ZUgKP3c1EZ2iZdWzsNZxw6QEw]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-1bb83ce51c74a56b5cb8cdbf37a9a538-c3c68208ac4aaaee-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 16:07:53.586 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:07:53.588 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 16:07:53.590 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 16:07:53.631 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 16:07:53.641 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 16:07:53.643 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 16:07:53.645 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:07:53.647 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 55.3718ms
2025-05-30 16:07:53.649 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 16:07:53.650 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 109ms
2025-05-30 16:07:53.653 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 129.6504ms
2025-05-30 16:07:53.672 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 16:07:53.676 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:07:53.677 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 16:07:53.678 +08:00 [INF] 请求方法: GET
2025-05-30 16:07:53.679 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:07:53.680 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 16:07:53.681 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:07:53.682 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:07:53.684 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:07:53.685 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiYTc3ZDUzODEtZTFjMy00MGIzLTgyNTUtZDgyYmYwMGU1MDhmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTMwNzMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Oj1HAbQ7oR7OwHPkr6ZUgKP3c1EZ2iZdWzsNZxw6QEw
2025-05-30 16:07:53.686 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:07:53.687 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:07:53.689 +08:00 [INF] 请求头: traceparent = 00-291481afb754fbe4b5789a1e8aaa27f2-40d00385584713a1-00
2025-05-30 16:07:53.690 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:07:53.692 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:07:53.693 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:07:53.695 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:07:53.696 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:07:53.697 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:07:53.699 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:07:53.701 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:07:53.702 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:07:53.703 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:07:53.704 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:07:53.705 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:07:53.707 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:07:53.709 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:07:53.710 +08:00 [INF] JWT Claim: jti = a77d5381-e1c3-40b3-8255-d82bf00e508f
2025-05-30 16:07:53.711 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:07:53.712 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:07:53.713 +08:00 [INF] JWT Claim: exp = 1748593073
2025-05-30 16:07:53.714 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:07:53.715 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:07:53.717 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:07:53.718 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiYTc3ZDUzODEtZTFjMy00MGIzLTgyNTUtZDgyYmYwMGU1MDhmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTMwNzMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Oj1HAbQ7oR7OwHPkr6ZUgKP3c1EZ2iZdWzsNZxw6QEw]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-291481afb754fbe4b5789a1e8aaa27f2-40d00385584713a1-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 16:07:53.726 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:07:53.727 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 16:07:53.728 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 16:07:53.734 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 16:07:53.737 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:07:53.739 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 9.7552ms
2025-05-30 16:07:53.741 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 16:07:53.742 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 66ms
2025-05-30 16:07:53.744 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 71.5829ms
2025-05-30 16:17:56.079 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 16:17:56.082 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 16:17:56.085 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:17:56.087 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:17:56.088 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 16:17:56.089 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 16:17:56.090 +08:00 [INF] 请求方法: GET
2025-05-30 16:17:56.091 +08:00 [INF] 请求方法: GET
2025-05-30 16:17:56.092 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:17:56.093 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:17:56.094 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 16:17:56.097 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:17:56.095 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 16:17:56.098 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:17:56.099 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:17:56.100 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:17:56.102 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:17:56.104 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:17:56.103 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMmM2YTk5ZjktYTdjZS00MmEyLTk1YzItZjcxYjZhZjY5MjM1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTM2NzUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.x1KnyaXAMMGryEOmw8DRviI9ojA4cownAX5I3JTXgdw
2025-05-30 16:17:56.105 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMmM2YTk5ZjktYTdjZS00MmEyLTk1YzItZjcxYjZhZjY5MjM1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTM2NzUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.x1KnyaXAMMGryEOmw8DRviI9ojA4cownAX5I3JTXgdw
2025-05-30 16:17:56.106 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:17:56.107 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:17:56.108 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:17:56.110 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:17:56.111 +08:00 [INF] 请求头: traceparent = 00-64f5899f73a4c82c7957cbb4eb3458cf-c37f64302f2f0905-00
2025-05-30 16:17:56.112 +08:00 [INF] 请求头: traceparent = 00-e55863d16ed937221c06f4e661c6c857-033771a21dc8db55-00
2025-05-30 16:17:56.113 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:17:56.118 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:17:56.119 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:17:56.120 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:17:56.121 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:17:56.122 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:17:56.123 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:17:56.124 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:17:56.126 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:17:56.127 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:17:56.128 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:17:56.129 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:17:56.130 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:17:56.131 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:17:56.132 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:17:56.133 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:17:56.134 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:17:56.135 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:17:56.136 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:17:56.137 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:17:56.138 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:17:56.138 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:17:56.139 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:17:56.140 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:17:56.141 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:17:56.142 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:17:56.143 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:17:56.144 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:17:56.145 +08:00 [INF] JWT Claim: jti = 2c6a99f9-a7ce-42a2-95c2-f71b6af69235
2025-05-30 16:17:56.146 +08:00 [INF] JWT Claim: jti = 2c6a99f9-a7ce-42a2-95c2-f71b6af69235
2025-05-30 16:17:56.148 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:17:56.147 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:17:56.149 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:17:56.151 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:17:56.152 +08:00 [INF] JWT Claim: exp = 1748593675
2025-05-30 16:17:56.153 +08:00 [INF] JWT Claim: exp = 1748593675
2025-05-30 16:17:56.155 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:17:56.156 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:17:56.157 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:17:56.158 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:17:56.159 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:17:56.160 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:17:56.161 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMmM2YTk5ZjktYTdjZS00MmEyLTk1YzItZjcxYjZhZjY5MjM1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTM2NzUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.x1KnyaXAMMGryEOmw8DRviI9ojA4cownAX5I3JTXgdw]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-e55863d16ed937221c06f4e661c6c857-033771a21dc8db55-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 16:17:56.162 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMmM2YTk5ZjktYTdjZS00MmEyLTk1YzItZjcxYjZhZjY5MjM1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTM2NzUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.x1KnyaXAMMGryEOmw8DRviI9ojA4cownAX5I3JTXgdw]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-64f5899f73a4c82c7957cbb4eb3458cf-c37f64302f2f0905-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 16:17:56.169 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:17:56.176 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:17:56.177 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 16:17:56.177 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 16:17:56.178 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 16:17:56.179 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 16:17:56.217 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 16:17:56.222 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 16:17:56.228 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 16:17:56.228 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:17:56.231 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 16:17:56.232 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 49.1743ms
2025-05-30 16:17:56.233 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:17:56.235 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 16:17:56.238 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 152ms
2025-05-30 16:17:56.238 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 56.9611ms
2025-05-30 16:17:56.240 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 161.5688ms
2025-05-30 16:17:56.241 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 16:17:56.247 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 159ms
2025-05-30 16:17:56.250 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 167.707ms
2025-05-30 16:21:13.892 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-30 16:21:14.867 +08:00 [INF] Now listening on: https://localhost:5001
2025-05-30 16:21:15.181 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 16:21:15.187 +08:00 [INF] Hosting environment: Development
2025-05-30 16:21:15.190 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.PropertyService
2025-05-30 16:21:19.097 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-05-30 16:21:19.098 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-05-30 16:21:19.326 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 242.1062ms
2025-05-30 16:21:19.483 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 401.9051ms
2025-05-30 16:21:20.634 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-05-30 16:21:20.785 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 151.2273ms
2025-05-30 16:21:46.643 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 16:21:46.643 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 16:21:46.735 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:21:46.735 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:21:46.739 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 16:21:46.739 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 16:21:46.740 +08:00 [INF] 请求方法: GET
2025-05-30 16:21:46.742 +08:00 [INF] 请求方法: GET
2025-05-30 16:21:46.745 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:21:46.746 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:21:46.748 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 16:21:46.750 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 16:21:46.752 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:21:46.755 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:21:46.757 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:21:46.759 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:21:46.761 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:21:46.763 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:21:46.765 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMmM2YTk5ZjktYTdjZS00MmEyLTk1YzItZjcxYjZhZjY5MjM1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTM2NzUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.x1KnyaXAMMGryEOmw8DRviI9ojA4cownAX5I3JTXgdw
2025-05-30 16:21:46.767 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMmM2YTk5ZjktYTdjZS00MmEyLTk1YzItZjcxYjZhZjY5MjM1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTM2NzUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.x1KnyaXAMMGryEOmw8DRviI9ojA4cownAX5I3JTXgdw
2025-05-30 16:21:46.769 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:21:46.772 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:21:46.774 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:21:46.776 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:21:46.778 +08:00 [INF] 请求头: traceparent = 00-1f1e89ca12ba5af69e4ee69e8d875a4a-8c11011510b717e5-00
2025-05-30 16:21:46.780 +08:00 [INF] 请求头: traceparent = 00-cf68309dc7ba35d9b60409e3a8d7473e-127075b5677bfbaa-00
2025-05-30 16:21:46.782 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:21:46.784 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:21:46.787 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:21:46.789 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:21:46.790 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:21:46.792 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:21:46.794 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:21:46.796 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:21:46.798 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:21:46.800 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:21:46.802 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:21:46.804 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:21:46.806 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:21:46.808 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:21:46.810 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:21:46.812 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:21:46.814 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:21:46.816 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:21:46.817 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:21:46.818 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:21:46.894 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:21:46.894 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:21:46.896 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:21:46.898 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:21:46.900 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:21:46.903 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:21:46.905 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:21:46.908 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:21:46.910 +08:00 [INF] JWT Claim: jti = 2c6a99f9-a7ce-42a2-95c2-f71b6af69235
2025-05-30 16:21:46.913 +08:00 [INF] JWT Claim: jti = 2c6a99f9-a7ce-42a2-95c2-f71b6af69235
2025-05-30 16:21:46.917 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:21:46.920 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:21:46.925 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:21:46.928 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:21:46.932 +08:00 [INF] JWT Claim: exp = 1748593675
2025-05-30 16:21:46.934 +08:00 [INF] JWT Claim: exp = 1748593675
2025-05-30 16:21:46.938 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:21:46.940 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:21:46.943 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:21:46.946 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:21:46.948 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:21:46.951 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:21:46.958 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMmM2YTk5ZjktYTdjZS00MmEyLTk1YzItZjcxYjZhZjY5MjM1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTM2NzUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.x1KnyaXAMMGryEOmw8DRviI9ojA4cownAX5I3JTXgdw]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-1f1e89ca12ba5af69e4ee69e8d875a4a-8c11011510b717e5-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 16:21:46.958 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMmM2YTk5ZjktYTdjZS00MmEyLTk1YzItZjcxYjZhZjY5MjM1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTM2NzUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.x1KnyaXAMMGryEOmw8DRviI9ojA4cownAX5I3JTXgdw]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-cf68309dc7ba35d9b60409e3a8d7473e-127075b5677bfbaa-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 16:21:47.115 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:21:47.115 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:21:47.166 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 16:21:47.166 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 16:21:47.207 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 16:21:47.210 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 16:21:49.976 +08:00 [INF] Executed DbCommand (63ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 16:21:49.976 +08:00 [INF] Executed DbCommand (63ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 16:21:50.125 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:21:50.166 +08:00 [INF] Executed DbCommand (48ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 16:21:50.184 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 2965.1771ms
2025-05-30 16:21:50.184 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 16:21:50.188 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 16:21:50.190 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:21:50.194 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 3538ms
2025-05-30 16:21:50.213 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 3571.7412ms
2025-05-30 16:21:50.239 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 3021.5954ms
2025-05-30 16:21:50.242 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 16:21:50.244 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 3589ms
2025-05-30 16:21:50.248 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 3606.6056ms
2025-05-30 16:35:14.795 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-30 16:35:15.680 +08:00 [INF] Now listening on: https://localhost:5001
2025-05-30 16:35:16.040 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 16:35:16.047 +08:00 [INF] Hosting environment: Development
2025-05-30 16:35:16.051 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.PropertyService
2025-05-30 16:35:17.713 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-05-30 16:35:17.860 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 181.1981ms
2025-05-30 16:35:18.546 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-05-30 16:35:19.020 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 474.8858ms
2025-05-30 16:35:22.104 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-05-30 16:35:22.237 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 138.2181ms
2025-05-30 16:36:22.172 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 16:36:22.172 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 16:36:22.260 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:36:22.260 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:36:22.263 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 16:36:22.263 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 16:36:22.264 +08:00 [INF] 请求方法: GET
2025-05-30 16:36:22.266 +08:00 [INF] 请求方法: GET
2025-05-30 16:36:22.268 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:36:22.268 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:36:22.270 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 16:36:22.271 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 16:36:22.273 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:36:22.274 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:36:22.276 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:36:22.277 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:36:22.279 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:36:22.281 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:36:22.283 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiM2JlM2U1MGUtNTI3Mi00NjVlLWFjNDEtMGRiOWFhNTYwYTZkIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTQ3ODEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.jbehdDARckc8kJ-585W1JPzhK9f1fGEV_8RZkZUBbxA
2025-05-30 16:36:22.284 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiM2JlM2U1MGUtNTI3Mi00NjVlLWFjNDEtMGRiOWFhNTYwYTZkIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTQ3ODEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.jbehdDARckc8kJ-585W1JPzhK9f1fGEV_8RZkZUBbxA
2025-05-30 16:36:22.286 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:36:22.288 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:36:22.289 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:36:22.291 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:36:22.293 +08:00 [INF] 请求头: traceparent = 00-80b01b244488e05bb1131e1f437a9076-b1770eb361a91534-00
2025-05-30 16:36:22.294 +08:00 [INF] 请求头: traceparent = 00-4a6e925099dfd2463c7b00a3d0f353de-7f79af481772eb85-00
2025-05-30 16:36:22.296 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:36:22.298 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:36:22.300 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:36:22.301 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:36:22.303 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:36:22.304 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:36:22.306 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:36:22.308 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:36:22.310 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:36:22.312 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:36:22.314 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:36:22.316 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:36:22.317 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:36:22.319 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:36:22.321 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:36:22.323 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:36:22.325 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:36:22.327 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:36:22.328 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:36:22.329 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:36:22.411 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:36:22.411 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:36:22.413 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:36:22.415 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:36:22.417 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:36:22.418 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:36:22.420 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:36:22.423 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:36:22.425 +08:00 [INF] JWT Claim: jti = 3be3e50e-5272-465e-ac41-0db9aa560a6d
2025-05-30 16:36:22.426 +08:00 [INF] JWT Claim: jti = 3be3e50e-5272-465e-ac41-0db9aa560a6d
2025-05-30 16:36:22.428 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:36:22.430 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:36:22.432 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:36:22.434 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:36:22.436 +08:00 [INF] JWT Claim: exp = 1748594781
2025-05-30 16:36:22.438 +08:00 [INF] JWT Claim: exp = 1748594781
2025-05-30 16:36:22.440 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:36:22.441 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:36:22.443 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:36:22.445 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:36:22.447 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:36:22.449 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:36:22.455 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiM2JlM2U1MGUtNTI3Mi00NjVlLWFjNDEtMGRiOWFhNTYwYTZkIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTQ3ODEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.jbehdDARckc8kJ-585W1JPzhK9f1fGEV_8RZkZUBbxA]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-80b01b244488e05bb1131e1f437a9076-b1770eb361a91534-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 16:36:22.455 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiM2JlM2U1MGUtNTI3Mi00NjVlLWFjNDEtMGRiOWFhNTYwYTZkIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTQ3ODEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.jbehdDARckc8kJ-585W1JPzhK9f1fGEV_8RZkZUBbxA]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-4a6e925099dfd2463c7b00a3d0f353de-7f79af481772eb85-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 16:36:22.591 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:36:22.591 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:36:22.639 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 16:36:22.640 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 16:36:22.672 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 16:36:22.674 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 16:36:25.312 +08:00 [INF] Executed DbCommand (66ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 16:36:25.312 +08:00 [INF] Executed DbCommand (66ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 16:36:25.487 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:36:25.531 +08:00 [INF] Executed DbCommand (46ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 16:36:25.542 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 2861.4467ms
2025-05-30 16:36:25.545 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 16:36:25.546 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 16:36:25.549 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:36:25.552 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 3369ms
2025-05-30 16:36:25.568 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 3397.2689ms
2025-05-30 16:36:25.601 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 2922.6325ms
2025-05-30 16:36:25.604 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 16:36:25.606 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 3423ms
2025-05-30 16:36:25.610 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 3439.2492ms
2025-05-30 16:52:42.102 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-30 16:52:43.164 +08:00 [INF] Now listening on: https://localhost:5001
2025-05-30 16:52:43.397 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 16:52:43.400 +08:00 [INF] Hosting environment: Development
2025-05-30 16:52:43.406 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.PropertyService
2025-05-30 16:52:45.978 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-05-30 16:52:46.064 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 105.1098ms
2025-05-30 16:52:46.504 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-05-30 16:52:46.899 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 396.996ms
2025-05-30 16:52:47.167 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-05-30 16:52:47.360 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 192.5339ms
2025-05-30 16:53:15.622 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 16:53:15.622 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 16:53:15.694 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:53:15.694 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:53:15.696 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 16:53:15.696 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 16:53:15.697 +08:00 [INF] 请求方法: GET
2025-05-30 16:53:15.697 +08:00 [INF] 请求方法: GET
2025-05-30 16:53:15.699 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:53:15.699 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:53:15.701 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 16:53:15.702 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 16:53:15.703 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:53:15.704 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:53:15.705 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:53:15.707 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:53:15.708 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:53:15.709 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:53:15.711 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzcyYmUxMmMtNmJiOS00ZjY0LWFlZDYtYzM5ODM0M2M3YmEzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTU3OTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.qSD5aN5DyPNOWODw-CbKsdm7RzDBWN7bBUH0S58tu3c
2025-05-30 16:53:15.712 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzcyYmUxMmMtNmJiOS00ZjY0LWFlZDYtYzM5ODM0M2M3YmEzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTU3OTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.qSD5aN5DyPNOWODw-CbKsdm7RzDBWN7bBUH0S58tu3c
2025-05-30 16:53:15.713 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:53:15.715 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:53:15.716 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:53:15.717 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:53:15.719 +08:00 [INF] 请求头: traceparent = 00-3e08429dffc01a682faad1ad739a4538-1526a5d68430a480-00
2025-05-30 16:53:15.721 +08:00 [INF] 请求头: traceparent = 00-8463cff65664821d631aefdc42ddc5f5-5cc663b93d10e7b2-00
2025-05-30 16:53:15.722 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:53:15.723 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:53:15.725 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:53:15.726 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:53:15.727 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:53:15.729 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:53:15.730 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:53:15.731 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:53:15.732 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:53:15.734 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:53:15.735 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:53:15.736 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:53:15.738 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:53:15.739 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:53:15.740 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:53:15.741 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:53:15.743 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:53:15.744 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:53:15.745 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:53:15.746 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:53:15.795 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:53:15.795 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:53:15.796 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:53:15.797 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:53:15.799 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:53:15.800 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:53:15.802 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:53:15.803 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:53:15.804 +08:00 [INF] JWT Claim: jti = 372be12c-6bb9-4f64-aed6-c398343c7ba3
2025-05-30 16:53:15.806 +08:00 [INF] JWT Claim: jti = 372be12c-6bb9-4f64-aed6-c398343c7ba3
2025-05-30 16:53:15.807 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:53:15.809 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:53:15.810 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:53:15.812 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:53:15.814 +08:00 [INF] JWT Claim: exp = 1748595794
2025-05-30 16:53:15.815 +08:00 [INF] JWT Claim: exp = 1748595794
2025-05-30 16:53:15.817 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:53:15.818 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:53:15.820 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:53:15.822 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:53:15.823 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:53:15.824 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:53:15.828 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzcyYmUxMmMtNmJiOS00ZjY0LWFlZDYtYzM5ODM0M2M3YmEzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTU3OTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.qSD5aN5DyPNOWODw-CbKsdm7RzDBWN7bBUH0S58tu3c]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-3e08429dffc01a682faad1ad739a4538-1526a5d68430a480-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 16:53:15.828 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzcyYmUxMmMtNmJiOS00ZjY0LWFlZDYtYzM5ODM0M2M3YmEzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTU3OTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.qSD5aN5DyPNOWODw-CbKsdm7RzDBWN7bBUH0S58tu3c]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-8463cff65664821d631aefdc42ddc5f5-5cc663b93d10e7b2-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 16:53:15.924 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:53:15.924 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:53:15.959 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 16:53:15.959 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 16:53:15.987 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 16:53:15.989 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 16:53:17.785 +08:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 16:53:17.785 +08:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 16:53:17.898 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:53:17.934 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 1941.6045ms
2025-05-30 16:53:17.935 +08:00 [INF] Executed DbCommand (37ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 16:53:17.936 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 16:53:17.941 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 2311ms
2025-05-30 16:53:17.943 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 16:53:17.945 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:53:17.950 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 2328.5767ms
2025-05-30 16:53:17.975 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 1983.0461ms
2025-05-30 16:53:17.977 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 16:53:17.979 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 2350ms
2025-05-30 16:53:17.982 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 2360.6491ms
2025-05-30 16:53:23.913 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 16:53:23.916 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:53:23.918 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 16:53:23.919 +08:00 [INF] 请求方法: GET
2025-05-30 16:53:23.920 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:53:23.921 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 16:53:23.922 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:53:23.924 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:53:23.925 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:53:23.927 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzcyYmUxMmMtNmJiOS00ZjY0LWFlZDYtYzM5ODM0M2M3YmEzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTU3OTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.qSD5aN5DyPNOWODw-CbKsdm7RzDBWN7bBUH0S58tu3c
2025-05-30 16:53:23.928 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:53:23.930 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:53:23.931 +08:00 [INF] 请求头: traceparent = 00-5fe901978b6b09902fbac6954e58e753-0bab27826baa772d-00
2025-05-30 16:53:23.932 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:53:23.933 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:53:23.935 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:53:23.936 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:53:23.938 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:53:23.939 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:53:23.940 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:53:23.941 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:53:23.943 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:53:23.944 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:53:23.945 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:53:23.946 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:53:23.947 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:53:23.949 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:53:23.950 +08:00 [INF] JWT Claim: jti = 372be12c-6bb9-4f64-aed6-c398343c7ba3
2025-05-30 16:53:23.952 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:53:23.953 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:53:23.954 +08:00 [INF] JWT Claim: exp = 1748595794
2025-05-30 16:53:23.956 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:53:23.957 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:53:23.958 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:53:23.960 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzcyYmUxMmMtNmJiOS00ZjY0LWFlZDYtYzM5ODM0M2M3YmEzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTU3OTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.qSD5aN5DyPNOWODw-CbKsdm7RzDBWN7bBUH0S58tu3c]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-5fe901978b6b09902fbac6954e58e753-0bab27826baa772d-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 16:53:23.972 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:53:23.977 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 16:53:23.978 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 16:53:24.049 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 16:53:24.059 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 16:53:24.063 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 16:53:24.064 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:53:24.067 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 85.8627ms
2025-05-30 16:53:24.069 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 16:53:24.070 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 153ms
2025-05-30 16:53:24.073 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 160.2432ms
2025-05-30 16:53:24.133 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 16:53:24.136 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:53:24.138 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 16:53:24.139 +08:00 [INF] 请求方法: GET
2025-05-30 16:53:24.140 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:53:24.141 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 16:53:24.143 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:53:24.145 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:53:24.147 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:53:24.148 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzcyYmUxMmMtNmJiOS00ZjY0LWFlZDYtYzM5ODM0M2M3YmEzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTU3OTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.qSD5aN5DyPNOWODw-CbKsdm7RzDBWN7bBUH0S58tu3c
2025-05-30 16:53:24.150 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:53:24.151 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:53:24.153 +08:00 [INF] 请求头: traceparent = 00-7380c16f6425863b4cd33888bbf7b3d0-444c2c643748486b-00
2025-05-30 16:53:24.154 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:53:24.156 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:53:24.157 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:53:24.160 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:53:24.161 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:53:24.163 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:53:24.165 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:53:24.166 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:53:24.169 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:53:24.170 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:53:24.172 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:53:24.173 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:53:24.175 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:53:24.178 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:53:24.179 +08:00 [INF] JWT Claim: jti = 372be12c-6bb9-4f64-aed6-c398343c7ba3
2025-05-30 16:53:24.181 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:53:24.182 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:53:24.184 +08:00 [INF] JWT Claim: exp = 1748595794
2025-05-30 16:53:24.186 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:53:24.188 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:53:24.190 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:53:24.191 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzcyYmUxMmMtNmJiOS00ZjY0LWFlZDYtYzM5ODM0M2M3YmEzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTU3OTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.qSD5aN5DyPNOWODw-CbKsdm7RzDBWN7bBUH0S58tu3c]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-7380c16f6425863b4cd33888bbf7b3d0-444c2c643748486b-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 16:53:24.202 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:53:24.204 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 16:53:24.206 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 16:53:24.212 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 16:53:24.217 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:53:24.219 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 11.1561ms
2025-05-30 16:53:24.221 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 16:53:24.222 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 85ms
2025-05-30 16:53:24.224 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 91.3683ms
2025-05-30 16:58:33.725 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-30 16:58:34.296 +08:00 [INF] Now listening on: https://localhost:5001
2025-05-30 16:58:34.470 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 16:58:34.475 +08:00 [INF] Hosting environment: Development
2025-05-30 16:58:34.477 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.PropertyService
2025-05-30 16:58:35.917 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-05-30 16:58:35.997 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 98.4284ms
2025-05-30 16:58:37.056 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-05-30 16:58:37.439 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 383.6768ms
2025-05-30 16:58:37.928 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-05-30 16:58:38.145 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 216.8815ms
2025-05-30 17:01:41.421 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 17:01:41.421 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 17:01:41.488 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:01:41.488 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:01:41.490 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 17:01:41.490 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 17:01:41.492 +08:00 [INF] 请求方法: GET
2025-05-30 17:01:41.493 +08:00 [INF] 请求方法: GET
2025-05-30 17:01:41.495 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:01:41.495 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:01:41.496 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 17:01:41.498 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 17:01:41.499 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:01:41.500 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:01:41.502 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:01:41.503 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:01:41.505 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:01:41.506 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:01:41.508 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzcyYmUxMmMtNmJiOS00ZjY0LWFlZDYtYzM5ODM0M2M3YmEzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTU3OTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.qSD5aN5DyPNOWODw-CbKsdm7RzDBWN7bBUH0S58tu3c
2025-05-30 17:01:41.509 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzcyYmUxMmMtNmJiOS00ZjY0LWFlZDYtYzM5ODM0M2M3YmEzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTU3OTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.qSD5aN5DyPNOWODw-CbKsdm7RzDBWN7bBUH0S58tu3c
2025-05-30 17:01:41.511 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:01:41.512 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:01:41.513 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:01:41.515 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:01:41.516 +08:00 [INF] 请求头: traceparent = 00-5d9ee897981a866c0f0660b232fc1f8f-c4747fb6aa198c75-00
2025-05-30 17:01:41.517 +08:00 [INF] 请求头: traceparent = 00-52dc0858ee828ab6bb316e75605c8c97-559573615a0082b1-00
2025-05-30 17:01:41.519 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 17:01:41.520 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 17:01:41.522 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:01:41.523 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:01:41.524 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:01:41.526 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:01:41.527 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:01:41.528 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:01:41.530 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:01:41.531 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:01:41.533 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:01:41.534 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:01:41.535 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:01:41.537 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:01:41.538 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:01:41.539 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:01:41.541 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:01:41.542 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:01:41.543 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:01:41.544 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:01:41.593 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:01:41.593 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:01:41.595 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:01:41.596 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:01:41.597 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:01:41.599 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:01:41.600 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:01:41.602 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:01:41.603 +08:00 [INF] JWT Claim: jti = 372be12c-6bb9-4f64-aed6-c398343c7ba3
2025-05-30 17:01:41.605 +08:00 [INF] JWT Claim: jti = 372be12c-6bb9-4f64-aed6-c398343c7ba3
2025-05-30 17:01:41.606 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:01:41.608 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:01:41.609 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:01:41.610 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:01:41.612 +08:00 [INF] JWT Claim: exp = 1748595794
2025-05-30 17:01:41.613 +08:00 [INF] JWT Claim: exp = 1748595794
2025-05-30 17:01:41.615 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:01:41.617 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:01:41.618 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:01:41.620 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:01:41.621 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:01:41.623 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:01:41.627 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzcyYmUxMmMtNmJiOS00ZjY0LWFlZDYtYzM5ODM0M2M3YmEzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTU3OTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.qSD5aN5DyPNOWODw-CbKsdm7RzDBWN7bBUH0S58tu3c]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-5d9ee897981a866c0f0660b232fc1f8f-c4747fb6aa198c75-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 17:01:41.627 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzcyYmUxMmMtNmJiOS00ZjY0LWFlZDYtYzM5ODM0M2M3YmEzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTU3OTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.qSD5aN5DyPNOWODw-CbKsdm7RzDBWN7bBUH0S58tu3c]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-52dc0858ee828ab6bb316e75605c8c97-559573615a0082b1-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 17:01:41.738 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:01:41.738 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:01:41.767 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 17:01:41.767 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 17:01:41.790 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 17:01:41.792 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 17:01:44.190 +08:00 [INF] Executed DbCommand (64ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 17:01:44.190 +08:00 [INF] Executed DbCommand (64ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 17:01:44.366 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 17:01:44.400 +08:00 [INF] Executed DbCommand (35ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 17:01:44.411 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 17:01:44.411 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 2614.341ms
2025-05-30 17:01:44.413 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 17:01:44.415 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 17:01:44.419 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 2991ms
2025-05-30 17:01:44.430 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 3010.7615ms
2025-05-30 17:01:44.449 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 2653.577ms
2025-05-30 17:01:44.451 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 17:01:44.453 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 3025ms
2025-05-30 17:01:44.457 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 3037.4629ms
2025-05-30 17:01:44.760 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 17:01:44.765 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:01:44.767 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 17:01:44.768 +08:00 [INF] 请求方法: GET
2025-05-30 17:01:44.770 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:01:44.772 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 17:01:44.774 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:01:44.776 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:01:44.779 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:01:44.782 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzcyYmUxMmMtNmJiOS00ZjY0LWFlZDYtYzM5ODM0M2M3YmEzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTU3OTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.qSD5aN5DyPNOWODw-CbKsdm7RzDBWN7bBUH0S58tu3c
2025-05-30 17:01:44.784 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:01:44.786 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:01:44.788 +08:00 [INF] 请求头: traceparent = 00-92dd25921889ab30385a4f173da8fa13-4db915fa6e718796-00
2025-05-30 17:01:44.790 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 17:01:44.792 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:01:44.794 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:01:44.796 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:01:44.799 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:01:44.800 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:01:44.802 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:01:44.804 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:01:44.806 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:01:44.808 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:01:44.810 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:01:44.812 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:01:44.814 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:01:44.816 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:01:44.818 +08:00 [INF] JWT Claim: jti = 372be12c-6bb9-4f64-aed6-c398343c7ba3
2025-05-30 17:01:44.820 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:01:44.822 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:01:44.824 +08:00 [INF] JWT Claim: exp = 1748595794
2025-05-30 17:01:44.826 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:01:44.827 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:01:44.829 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:01:44.831 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzcyYmUxMmMtNmJiOS00ZjY0LWFlZDYtYzM5ODM0M2M3YmEzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTU3OTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.qSD5aN5DyPNOWODw-CbKsdm7RzDBWN7bBUH0S58tu3c]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-92dd25921889ab30385a4f173da8fa13-4db915fa6e718796-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 17:01:44.845 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:01:44.851 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 17:01:44.854 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 17:01:44.894 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 17:01:44.898 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:01:44.900 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 17:01:44.901 +08:00 [INF] 请求方法: GET
2025-05-30 17:01:44.902 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:01:44.904 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 17:01:44.906 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:01:44.908 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:01:44.909 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:01:44.911 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzcyYmUxMmMtNmJiOS00ZjY0LWFlZDYtYzM5ODM0M2M3YmEzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTU3OTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.qSD5aN5DyPNOWODw-CbKsdm7RzDBWN7bBUH0S58tu3c
2025-05-30 17:01:44.913 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:01:44.915 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:01:44.916 +08:00 [INF] 请求头: traceparent = 00-c105a37840b3ac5d3b7835e88ae9eae0-b48831e4069e8e20-00
2025-05-30 17:01:44.918 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 17:01:44.919 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:01:44.921 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:01:44.923 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:01:44.925 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:01:44.926 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:01:44.928 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:01:44.929 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:01:44.931 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:01:44.932 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:01:44.933 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:01:44.935 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:01:44.936 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 17:01:44.939 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:01:44.944 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:01:44.944 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 17:01:44.945 +08:00 [INF] JWT Claim: jti = 372be12c-6bb9-4f64-aed6-c398343c7ba3
2025-05-30 17:01:44.948 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 90.696ms
2025-05-30 17:01:44.949 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:01:44.951 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 17:01:44.952 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:01:44.953 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 188ms
2025-05-30 17:01:44.955 +08:00 [INF] JWT Claim: exp = 1748595794
2025-05-30 17:01:44.958 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 197.7852ms
2025-05-30 17:01:44.959 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:01:44.966 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:01:44.967 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:01:44.969 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzcyYmUxMmMtNmJiOS00ZjY0LWFlZDYtYzM5ODM0M2M3YmEzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTU3OTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.qSD5aN5DyPNOWODw-CbKsdm7RzDBWN7bBUH0S58tu3c]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-c105a37840b3ac5d3b7835e88ae9eae0-b48831e4069e8e20-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 17:01:44.979 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:01:44.981 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 17:01:44.983 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 17:01:44.994 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 17:01:45.003 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 17:01:45.007 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 17:01:45.009 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 17:01:45.011 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 25.6497ms
2025-05-30 17:01:45.013 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 17:01:45.014 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 116ms
2025-05-30 17:01:45.017 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 123.119ms
2025-05-30 17:04:16.710 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 17:04:16.730 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 17:04:16.732 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:04:16.740 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:04:16.742 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 17:04:16.745 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 17:04:16.747 +08:00 [INF] 请求方法: GET
2025-05-30 17:04:16.750 +08:00 [INF] 请求方法: GET
2025-05-30 17:04:16.752 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:04:16.755 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:04:16.759 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 17:04:16.763 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 17:04:16.766 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:04:16.769 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:04:16.773 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:04:16.776 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:04:16.780 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:04:16.783 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:04:16.787 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2M0MjE3YjMtOGM3Yi00MTJhLThmMjgtNjg5ZDJiZjZhOGIyIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTY0NTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.yueiZA2M5TxaXDfhGSbp_0sU2QZVtPnMfjIYlbxnJkc
2025-05-30 17:04:16.791 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2M0MjE3YjMtOGM3Yi00MTJhLThmMjgtNjg5ZDJiZjZhOGIyIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTY0NTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.yueiZA2M5TxaXDfhGSbp_0sU2QZVtPnMfjIYlbxnJkc
2025-05-30 17:04:16.795 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:04:16.798 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:04:16.801 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:04:16.805 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:04:16.808 +08:00 [INF] 请求头: traceparent = 00-f96eea7573c1a82652d268f711b125a1-1abd56da3523c501-00
2025-05-30 17:04:16.812 +08:00 [INF] 请求头: traceparent = 00-3a56fe98b9cfb960e0f00f3a39d4073a-af1c247adde4e8df-00
2025-05-30 17:04:16.815 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 17:04:16.819 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 17:04:16.823 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:04:16.826 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:04:16.830 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:04:16.833 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:04:16.837 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:04:16.840 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:04:16.844 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:04:16.847 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:04:16.850 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:04:16.853 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:04:16.857 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:04:16.860 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:04:16.864 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:04:16.867 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:04:16.871 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:04:16.874 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:04:16.876 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:04:16.879 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:04:16.882 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:04:16.884 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:04:16.887 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:04:16.890 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:04:16.894 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:04:16.898 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:04:16.901 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:04:16.905 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:04:16.909 +08:00 [INF] JWT Claim: jti = cc4217b3-8c7b-412a-8f28-689d2bf6a8b2
2025-05-30 17:04:16.913 +08:00 [INF] JWT Claim: jti = cc4217b3-8c7b-412a-8f28-689d2bf6a8b2
2025-05-30 17:04:16.917 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:04:16.921 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:04:16.925 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:04:16.928 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:04:16.931 +08:00 [INF] JWT Claim: exp = 1748596454
2025-05-30 17:04:16.935 +08:00 [INF] JWT Claim: exp = 1748596454
2025-05-30 17:04:16.939 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:04:16.942 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:04:16.946 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:04:16.950 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:04:16.954 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:04:16.957 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:04:16.960 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2M0MjE3YjMtOGM3Yi00MTJhLThmMjgtNjg5ZDJiZjZhOGIyIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTY0NTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.yueiZA2M5TxaXDfhGSbp_0sU2QZVtPnMfjIYlbxnJkc]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-f96eea7573c1a82652d268f711b125a1-1abd56da3523c501-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 17:04:16.963 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2M0MjE3YjMtOGM3Yi00MTJhLThmMjgtNjg5ZDJiZjZhOGIyIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTY0NTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.yueiZA2M5TxaXDfhGSbp_0sU2QZVtPnMfjIYlbxnJkc]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-3a56fe98b9cfb960e0f00f3a39d4073a-af1c247adde4e8df-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 17:04:16.990 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:04:17.013 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:04:17.016 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 17:04:17.018 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 17:04:17.022 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 17:04:17.025 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 17:04:17.051 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 17:04:17.051 +08:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 17:04:17.079 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 17:04:17.087 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 51.9325ms
2025-05-30 17:04:17.089 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 17:04:17.093 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 17:04:17.101 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 17:04:17.103 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 362ms
2025-05-30 17:04:17.106 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 17:04:17.113 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 382.9395ms
2025-05-30 17:04:17.118 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 87.8338ms
2025-05-30 17:04:17.134 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 17:04:17.138 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 405ms
2025-05-30 17:04:17.156 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 448.7039ms
2025-05-30 17:14:29.665 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-30 17:14:30.213 +08:00 [INF] Now listening on: https://localhost:5001
2025-05-30 17:14:30.445 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 17:14:30.448 +08:00 [INF] Hosting environment: Development
2025-05-30 17:14:30.450 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.PropertyService
2025-05-30 17:14:31.770 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-05-30 17:14:31.838 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 89.0173ms
2025-05-30 17:14:32.179 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-05-30 17:14:32.427 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 248.9162ms
2025-05-30 17:14:33.542 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-05-30 17:14:33.657 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 115.6048ms
2025-05-30 17:14:49.243 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 17:14:49.252 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 17:14:49.310 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:14:49.310 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:14:49.313 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 17:14:49.313 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 17:14:49.315 +08:00 [INF] 请求方法: GET
2025-05-30 17:14:49.316 +08:00 [INF] 请求方法: GET
2025-05-30 17:14:49.319 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:14:49.320 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:14:49.323 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 17:14:49.324 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 17:14:49.326 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:14:49.327 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:14:49.329 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:14:49.331 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:14:49.333 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:14:49.334 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:14:49.336 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiN2I0ZTczOGUtYTgzNC00NGY4LTkzMWQtZmE4M2NmNGNjMTZkIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTcwODgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.CS61lcwn8JzBO61YU-08VSmqpg-lpUrSLG6iiUuEczs
2025-05-30 17:14:49.337 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiN2I0ZTczOGUtYTgzNC00NGY4LTkzMWQtZmE4M2NmNGNjMTZkIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTcwODgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.CS61lcwn8JzBO61YU-08VSmqpg-lpUrSLG6iiUuEczs
2025-05-30 17:14:49.339 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:14:49.341 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:14:49.343 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:14:49.344 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:14:49.346 +08:00 [INF] 请求头: traceparent = 00-939d1753fa1c0767973eb3542e24ea8d-d55bf138546a137a-00
2025-05-30 17:14:49.348 +08:00 [INF] 请求头: traceparent = 00-2b3eaf80f62bf2f5ed8157bd3a5a55f4-a428826d62af5240-00
2025-05-30 17:14:49.349 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 17:14:49.351 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 17:14:49.353 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:14:49.354 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:14:49.356 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:14:49.358 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:14:49.359 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:14:49.361 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:14:49.363 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:14:49.364 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:14:49.366 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:14:49.368 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:14:49.370 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:14:49.372 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:14:49.374 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:14:49.375 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:14:49.377 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:14:49.379 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:14:49.380 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:14:49.381 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:14:49.446 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:14:49.446 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:14:49.448 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:14:49.449 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:14:49.452 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:14:49.455 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:14:49.457 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:14:49.459 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:14:49.461 +08:00 [INF] JWT Claim: jti = 7b4e738e-a834-44f8-931d-fa83cf4cc16d
2025-05-30 17:14:49.463 +08:00 [INF] JWT Claim: jti = 7b4e738e-a834-44f8-931d-fa83cf4cc16d
2025-05-30 17:14:49.465 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:14:49.467 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:14:49.469 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:14:49.471 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:14:49.473 +08:00 [INF] JWT Claim: exp = 1748597088
2025-05-30 17:14:49.475 +08:00 [INF] JWT Claim: exp = 1748597088
2025-05-30 17:14:49.476 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:14:49.478 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:14:49.480 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:14:49.482 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:14:49.484 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:14:49.486 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:14:49.491 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiN2I0ZTczOGUtYTgzNC00NGY4LTkzMWQtZmE4M2NmNGNjMTZkIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTcwODgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.CS61lcwn8JzBO61YU-08VSmqpg-lpUrSLG6iiUuEczs]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-2b3eaf80f62bf2f5ed8157bd3a5a55f4-a428826d62af5240-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 17:14:49.491 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiN2I0ZTczOGUtYTgzNC00NGY4LTkzMWQtZmE4M2NmNGNjMTZkIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTcwODgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.CS61lcwn8JzBO61YU-08VSmqpg-lpUrSLG6iiUuEczs]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-939d1753fa1c0767973eb3542e24ea8d-d55bf138546a137a-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 17:14:49.624 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:14:49.624 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:14:49.664 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 17:14:49.664 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 17:14:49.700 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 17:14:49.705 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 17:14:51.833 +08:00 [INF] Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 17:14:51.833 +08:00 [INF] Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 17:14:51.981 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 17:14:52.027 +08:00 [INF] Executed DbCommand (43ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 17:14:52.029 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 2319.1223ms
2025-05-30 17:14:52.033 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 17:14:52.037 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 2769ms
2025-05-30 17:14:52.039 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 17:14:52.042 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 17:14:52.050 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 2797.9213ms
2025-05-30 17:14:52.084 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 2375.1489ms
2025-05-30 17:14:52.086 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 17:14:52.088 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 2835ms
2025-05-30 17:14:52.092 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 2850.7392ms
2025-05-30 17:43:29.317 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-30 17:43:30.205 +08:00 [INF] Now listening on: https://localhost:5001
2025-05-30 17:43:30.489 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 17:43:30.493 +08:00 [INF] Hosting environment: Development
2025-05-30 17:43:30.496 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.PropertyService
2025-05-30 17:43:32.404 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-05-30 17:43:32.587 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 206.9888ms
2025-05-30 17:43:34.452 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-05-30 17:43:34.837 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 393.6013ms
2025-05-30 17:43:37.157 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-05-30 17:43:37.362 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 207.7937ms
2025-05-30 17:44:52.628 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-30 17:44:52.628 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-30 17:44:52.711 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:44:52.711 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:44:52.713 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-30 17:44:52.713 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-30 17:44:52.715 +08:00 [INF] 请求方法: GET
2025-05-30 17:44:52.716 +08:00 [INF] 请求方法: GET
2025-05-30 17:44:52.718 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:44:52.718 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:44:52.719 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 17:44:52.721 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-30 17:44:52.722 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:44:52.724 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:44:52.725 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:44:52.727 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:44:52.728 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:44:52.730 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:44:52.731 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOTVmNzc4YjMtZDlkZi00NTVhLWEwZWEtYzNmOTE4ZWIyZDE4IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTg4OTEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.FpxFDq1XcwZoPISAtXsyVM9UbrQeYews2VaiidwuyCM
2025-05-30 17:44:52.733 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOTVmNzc4YjMtZDlkZi00NTVhLWEwZWEtYzNmOTE4ZWIyZDE4IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTg4OTEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.FpxFDq1XcwZoPISAtXsyVM9UbrQeYews2VaiidwuyCM
2025-05-30 17:44:52.735 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:44:52.736 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:44:52.737 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:44:52.739 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:44:52.741 +08:00 [INF] 请求头: traceparent = 00-9c807d6166296b5cbe2690da315647cf-4bc6572a1e4138aa-00
2025-05-30 17:44:52.742 +08:00 [INF] 请求头: traceparent = 00-2c26c0de75d59dec86fb765d3081cf4c-595805e2cc732712-00
2025-05-30 17:44:52.744 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 17:44:52.745 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 17:44:52.747 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:44:52.748 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:44:52.749 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:44:52.751 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:44:52.752 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:44:52.754 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:44:52.755 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:44:52.756 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:44:52.758 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:44:52.759 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:44:52.761 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:44:52.762 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:44:52.764 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:44:52.765 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:44:52.767 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:44:52.769 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:44:52.770 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:44:52.771 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:44:52.839 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:44:52.839 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:44:52.841 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:44:52.842 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:44:52.843 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:44:52.845 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:44:52.846 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:44:52.847 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:44:52.849 +08:00 [INF] JWT Claim: jti = 95f778b3-d9df-455a-a0ea-c3f918eb2d18
2025-05-30 17:44:52.850 +08:00 [INF] JWT Claim: jti = 95f778b3-d9df-455a-a0ea-c3f918eb2d18
2025-05-30 17:44:52.852 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:44:52.853 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:44:52.854 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:44:52.856 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:44:52.858 +08:00 [INF] JWT Claim: exp = 1748598891
2025-05-30 17:44:52.859 +08:00 [INF] JWT Claim: exp = 1748598891
2025-05-30 17:44:52.861 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:44:52.862 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:44:52.864 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:44:52.866 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:44:52.867 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:44:52.869 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:44:52.874 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOTVmNzc4YjMtZDlkZi00NTVhLWEwZWEtYzNmOTE4ZWIyZDE4IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTg4OTEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.FpxFDq1XcwZoPISAtXsyVM9UbrQeYews2VaiidwuyCM]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-9c807d6166296b5cbe2690da315647cf-4bc6572a1e4138aa-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 17:44:52.874 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOTVmNzc4YjMtZDlkZi00NTVhLWEwZWEtYzNmOTE4ZWIyZDE4IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTg4OTEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.FpxFDq1XcwZoPISAtXsyVM9UbrQeYews2VaiidwuyCM]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-2c26c0de75d59dec86fb765d3081cf4c-595805e2cc732712-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-30 17:44:53.020 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:44:53.020 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:44:53.060 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 17:44:53.060 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 17:44:53.088 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 17:44:53.090 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-30 17:44:55.182 +08:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-30 17:44:55.182 +08:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-30 17:44:55.338 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 17:44:55.386 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 2290.3953ms
2025-05-30 17:44:55.387 +08:00 [INF] Executed DbCommand (46ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 17:44:55.389 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-30 17:44:55.394 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 2756ms
2025-05-30 17:44:55.398 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-30 17:44:55.400 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 17:44:55.405 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 2778.9629ms
2025-05-30 17:44:55.438 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 2344.3568ms
2025-05-30 17:44:55.440 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-30 17:44:55.442 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 2804ms
2025-05-30 17:44:55.445 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 2819.0665ms
