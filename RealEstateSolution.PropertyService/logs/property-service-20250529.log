2025-05-29 12:25:37.636 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-29 12:25:38.041 +08:00 [INF] Now listening on: https://localhost:5001
2025-05-29 12:25:38.161 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-29 12:25:38.165 +08:00 [INF] Hosting environment: Development
2025-05-29 12:25:38.168 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.PropertyService
2025-05-29 12:25:40.159 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-05-29 12:25:40.232 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 88.5138ms
2025-05-29 12:25:40.433 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-05-29 12:25:40.691 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 258.6533ms
2025-05-29 12:25:40.984 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-05-29 12:25:41.063 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 81.8467ms
2025-05-29 12:25:57.638 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - null 0
2025-05-29 12:25:57.638 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 12:25:57.689 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 12:25:57.689 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 12:25:57.692 +08:00 [INF] 请求路径: /api/property/QueryProperties
2025-05-29 12:25:57.692 +08:00 [INF] 请求路径: /api/property/GetPropertyStats
2025-05-29 12:25:57.693 +08:00 [INF] 请求方法: GET
2025-05-29 12:25:57.694 +08:00 [INF] 请求方法: GET
2025-05-29 12:25:57.696 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 12:25:57.696 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 12:25:57.697 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 12:25:57.699 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 12:25:57.700 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 12:25:57.702 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 12:25:57.703 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 12:25:57.704 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 12:25:57.705 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 12:25:57.707 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 12:25:57.708 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 12:25:57.710 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 12:25:57.711 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImZkMzViZDUwLTA3NTQtNDU3Yy04MmJkLTg1M2ViOGU4MjI0NSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXNsb3NlckBnbWFpbC5jb20iLCJqdGkiOiJmOTgwODVhYS1hZTk1LTQ4OWEtODYwNC1iMWIwZTNkMDQ1ZjYiLCJTZWN1cml0eVN0YW1wIjoiNlFBWElWN1dGTVBJRktLRUZHV1RNRUQzSEM3NTQzRUgiLCJleHAiOjE3NDg0OTMzNTcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.gWG2WOIK783hZK5faRicT_EyYFRU_RbQNhSfjk2dXSY
2025-05-29 12:25:57.712 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImZkMzViZDUwLTA3NTQtNDU3Yy04MmJkLTg1M2ViOGU4MjI0NSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXNsb3NlckBnbWFpbC5jb20iLCJqdGkiOiJmOTgwODVhYS1hZTk1LTQ4OWEtODYwNC1iMWIwZTNkMDQ1ZjYiLCJTZWN1cml0eVN0YW1wIjoiNlFBWElWN1dGTVBJRktLRUZHV1RNRUQzSEM3NTQzRUgiLCJleHAiOjE3NDg0OTMzNTcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.gWG2WOIK783hZK5faRicT_EyYFRU_RbQNhSfjk2dXSY
2025-05-29 12:25:57.714 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 12:25:57.716 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 12:25:57.717 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 12:25:57.718 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 12:25:57.720 +08:00 [INF] 请求头: traceparent = 00-c71351b418012645aab242698964acd9-4a42ffedc3e207fe-00
2025-05-29 12:25:57.721 +08:00 [INF] 请求头: traceparent = 00-d8bdd47e7191b7bf21ed90df0c0ea84e-3215daee4246c814-00
2025-05-29 12:25:57.722 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 12:25:57.723 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 12:25:57.725 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 12:25:57.726 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 12:25:57.728 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 12:25:57.729 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 12:25:57.730 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 12:25:57.731 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 12:25:57.733 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 12:25:57.734 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 12:25:57.735 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 12:25:57.737 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 12:25:57.738 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 12:25:57.739 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 12:25:57.740 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 12:25:57.742 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 12:25:57.743 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 12:25:57.744 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 12:25:57.791 +08:00 [INF] JWT令牌解析成功，Claims数量: 8
2025-05-29 12:25:57.791 +08:00 [INF] JWT令牌解析成功，Claims数量: 8
2025-05-29 12:25:57.792 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = fd35bd50-0754-457c-82bd-853eb8e82245
2025-05-29 12:25:57.793 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = fd35bd50-0754-457c-82bd-853eb8e82245
2025-05-29 12:25:57.794 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 12:25:57.795 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 12:25:57.796 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsisloser@gmail.com
2025-05-29 12:25:57.797 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsisloser@gmail.com
2025-05-29 12:25:57.798 +08:00 [INF] JWT Claim: jti = f98085aa-ae95-489a-8604-b1b0e3d045f6
2025-05-29 12:25:57.799 +08:00 [INF] JWT Claim: jti = f98085aa-ae95-489a-8604-b1b0e3d045f6
2025-05-29 12:25:57.801 +08:00 [INF] JWT Claim: SecurityStamp = 6QAXIV7WFMPIFKKEFGWTMED3HC7543EH
2025-05-29 12:25:57.802 +08:00 [INF] JWT Claim: SecurityStamp = 6QAXIV7WFMPIFKKEFGWTMED3HC7543EH
2025-05-29 12:25:57.803 +08:00 [INF] JWT Claim: exp = 1748493357
2025-05-29 12:25:57.805 +08:00 [INF] JWT Claim: exp = 1748493357
2025-05-29 12:25:57.806 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 12:25:57.807 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 12:25:57.808 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 12:25:57.809 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 12:25:57.811 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 12:25:57.812 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 12:25:57.815 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImZkMzViZDUwLTA3NTQtNDU3Yy04MmJkLTg1M2ViOGU4MjI0NSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXNsb3NlckBnbWFpbC5jb20iLCJqdGkiOiJmOTgwODVhYS1hZTk1LTQ4OWEtODYwNC1iMWIwZTNkMDQ1ZjYiLCJTZWN1cml0eVN0YW1wIjoiNlFBWElWN1dGTVBJRktLRUZHV1RNRUQzSEM3NTQzRUgiLCJleHAiOjE3NDg0OTMzNTcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.gWG2WOIK783hZK5faRicT_EyYFRU_RbQNhSfjk2dXSY]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-c71351b418012645aab242698964acd9-4a42ffedc3e207fe-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 12:25:57.815 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImZkMzViZDUwLTA3NTQtNDU3Yy04MmJkLTg1M2ViOGU4MjI0NSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXNsb3NlckBnbWFpbC5jb20iLCJqdGkiOiJmOTgwODVhYS1hZTk1LTQ4OWEtODYwNC1iMWIwZTNkMDQ1ZjYiLCJTZWN1cml0eVN0YW1wIjoiNlFBWElWN1dGTVBJRktLRUZHV1RNRUQzSEM3NTQzRUgiLCJleHAiOjE3NDg0OTMzNTcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.gWG2WOIK783hZK5faRicT_EyYFRU_RbQNhSfjk2dXSY]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-d8bdd47e7191b7bf21ed90df0c0ea84e-3215daee4246c814-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 12:25:57.901 +08:00 [INF] 用户身份验证成功: fd35bd50-0754-457c-82bd-853eb8e82245
2025-05-29 12:25:57.901 +08:00 [INF] 用户身份验证成功: fd35bd50-0754-457c-82bd-853eb8e82245
2025-05-29 12:25:57.927 +08:00 [INF] 请求 GET /api/property/GetPropertyStats 完成，状态码: 404，耗时: 281ms
2025-05-29 12:25:57.931 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 12:25:57.942 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - 404 0 null 305.002ms
2025-05-29 12:25:57.947 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5001/api/property/GetPropertyStats, Response status code: 404
2025-05-29 12:25:57.978 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 12:25:59.790 +08:00 [INF] Executed DbCommand (82ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[OwnerId] = @__userId_0
2025-05-29 12:25:59.887 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
WHERE [p].[OwnerId] = @__userId_0
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-05-29 12:25:59.984 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 12:26:00.034 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 2049.373ms
2025-05-29 12:26:00.037 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 12:26:00.040 +08:00 [INF] 请求 GET /api/property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 2393ms
2025-05-29 12:26:00.049 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 2411.9817ms
2025-05-29 12:26:05.610 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-29 12:26:05.614 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 12:26:05.615 +08:00 [INF] 请求路径: /api/property/QueryProperties
2025-05-29 12:26:05.616 +08:00 [INF] 请求方法: GET
2025-05-29 12:26:05.617 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 12:26:05.618 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 12:26:05.620 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 12:26:05.621 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 12:26:05.622 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 12:26:05.623 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 12:26:05.624 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImZkMzViZDUwLTA3NTQtNDU3Yy04MmJkLTg1M2ViOGU4MjI0NSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXNsb3NlckBnbWFpbC5jb20iLCJqdGkiOiJmOTgwODVhYS1hZTk1LTQ4OWEtODYwNC1iMWIwZTNkMDQ1ZjYiLCJTZWN1cml0eVN0YW1wIjoiNlFBWElWN1dGTVBJRktLRUZHV1RNRUQzSEM3NTQzRUgiLCJleHAiOjE3NDg0OTMzNTcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.gWG2WOIK783hZK5faRicT_EyYFRU_RbQNhSfjk2dXSY
2025-05-29 12:26:05.626 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 12:26:05.628 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 12:26:05.629 +08:00 [INF] 请求头: traceparent = 00-82ed24e48e446f71624cf82e939957d9-76fdf2f9296b50fc-00
2025-05-29 12:26:05.630 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 12:26:05.632 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 12:26:05.633 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 12:26:05.634 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 12:26:05.636 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 12:26:05.637 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 12:26:05.638 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 12:26:05.639 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 12:26:05.640 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 12:26:05.642 +08:00 [INF] JWT令牌解析成功，Claims数量: 8
2025-05-29 12:26:05.643 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = fd35bd50-0754-457c-82bd-853eb8e82245
2025-05-29 12:26:05.645 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 12:26:05.646 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsisloser@gmail.com
2025-05-29 12:26:05.647 +08:00 [INF] JWT Claim: jti = f98085aa-ae95-489a-8604-b1b0e3d045f6
2025-05-29 12:26:05.649 +08:00 [INF] JWT Claim: SecurityStamp = 6QAXIV7WFMPIFKKEFGWTMED3HC7543EH
2025-05-29 12:26:05.650 +08:00 [INF] JWT Claim: exp = 1748493357
2025-05-29 12:26:05.652 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 12:26:05.654 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 12:26:05.655 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 12:26:05.656 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImZkMzViZDUwLTA3NTQtNDU3Yy04MmJkLTg1M2ViOGU4MjI0NSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXNsb3NlckBnbWFpbC5jb20iLCJqdGkiOiJmOTgwODVhYS1hZTk1LTQ4OWEtODYwNC1iMWIwZTNkMDQ1ZjYiLCJTZWN1cml0eVN0YW1wIjoiNlFBWElWN1dGTVBJRktLRUZHV1RNRUQzSEM3NTQzRUgiLCJleHAiOjE3NDg0OTMzNTcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.gWG2WOIK783hZK5faRicT_EyYFRU_RbQNhSfjk2dXSY]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-82ed24e48e446f71624cf82e939957d9-76fdf2f9296b50fc-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 12:26:05.668 +08:00 [INF] 用户身份验证成功: fd35bd50-0754-457c-82bd-853eb8e82245
2025-05-29 12:26:05.673 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 12:26:05.675 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 12:26:05.747 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[OwnerId] = @__userId_0
2025-05-29 12:26:05.756 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
WHERE [p].[OwnerId] = @__userId_0
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-05-29 12:26:05.762 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 12:26:05.765 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 87.0451ms
2025-05-29 12:26:05.767 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 12:26:05.768 +08:00 [INF] 请求 GET /api/property/QueryProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 154ms
2025-05-29 12:26:05.771 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 161.4678ms
2025-05-29 12:26:12.886 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 12:26:12.890 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 12:26:12.891 +08:00 [INF] 请求路径: /api/property/QueryProperties
2025-05-29 12:26:12.892 +08:00 [INF] 请求方法: GET
2025-05-29 12:26:12.894 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 12:26:12.895 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 12:26:12.897 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 12:26:12.898 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 12:26:12.900 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 12:26:12.902 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 12:26:12.903 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImZkMzViZDUwLTA3NTQtNDU3Yy04MmJkLTg1M2ViOGU4MjI0NSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXNsb3NlckBnbWFpbC5jb20iLCJqdGkiOiJmOTgwODVhYS1hZTk1LTQ4OWEtODYwNC1iMWIwZTNkMDQ1ZjYiLCJTZWN1cml0eVN0YW1wIjoiNlFBWElWN1dGTVBJRktLRUZHV1RNRUQzSEM3NTQzRUgiLCJleHAiOjE3NDg0OTMzNTcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.gWG2WOIK783hZK5faRicT_EyYFRU_RbQNhSfjk2dXSY
2025-05-29 12:26:12.905 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 12:26:12.907 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 12:26:12.908 +08:00 [INF] 请求头: traceparent = 00-420457c8da43f93cf90b9e811739b089-4ca7f94c209705d8-00
2025-05-29 12:26:12.910 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 12:26:12.913 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - null 0
2025-05-29 12:26:12.913 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 12:26:12.916 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 12:26:12.917 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 12:26:12.918 +08:00 [INF] 请求路径: /api/property/GetPropertyStats
2025-05-29 12:26:12.919 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 12:26:12.921 +08:00 [INF] 请求方法: GET
2025-05-29 12:26:12.922 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 12:26:12.923 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 12:26:12.925 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 12:26:12.926 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 12:26:12.928 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 12:26:12.929 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 12:26:12.931 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 12:26:12.932 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 12:26:12.933 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 12:26:12.935 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 12:26:12.938 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 12:26:12.936 +08:00 [INF] JWT令牌解析成功，Claims数量: 8
2025-05-29 12:26:12.940 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImZkMzViZDUwLTA3NTQtNDU3Yy04MmJkLTg1M2ViOGU4MjI0NSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXNsb3NlckBnbWFpbC5jb20iLCJqdGkiOiJmOTgwODVhYS1hZTk1LTQ4OWEtODYwNC1iMWIwZTNkMDQ1ZjYiLCJTZWN1cml0eVN0YW1wIjoiNlFBWElWN1dGTVBJRktLRUZHV1RNRUQzSEM3NTQzRUgiLCJleHAiOjE3NDg0OTMzNTcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.gWG2WOIK783hZK5faRicT_EyYFRU_RbQNhSfjk2dXSY
2025-05-29 12:26:12.941 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = fd35bd50-0754-457c-82bd-853eb8e82245
2025-05-29 12:26:12.943 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 12:26:12.944 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 12:26:12.946 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 12:26:12.947 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsisloser@gmail.com
2025-05-29 12:26:12.948 +08:00 [INF] 请求头: traceparent = 00-e5eece8d6b80b4fb201f593e583b8280-4dd4fcbc175b24f3-00
2025-05-29 12:26:12.950 +08:00 [INF] JWT Claim: jti = f98085aa-ae95-489a-8604-b1b0e3d045f6
2025-05-29 12:26:12.952 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 12:26:12.953 +08:00 [INF] JWT Claim: SecurityStamp = 6QAXIV7WFMPIFKKEFGWTMED3HC7543EH
2025-05-29 12:26:12.954 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 12:26:12.955 +08:00 [INF] JWT Claim: exp = 1748493357
2025-05-29 12:26:12.957 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 12:26:12.958 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 12:26:12.960 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 12:26:12.961 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 12:26:12.963 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 12:26:12.964 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 12:26:12.966 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 12:26:12.967 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImZkMzViZDUwLTA3NTQtNDU3Yy04MmJkLTg1M2ViOGU4MjI0NSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXNsb3NlckBnbWFpbC5jb20iLCJqdGkiOiJmOTgwODVhYS1hZTk1LTQ4OWEtODYwNC1iMWIwZTNkMDQ1ZjYiLCJTZWN1cml0eVN0YW1wIjoiNlFBWElWN1dGTVBJRktLRUZHV1RNRUQzSEM3NTQzRUgiLCJleHAiOjE3NDg0OTMzNTcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.gWG2WOIK783hZK5faRicT_EyYFRU_RbQNhSfjk2dXSY]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-420457c8da43f93cf90b9e811739b089-4ca7f94c209705d8-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 12:26:12.968 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 12:26:12.977 +08:00 [INF] 用户身份验证成功: fd35bd50-0754-457c-82bd-853eb8e82245
2025-05-29 12:26:12.978 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 12:26:12.980 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 12:26:12.981 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 12:26:12.982 +08:00 [INF] JWT令牌解析成功，Claims数量: 8
2025-05-29 12:26:12.983 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 12:26:12.984 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = fd35bd50-0754-457c-82bd-853eb8e82245
2025-05-29 12:26:12.987 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 12:26:12.988 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsisloser@gmail.com
2025-05-29 12:26:12.990 +08:00 [INF] JWT Claim: jti = f98085aa-ae95-489a-8604-b1b0e3d045f6
2025-05-29 12:26:12.991 +08:00 [INF] JWT Claim: SecurityStamp = 6QAXIV7WFMPIFKKEFGWTMED3HC7543EH
2025-05-29 12:26:12.993 +08:00 [INF] JWT Claim: exp = 1748493357
2025-05-29 12:26:12.994 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 12:26:12.995 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 12:26:12.996 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 12:26:12.997 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImZkMzViZDUwLTA3NTQtNDU3Yy04MmJkLTg1M2ViOGU4MjI0NSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXNsb3NlckBnbWFpbC5jb20iLCJqdGkiOiJmOTgwODVhYS1hZTk1LTQ4OWEtODYwNC1iMWIwZTNkMDQ1ZjYiLCJTZWN1cml0eVN0YW1wIjoiNlFBWElWN1dGTVBJRktLRUZHV1RNRUQzSEM3NTQzRUgiLCJleHAiOjE3NDg0OTMzNTcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.gWG2WOIK783hZK5faRicT_EyYFRU_RbQNhSfjk2dXSY]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-e5eece8d6b80b4fb201f593e583b8280-4dd4fcbc175b24f3-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 12:26:13.006 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[OwnerId] = @__userId_0
2025-05-29 12:26:13.008 +08:00 [INF] 用户身份验证成功: fd35bd50-0754-457c-82bd-853eb8e82245
2025-05-29 12:26:13.011 +08:00 [INF] 请求 GET /api/property/GetPropertyStats 完成，状态码: 404，耗时: 95ms
2025-05-29 12:26:13.014 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - 404 0 null 101.4533ms
2025-05-29 12:26:13.016 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
WHERE [p].[OwnerId] = @__userId_0
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-05-29 12:26:13.018 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5001/api/property/GetPropertyStats, Response status code: 404
2025-05-29 12:26:13.021 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 12:26:13.026 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 39.759ms
2025-05-29 12:26:13.027 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 12:26:13.029 +08:00 [INF] 请求 GET /api/property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 138ms
2025-05-29 12:26:13.031 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 144.8027ms
2025-05-29 12:27:16.504 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 12:27:16.510 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 12:27:16.512 +08:00 [INF] 请求路径: /api/property/QueryProperties
2025-05-29 12:27:16.512 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - null 0
2025-05-29 12:27:16.513 +08:00 [INF] 请求方法: GET
2025-05-29 12:27:16.518 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 12:27:16.519 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 12:27:16.520 +08:00 [INF] 请求路径: /api/property/GetPropertyStats
2025-05-29 12:27:16.522 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 12:27:16.523 +08:00 [INF] 请求方法: GET
2025-05-29 12:27:16.525 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 12:27:16.527 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 12:27:16.528 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 12:27:16.530 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 12:27:16.531 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 12:27:16.533 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 12:27:16.534 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 12:27:16.536 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 12:27:16.537 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImZkMzViZDUwLTA3NTQtNDU3Yy04MmJkLTg1M2ViOGU4MjI0NSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXNsb3NlckBnbWFpbC5jb20iLCJqdGkiOiJmOTgwODVhYS1hZTk1LTQ4OWEtODYwNC1iMWIwZTNkMDQ1ZjYiLCJTZWN1cml0eVN0YW1wIjoiNlFBWElWN1dGTVBJRktLRUZHV1RNRUQzSEM3NTQzRUgiLCJleHAiOjE3NDg0OTMzNTcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.gWG2WOIK783hZK5faRicT_EyYFRU_RbQNhSfjk2dXSY
2025-05-29 12:27:16.539 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 12:27:16.540 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 12:27:16.542 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 12:27:16.543 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 12:27:16.545 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImZkMzViZDUwLTA3NTQtNDU3Yy04MmJkLTg1M2ViOGU4MjI0NSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXNsb3NlckBnbWFpbC5jb20iLCJqdGkiOiJmOTgwODVhYS1hZTk1LTQ4OWEtODYwNC1iMWIwZTNkMDQ1ZjYiLCJTZWN1cml0eVN0YW1wIjoiNlFBWElWN1dGTVBJRktLRUZHV1RNRUQzSEM3NTQzRUgiLCJleHAiOjE3NDg0OTMzNTcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.gWG2WOIK783hZK5faRicT_EyYFRU_RbQNhSfjk2dXSY
2025-05-29 12:27:16.546 +08:00 [INF] 请求头: traceparent = 00-eaf1263167ac29b909991336a0bd2a61-dec2ad683638fcd4-00
2025-05-29 12:27:16.548 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 12:27:16.553 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 12:27:16.554 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 12:27:16.556 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 12:27:16.558 +08:00 [INF] 请求头: traceparent = 00-8bf6eae8a14d7c5b19bf1fcee7287fb8-0c28103886b91052-00
2025-05-29 12:27:16.560 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 12:27:16.561 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 12:27:16.563 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 12:27:16.565 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 12:27:16.566 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 12:27:16.567 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 12:27:16.569 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 12:27:16.571 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 12:27:16.572 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 12:27:16.573 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 12:27:16.575 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 12:27:16.577 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 12:27:16.578 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 12:27:16.579 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 12:27:16.580 +08:00 [INF] JWT令牌解析成功，Claims数量: 8
2025-05-29 12:27:16.582 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 12:27:16.583 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = fd35bd50-0754-457c-82bd-853eb8e82245
2025-05-29 12:27:16.584 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 12:27:16.585 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 12:27:16.586 +08:00 [INF] JWT令牌解析成功，Claims数量: 8
2025-05-29 12:27:16.587 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsisloser@gmail.com
2025-05-29 12:27:16.588 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = fd35bd50-0754-457c-82bd-853eb8e82245
2025-05-29 12:27:16.589 +08:00 [INF] JWT Claim: jti = f98085aa-ae95-489a-8604-b1b0e3d045f6
2025-05-29 12:27:16.590 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 12:27:16.592 +08:00 [INF] JWT Claim: SecurityStamp = 6QAXIV7WFMPIFKKEFGWTMED3HC7543EH
2025-05-29 12:27:16.593 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsisloser@gmail.com
2025-05-29 12:27:16.595 +08:00 [INF] JWT Claim: exp = 1748493357
2025-05-29 12:27:16.596 +08:00 [INF] JWT Claim: jti = f98085aa-ae95-489a-8604-b1b0e3d045f6
2025-05-29 12:27:16.597 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 12:27:16.598 +08:00 [INF] JWT Claim: SecurityStamp = 6QAXIV7WFMPIFKKEFGWTMED3HC7543EH
2025-05-29 12:27:16.600 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 12:27:16.602 +08:00 [INF] JWT Claim: exp = 1748493357
2025-05-29 12:27:16.603 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 12:27:16.604 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 12:27:16.605 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImZkMzViZDUwLTA3NTQtNDU3Yy04MmJkLTg1M2ViOGU4MjI0NSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXNsb3NlckBnbWFpbC5jb20iLCJqdGkiOiJmOTgwODVhYS1hZTk1LTQ4OWEtODYwNC1iMWIwZTNkMDQ1ZjYiLCJTZWN1cml0eVN0YW1wIjoiNlFBWElWN1dGTVBJRktLRUZHV1RNRUQzSEM3NTQzRUgiLCJleHAiOjE3NDg0OTMzNTcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.gWG2WOIK783hZK5faRicT_EyYFRU_RbQNhSfjk2dXSY]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-eaf1263167ac29b909991336a0bd2a61-dec2ad683638fcd4-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 12:27:16.606 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 12:27:16.616 +08:00 [INF] 用户身份验证成功: fd35bd50-0754-457c-82bd-853eb8e82245
2025-05-29 12:27:16.618 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 12:27:16.619 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 12:27:16.620 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImZkMzViZDUwLTA3NTQtNDU3Yy04MmJkLTg1M2ViOGU4MjI0NSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXNsb3NlckBnbWFpbC5jb20iLCJqdGkiOiJmOTgwODVhYS1hZTk1LTQ4OWEtODYwNC1iMWIwZTNkMDQ1ZjYiLCJTZWN1cml0eVN0YW1wIjoiNlFBWElWN1dGTVBJRktLRUZHV1RNRUQzSEM3NTQzRUgiLCJleHAiOjE3NDg0OTMzNTcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.gWG2WOIK783hZK5faRicT_EyYFRU_RbQNhSfjk2dXSY]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-8bf6eae8a14d7c5b19bf1fcee7287fb8-0c28103886b91052-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 12:27:16.621 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 12:27:16.631 +08:00 [INF] 用户身份验证成功: fd35bd50-0754-457c-82bd-853eb8e82245
2025-05-29 12:27:16.635 +08:00 [INF] 请求 GET /api/property/GetPropertyStats 完成，状态码: 404，耗时: 117ms
2025-05-29 12:27:16.639 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - 404 0 null 126.8706ms
2025-05-29 12:27:16.643 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[OwnerId] = @__userId_0
2025-05-29 12:27:16.646 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5001/api/property/GetPropertyStats, Response status code: 404
2025-05-29 12:27:16.654 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
WHERE [p].[OwnerId] = @__userId_0
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-05-29 12:27:16.659 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 12:27:16.662 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 28.4077ms
2025-05-29 12:27:16.664 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 12:27:16.666 +08:00 [INF] 请求 GET /api/property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 155ms
2025-05-29 12:27:16.669 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 165.2172ms
2025-05-29 12:28:22.501 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-29 12:28:22.898 +08:00 [INF] Now listening on: https://localhost:5001
2025-05-29 12:28:23.042 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-29 12:28:23.044 +08:00 [INF] Hosting environment: Development
2025-05-29 12:28:23.045 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.PropertyService
2025-05-29 12:28:24.756 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-05-29 12:28:24.778 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-05-29 12:28:24.790 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 40.2135ms
2025-05-29 12:28:24.902 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 125.1841ms
2025-05-29 12:28:25.513 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-05-29 12:28:25.554 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 41.7244ms
2025-05-29 12:28:38.065 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Property/GetPropertyStats - null null
2025-05-29 12:28:38.095 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 12:28:38.097 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 12:28:38.098 +08:00 [INF] 请求方法: GET
2025-05-29 12:28:38.099 +08:00 [INF] 请求头: Accept = text/plain
2025-05-29 12:28:38.101 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 12:28:38.102 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 12:28:38.103 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 12:28:38.104 +08:00 [INF] 请求头: Accept-Language = zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6
2025-05-29 12:28:38.105 +08:00 [INF] 请求头: Referer = https://localhost:5001/swagger/index.html
2025-05-29 12:28:38.106 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 12:28:38.107 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 12:28:38.108 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 12:28:38.110 +08:00 [INF] 请求头: sec-fetch-site = same-origin
2025-05-29 12:28:38.111 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 12:28:38.112 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 12:28:38.113 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 12:28:38.114 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 12:28:38.115 +08:00 [INF] 未检测到Authorization头部
2025-05-29 12:28:38.115 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 12:28:38.118 +08:00 [INF] 接收请求头：["[Accept, text/plain]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6]","[Referer, https://localhost:5001/swagger/index.html]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, same-origin]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 12:28:38.170 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-05-29 12:28:38.173 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-05-29 12:28:38.175 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 401，耗时: 102ms
2025-05-29 12:28:38.177 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Property/GetPropertyStats - 401 0 null 111.8779ms
2025-05-29 12:29:55.228 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 12:29:55.228 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - null 0
2025-05-29 12:29:55.232 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 12:29:55.234 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 12:29:55.234 +08:00 [INF] 请求路径: /api/property/QueryProperties
2025-05-29 12:29:55.235 +08:00 [INF] 请求路径: /api/property/GetPropertyStats
2025-05-29 12:29:55.236 +08:00 [INF] 请求方法: GET
2025-05-29 12:29:55.236 +08:00 [INF] 请求方法: GET
2025-05-29 12:29:55.237 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 12:29:55.238 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 12:29:55.239 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 12:29:55.240 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 12:29:55.241 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 12:29:55.242 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 12:29:55.244 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 12:29:55.245 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 12:29:55.246 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 12:29:55.247 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 12:29:55.248 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 12:29:55.249 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 12:29:55.250 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImZkMzViZDUwLTA3NTQtNDU3Yy04MmJkLTg1M2ViOGU4MjI0NSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXNsb3NlckBnbWFpbC5jb20iLCJqdGkiOiJmOTgwODVhYS1hZTk1LTQ4OWEtODYwNC1iMWIwZTNkMDQ1ZjYiLCJTZWN1cml0eVN0YW1wIjoiNlFBWElWN1dGTVBJRktLRUZHV1RNRUQzSEM3NTQzRUgiLCJleHAiOjE3NDg0OTMzNTcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.gWG2WOIK783hZK5faRicT_EyYFRU_RbQNhSfjk2dXSY
2025-05-29 12:29:55.251 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImZkMzViZDUwLTA3NTQtNDU3Yy04MmJkLTg1M2ViOGU4MjI0NSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXNsb3NlckBnbWFpbC5jb20iLCJqdGkiOiJmOTgwODVhYS1hZTk1LTQ4OWEtODYwNC1iMWIwZTNkMDQ1ZjYiLCJTZWN1cml0eVN0YW1wIjoiNlFBWElWN1dGTVBJRktLRUZHV1RNRUQzSEM3NTQzRUgiLCJleHAiOjE3NDg0OTMzNTcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.gWG2WOIK783hZK5faRicT_EyYFRU_RbQNhSfjk2dXSY
2025-05-29 12:29:55.252 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 12:29:55.253 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 12:29:55.254 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 12:29:55.255 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 12:29:55.256 +08:00 [INF] 请求头: traceparent = 00-4846868f90b1c3fe0385b3c6ae7990a9-f11feab595709a01-00
2025-05-29 12:29:55.257 +08:00 [INF] 请求头: traceparent = 00-93f6345509a7c774f6610ac65cc2939c-6ce27f13dd7591db-00
2025-05-29 12:29:55.258 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 12:29:55.259 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 12:29:55.261 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 12:29:55.262 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 12:29:55.263 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 12:29:55.264 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 12:29:55.265 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 12:29:55.266 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 12:29:55.267 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 12:29:55.268 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 12:29:55.269 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 12:29:55.270 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 12:29:55.271 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 12:29:55.272 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 12:29:55.273 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 12:29:55.274 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 12:29:55.275 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 12:29:55.276 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 12:29:55.297 +08:00 [INF] JWT令牌解析成功，Claims数量: 8
2025-05-29 12:29:55.297 +08:00 [INF] JWT令牌解析成功，Claims数量: 8
2025-05-29 12:29:55.299 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = fd35bd50-0754-457c-82bd-853eb8e82245
2025-05-29 12:29:55.300 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = fd35bd50-0754-457c-82bd-853eb8e82245
2025-05-29 12:29:55.301 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 12:29:55.302 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 12:29:55.303 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsisloser@gmail.com
2025-05-29 12:29:55.304 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsisloser@gmail.com
2025-05-29 12:29:55.305 +08:00 [INF] JWT Claim: jti = f98085aa-ae95-489a-8604-b1b0e3d045f6
2025-05-29 12:29:55.307 +08:00 [INF] JWT Claim: jti = f98085aa-ae95-489a-8604-b1b0e3d045f6
2025-05-29 12:29:55.308 +08:00 [INF] JWT Claim: SecurityStamp = 6QAXIV7WFMPIFKKEFGWTMED3HC7543EH
2025-05-29 12:29:55.309 +08:00 [INF] JWT Claim: SecurityStamp = 6QAXIV7WFMPIFKKEFGWTMED3HC7543EH
2025-05-29 12:29:55.310 +08:00 [INF] JWT Claim: exp = 1748493357
2025-05-29 12:29:55.311 +08:00 [INF] JWT Claim: exp = 1748493357
2025-05-29 12:29:55.312 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 12:29:55.313 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 12:29:55.314 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 12:29:55.315 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 12:29:55.317 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 12:29:55.317 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 12:29:55.318 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImZkMzViZDUwLTA3NTQtNDU3Yy04MmJkLTg1M2ViOGU4MjI0NSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXNsb3NlckBnbWFpbC5jb20iLCJqdGkiOiJmOTgwODVhYS1hZTk1LTQ4OWEtODYwNC1iMWIwZTNkMDQ1ZjYiLCJTZWN1cml0eVN0YW1wIjoiNlFBWElWN1dGTVBJRktLRUZHV1RNRUQzSEM3NTQzRUgiLCJleHAiOjE3NDg0OTMzNTcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.gWG2WOIK783hZK5faRicT_EyYFRU_RbQNhSfjk2dXSY]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-93f6345509a7c774f6610ac65cc2939c-6ce27f13dd7591db-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 12:29:55.319 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImZkMzViZDUwLTA3NTQtNDU3Yy04MmJkLTg1M2ViOGU4MjI0NSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXNsb3NlckBnbWFpbC5jb20iLCJqdGkiOiJmOTgwODVhYS1hZTk1LTQ4OWEtODYwNC1iMWIwZTNkMDQ1ZjYiLCJTZWN1cml0eVN0YW1wIjoiNlFBWElWN1dGTVBJRktLRUZHV1RNRUQzSEM3NTQzRUgiLCJleHAiOjE3NDg0OTMzNTcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.gWG2WOIK783hZK5faRicT_EyYFRU_RbQNhSfjk2dXSY]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-4846868f90b1c3fe0385b3c6ae7990a9-f11feab595709a01-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 12:29:55.355 +08:00 [INF] 用户身份验证成功: fd35bd50-0754-457c-82bd-853eb8e82245
2025-05-29 12:29:55.355 +08:00 [INF] 用户身份验证成功: fd35bd50-0754-457c-82bd-853eb8e82245
2025-05-29 12:29:55.360 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 12:29:55.360 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 12:29:55.378 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 12:29:55.379 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 12:30:36.022 +08:00 [INF] Executed DbCommand (36ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[OwnerId] = @__userId_0
2025-05-29 12:30:36.022 +08:00 [INF] Executed DbCommand (36ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[OwnerId] = @__userId_0
2025-05-29 12:30:36.539 +08:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[OwnerId] = @__userId_0 AND [p].[Status] = 1
2025-05-29 12:30:36.814 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[OwnerId] = @__userId_0 AND [p].[Status] = 2
2025-05-29 12:30:37.071 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[OwnerId] = @__userId_0 AND [p].[Status] = 3
2025-05-29 12:30:37.489 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[OwnerId] = @__userId_0 AND [p].[Status] = 4
2025-05-29 12:30:42.414 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
WHERE [p].[OwnerId] = @__userId_0
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-05-29 12:30:42.453 +08:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
WHERE [p].[OwnerId] = @__userId_0
GROUP BY [p].[Type]
2025-05-29 12:30:49.409 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 12:30:49.409 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 12:30:49.439 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 54056.6558ms
2025-05-29 12:30:49.440 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 54057.1829ms
2025-05-29 12:30:49.441 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 12:30:49.442 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 12:30:49.444 +08:00 [INF] 请求 GET /api/property/GetPropertyStats 完成，状态码: 200，耗时: 54210ms
2025-05-29 12:30:49.444 +08:00 [INF] 请求 GET /api/property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 54212ms
2025-05-29 12:30:49.455 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - 499 null application/json; charset=utf-8 54226.836ms
2025-05-29 12:30:49.455 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - 499 null application/json; charset=utf-8 54226.9055ms
2025-05-29 12:31:00.772 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - null 0
2025-05-29 12:31:00.776 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 12:31:00.778 +08:00 [INF] 请求路径: /api/property/GetPropertyStats
2025-05-29 12:31:00.778 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 12:31:00.779 +08:00 [INF] 请求方法: GET
2025-05-29 12:31:00.782 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 12:31:00.783 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 12:31:00.784 +08:00 [INF] 请求路径: /api/property/QueryProperties
2025-05-29 12:31:00.785 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 12:31:00.786 +08:00 [INF] 请求方法: GET
2025-05-29 12:31:00.787 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 12:31:00.788 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 12:31:00.789 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 12:31:00.791 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 12:31:00.792 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 12:31:00.793 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 12:31:00.795 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 12:31:00.796 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 12:31:00.797 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImZkMzViZDUwLTA3NTQtNDU3Yy04MmJkLTg1M2ViOGU4MjI0NSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXNsb3NlckBnbWFpbC5jb20iLCJqdGkiOiJmOTgwODVhYS1hZTk1LTQ4OWEtODYwNC1iMWIwZTNkMDQ1ZjYiLCJTZWN1cml0eVN0YW1wIjoiNlFBWElWN1dGTVBJRktLRUZHV1RNRUQzSEM3NTQzRUgiLCJleHAiOjE3NDg0OTMzNTcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.gWG2WOIK783hZK5faRicT_EyYFRU_RbQNhSfjk2dXSY
2025-05-29 12:31:00.798 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 12:31:00.800 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 12:31:00.801 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 12:31:00.802 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 12:31:00.804 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImZkMzViZDUwLTA3NTQtNDU3Yy04MmJkLTg1M2ViOGU4MjI0NSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXNsb3NlckBnbWFpbC5jb20iLCJqdGkiOiJmOTgwODVhYS1hZTk1LTQ4OWEtODYwNC1iMWIwZTNkMDQ1ZjYiLCJTZWN1cml0eVN0YW1wIjoiNlFBWElWN1dGTVBJRktLRUZHV1RNRUQzSEM3NTQzRUgiLCJleHAiOjE3NDg0OTMzNTcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.gWG2WOIK783hZK5faRicT_EyYFRU_RbQNhSfjk2dXSY
2025-05-29 12:31:00.805 +08:00 [INF] 请求头: traceparent = 00-1cb90b540a47b89fa473e8064fef21c3-8e88e09d99a14068-00
2025-05-29 12:31:00.806 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 12:31:00.807 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 12:31:00.808 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 12:31:00.809 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 12:31:00.811 +08:00 [INF] 请求头: traceparent = 00-10682d9448a27f7a290f76d0e93c9227-6b1839713625fcad-00
2025-05-29 12:31:00.812 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 12:31:00.813 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 12:31:00.815 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 12:31:00.816 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 12:31:00.817 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 12:31:00.819 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 12:31:00.820 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 12:31:00.821 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 12:31:00.822 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 12:31:00.824 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 12:31:00.825 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 12:31:00.826 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 12:31:00.827 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 12:31:00.828 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 12:31:00.830 +08:00 [INF] JWT令牌解析成功，Claims数量: 8
2025-05-29 12:31:00.831 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 12:31:00.832 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = fd35bd50-0754-457c-82bd-853eb8e82245
2025-05-29 12:31:00.833 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 12:31:00.835 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 12:31:00.836 +08:00 [INF] JWT令牌解析成功，Claims数量: 8
2025-05-29 12:31:00.837 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsisloser@gmail.com
2025-05-29 12:31:00.838 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = fd35bd50-0754-457c-82bd-853eb8e82245
2025-05-29 12:31:00.840 +08:00 [INF] JWT Claim: jti = f98085aa-ae95-489a-8604-b1b0e3d045f6
2025-05-29 12:31:00.842 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 12:31:00.843 +08:00 [INF] JWT Claim: SecurityStamp = 6QAXIV7WFMPIFKKEFGWTMED3HC7543EH
2025-05-29 12:31:00.845 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsisloser@gmail.com
2025-05-29 12:31:00.846 +08:00 [INF] JWT Claim: exp = 1748493357
2025-05-29 12:31:00.848 +08:00 [INF] JWT Claim: jti = f98085aa-ae95-489a-8604-b1b0e3d045f6
2025-05-29 12:31:00.849 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 12:31:00.851 +08:00 [INF] JWT Claim: SecurityStamp = 6QAXIV7WFMPIFKKEFGWTMED3HC7543EH
2025-05-29 12:31:00.852 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 12:31:00.853 +08:00 [INF] JWT Claim: exp = 1748493357
2025-05-29 12:31:00.854 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 12:31:00.856 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 12:31:00.857 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImZkMzViZDUwLTA3NTQtNDU3Yy04MmJkLTg1M2ViOGU4MjI0NSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXNsb3NlckBnbWFpbC5jb20iLCJqdGkiOiJmOTgwODVhYS1hZTk1LTQ4OWEtODYwNC1iMWIwZTNkMDQ1ZjYiLCJTZWN1cml0eVN0YW1wIjoiNlFBWElWN1dGTVBJRktLRUZHV1RNRUQzSEM3NTQzRUgiLCJleHAiOjE3NDg0OTMzNTcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.gWG2WOIK783hZK5faRicT_EyYFRU_RbQNhSfjk2dXSY]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-1cb90b540a47b89fa473e8064fef21c3-8e88e09d99a14068-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 12:31:00.858 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 12:31:00.867 +08:00 [INF] 用户身份验证成功: fd35bd50-0754-457c-82bd-853eb8e82245
2025-05-29 12:31:00.868 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 12:31:00.870 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImZkMzViZDUwLTA3NTQtNDU3Yy04MmJkLTg1M2ViOGU4MjI0NSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXNsb3NlckBnbWFpbC5jb20iLCJqdGkiOiJmOTgwODVhYS1hZTk1LTQ4OWEtODYwNC1iMWIwZTNkMDQ1ZjYiLCJTZWN1cml0eVN0YW1wIjoiNlFBWElWN1dGTVBJRktLRUZHV1RNRUQzSEM3NTQzRUgiLCJleHAiOjE3NDg0OTMzNTcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.gWG2WOIK783hZK5faRicT_EyYFRU_RbQNhSfjk2dXSY]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-10682d9448a27f7a290f76d0e93c9227-6b1839713625fcad-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 12:31:00.871 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 12:31:00.879 +08:00 [INF] 用户身份验证成功: fd35bd50-0754-457c-82bd-853eb8e82245
2025-05-29 12:31:00.880 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 12:31:00.881 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 12:31:00.884 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 12:31:06.062 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[OwnerId] = @__userId_0
2025-05-29 12:31:06.065 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[OwnerId] = @__userId_0
2025-05-29 12:31:06.071 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
WHERE [p].[OwnerId] = @__userId_0
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-05-29 12:31:06.072 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[OwnerId] = @__userId_0 AND [p].[Status] = 1
2025-05-29 12:31:06.075 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 12:31:06.077 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[OwnerId] = @__userId_0 AND [p].[Status] = 2
2025-05-29 12:31:06.079 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 5192.3712ms
2025-05-29 12:31:06.081 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[OwnerId] = @__userId_0 AND [p].[Status] = 3
2025-05-29 12:31:06.082 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 12:31:06.085 +08:00 [INF] 请求 GET /api/property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 5302ms
2025-05-29 12:31:06.085 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[OwnerId] = @__userId_0 AND [p].[Status] = 4
2025-05-29 12:31:06.087 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 5308.8531ms
2025-05-29 12:31:06.090 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
WHERE [p].[OwnerId] = @__userId_0
GROUP BY [p].[Type]
2025-05-29 12:31:06.095 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 12:31:06.096 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 5213.1986ms
2025-05-29 12:31:06.098 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 12:31:06.099 +08:00 [INF] 请求 GET /api/property/GetPropertyStats 完成，状态码: 200，耗时: 5322ms
2025-05-29 12:31:06.101 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - 200 null application/json; charset=utf-8 5329.4105ms
2025-05-29 12:46:21.772 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-29 12:46:22.165 +08:00 [INF] Now listening on: https://localhost:5001
2025-05-29 12:46:22.343 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-29 12:46:22.345 +08:00 [INF] Hosting environment: Development
2025-05-29 12:46:22.347 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.PropertyService
2025-05-29 12:46:23.818 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-05-29 12:46:23.818 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-05-29 12:46:23.919 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 111.329ms
2025-05-29 12:46:23.989 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 183.4428ms
2025-05-29 12:46:24.229 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-05-29 12:46:24.305 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 76.2663ms
2025-05-29 13:29:35.894 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-29 13:29:36.159 +08:00 [INF] Now listening on: https://localhost:5001
2025-05-29 13:29:36.596 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-29 13:29:36.598 +08:00 [INF] Hosting environment: Development
2025-05-29 13:29:36.599 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.PropertyService
2025-05-29 13:29:37.497 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-05-29 13:29:37.532 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 47.7373ms
2025-05-29 13:29:37.670 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-05-29 13:29:37.850 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 181.9584ms
2025-05-29 13:29:38.268 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-05-29 13:29:38.340 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 71.6819ms
2025-05-29 13:29:55.394 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - null 0
2025-05-29 13:29:55.394 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 13:29:55.450 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 13:29:55.450 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 13:29:55.452 +08:00 [INF] 请求路径: /api/property/GetPropertyStats
2025-05-29 13:29:55.452 +08:00 [INF] 请求路径: /api/property/QueryProperties
2025-05-29 13:29:55.454 +08:00 [INF] 请求方法: GET
2025-05-29 13:29:55.455 +08:00 [INF] 请求方法: GET
2025-05-29 13:29:55.457 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 13:29:55.458 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 13:29:55.459 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 13:29:55.461 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 13:29:55.462 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 13:29:55.464 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 13:29:55.465 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 13:29:55.467 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 13:29:55.468 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 13:29:55.470 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 13:29:55.472 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 13:29:55.474 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 13:29:55.475 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNGE2M2I1MjktMzQ5OC00NGFmLWIzNTMtNTFhMzVlZjZmZjI1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg0OTcxOTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ZlTyy9L7QjSTdTPNmuP6thyV-sZE6fxPlL3B8YWJ9WU
2025-05-29 13:29:55.476 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNGE2M2I1MjktMzQ5OC00NGFmLWIzNTMtNTFhMzVlZjZmZjI1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg0OTcxOTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ZlTyy9L7QjSTdTPNmuP6thyV-sZE6fxPlL3B8YWJ9WU
2025-05-29 13:29:55.478 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 13:29:55.480 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 13:29:55.481 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 13:29:55.483 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 13:29:55.484 +08:00 [INF] 请求头: traceparent = 00-5adc196afc417661b9f5f27479a913c8-f571ebf6ecd8ebe1-00
2025-05-29 13:29:55.486 +08:00 [INF] 请求头: traceparent = 00-93db635f164cf684cf7a7c444a6b0bd8-a415740967183202-00
2025-05-29 13:29:55.488 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 13:29:55.489 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 13:29:55.491 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 13:29:55.492 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 13:29:55.493 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 13:29:55.495 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 13:29:55.497 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 13:29:55.498 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 13:29:55.499 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 13:29:55.501 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 13:29:55.502 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 13:29:55.504 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 13:29:55.505 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 13:29:55.507 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 13:29:55.508 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 13:29:55.510 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 13:29:55.511 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 13:29:55.512 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 13:29:55.567 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 13:29:55.567 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 13:29:55.569 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 13:29:55.570 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 13:29:55.572 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 13:29:55.573 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 13:29:55.575 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 13:29:55.577 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 13:29:55.579 +08:00 [INF] JWT Claim: jti = 4a63b529-3498-44af-b353-51a35ef6ff25
2025-05-29 13:29:55.581 +08:00 [INF] JWT Claim: jti = 4a63b529-3498-44af-b353-51a35ef6ff25
2025-05-29 13:29:55.582 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 13:29:55.584 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 13:29:55.585 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 13:29:55.587 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 13:29:55.589 +08:00 [INF] JWT Claim: exp = 1748497194
2025-05-29 13:29:55.590 +08:00 [INF] JWT Claim: exp = 1748497194
2025-05-29 13:29:55.591 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 13:29:55.593 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 13:29:55.595 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 13:29:55.596 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 13:29:55.598 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 13:29:55.599 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 13:29:55.603 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNGE2M2I1MjktMzQ5OC00NGFmLWIzNTMtNTFhMzVlZjZmZjI1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg0OTcxOTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ZlTyy9L7QjSTdTPNmuP6thyV-sZE6fxPlL3B8YWJ9WU]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-93db635f164cf684cf7a7c444a6b0bd8-a415740967183202-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 13:29:55.603 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNGE2M2I1MjktMzQ5OC00NGFmLWIzNTMtNTFhMzVlZjZmZjI1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg0OTcxOTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ZlTyy9L7QjSTdTPNmuP6thyV-sZE6fxPlL3B8YWJ9WU]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-5adc196afc417661b9f5f27479a913c8-f571ebf6ecd8ebe1-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 13:29:55.719 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 13:29:55.719 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 13:29:55.759 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 13:29:55.759 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 13:29:55.794 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 13:29:55.799 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 13:30:16.923 +08:00 [INF] Executed DbCommand (50ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[OwnerId] = @__userId_0
2025-05-29 13:30:16.923 +08:00 [INF] Executed DbCommand (50ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[OwnerId] = @__userId_0
2025-05-29 13:30:16.960 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[OwnerId] = @__userId_0 AND [p].[Status] = 1
2025-05-29 13:30:16.967 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[OwnerId] = @__userId_0 AND [p].[Status] = 2
2025-05-29 13:30:16.975 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[OwnerId] = @__userId_0 AND [p].[Status] = 3
2025-05-29 13:30:16.981 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[OwnerId] = @__userId_0 AND [p].[Status] = 4
2025-05-29 13:30:17.009 +08:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
WHERE [p].[OwnerId] = @__userId_0
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-05-29 13:30:17.015 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
WHERE [p].[OwnerId] = @__userId_0
GROUP BY [p].[Type]
2025-05-29 13:30:17.020 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 13:30:17.020 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 13:30:17.048 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 21248.4546ms
2025-05-29 13:30:17.048 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 21244.1298ms
2025-05-29 13:30:17.050 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 13:30:17.051 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 13:30:17.052 +08:00 [INF] 请求 GET /api/property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 21649ms
2025-05-29 13:30:17.052 +08:00 [INF] 请求 GET /api/property/GetPropertyStats 完成，状态码: 200，耗时: 21649ms
2025-05-29 13:30:17.061 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - 499 null application/json; charset=utf-8 21669.5356ms
2025-05-29 13:30:17.062 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - 499 null application/json; charset=utf-8 21669.6549ms
2025-05-29 13:32:29.401 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-29 13:32:29.783 +08:00 [INF] Now listening on: https://localhost:5001
2025-05-29 13:32:29.883 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-29 13:32:29.885 +08:00 [INF] Hosting environment: Development
2025-05-29 13:32:29.886 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.PropertyService
2025-05-29 13:32:31.715 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-05-29 13:32:31.741 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 36.5152ms
2025-05-29 13:32:32.010 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-05-29 13:32:32.128 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 118.5135ms
2025-05-29 13:32:32.796 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-05-29 13:32:32.848 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 51.7462ms
2025-05-29 13:32:41.905 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 13:32:41.905 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - null 0
2025-05-29 13:32:41.942 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 13:32:41.942 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 13:32:41.944 +08:00 [INF] 请求路径: /api/property/QueryProperties
2025-05-29 13:32:41.944 +08:00 [INF] 请求路径: /api/property/GetPropertyStats
2025-05-29 13:32:41.945 +08:00 [INF] 请求方法: GET
2025-05-29 13:32:41.946 +08:00 [INF] 请求方法: GET
2025-05-29 13:32:41.947 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 13:32:41.947 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 13:32:41.948 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 13:32:41.949 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 13:32:41.950 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 13:32:41.951 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 13:32:41.952 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 13:32:41.953 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 13:32:41.954 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 13:32:41.955 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 13:32:41.956 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 13:32:41.956 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 13:32:41.957 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNGE2M2I1MjktMzQ5OC00NGFmLWIzNTMtNTFhMzVlZjZmZjI1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg0OTcxOTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ZlTyy9L7QjSTdTPNmuP6thyV-sZE6fxPlL3B8YWJ9WU
2025-05-29 13:32:41.958 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNGE2M2I1MjktMzQ5OC00NGFmLWIzNTMtNTFhMzVlZjZmZjI1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg0OTcxOTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ZlTyy9L7QjSTdTPNmuP6thyV-sZE6fxPlL3B8YWJ9WU
2025-05-29 13:32:41.959 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 13:32:41.960 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 13:32:41.961 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 13:32:41.962 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 13:32:41.963 +08:00 [INF] 请求头: traceparent = 00-ef4d5b2abe308192f4d7ab320c48f146-f75e1ec891ba09b8-00
2025-05-29 13:32:41.964 +08:00 [INF] 请求头: traceparent = 00-81c25bece99451b177aef702029def31-0970944e478a8a87-00
2025-05-29 13:32:41.965 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 13:32:41.966 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 13:32:41.967 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 13:32:41.968 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 13:32:41.968 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 13:32:41.970 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 13:32:41.971 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 13:32:41.971 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 13:32:41.972 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 13:32:41.973 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 13:32:41.974 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 13:32:41.975 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 13:32:41.976 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 13:32:41.977 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 13:32:41.978 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 13:32:41.979 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 13:32:41.979 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 13:32:41.980 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 13:32:42.012 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 13:32:42.012 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 13:32:42.014 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 13:32:42.014 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 13:32:42.015 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 13:32:42.016 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 13:32:42.018 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 13:32:42.018 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 13:32:42.019 +08:00 [INF] JWT Claim: jti = 4a63b529-3498-44af-b353-51a35ef6ff25
2025-05-29 13:32:42.020 +08:00 [INF] JWT Claim: jti = 4a63b529-3498-44af-b353-51a35ef6ff25
2025-05-29 13:32:42.021 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 13:32:42.022 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 13:32:42.023 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 13:32:42.024 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 13:32:42.025 +08:00 [INF] JWT Claim: exp = 1748497194
2025-05-29 13:32:42.026 +08:00 [INF] JWT Claim: exp = 1748497194
2025-05-29 13:32:42.027 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 13:32:42.028 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 13:32:42.029 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 13:32:42.030 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 13:32:42.031 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 13:32:42.032 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 13:32:42.035 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNGE2M2I1MjktMzQ5OC00NGFmLWIzNTMtNTFhMzVlZjZmZjI1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg0OTcxOTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ZlTyy9L7QjSTdTPNmuP6thyV-sZE6fxPlL3B8YWJ9WU]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-ef4d5b2abe308192f4d7ab320c48f146-f75e1ec891ba09b8-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 13:32:42.035 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNGE2M2I1MjktMzQ5OC00NGFmLWIzNTMtNTFhMzVlZjZmZjI1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg0OTcxOTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ZlTyy9L7QjSTdTPNmuP6thyV-sZE6fxPlL3B8YWJ9WU]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-81c25bece99451b177aef702029def31-0970944e478a8a87-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 13:32:42.098 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 13:32:42.098 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 13:32:42.119 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 13:32:42.119 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 13:32:42.137 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 13:32:42.140 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 13:33:34.284 +08:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 13:33:34.284 +08:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 13:33:38.893 +08:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 13:33:39.401 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 13:33:39.915 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 13:33:40.949 +08:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 13:33:41.544 +08:00 [INF] Executed DbCommand (603ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 13:33:41.579 +08:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 13:33:45.736 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 13:33:47.241 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 65100.4798ms
2025-05-29 13:33:47.243 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 13:33:47.245 +08:00 [INF] 请求 GET /api/property/GetPropertyStats 完成，状态码: 200，耗时: 65333ms
2025-05-29 13:33:47.247 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 13:33:47.250 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - 499 null application/json; charset=utf-8 65346.2821ms
2025-05-29 13:33:47.274 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 65130.1026ms
2025-05-29 13:33:47.275 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 13:33:47.276 +08:00 [INF] 请求 GET /api/property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 65365ms
2025-05-29 13:33:47.278 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - 499 null application/json; charset=utf-8 65374.2894ms
2025-05-29 13:34:05.178 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - null 0
2025-05-29 13:34:05.181 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 13:34:05.183 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 13:34:05.186 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 13:34:05.186 +08:00 [INF] 请求路径: /api/property/GetPropertyStats
2025-05-29 13:34:05.187 +08:00 [INF] 请求路径: /api/property/QueryProperties
2025-05-29 13:34:05.188 +08:00 [INF] 请求方法: GET
2025-05-29 13:34:05.189 +08:00 [INF] 请求方法: GET
2025-05-29 13:34:05.190 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 13:34:05.191 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 13:34:05.193 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 13:34:05.194 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 13:34:05.195 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 13:34:05.196 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 13:34:05.197 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 13:34:05.198 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 13:34:05.199 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 13:34:05.201 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 13:34:05.202 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 13:34:05.203 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 13:34:05.204 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNGE2M2I1MjktMzQ5OC00NGFmLWIzNTMtNTFhMzVlZjZmZjI1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg0OTcxOTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ZlTyy9L7QjSTdTPNmuP6thyV-sZE6fxPlL3B8YWJ9WU
2025-05-29 13:34:05.206 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNGE2M2I1MjktMzQ5OC00NGFmLWIzNTMtNTFhMzVlZjZmZjI1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg0OTcxOTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ZlTyy9L7QjSTdTPNmuP6thyV-sZE6fxPlL3B8YWJ9WU
2025-05-29 13:34:05.207 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 13:34:05.208 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 13:34:05.210 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 13:34:05.211 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 13:34:05.212 +08:00 [INF] 请求头: traceparent = 00-9cbe4637e1c9ffa3d8de51b4e9d40a9c-9d72611db5dfc8fa-00
2025-05-29 13:34:05.213 +08:00 [INF] 请求头: traceparent = 00-b43a877db616bb289304e7b41d0de8d1-2b6bb99b4e042a39-00
2025-05-29 13:34:05.214 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 13:34:05.215 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 13:34:05.217 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 13:34:05.218 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 13:34:05.219 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 13:34:05.220 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 13:34:05.221 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 13:34:05.222 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 13:34:05.223 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 13:34:05.225 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 13:34:05.226 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 13:34:05.227 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 13:34:05.228 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 13:34:05.229 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 13:34:05.230 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 13:34:05.231 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 13:34:05.232 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 13:34:05.232 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 13:34:05.233 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 13:34:05.234 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 13:34:05.235 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 13:34:05.236 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 13:34:05.237 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 13:34:05.238 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 13:34:05.239 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 13:34:05.240 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 13:34:05.241 +08:00 [INF] JWT Claim: jti = 4a63b529-3498-44af-b353-51a35ef6ff25
2025-05-29 13:34:05.242 +08:00 [INF] JWT Claim: jti = 4a63b529-3498-44af-b353-51a35ef6ff25
2025-05-29 13:34:05.243 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 13:34:05.244 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 13:34:05.245 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 13:34:05.246 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 13:34:05.247 +08:00 [INF] JWT Claim: exp = 1748497194
2025-05-29 13:34:05.248 +08:00 [INF] JWT Claim: exp = 1748497194
2025-05-29 13:34:05.249 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 13:34:05.251 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 13:34:05.253 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 13:34:05.254 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 13:34:05.255 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 13:34:05.256 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 13:34:05.256 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNGE2M2I1MjktMzQ5OC00NGFmLWIzNTMtNTFhMzVlZjZmZjI1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg0OTcxOTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ZlTyy9L7QjSTdTPNmuP6thyV-sZE6fxPlL3B8YWJ9WU]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-9cbe4637e1c9ffa3d8de51b4e9d40a9c-9d72611db5dfc8fa-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 13:34:05.257 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNGE2M2I1MjktMzQ5OC00NGFmLWIzNTMtNTFhMzVlZjZmZjI1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg0OTcxOTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ZlTyy9L7QjSTdTPNmuP6thyV-sZE6fxPlL3B8YWJ9WU]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-b43a877db616bb289304e7b41d0de8d1-2b6bb99b4e042a39-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 13:34:05.266 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 13:34:05.271 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 13:34:05.274 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 13:34:05.274 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 13:34:05.275 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 13:34:05.276 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 13:34:09.633 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 13:34:09.633 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 13:34:09.639 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 13:34:09.640 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 13:34:09.642 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 13:34:09.644 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 13:34:09.646 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 13:34:09.648 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 4368.2483ms
2025-05-29 13:34:09.649 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 13:34:09.650 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 13:34:09.653 +08:00 [INF] 请求 GET /api/property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 4467ms
2025-05-29 13:34:09.654 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 13:34:09.655 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 4474.1724ms
2025-05-29 13:34:09.657 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 13:34:09.663 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 4384.6763ms
2025-05-29 13:34:09.664 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 13:34:09.665 +08:00 [INF] 请求 GET /api/property/GetPropertyStats 完成，状态码: 200，耗时: 4482ms
2025-05-29 13:34:09.667 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - 200 null application/json; charset=utf-8 4489.1844ms
2025-05-29 13:34:17.909 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - null 0
2025-05-29 13:34:17.909 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 13:34:17.913 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 13:34:17.915 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 13:34:17.916 +08:00 [INF] 请求路径: /api/property/GetPropertyStats
2025-05-29 13:34:17.917 +08:00 [INF] 请求路径: /api/property/QueryProperties
2025-05-29 13:34:17.919 +08:00 [INF] 请求方法: GET
2025-05-29 13:34:17.920 +08:00 [INF] 请求方法: GET
2025-05-29 13:34:17.921 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 13:34:17.922 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 13:34:17.923 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 13:34:17.925 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 13:34:17.926 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 13:34:17.928 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 13:34:17.929 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 13:34:17.930 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 13:34:17.931 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 13:34:17.932 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 13:34:17.934 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 13:34:17.935 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 13:34:17.936 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNGE2M2I1MjktMzQ5OC00NGFmLWIzNTMtNTFhMzVlZjZmZjI1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg0OTcxOTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ZlTyy9L7QjSTdTPNmuP6thyV-sZE6fxPlL3B8YWJ9WU
2025-05-29 13:34:17.938 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNGE2M2I1MjktMzQ5OC00NGFmLWIzNTMtNTFhMzVlZjZmZjI1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg0OTcxOTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ZlTyy9L7QjSTdTPNmuP6thyV-sZE6fxPlL3B8YWJ9WU
2025-05-29 13:34:17.939 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 13:34:17.941 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 13:34:17.942 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 13:34:17.944 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 13:34:17.945 +08:00 [INF] 请求头: traceparent = 00-58accbafc2d0402ab80c07d1ff19bcce-1f9bbf5726cc0e9f-00
2025-05-29 13:34:17.946 +08:00 [INF] 请求头: traceparent = 00-b0693cbf11d890c3bf604b0381e0091d-b7471b0e76bd4eff-00
2025-05-29 13:34:17.947 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 13:34:17.949 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 13:34:17.950 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 13:34:17.952 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 13:34:17.953 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 13:34:17.954 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 13:34:17.956 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 13:34:17.957 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 13:34:17.959 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 13:34:17.960 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 13:34:17.961 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 13:34:17.963 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 13:34:17.964 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 13:34:17.965 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 13:34:17.967 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 13:34:17.968 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 13:34:17.969 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 13:34:17.970 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 13:34:17.970 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 13:34:17.971 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 13:34:17.972 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 13:34:17.973 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 13:34:17.974 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 13:34:17.977 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 13:34:17.978 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 13:34:17.979 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 13:34:17.981 +08:00 [INF] JWT Claim: jti = 4a63b529-3498-44af-b353-51a35ef6ff25
2025-05-29 13:34:17.982 +08:00 [INF] JWT Claim: jti = 4a63b529-3498-44af-b353-51a35ef6ff25
2025-05-29 13:34:17.983 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 13:34:17.985 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 13:34:17.986 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 13:34:17.988 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 13:34:17.989 +08:00 [INF] JWT Claim: exp = 1748497194
2025-05-29 13:34:17.990 +08:00 [INF] JWT Claim: exp = 1748497194
2025-05-29 13:34:17.991 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 13:34:17.993 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 13:34:17.994 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 13:34:17.995 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 13:34:17.997 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 13:34:17.998 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 13:34:17.999 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNGE2M2I1MjktMzQ5OC00NGFmLWIzNTMtNTFhMzVlZjZmZjI1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg0OTcxOTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ZlTyy9L7QjSTdTPNmuP6thyV-sZE6fxPlL3B8YWJ9WU]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-58accbafc2d0402ab80c07d1ff19bcce-1f9bbf5726cc0e9f-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 13:34:18.000 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNGE2M2I1MjktMzQ5OC00NGFmLWIzNTMtNTFhMzVlZjZmZjI1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg0OTcxOTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ZlTyy9L7QjSTdTPNmuP6thyV-sZE6fxPlL3B8YWJ9WU]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-b0693cbf11d890c3bf604b0381e0091d-b7471b0e76bd4eff-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 13:34:18.010 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 13:34:18.019 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 13:34:18.019 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 13:34:18.020 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 13:34:18.021 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 13:34:18.023 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 13:34:18.031 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 13:34:18.033 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 13:34:18.038 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 13:34:18.041 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 13:34:18.043 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 13:34:18.045 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 13:34:18.048 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 13:34:18.049 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 22.467ms
2025-05-29 13:34:18.054 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 13:34:18.054 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 13:34:18.059 +08:00 [INF] 请求 GET /api/property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 143ms
2025-05-29 13:34:18.060 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 13:34:18.062 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 152.3788ms
2025-05-29 13:34:18.065 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 13:34:18.071 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 46.5468ms
2025-05-29 13:34:18.073 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 13:34:18.074 +08:00 [INF] 请求 GET /api/property/GetPropertyStats 完成，状态码: 200，耗时: 160ms
2025-05-29 13:34:18.077 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - 200 null application/json; charset=utf-8 167.6659ms
2025-05-29 13:34:39.856 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - null 0
2025-05-29 13:34:39.858 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 13:34:39.865 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 13:34:39.867 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 13:34:39.868 +08:00 [INF] 请求路径: /api/property/GetPropertyStats
2025-05-29 13:34:39.869 +08:00 [INF] 请求路径: /api/property/QueryProperties
2025-05-29 13:34:39.870 +08:00 [INF] 请求方法: GET
2025-05-29 13:34:39.871 +08:00 [INF] 请求方法: GET
2025-05-29 13:34:39.872 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 13:34:39.873 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 13:34:39.875 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 13:34:39.877 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 13:34:39.878 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 13:34:39.879 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 13:34:39.881 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 13:34:39.882 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 13:34:39.884 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 13:34:39.885 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 13:34:39.886 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 13:34:39.888 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 13:34:39.889 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNGE2M2I1MjktMzQ5OC00NGFmLWIzNTMtNTFhMzVlZjZmZjI1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg0OTcxOTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ZlTyy9L7QjSTdTPNmuP6thyV-sZE6fxPlL3B8YWJ9WU
2025-05-29 13:34:39.890 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNGE2M2I1MjktMzQ5OC00NGFmLWIzNTMtNTFhMzVlZjZmZjI1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg0OTcxOTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ZlTyy9L7QjSTdTPNmuP6thyV-sZE6fxPlL3B8YWJ9WU
2025-05-29 13:34:39.891 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 13:34:39.893 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 13:34:39.895 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 13:34:39.894 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 13:34:39.896 +08:00 [INF] 请求头: traceparent = 00-1774a2c4ae859010f67ccf49594c5569-1918aca5b558da17-00
2025-05-29 13:34:39.897 +08:00 [INF] 请求头: traceparent = 00-2d23c080f02d5399941a529b002a01cd-fc0f56f2f713423f-00
2025-05-29 13:34:39.898 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 13:34:39.899 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 13:34:39.901 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 13:34:39.902 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 13:34:39.903 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 13:34:39.904 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 13:34:39.905 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 13:34:39.907 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 13:34:39.908 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 13:34:39.909 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 13:34:39.910 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 13:34:39.911 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 13:34:39.913 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 13:34:39.912 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 13:34:39.914 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 13:34:39.915 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 13:34:39.916 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 13:34:39.917 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 13:34:39.918 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 13:34:39.919 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 13:34:39.920 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 13:34:39.921 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 13:34:39.922 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 13:34:39.923 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 13:34:39.925 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 13:34:39.926 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 13:34:39.927 +08:00 [INF] JWT Claim: jti = 4a63b529-3498-44af-b353-51a35ef6ff25
2025-05-29 13:34:39.928 +08:00 [INF] JWT Claim: jti = 4a63b529-3498-44af-b353-51a35ef6ff25
2025-05-29 13:34:39.929 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 13:34:39.930 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 13:34:39.931 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 13:34:39.932 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 13:34:39.934 +08:00 [INF] JWT Claim: exp = 1748497194
2025-05-29 13:34:39.935 +08:00 [INF] JWT Claim: exp = 1748497194
2025-05-29 13:34:39.936 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 13:34:39.937 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 13:34:39.938 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 13:34:39.940 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 13:34:39.941 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 13:34:39.942 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 13:34:39.943 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNGE2M2I1MjktMzQ5OC00NGFmLWIzNTMtNTFhMzVlZjZmZjI1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg0OTcxOTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ZlTyy9L7QjSTdTPNmuP6thyV-sZE6fxPlL3B8YWJ9WU]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-2d23c080f02d5399941a529b002a01cd-fc0f56f2f713423f-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 13:34:39.943 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNGE2M2I1MjktMzQ5OC00NGFmLWIzNTMtNTFhMzVlZjZmZjI1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg0OTcxOTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ZlTyy9L7QjSTdTPNmuP6thyV-sZE6fxPlL3B8YWJ9WU]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-1774a2c4ae859010f67ccf49594c5569-1918aca5b558da17-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 13:34:39.950 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 13:34:39.957 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 13:34:39.958 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 13:34:39.959 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 13:34:39.960 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 13:34:39.961 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 13:34:39.967 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 13:34:39.971 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 13:34:39.974 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 13:34:39.978 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 13:34:39.978 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 13:34:39.980 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 13:34:39.982 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 13:34:39.984 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 13:34:39.985 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 19.3252ms
2025-05-29 13:34:39.988 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 13:34:39.989 +08:00 [INF] 请求 GET /api/property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 121ms
2025-05-29 13:34:39.990 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 13:34:39.991 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 133.5842ms
2025-05-29 13:35:05.299 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 13:35:05.313 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 25350.7516ms
2025-05-29 13:35:05.314 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 13:35:05.315 +08:00 [INF] 请求 GET /api/property/GetPropertyStats 完成，状态码: 200，耗时: 25450ms
2025-05-29 13:35:05.317 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - 200 null application/json; charset=utf-8 25461.5424ms
2025-05-29 13:35:26.539 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-29 13:35:26.543 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 13:35:26.543 +08:00 [INF] 请求路径: /api/property/QueryProperties
2025-05-29 13:35:26.544 +08:00 [INF] 请求方法: GET
2025-05-29 13:35:26.545 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 13:35:26.546 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 13:35:26.548 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 13:35:26.549 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 13:35:26.551 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 13:35:26.552 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 13:35:26.553 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNGE2M2I1MjktMzQ5OC00NGFmLWIzNTMtNTFhMzVlZjZmZjI1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg0OTcxOTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ZlTyy9L7QjSTdTPNmuP6thyV-sZE6fxPlL3B8YWJ9WU
2025-05-29 13:35:26.554 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 13:35:26.555 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 13:35:26.556 +08:00 [INF] 请求头: traceparent = 00-fe17508498c14950f45aa41f0d624c2f-898e4a75cdf9789a-00
2025-05-29 13:35:26.557 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 13:35:26.558 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 13:35:26.560 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 13:35:26.561 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 13:35:26.562 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 13:35:26.563 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 13:35:26.564 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 13:35:26.565 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 13:35:26.565 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 13:35:26.566 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 13:35:26.567 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 13:35:26.568 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 13:35:26.569 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 13:35:26.570 +08:00 [INF] JWT Claim: jti = 4a63b529-3498-44af-b353-51a35ef6ff25
2025-05-29 13:35:26.571 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 13:35:26.572 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 13:35:26.573 +08:00 [INF] JWT Claim: exp = 1748497194
2025-05-29 13:35:26.574 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 13:35:26.575 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 13:35:26.576 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 13:35:26.577 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNGE2M2I1MjktMzQ5OC00NGFmLWIzNTMtNTFhMzVlZjZmZjI1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg0OTcxOTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ZlTyy9L7QjSTdTPNmuP6thyV-sZE6fxPlL3B8YWJ9WU]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-fe17508498c14950f45aa41f0d624c2f-898e4a75cdf9789a-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 13:35:26.584 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 13:35:26.585 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 13:35:26.586 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 13:35:26.592 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 13:35:26.598 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 13:35:26.601 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 13:35:26.602 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 14.6724ms
2025-05-29 13:35:26.604 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 13:35:26.605 +08:00 [INF] 请求 GET /api/property/QueryProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 61ms
2025-05-29 13:35:26.606 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 67.0903ms
2025-05-29 13:35:29.647 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?keyword=&pageIndex=2&pageSize=10 - null 0
2025-05-29 13:35:29.650 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 13:35:29.651 +08:00 [INF] 请求路径: /api/property/QueryProperties
2025-05-29 13:35:29.653 +08:00 [INF] 请求方法: GET
2025-05-29 13:35:29.653 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 13:35:29.655 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 13:35:29.656 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 13:35:29.657 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 13:35:29.659 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 13:35:29.660 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 13:35:29.661 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNGE2M2I1MjktMzQ5OC00NGFmLWIzNTMtNTFhMzVlZjZmZjI1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg0OTcxOTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ZlTyy9L7QjSTdTPNmuP6thyV-sZE6fxPlL3B8YWJ9WU
2025-05-29 13:35:29.663 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 13:35:29.664 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 13:35:29.665 +08:00 [INF] 请求头: traceparent = 00-3147a7b131d3976e598b4d7900a306ff-48f1bb0d47d36e85-00
2025-05-29 13:35:29.667 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 13:35:29.668 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 13:35:29.669 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 13:35:29.671 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 13:35:29.672 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 13:35:29.673 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 13:35:29.675 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 13:35:29.677 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 13:35:29.678 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 13:35:29.679 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 13:35:29.680 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 13:35:29.681 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 13:35:29.683 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 13:35:29.685 +08:00 [INF] JWT Claim: jti = 4a63b529-3498-44af-b353-51a35ef6ff25
2025-05-29 13:35:29.686 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 13:35:29.687 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 13:35:29.688 +08:00 [INF] JWT Claim: exp = 1748497194
2025-05-29 13:35:29.690 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 13:35:29.691 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 13:35:29.692 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 13:35:29.693 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNGE2M2I1MjktMzQ5OC00NGFmLWIzNTMtNTFhMzVlZjZmZjI1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg0OTcxOTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ZlTyy9L7QjSTdTPNmuP6thyV-sZE6fxPlL3B8YWJ9WU]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-3147a7b131d3976e598b4d7900a306ff-48f1bb0d47d36e85-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 13:35:29.702 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 13:35:29.704 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 13:35:29.705 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 13:35:29.714 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 13:35:29.735 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
2025-05-29 13:35:29.737 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 13:35:29.739 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 31.9071ms
2025-05-29 13:35:29.741 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 13:35:29.743 +08:00 [INF] 请求 GET /api/property/QueryProperties?keyword=&pageIndex=2&pageSize=10 完成，状态码: 200，耗时: 92ms
2025-05-29 13:35:29.745 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?keyword=&pageIndex=2&pageSize=10 - 200 null application/json; charset=utf-8 98.3835ms
2025-05-29 13:35:30.417 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?keyword=&pageIndex=3&pageSize=10 - null 0
2025-05-29 13:35:30.420 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 13:35:30.421 +08:00 [INF] 请求路径: /api/property/QueryProperties
2025-05-29 13:35:30.422 +08:00 [INF] 请求方法: GET
2025-05-29 13:35:30.423 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 13:35:30.424 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 13:35:30.425 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 13:35:30.427 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 13:35:30.428 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 13:35:30.429 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 13:35:30.430 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNGE2M2I1MjktMzQ5OC00NGFmLWIzNTMtNTFhMzVlZjZmZjI1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg0OTcxOTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ZlTyy9L7QjSTdTPNmuP6thyV-sZE6fxPlL3B8YWJ9WU
2025-05-29 13:35:30.431 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 13:35:30.432 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 13:35:30.433 +08:00 [INF] 请求头: traceparent = 00-593a805c3e44543fdfb05b089a56cac9-e8065577cd47e7b8-00
2025-05-29 13:35:30.435 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 13:35:30.436 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 13:35:30.437 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 13:35:30.438 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 13:35:30.439 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 13:35:30.440 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 13:35:30.441 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 13:35:30.442 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 13:35:30.443 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 13:35:30.444 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 13:35:30.445 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 13:35:30.447 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 13:35:30.448 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 13:35:30.449 +08:00 [INF] JWT Claim: jti = 4a63b529-3498-44af-b353-51a35ef6ff25
2025-05-29 13:35:30.450 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 13:35:30.451 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 13:35:30.452 +08:00 [INF] JWT Claim: exp = 1748497194
2025-05-29 13:35:30.453 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 13:35:30.454 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 13:35:30.455 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 13:35:30.456 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNGE2M2I1MjktMzQ5OC00NGFmLWIzNTMtNTFhMzVlZjZmZjI1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg0OTcxOTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ZlTyy9L7QjSTdTPNmuP6thyV-sZE6fxPlL3B8YWJ9WU]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-593a805c3e44543fdfb05b089a56cac9-e8065577cd47e7b8-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 13:35:30.463 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 13:35:30.463 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 13:35:30.464 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 13:35:30.468 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 13:35:30.473 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 13:35:30.475 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 13:35:30.477 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 11.1037ms
2025-05-29 13:35:30.478 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 13:35:30.479 +08:00 [INF] 请求 GET /api/property/QueryProperties?keyword=&pageIndex=3&pageSize=10 完成，状态码: 200，耗时: 58ms
2025-05-29 13:35:30.480 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?keyword=&pageIndex=3&pageSize=10 - 200 null application/json; charset=utf-8 63.3215ms
2025-05-29 13:35:32.468 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-29 13:35:32.471 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 13:35:32.472 +08:00 [INF] 请求路径: /api/property/QueryProperties
2025-05-29 13:35:32.473 +08:00 [INF] 请求方法: GET
2025-05-29 13:35:32.474 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 13:35:32.475 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 13:35:32.476 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 13:35:32.477 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 13:35:32.478 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 13:35:32.479 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 13:35:32.480 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNGE2M2I1MjktMzQ5OC00NGFmLWIzNTMtNTFhMzVlZjZmZjI1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg0OTcxOTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ZlTyy9L7QjSTdTPNmuP6thyV-sZE6fxPlL3B8YWJ9WU
2025-05-29 13:35:32.481 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 13:35:32.483 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 13:35:32.484 +08:00 [INF] 请求头: traceparent = 00-040ebc5a3b2105943f5db54d19367229-0fb330e8b107002e-00
2025-05-29 13:35:32.485 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 13:35:32.486 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 13:35:32.487 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 13:35:32.488 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 13:35:32.489 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 13:35:32.490 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 13:35:32.492 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 13:35:32.493 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 13:35:32.494 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 13:35:32.495 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 13:35:32.496 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 13:35:32.497 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 13:35:32.498 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 13:35:32.499 +08:00 [INF] JWT Claim: jti = 4a63b529-3498-44af-b353-51a35ef6ff25
2025-05-29 13:35:32.500 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 13:35:32.502 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 13:35:32.503 +08:00 [INF] JWT Claim: exp = 1748497194
2025-05-29 13:35:32.504 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 13:35:32.505 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 13:35:32.506 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 13:35:32.507 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNGE2M2I1MjktMzQ5OC00NGFmLWIzNTMtNTFhMzVlZjZmZjI1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg0OTcxOTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ZlTyy9L7QjSTdTPNmuP6thyV-sZE6fxPlL3B8YWJ9WU]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-040ebc5a3b2105943f5db54d19367229-0fb330e8b107002e-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 13:35:32.515 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 13:35:32.516 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 13:35:32.517 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 13:35:32.522 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 13:35:32.527 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 13:35:32.530 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 13:35:32.532 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 12.0818ms
2025-05-29 13:35:32.534 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 13:35:32.535 +08:00 [INF] 请求 GET /api/property/QueryProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 64ms
2025-05-29 13:35:32.537 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 68.9904ms
2025-05-29 13:36:03.496 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?keyword=%E6%9C%9D%E9%98%B3&pageIndex=1&pageSize=10 - null 0
2025-05-29 13:36:03.499 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 13:36:03.500 +08:00 [INF] 请求路径: /api/property/QueryProperties
2025-05-29 13:36:03.502 +08:00 [INF] 请求方法: GET
2025-05-29 13:36:03.503 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 13:36:03.504 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 13:36:03.506 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 13:36:03.507 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 13:36:03.509 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 13:36:03.510 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 13:36:03.512 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNGE2M2I1MjktMzQ5OC00NGFmLWIzNTMtNTFhMzVlZjZmZjI1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg0OTcxOTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ZlTyy9L7QjSTdTPNmuP6thyV-sZE6fxPlL3B8YWJ9WU
2025-05-29 13:36:03.513 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 13:36:03.514 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 13:36:03.515 +08:00 [INF] 请求头: traceparent = 00-3153d8d23e75f750a445abce1b576eab-1fd13839ebbf44d7-00
2025-05-29 13:36:03.517 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 13:36:03.519 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 13:36:03.520 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 13:36:03.521 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 13:36:03.523 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 13:36:03.524 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 13:36:03.526 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 13:36:03.527 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 13:36:03.528 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 13:36:03.530 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 13:36:03.531 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 13:36:03.532 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 13:36:03.534 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 13:36:03.535 +08:00 [INF] JWT Claim: jti = 4a63b529-3498-44af-b353-51a35ef6ff25
2025-05-29 13:36:03.537 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 13:36:03.538 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 13:36:03.539 +08:00 [INF] JWT Claim: exp = 1748497194
2025-05-29 13:36:03.541 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 13:36:03.542 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 13:36:03.544 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 13:36:03.545 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNGE2M2I1MjktMzQ5OC00NGFmLWIzNTMtNTFhMzVlZjZmZjI1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg0OTcxOTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ZlTyy9L7QjSTdTPNmuP6thyV-sZE6fxPlL3B8YWJ9WU]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-3153d8d23e75f750a445abce1b576eab-1fd13839ebbf44d7-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 13:36:03.553 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 13:36:03.555 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 13:36:03.556 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 13:36:03.593 +08:00 [INF] Executed DbCommand (13ms) [Parameters=[@__keyword_0_rewritten='?' (Size = 100), @__keyword_0_rewritten_1='?' (Size = 1000), @__keyword_0_rewritten_2='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Title] LIKE @__keyword_0_rewritten ESCAPE N'\' OR [p].[Description] LIKE @__keyword_0_rewritten_1 ESCAPE N'\' OR [p].[Address] LIKE @__keyword_0_rewritten_2 ESCAPE N'\'
2025-05-29 13:36:03.606 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__keyword_0_rewritten='?' (Size = 100), @__keyword_0_rewritten_1='?' (Size = 1000), @__keyword_0_rewritten_2='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
WHERE [p].[Title] LIKE @__keyword_0_rewritten ESCAPE N'\' OR [p].[Description] LIKE @__keyword_0_rewritten_1 ESCAPE N'\' OR [p].[Address] LIKE @__keyword_0_rewritten_2 ESCAPE N'\'
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-05-29 13:36:03.609 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 13:36:03.612 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 53.654ms
2025-05-29 13:36:03.614 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 13:36:03.615 +08:00 [INF] 请求 GET /api/property/QueryProperties?keyword=%E6%9C%9D%E9%98%B3&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 115ms
2025-05-29 13:36:03.618 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?keyword=%E6%9C%9D%E9%98%B3&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 122.0109ms
2025-05-29 13:36:06.488 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-29 13:36:06.492 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 13:36:06.492 +08:00 [INF] 请求路径: /api/property/QueryProperties
2025-05-29 13:36:06.493 +08:00 [INF] 请求方法: GET
2025-05-29 13:36:06.494 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 13:36:06.495 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 13:36:06.497 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 13:36:06.498 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 13:36:06.499 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 13:36:06.500 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 13:36:06.502 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNGE2M2I1MjktMzQ5OC00NGFmLWIzNTMtNTFhMzVlZjZmZjI1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg0OTcxOTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ZlTyy9L7QjSTdTPNmuP6thyV-sZE6fxPlL3B8YWJ9WU
2025-05-29 13:36:06.504 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 13:36:06.505 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 13:36:06.506 +08:00 [INF] 请求头: traceparent = 00-a609a59d09269aed69753c568a192a62-13543e3a7013d3ce-00
2025-05-29 13:36:06.507 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 13:36:06.509 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 13:36:06.510 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 13:36:06.511 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 13:36:06.512 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 13:36:06.513 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 13:36:06.514 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 13:36:06.515 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 13:36:06.516 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 13:36:06.517 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 13:36:06.518 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 13:36:06.520 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 13:36:06.521 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 13:36:06.522 +08:00 [INF] JWT Claim: jti = 4a63b529-3498-44af-b353-51a35ef6ff25
2025-05-29 13:36:06.523 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 13:36:06.525 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 13:36:06.526 +08:00 [INF] JWT Claim: exp = 1748497194
2025-05-29 13:36:06.528 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 13:36:06.529 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 13:36:06.531 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 13:36:06.531 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNGE2M2I1MjktMzQ5OC00NGFmLWIzNTMtNTFhMzVlZjZmZjI1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg0OTcxOTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ZlTyy9L7QjSTdTPNmuP6thyV-sZE6fxPlL3B8YWJ9WU]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-a609a59d09269aed69753c568a192a62-13543e3a7013d3ce-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 13:36:06.540 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 13:36:06.541 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 13:36:06.543 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 13:36:06.549 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 13:36:06.554 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 13:36:06.557 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 13:36:06.559 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 14.7246ms
2025-05-29 13:36:06.561 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 13:36:06.562 +08:00 [INF] 请求 GET /api/property/QueryProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 70ms
2025-05-29 13:36:06.565 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 76.5358ms
2025-05-29 13:36:33.782 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-29 13:36:33.786 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 13:36:33.787 +08:00 [INF] 请求路径: /api/property/QueryProperties
2025-05-29 13:36:33.787 +08:00 [INF] 请求方法: GET
2025-05-29 13:36:33.788 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 13:36:33.789 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 13:36:33.791 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 13:36:33.792 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 13:36:33.794 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 13:36:33.795 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 13:36:33.796 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNGE2M2I1MjktMzQ5OC00NGFmLWIzNTMtNTFhMzVlZjZmZjI1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg0OTcxOTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ZlTyy9L7QjSTdTPNmuP6thyV-sZE6fxPlL3B8YWJ9WU
2025-05-29 13:36:33.797 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 13:36:33.798 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 13:36:33.799 +08:00 [INF] 请求头: traceparent = 00-273b26a589ef4e42f377d3180048516d-58336e331a6ecbc6-00
2025-05-29 13:36:33.801 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 13:36:33.802 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 13:36:33.803 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 13:36:33.804 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 13:36:33.805 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 13:36:33.806 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 13:36:33.807 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 13:36:33.808 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 13:36:33.809 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 13:36:33.810 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 13:36:33.811 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 13:36:33.812 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 13:36:33.813 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 13:36:33.814 +08:00 [INF] JWT Claim: jti = 4a63b529-3498-44af-b353-51a35ef6ff25
2025-05-29 13:36:33.815 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 13:36:33.816 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 13:36:33.818 +08:00 [INF] JWT Claim: exp = 1748497194
2025-05-29 13:36:33.819 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 13:36:33.820 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 13:36:33.821 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 13:36:33.821 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNGE2M2I1MjktMzQ5OC00NGFmLWIzNTMtNTFhMzVlZjZmZjI1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg0OTcxOTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ZlTyy9L7QjSTdTPNmuP6thyV-sZE6fxPlL3B8YWJ9WU]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-273b26a589ef4e42f377d3180048516d-58336e331a6ecbc6-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 13:36:33.829 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 13:36:33.830 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 13:36:33.831 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 13:36:33.838 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 13:36:33.850 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 13:36:33.852 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 13:36:33.854 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 20.8588ms
2025-05-29 13:36:33.856 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 13:36:33.857 +08:00 [INF] 请求 GET /api/property/QueryProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 71ms
2025-05-29 13:36:33.860 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 78.5849ms
2025-05-29 13:36:38.007 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-29 13:36:38.011 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 13:36:38.011 +08:00 [INF] 请求路径: /api/property/QueryProperties
2025-05-29 13:36:38.012 +08:00 [INF] 请求方法: GET
2025-05-29 13:36:38.013 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 13:36:38.014 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 13:36:38.015 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 13:36:38.017 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 13:36:38.018 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 13:36:38.019 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 13:36:38.020 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNGE2M2I1MjktMzQ5OC00NGFmLWIzNTMtNTFhMzVlZjZmZjI1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg0OTcxOTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ZlTyy9L7QjSTdTPNmuP6thyV-sZE6fxPlL3B8YWJ9WU
2025-05-29 13:36:38.021 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 13:36:38.022 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 13:36:38.023 +08:00 [INF] 请求头: traceparent = 00-69c7d6b03ae926117355f10dd782802c-41903f926e0e23ab-00
2025-05-29 13:36:38.025 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 13:36:38.026 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 13:36:38.027 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 13:36:38.028 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 13:36:38.029 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 13:36:38.030 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 13:36:38.031 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 13:36:38.032 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 13:36:38.033 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 13:36:38.034 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 13:36:38.035 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 13:36:38.036 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 13:36:38.037 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 13:36:38.038 +08:00 [INF] JWT Claim: jti = 4a63b529-3498-44af-b353-51a35ef6ff25
2025-05-29 13:36:38.039 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 13:36:38.040 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 13:36:38.041 +08:00 [INF] JWT Claim: exp = 1748497194
2025-05-29 13:36:38.042 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 13:36:38.043 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 13:36:38.044 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 13:36:38.045 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNGE2M2I1MjktMzQ5OC00NGFmLWIzNTMtNTFhMzVlZjZmZjI1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg0OTcxOTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ZlTyy9L7QjSTdTPNmuP6thyV-sZE6fxPlL3B8YWJ9WU]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-69c7d6b03ae926117355f10dd782802c-41903f926e0e23ab-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 13:36:38.052 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 13:36:38.053 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 13:36:38.054 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 13:36:38.059 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 13:36:38.062 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 13:36:38.064 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 13:36:38.065 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 9.2175ms
2025-05-29 13:36:38.067 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 13:36:38.068 +08:00 [INF] 请求 GET /api/property/QueryProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 57ms
2025-05-29 13:36:38.070 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 62.3361ms
2025-05-29 13:37:28.021 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-29 13:37:28.339 +08:00 [INF] Now listening on: https://localhost:5001
2025-05-29 13:37:28.501 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-29 13:37:28.503 +08:00 [INF] Hosting environment: Development
2025-05-29 13:37:28.505 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.PropertyService
2025-05-29 13:37:30.014 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-05-29 13:37:30.058 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 58.8589ms
2025-05-29 13:37:30.222 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-05-29 13:37:30.348 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 128.1657ms
2025-05-29 13:37:30.789 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-05-29 13:37:30.850 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 61.6593ms
2025-05-29 13:38:20.355 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 13:38:20.355 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - null 0
2025-05-29 13:38:20.398 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 13:38:20.398 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 13:38:20.401 +08:00 [INF] 请求路径: /api/property/GetPropertyStats
2025-05-29 13:38:20.401 +08:00 [INF] 请求路径: /api/property/QueryProperties
2025-05-29 13:38:20.402 +08:00 [INF] 请求方法: GET
2025-05-29 13:38:20.403 +08:00 [INF] 请求方法: GET
2025-05-29 13:38:20.404 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 13:38:20.405 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 13:38:20.406 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 13:38:20.407 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 13:38:20.408 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 13:38:20.409 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 13:38:20.411 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 13:38:20.412 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 13:38:20.413 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 13:38:20.414 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 13:38:20.415 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 13:38:20.416 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 13:38:20.418 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNGE2M2I1MjktMzQ5OC00NGFmLWIzNTMtNTFhMzVlZjZmZjI1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg0OTcxOTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ZlTyy9L7QjSTdTPNmuP6thyV-sZE6fxPlL3B8YWJ9WU
2025-05-29 13:38:20.419 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNGE2M2I1MjktMzQ5OC00NGFmLWIzNTMtNTFhMzVlZjZmZjI1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg0OTcxOTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ZlTyy9L7QjSTdTPNmuP6thyV-sZE6fxPlL3B8YWJ9WU
2025-05-29 13:38:20.420 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 13:38:20.421 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 13:38:20.422 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 13:38:20.424 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 13:38:20.425 +08:00 [INF] 请求头: traceparent = 00-8a613e01f94e85c2c3afcba888cc0114-ec65a153d8282cad-00
2025-05-29 13:38:20.426 +08:00 [INF] 请求头: traceparent = 00-1b2bf3212759011144526fbdd6e2c4fb-33ef6b60282983f9-00
2025-05-29 13:38:20.427 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 13:38:20.428 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 13:38:20.430 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 13:38:20.430 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 13:38:20.432 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 13:38:20.433 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 13:38:20.434 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 13:38:20.435 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 13:38:20.437 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 13:38:20.438 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 13:38:20.439 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 13:38:20.441 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 13:38:20.442 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 13:38:20.443 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 13:38:20.445 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 13:38:20.446 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 13:38:20.447 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 13:38:20.447 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 13:38:20.491 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 13:38:20.491 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 13:38:20.493 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 13:38:20.493 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 13:38:20.495 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 13:38:20.496 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 13:38:20.497 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 13:38:20.498 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 13:38:20.500 +08:00 [INF] JWT Claim: jti = 4a63b529-3498-44af-b353-51a35ef6ff25
2025-05-29 13:38:20.501 +08:00 [INF] JWT Claim: jti = 4a63b529-3498-44af-b353-51a35ef6ff25
2025-05-29 13:38:20.502 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 13:38:20.503 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 13:38:20.504 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 13:38:20.505 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 13:38:20.507 +08:00 [INF] JWT Claim: exp = 1748497194
2025-05-29 13:38:20.509 +08:00 [INF] JWT Claim: exp = 1748497194
2025-05-29 13:38:20.510 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 13:38:20.511 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 13:38:20.512 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 13:38:20.513 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 13:38:20.514 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 13:38:20.516 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 13:38:20.520 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNGE2M2I1MjktMzQ5OC00NGFmLWIzNTMtNTFhMzVlZjZmZjI1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg0OTcxOTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ZlTyy9L7QjSTdTPNmuP6thyV-sZE6fxPlL3B8YWJ9WU]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-8a613e01f94e85c2c3afcba888cc0114-ec65a153d8282cad-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 13:38:20.520 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNGE2M2I1MjktMzQ5OC00NGFmLWIzNTMtNTFhMzVlZjZmZjI1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg0OTcxOTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ZlTyy9L7QjSTdTPNmuP6thyV-sZE6fxPlL3B8YWJ9WU]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-1b2bf3212759011144526fbdd6e2c4fb-33ef6b60282983f9-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 13:38:20.627 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 13:38:20.627 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 13:38:20.650 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 13:38:20.650 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 13:38:20.670 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 13:38:20.672 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 13:38:22.231 +08:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 13:38:22.231 +08:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 13:38:22.285 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 13:38:22.291 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 13:38:22.298 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 13:38:22.302 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 13:38:22.337 +08:00 [INF] Executed DbCommand (25ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 13:38:22.343 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 13:38:22.356 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 13:38:22.373 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 1697.402ms
2025-05-29 13:38:22.375 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 13:38:22.377 +08:00 [INF] 请求 GET /api/property/GetPropertyStats 完成，状态码: 200，耗时: 2014ms
2025-05-29 13:38:22.384 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - 200 null application/json; charset=utf-8 2031.2153ms
2025-05-29 13:38:22.409 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 13:38:22.447 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 1772.2458ms
2025-05-29 13:38:22.450 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 13:38:22.451 +08:00 [INF] 请求 GET /api/property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 2088ms
2025-05-29 13:38:22.453 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 2100.3255ms
2025-05-29 13:38:38.136 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - null 0
2025-05-29 13:38:38.140 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 13:38:38.142 +08:00 [INF] 请求路径: /api/property/GetPropertyStats
2025-05-29 13:38:38.143 +08:00 [INF] 请求方法: GET
2025-05-29 13:38:38.145 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 13:38:38.147 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 13:38:38.149 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 13:38:38.151 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 13:38:38.152 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 13:38:38.153 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 13:38:38.156 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 13:38:38.158 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 13:38:38.159 +08:00 [INF] 请求路径: /api/property/QueryProperties
2025-05-29 13:38:38.160 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNGE2M2I1MjktMzQ5OC00NGFmLWIzNTMtNTFhMzVlZjZmZjI1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg0OTcxOTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ZlTyy9L7QjSTdTPNmuP6thyV-sZE6fxPlL3B8YWJ9WU
2025-05-29 13:38:38.161 +08:00 [INF] 请求方法: GET
2025-05-29 13:38:38.163 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 13:38:38.164 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 13:38:38.165 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 13:38:38.166 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 13:38:38.168 +08:00 [INF] 请求头: traceparent = 00-076a15251c8aba8d12916230fa752313-bd466e9464fae4d1-00
2025-05-29 13:38:38.169 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 13:38:38.170 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 13:38:38.172 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 13:38:38.173 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 13:38:38.175 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 13:38:38.176 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 13:38:38.178 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 13:38:38.179 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 13:38:38.180 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNGE2M2I1MjktMzQ5OC00NGFmLWIzNTMtNTFhMzVlZjZmZjI1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg0OTcxOTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ZlTyy9L7QjSTdTPNmuP6thyV-sZE6fxPlL3B8YWJ9WU
2025-05-29 13:38:38.182 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 13:38:38.183 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 13:38:38.185 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 13:38:38.186 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 13:38:38.187 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 13:38:38.189 +08:00 [INF] 请求头: traceparent = 00-e3b2fdb076af094a48fd6e6ed74a920b-cc753c38f3046688-00
2025-05-29 13:38:38.191 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 13:38:38.192 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 13:38:38.193 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 13:38:38.194 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 13:38:38.195 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 13:38:38.196 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 13:38:38.197 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 13:38:38.199 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 13:38:38.200 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 13:38:38.202 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 13:38:38.203 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 13:38:38.204 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 13:38:38.206 +08:00 [INF] JWT Claim: jti = 4a63b529-3498-44af-b353-51a35ef6ff25
2025-05-29 13:38:38.207 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 13:38:38.209 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 13:38:38.210 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 13:38:38.211 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 13:38:38.212 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 13:38:38.213 +08:00 [INF] JWT Claim: exp = 1748497194
2025-05-29 13:38:38.215 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 13:38:38.216 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 13:38:38.217 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 13:38:38.219 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 13:38:38.220 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 13:38:38.221 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 13:38:38.223 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 13:38:38.224 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNGE2M2I1MjktMzQ5OC00NGFmLWIzNTMtNTFhMzVlZjZmZjI1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg0OTcxOTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ZlTyy9L7QjSTdTPNmuP6thyV-sZE6fxPlL3B8YWJ9WU]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-076a15251c8aba8d12916230fa752313-bd466e9464fae4d1-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 13:38:38.225 +08:00 [INF] JWT Claim: jti = 4a63b529-3498-44af-b353-51a35ef6ff25
2025-05-29 13:38:38.235 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 13:38:38.237 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 13:38:38.237 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 13:38:38.238 +08:00 [INF] JWT Claim: exp = 1748497194
2025-05-29 13:38:38.241 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 13:38:38.242 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 13:38:38.244 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 13:38:38.244 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 13:38:38.245 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 13:38:38.246 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNGE2M2I1MjktMzQ5OC00NGFmLWIzNTMtNTFhMzVlZjZmZjI1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg0OTcxOTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ZlTyy9L7QjSTdTPNmuP6thyV-sZE6fxPlL3B8YWJ9WU]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-e3b2fdb076af094a48fd6e6ed74a920b-cc753c38f3046688-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 13:38:38.257 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 13:38:38.259 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 13:38:38.260 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 13:38:38.321 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 13:38:38.321 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 13:38:38.331 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 13:38:38.331 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 13:38:38.336 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 13:38:38.338 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 13:38:38.341 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 13:38:38.342 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 79.7703ms
2025-05-29 13:38:38.345 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 13:38:38.346 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 13:38:38.349 +08:00 [INF] 请求 GET /api/property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 192ms
2025-05-29 13:38:38.350 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 13:38:38.352 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 199.9635ms
2025-05-29 13:38:38.355 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 13:38:38.361 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 113.1814ms
2025-05-29 13:38:38.363 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 13:38:38.365 +08:00 [INF] 请求 GET /api/property/GetPropertyStats 完成，状态码: 200，耗时: 224ms
2025-05-29 13:38:38.367 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - 200 null application/json; charset=utf-8 231.8291ms
2025-05-29 14:39:53.308 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-29 14:39:53.632 +08:00 [INF] Now listening on: https://localhost:5001
2025-05-29 14:39:53.818 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-29 14:39:53.822 +08:00 [INF] Hosting environment: Development
2025-05-29 14:39:53.823 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.PropertyService
2025-05-29 14:39:56.052 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-05-29 14:39:56.093 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 51.5962ms
2025-05-29 14:39:56.333 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-05-29 14:39:56.471 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 138.7886ms
2025-05-29 14:39:56.973 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-05-29 14:39:57.036 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 63.1612ms
2025-05-29 14:40:29.964 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 14:40:29.964 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - null 0
2025-05-29 14:40:30.023 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 14:40:30.023 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 14:40:30.026 +08:00 [INF] 请求路径: /api/property/GetPropertyStats
2025-05-29 14:40:30.026 +08:00 [INF] 请求路径: /api/property/QueryProperties
2025-05-29 14:40:30.028 +08:00 [INF] 请求方法: GET
2025-05-29 14:40:30.029 +08:00 [INF] 请求方法: GET
2025-05-29 14:40:30.031 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 14:40:30.031 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 14:40:30.033 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 14:40:30.035 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 14:40:30.036 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 14:40:30.037 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 14:40:30.039 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 14:40:30.040 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 14:40:30.042 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 14:40:30.043 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 14:40:30.045 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 14:40:30.046 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 14:40:30.048 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOWY2ZjgxZmYtZDgyNi00NDIxLTlkZDQtN2QwZTFmOGE2MDYyIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDE0MjksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.xqnl7j2LpRlbCbrIvpDeMcwOU0zOW5H02KVZJu3z71Y
2025-05-29 14:40:30.050 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOWY2ZjgxZmYtZDgyNi00NDIxLTlkZDQtN2QwZTFmOGE2MDYyIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDE0MjksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.xqnl7j2LpRlbCbrIvpDeMcwOU0zOW5H02KVZJu3z71Y
2025-05-29 14:40:30.051 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 14:40:30.053 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 14:40:30.054 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 14:40:30.056 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 14:40:30.057 +08:00 [INF] 请求头: traceparent = 00-557e96a4612989365ae2c8a5bb60156e-c8660369bfd7ccc0-00
2025-05-29 14:40:30.059 +08:00 [INF] 请求头: traceparent = 00-c81617c945b9a1ea959076de8bfa707d-5834489f30807ed0-00
2025-05-29 14:40:30.061 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 14:40:30.062 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 14:40:30.064 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 14:40:30.066 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 14:40:30.067 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 14:40:30.069 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 14:40:30.071 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 14:40:30.072 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 14:40:30.074 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 14:40:30.076 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 14:40:30.077 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 14:40:30.078 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 14:40:30.080 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 14:40:30.082 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 14:40:30.083 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 14:40:30.085 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 14:40:30.087 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 14:40:30.088 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 14:40:30.139 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 14:40:30.139 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 14:40:30.141 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 14:40:30.142 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 14:40:30.143 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 14:40:30.145 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 14:40:30.146 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 14:40:30.147 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 14:40:30.149 +08:00 [INF] JWT Claim: jti = 9f6f81ff-d826-4421-9dd4-7d0e1f8a6062
2025-05-29 14:40:30.151 +08:00 [INF] JWT Claim: jti = 9f6f81ff-d826-4421-9dd4-7d0e1f8a6062
2025-05-29 14:40:30.152 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 14:40:30.153 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 14:40:30.154 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 14:40:30.156 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 14:40:30.157 +08:00 [INF] JWT Claim: exp = 1748501429
2025-05-29 14:40:30.159 +08:00 [INF] JWT Claim: exp = 1748501429
2025-05-29 14:40:30.161 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 14:40:30.162 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 14:40:30.163 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 14:40:30.164 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 14:40:30.166 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 14:40:30.167 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 14:40:30.171 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOWY2ZjgxZmYtZDgyNi00NDIxLTlkZDQtN2QwZTFmOGE2MDYyIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDE0MjksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.xqnl7j2LpRlbCbrIvpDeMcwOU0zOW5H02KVZJu3z71Y]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-c81617c945b9a1ea959076de8bfa707d-5834489f30807ed0-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 14:40:30.171 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOWY2ZjgxZmYtZDgyNi00NDIxLTlkZDQtN2QwZTFmOGE2MDYyIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDE0MjksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.xqnl7j2LpRlbCbrIvpDeMcwOU0zOW5H02KVZJu3z71Y]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-557e96a4612989365ae2c8a5bb60156e-c8660369bfd7ccc0-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 14:40:30.268 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 14:40:30.268 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 14:40:30.298 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 14:40:30.299 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 14:40:30.323 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 14:40:30.326 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 14:40:31.821 +08:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 14:40:31.821 +08:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 14:40:31.883 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 14:40:31.890 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 14:40:31.897 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 14:40:31.903 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 14:40:31.935 +08:00 [INF] Executed DbCommand (29ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 14:40:31.952 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 14:40:31.968 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 14:40:31.986 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 1656.6974ms
2025-05-29 14:40:31.989 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 14:40:31.991 +08:00 [INF] 请求 GET /api/property/GetPropertyStats 完成，状态码: 200，耗时: 2018ms
2025-05-29 14:40:32.002 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - 200 null application/json; charset=utf-8 2038.8163ms
2025-05-29 14:40:32.018 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 14:40:32.049 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 1719.9814ms
2025-05-29 14:40:32.051 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 14:40:32.053 +08:00 [INF] 请求 GET /api/property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 2080ms
2025-05-29 14:40:32.056 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 2093.1831ms
2025-05-29 14:40:36.778 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 14:40:36.785 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 14:40:36.787 +08:00 [INF] 请求路径: /api/property/QueryProperties
2025-05-29 14:40:36.788 +08:00 [INF] 请求方法: GET
2025-05-29 14:40:36.789 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 14:40:36.792 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 14:40:36.793 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - null 0
2025-05-29 14:40:36.795 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 14:40:36.798 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 14:40:36.800 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 14:40:36.801 +08:00 [INF] 请求路径: /api/property/GetPropertyStats
2025-05-29 14:40:36.802 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 14:40:36.804 +08:00 [INF] 请求方法: GET
2025-05-29 14:40:36.805 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 14:40:36.806 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 14:40:36.808 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOWY2ZjgxZmYtZDgyNi00NDIxLTlkZDQtN2QwZTFmOGE2MDYyIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDE0MjksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.xqnl7j2LpRlbCbrIvpDeMcwOU0zOW5H02KVZJu3z71Y
2025-05-29 14:40:36.809 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 14:40:36.811 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 14:40:36.812 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 14:40:36.814 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 14:40:36.815 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 14:40:36.817 +08:00 [INF] 请求头: traceparent = 00-11a7788d65d04aec019e617123a2ee38-a335d0c54ac63652-00
2025-05-29 14:40:36.819 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 14:40:36.821 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 14:40:36.822 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 14:40:36.823 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 14:40:36.825 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOWY2ZjgxZmYtZDgyNi00NDIxLTlkZDQtN2QwZTFmOGE2MDYyIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDE0MjksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.xqnl7j2LpRlbCbrIvpDeMcwOU0zOW5H02KVZJu3z71Y
2025-05-29 14:40:36.827 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 14:40:36.828 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 14:40:36.830 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 14:40:36.831 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 14:40:36.833 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 14:40:36.835 +08:00 [INF] 请求头: traceparent = 00-f3f56755387999529893e53a0880a263-c43406a64c154f26-00
2025-05-29 14:40:36.837 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 14:40:36.838 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 14:40:36.839 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 14:40:36.841 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 14:40:36.842 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 14:40:36.844 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 14:40:36.845 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 14:40:36.846 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 14:40:36.848 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 14:40:36.849 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 14:40:36.850 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 14:40:36.852 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 14:40:36.853 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 14:40:36.855 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 14:40:36.856 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 14:40:36.857 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 14:40:36.859 +08:00 [INF] JWT Claim: jti = 9f6f81ff-d826-4421-9dd4-7d0e1f8a6062
2025-05-29 14:40:36.860 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 14:40:36.861 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 14:40:36.862 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 14:40:36.863 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 14:40:36.865 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 14:40:36.866 +08:00 [INF] JWT Claim: exp = 1748501429
2025-05-29 14:40:36.868 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 14:40:36.869 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 14:40:36.870 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 14:40:36.872 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 14:40:36.873 +08:00 [INF] JWT Claim: jti = 9f6f81ff-d826-4421-9dd4-7d0e1f8a6062
2025-05-29 14:40:36.874 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 14:40:36.876 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 14:40:36.877 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOWY2ZjgxZmYtZDgyNi00NDIxLTlkZDQtN2QwZTFmOGE2MDYyIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDE0MjksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.xqnl7j2LpRlbCbrIvpDeMcwOU0zOW5H02KVZJu3z71Y]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-11a7788d65d04aec019e617123a2ee38-a335d0c54ac63652-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 14:40:36.878 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 14:40:36.887 +08:00 [INF] JWT Claim: exp = 1748501429
2025-05-29 14:40:36.889 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 14:40:36.889 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 14:40:36.891 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 14:40:36.893 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 14:40:36.893 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 14:40:36.894 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOWY2ZjgxZmYtZDgyNi00NDIxLTlkZDQtN2QwZTFmOGE2MDYyIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDE0MjksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.xqnl7j2LpRlbCbrIvpDeMcwOU0zOW5H02KVZJu3z71Y]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-f3f56755387999529893e53a0880a263-c43406a64c154f26-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 14:40:36.896 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 14:40:36.905 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 14:40:36.907 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 14:40:36.909 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 14:40:36.968 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 14:40:36.968 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 14:40:36.976 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 14:40:36.976 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 14:40:36.979 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 14:40:36.983 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 76.8918ms
2025-05-29 14:40:36.985 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 14:40:36.985 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 14:40:36.989 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 14:40:36.990 +08:00 [INF] 请求 GET /api/property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 204ms
2025-05-29 14:40:36.994 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 14:40:36.995 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 216.898ms
2025-05-29 14:40:37.002 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 14:40:37.009 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 14:40:37.011 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 100.1636ms
2025-05-29 14:40:37.014 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 14:40:37.015 +08:00 [INF] 请求 GET /api/property/GetPropertyStats 完成，状态码: 200，耗时: 216ms
2025-05-29 14:40:37.018 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - 200 null application/json; charset=utf-8 225.9835ms
2025-05-29 14:46:18.646 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-29 14:46:18.982 +08:00 [INF] Now listening on: https://localhost:5001
2025-05-29 14:46:19.363 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-29 14:46:19.365 +08:00 [INF] Hosting environment: Development
2025-05-29 14:46:19.366 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.PropertyService
2025-05-29 14:46:20.331 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-05-29 14:46:20.370 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 52.8844ms
2025-05-29 14:46:20.848 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-05-29 14:46:21.138 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 290.904ms
2025-05-29 14:46:21.458 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-05-29 14:46:21.527 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 69.6695ms
2025-05-29 14:47:29.772 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 14:47:29.772 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - null 0
2025-05-29 14:47:29.813 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 14:47:29.813 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 14:47:29.815 +08:00 [INF] 请求路径: /api/property/GetPropertyStats
2025-05-29 14:47:29.815 +08:00 [INF] 请求路径: /api/property/QueryProperties
2025-05-29 14:47:29.816 +08:00 [INF] 请求方法: GET
2025-05-29 14:47:29.817 +08:00 [INF] 请求方法: GET
2025-05-29 14:47:29.819 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 14:47:29.819 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 14:47:29.820 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 14:47:29.822 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 14:47:29.823 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 14:47:29.824 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 14:47:29.826 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 14:47:29.827 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 14:47:29.829 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 14:47:29.831 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 14:47:29.833 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 14:47:29.834 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 14:47:29.836 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOWY2ZjgxZmYtZDgyNi00NDIxLTlkZDQtN2QwZTFmOGE2MDYyIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDE0MjksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.xqnl7j2LpRlbCbrIvpDeMcwOU0zOW5H02KVZJu3z71Y
2025-05-29 14:47:29.837 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOWY2ZjgxZmYtZDgyNi00NDIxLTlkZDQtN2QwZTFmOGE2MDYyIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDE0MjksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.xqnl7j2LpRlbCbrIvpDeMcwOU0zOW5H02KVZJu3z71Y
2025-05-29 14:47:29.838 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 14:47:29.840 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 14:47:29.841 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 14:47:29.842 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 14:47:29.843 +08:00 [INF] 请求头: traceparent = 00-b499a02a30f9157b4fb05997bb706075-ea04d5dbff8612b5-00
2025-05-29 14:47:29.844 +08:00 [INF] 请求头: traceparent = 00-56f6669e533f62c45bd849cbcf9f9e96-57601f4af9a73685-00
2025-05-29 14:47:29.846 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 14:47:29.847 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 14:47:29.849 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 14:47:29.850 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 14:47:29.851 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 14:47:29.852 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 14:47:29.853 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 14:47:29.855 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 14:47:29.856 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 14:47:29.857 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 14:47:29.859 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 14:47:29.860 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 14:47:29.861 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 14:47:29.862 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 14:47:29.864 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 14:47:29.865 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 14:47:29.866 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 14:47:29.867 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 14:47:29.907 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 14:47:29.907 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 14:47:29.909 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 14:47:29.910 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 14:47:29.911 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 14:47:29.913 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 14:47:29.914 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 14:47:29.915 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 14:47:29.916 +08:00 [INF] JWT Claim: jti = 9f6f81ff-d826-4421-9dd4-7d0e1f8a6062
2025-05-29 14:47:29.918 +08:00 [INF] JWT Claim: jti = 9f6f81ff-d826-4421-9dd4-7d0e1f8a6062
2025-05-29 14:47:29.919 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 14:47:29.920 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 14:47:29.922 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 14:47:29.923 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 14:47:29.924 +08:00 [INF] JWT Claim: exp = 1748501429
2025-05-29 14:47:29.925 +08:00 [INF] JWT Claim: exp = 1748501429
2025-05-29 14:47:29.926 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 14:47:29.928 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 14:47:29.929 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 14:47:29.931 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 14:47:29.932 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 14:47:29.933 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 14:47:29.937 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOWY2ZjgxZmYtZDgyNi00NDIxLTlkZDQtN2QwZTFmOGE2MDYyIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDE0MjksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.xqnl7j2LpRlbCbrIvpDeMcwOU0zOW5H02KVZJu3z71Y]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-56f6669e533f62c45bd849cbcf9f9e96-57601f4af9a73685-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 14:47:29.937 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOWY2ZjgxZmYtZDgyNi00NDIxLTlkZDQtN2QwZTFmOGE2MDYyIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDE0MjksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.xqnl7j2LpRlbCbrIvpDeMcwOU0zOW5H02KVZJu3z71Y]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-b499a02a30f9157b4fb05997bb706075-ea04d5dbff8612b5-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 14:47:30.027 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 14:47:30.027 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 14:47:30.054 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 14:47:30.054 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 14:47:30.076 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 14:47:30.077 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 14:47:31.487 +08:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 14:47:31.487 +08:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 14:47:31.548 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 14:47:31.555 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 14:47:31.561 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 14:47:31.566 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 14:47:31.598 +08:00 [INF] Executed DbCommand (24ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 14:47:31.608 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 14:47:31.624 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 14:47:31.641 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 1560.1493ms
2025-05-29 14:47:31.644 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 14:47:31.647 +08:00 [INF] 请求 GET /api/property/GetPropertyStats 完成，状态码: 200，耗时: 1867ms
2025-05-29 14:47:31.655 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - 200 null application/json; charset=utf-8 1884.855ms
2025-05-29 14:47:31.677 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 14:47:31.711 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 1629.7902ms
2025-05-29 14:47:31.713 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 14:47:31.714 +08:00 [INF] 请求 GET /api/property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 1935ms
2025-05-29 14:47:31.717 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 1946.0804ms
2025-05-29 14:47:35.201 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - null 0
2025-05-29 14:47:35.206 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 14:47:35.207 +08:00 [INF] 请求路径: /api/property/GetPropertyStats
2025-05-29 14:47:35.208 +08:00 [INF] 请求方法: GET
2025-05-29 14:47:35.210 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 14:47:35.212 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 14:47:35.215 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 14:47:35.217 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 14:47:35.220 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 14:47:35.223 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 14:47:35.225 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOWY2ZjgxZmYtZDgyNi00NDIxLTlkZDQtN2QwZTFmOGE2MDYyIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDE0MjksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.xqnl7j2LpRlbCbrIvpDeMcwOU0zOW5H02KVZJu3z71Y
2025-05-29 14:47:35.227 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 14:47:35.228 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 14:47:35.232 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 14:47:35.233 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 14:47:35.234 +08:00 [INF] 请求路径: /api/property/QueryProperties
2025-05-29 14:47:35.235 +08:00 [INF] 请求头: traceparent = 00-dd851784a16a10c0cb46031dc96155a0-a151de1d0740cd59-00
2025-05-29 14:47:35.237 +08:00 [INF] 请求方法: GET
2025-05-29 14:47:35.239 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 14:47:35.240 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 14:47:35.242 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 14:47:35.243 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 14:47:35.244 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 14:47:35.246 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 14:47:35.248 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 14:47:35.249 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 14:47:35.251 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 14:47:35.252 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 14:47:35.253 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 14:47:35.256 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 14:47:35.258 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 14:47:35.259 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOWY2ZjgxZmYtZDgyNi00NDIxLTlkZDQtN2QwZTFmOGE2MDYyIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDE0MjksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.xqnl7j2LpRlbCbrIvpDeMcwOU0zOW5H02KVZJu3z71Y
2025-05-29 14:47:35.261 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 14:47:35.263 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 14:47:35.264 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 14:47:35.266 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 14:47:35.267 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 14:47:35.269 +08:00 [INF] 请求头: traceparent = 00-76abb6626724f19109c741dc79702292-9b667f35655c9f21-00
2025-05-29 14:47:35.270 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 14:47:35.273 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 14:47:35.274 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 14:47:35.276 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 14:47:35.277 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 14:47:35.279 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 14:47:35.281 +08:00 [INF] JWT Claim: jti = 9f6f81ff-d826-4421-9dd4-7d0e1f8a6062
2025-05-29 14:47:35.283 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 14:47:35.284 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 14:47:35.286 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 14:47:35.288 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 14:47:35.290 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 14:47:35.292 +08:00 [INF] JWT Claim: exp = 1748501429
2025-05-29 14:47:35.293 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 14:47:35.295 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 14:47:35.297 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 14:47:35.298 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 14:47:35.300 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 14:47:35.301 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 14:47:35.302 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 14:47:35.303 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOWY2ZjgxZmYtZDgyNi00NDIxLTlkZDQtN2QwZTFmOGE2MDYyIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDE0MjksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.xqnl7j2LpRlbCbrIvpDeMcwOU0zOW5H02KVZJu3z71Y]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-dd851784a16a10c0cb46031dc96155a0-a151de1d0740cd59-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 14:47:35.304 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 14:47:35.318 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 14:47:35.318 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 14:47:35.320 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 14:47:35.323 +08:00 [INF] JWT Claim: jti = 9f6f81ff-d826-4421-9dd4-7d0e1f8a6062
2025-05-29 14:47:35.324 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 14:47:35.325 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 14:47:35.326 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 14:47:35.327 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 14:47:35.332 +08:00 [INF] JWT Claim: exp = 1748501429
2025-05-29 14:47:35.333 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 14:47:35.335 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 14:47:35.337 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 14:47:35.338 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOWY2ZjgxZmYtZDgyNi00NDIxLTlkZDQtN2QwZTFmOGE2MDYyIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDE0MjksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.xqnl7j2LpRlbCbrIvpDeMcwOU0zOW5H02KVZJu3z71Y]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-76abb6626724f19109c741dc79702292-9b667f35655c9f21-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 14:47:35.350 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 14:47:35.351 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 14:47:35.353 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 14:47:35.398 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 14:47:35.398 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 14:47:35.409 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 14:47:35.411 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 14:47:35.414 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 14:47:35.417 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 14:47:35.421 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 14:47:35.423 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 66.6384ms
2025-05-29 14:47:35.427 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 14:47:35.428 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 14:47:35.434 +08:00 [INF] 请求 GET /api/property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 201ms
2025-05-29 14:47:35.436 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 14:47:35.437 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 209.6607ms
2025-05-29 14:47:35.440 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 14:47:35.449 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 118.765ms
2025-05-29 14:47:35.451 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 14:47:35.453 +08:00 [INF] 请求 GET /api/property/GetPropertyStats 完成，状态码: 200，耗时: 247ms
2025-05-29 14:47:35.457 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - 200 null application/json; charset=utf-8 256.9178ms
2025-05-29 14:47:56.203 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 14:47:56.207 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 14:47:56.208 +08:00 [INF] 请求路径: /api/property/QueryProperties
2025-05-29 14:47:56.210 +08:00 [INF] 请求方法: GET
2025-05-29 14:47:56.211 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 14:47:56.213 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 14:47:56.214 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 14:47:56.216 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 14:47:56.217 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 14:47:56.218 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 14:47:56.220 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOWY2ZjgxZmYtZDgyNi00NDIxLTlkZDQtN2QwZTFmOGE2MDYyIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDE0MjksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.xqnl7j2LpRlbCbrIvpDeMcwOU0zOW5H02KVZJu3z71Y
2025-05-29 14:47:56.222 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 14:47:56.225 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 14:47:56.226 +08:00 [INF] 请求头: traceparent = 00-e76f3bfcf57a38d3e7b4cbda74a0f242-666b2d71d7ccccbe-00
2025-05-29 14:47:56.228 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 14:47:56.230 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 14:47:56.231 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 14:47:56.233 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 14:47:56.234 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - null 0
2025-05-29 14:47:56.234 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 14:47:56.238 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 14:47:56.239 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 14:47:56.241 +08:00 [INF] 请求路径: /api/property/GetPropertyStats
2025-05-29 14:47:56.242 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 14:47:56.243 +08:00 [INF] 请求方法: GET
2025-05-29 14:47:56.244 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 14:47:56.246 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 14:47:56.247 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 14:47:56.248 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 14:47:56.250 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 14:47:56.251 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 14:47:56.252 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 14:47:56.253 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 14:47:56.255 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 14:47:56.257 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 14:47:56.258 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 14:47:56.260 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 14:47:56.263 +08:00 [INF] JWT Claim: jti = 9f6f81ff-d826-4421-9dd4-7d0e1f8a6062
2025-05-29 14:47:56.265 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOWY2ZjgxZmYtZDgyNi00NDIxLTlkZDQtN2QwZTFmOGE2MDYyIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDE0MjksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.xqnl7j2LpRlbCbrIvpDeMcwOU0zOW5H02KVZJu3z71Y
2025-05-29 14:47:56.267 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 14:47:56.269 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 14:47:56.271 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 14:47:56.273 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 14:47:56.275 +08:00 [INF] JWT Claim: exp = 1748501429
2025-05-29 14:47:56.277 +08:00 [INF] 请求头: traceparent = 00-25bcc5971d6fa02f756698607e56b44e-25d336b93c8b87b2-00
2025-05-29 14:47:56.281 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 14:47:56.285 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 14:47:56.287 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 14:47:56.289 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 14:47:56.292 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 14:47:56.294 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 14:47:56.295 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOWY2ZjgxZmYtZDgyNi00NDIxLTlkZDQtN2QwZTFmOGE2MDYyIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDE0MjksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.xqnl7j2LpRlbCbrIvpDeMcwOU0zOW5H02KVZJu3z71Y]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-e76f3bfcf57a38d3e7b4cbda74a0f242-666b2d71d7ccccbe-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 14:47:56.297 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 14:47:56.309 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 14:47:56.311 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 14:47:56.313 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 14:47:56.315 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 14:47:56.317 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 14:47:56.319 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 14:47:56.324 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 14:47:56.327 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 14:47:56.332 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 14:47:56.334 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 14:47:56.334 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 14:47:56.341 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 14:47:56.342 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 14:47:56.343 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 14:47:56.344 +08:00 [INF] JWT Claim: jti = 9f6f81ff-d826-4421-9dd4-7d0e1f8a6062
2025-05-29 14:47:56.349 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 14:47:56.350 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 14:47:56.352 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 29.5646ms
2025-05-29 14:47:56.353 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 14:47:56.356 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 14:47:56.357 +08:00 [INF] JWT Claim: exp = 1748501429
2025-05-29 14:47:56.359 +08:00 [INF] 请求 GET /api/property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 151ms
2025-05-29 14:47:56.360 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 14:47:56.363 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 160.0545ms
2025-05-29 14:47:56.364 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 14:47:56.372 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 14:47:56.374 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOWY2ZjgxZmYtZDgyNi00NDIxLTlkZDQtN2QwZTFmOGE2MDYyIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDE0MjksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.xqnl7j2LpRlbCbrIvpDeMcwOU0zOW5H02KVZJu3z71Y]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-25bcc5971d6fa02f756698607e56b44e-25d336b93c8b87b2-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 14:47:56.386 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 14:47:56.388 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 14:47:56.390 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 14:47:56.397 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 14:47:56.409 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 14:47:56.415 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 14:47:56.421 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 14:47:56.427 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 14:47:56.435 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 14:47:56.439 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 14:47:56.442 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 48.6331ms
2025-05-29 14:47:56.444 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 14:47:56.446 +08:00 [INF] 请求 GET /api/property/GetPropertyStats 完成，状态码: 200，耗时: 207ms
2025-05-29 14:47:56.450 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - 200 null application/json; charset=utf-8 215.7198ms
2025-05-29 14:47:56.543 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 14:47:56.549 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 14:47:56.550 +08:00 [INF] 请求路径: /api/property/QueryProperties
2025-05-29 14:47:56.552 +08:00 [INF] 请求方法: GET
2025-05-29 14:47:56.553 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 14:47:56.555 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 14:47:56.557 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 14:47:56.559 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 14:47:56.561 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 14:47:56.564 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 14:47:56.566 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOWY2ZjgxZmYtZDgyNi00NDIxLTlkZDQtN2QwZTFmOGE2MDYyIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDE0MjksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.xqnl7j2LpRlbCbrIvpDeMcwOU0zOW5H02KVZJu3z71Y
2025-05-29 14:47:56.568 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 14:47:56.570 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 14:47:56.572 +08:00 [INF] 请求头: traceparent = 00-949063380a506bcec65d953773fadad5-ffb2621c38a5b5d1-00
2025-05-29 14:47:56.574 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 14:47:56.576 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 14:47:56.578 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 14:47:56.581 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 14:47:56.583 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 14:47:56.585 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 14:47:56.587 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 14:47:56.590 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 14:47:56.591 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 14:47:56.593 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 14:47:56.595 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 14:47:56.598 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 14:47:56.600 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 14:47:56.601 +08:00 [INF] JWT Claim: jti = 9f6f81ff-d826-4421-9dd4-7d0e1f8a6062
2025-05-29 14:47:56.603 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 14:47:56.605 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 14:47:56.607 +08:00 [INF] JWT Claim: exp = 1748501429
2025-05-29 14:47:56.610 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 14:47:56.612 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 14:47:56.615 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 14:47:56.616 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOWY2ZjgxZmYtZDgyNi00NDIxLTlkZDQtN2QwZTFmOGE2MDYyIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDE0MjksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.xqnl7j2LpRlbCbrIvpDeMcwOU0zOW5H02KVZJu3z71Y]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-949063380a506bcec65d953773fadad5-ffb2621c38a5b5d1-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 14:47:56.631 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 14:47:56.633 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 14:47:56.635 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 14:47:56.640 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - null 0
2025-05-29 14:47:56.644 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 14:47:56.647 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 14:47:56.651 +08:00 [INF] 请求路径: /api/property/GetPropertyStats
2025-05-29 14:47:56.652 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 14:47:56.653 +08:00 [INF] 请求方法: GET
2025-05-29 14:47:56.658 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 14:47:56.659 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 14:47:56.661 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 22.6695ms
2025-05-29 14:47:56.663 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 14:47:56.665 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 14:47:56.666 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 14:47:56.668 +08:00 [INF] 请求 GET /api/property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 119ms
2025-05-29 14:47:56.670 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 14:47:56.673 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 129.6395ms
2025-05-29 14:47:56.675 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 14:47:56.683 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 14:47:56.686 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOWY2ZjgxZmYtZDgyNi00NDIxLTlkZDQtN2QwZTFmOGE2MDYyIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDE0MjksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.xqnl7j2LpRlbCbrIvpDeMcwOU0zOW5H02KVZJu3z71Y
2025-05-29 14:47:56.688 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 14:47:56.690 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 14:47:56.692 +08:00 [INF] 请求头: traceparent = 00-1e6996a45cc9c898418de8741699222e-39985df00d39fd8c-00
2025-05-29 14:47:56.694 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 14:47:56.696 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 14:47:56.698 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 14:47:56.700 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 14:47:56.702 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 14:47:56.703 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 14:47:56.705 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 14:47:56.707 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 14:47:56.709 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 14:47:56.710 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 14:47:56.712 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 14:47:56.714 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 14:47:56.716 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 14:47:56.718 +08:00 [INF] JWT Claim: jti = 9f6f81ff-d826-4421-9dd4-7d0e1f8a6062
2025-05-29 14:47:56.720 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 14:47:56.722 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 14:47:56.723 +08:00 [INF] JWT Claim: exp = 1748501429
2025-05-29 14:47:56.725 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 14:47:56.726 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 14:47:56.728 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 14:47:56.729 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOWY2ZjgxZmYtZDgyNi00NDIxLTlkZDQtN2QwZTFmOGE2MDYyIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDE0MjksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.xqnl7j2LpRlbCbrIvpDeMcwOU0zOW5H02KVZJu3z71Y]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-1e6996a45cc9c898418de8741699222e-39985df00d39fd8c-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 14:47:56.741 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 14:47:56.742 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 14:47:56.744 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 14:47:56.751 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 14:47:56.759 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 14:47:56.766 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 14:47:56.771 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 14:47:56.776 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 14:47:56.783 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 14:47:56.786 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 14:47:56.789 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 41.9052ms
2025-05-29 14:47:56.792 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 14:47:56.793 +08:00 [INF] 请求 GET /api/property/GetPropertyStats 完成，状态码: 200，耗时: 146ms
2025-05-29 14:47:56.797 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - 200 null application/json; charset=utf-8 156.3221ms
2025-05-29 14:47:58.107 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 14:47:58.117 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 14:47:58.119 +08:00 [INF] 请求路径: /api/property/QueryProperties
2025-05-29 14:47:58.120 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - null 0
2025-05-29 14:47:58.122 +08:00 [INF] 请求方法: GET
2025-05-29 14:47:58.133 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 14:47:58.135 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 14:47:58.137 +08:00 [INF] 请求路径: /api/property/GetPropertyStats
2025-05-29 14:47:58.141 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 14:47:58.143 +08:00 [INF] 请求方法: GET
2025-05-29 14:47:58.146 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 14:47:58.148 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 14:47:58.150 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 14:47:58.152 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 14:47:58.155 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 14:47:58.157 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 14:47:58.159 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 14:47:58.161 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 14:47:58.163 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOWY2ZjgxZmYtZDgyNi00NDIxLTlkZDQtN2QwZTFmOGE2MDYyIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDE0MjksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.xqnl7j2LpRlbCbrIvpDeMcwOU0zOW5H02KVZJu3z71Y
2025-05-29 14:47:58.166 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 14:47:58.168 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 14:47:58.170 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 14:47:58.172 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 14:47:58.174 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOWY2ZjgxZmYtZDgyNi00NDIxLTlkZDQtN2QwZTFmOGE2MDYyIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDE0MjksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.xqnl7j2LpRlbCbrIvpDeMcwOU0zOW5H02KVZJu3z71Y
2025-05-29 14:47:58.176 +08:00 [INF] 请求头: traceparent = 00-5a8bf4b1026e3af4bfec7701d5817141-be3b1d3abddf40e2-00
2025-05-29 14:47:58.177 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 14:47:58.179 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 14:47:58.181 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 14:47:58.183 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 14:47:58.185 +08:00 [INF] 请求头: traceparent = 00-124652565a286d787fd4038d2fbd674f-dbc17b1158e90bb9-00
2025-05-29 14:47:58.187 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 14:47:58.189 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 14:47:58.190 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 14:47:58.192 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 14:47:58.194 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 14:47:58.196 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 14:47:58.198 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 14:47:58.199 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 14:47:58.201 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 14:47:58.203 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 14:47:58.205 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 14:47:58.206 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 14:47:58.207 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 14:47:58.209 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 14:47:58.210 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 14:47:58.211 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 14:47:58.213 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 14:47:58.214 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 14:47:58.215 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 14:47:58.216 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 14:47:58.218 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 14:47:58.220 +08:00 [INF] JWT Claim: jti = 9f6f81ff-d826-4421-9dd4-7d0e1f8a6062
2025-05-29 14:47:58.219 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 14:47:58.222 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 14:47:58.224 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 14:47:58.225 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 14:47:58.227 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 14:47:58.230 +08:00 [INF] JWT Claim: exp = 1748501429
2025-05-29 14:47:58.232 +08:00 [INF] JWT Claim: jti = 9f6f81ff-d826-4421-9dd4-7d0e1f8a6062
2025-05-29 14:47:58.234 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 14:47:58.235 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 14:47:58.237 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 14:47:58.239 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 14:47:58.241 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 14:47:58.243 +08:00 [INF] JWT Claim: exp = 1748501429
2025-05-29 14:47:58.244 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOWY2ZjgxZmYtZDgyNi00NDIxLTlkZDQtN2QwZTFmOGE2MDYyIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDE0MjksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.xqnl7j2LpRlbCbrIvpDeMcwOU0zOW5H02KVZJu3z71Y]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-5a8bf4b1026e3af4bfec7701d5817141-be3b1d3abddf40e2-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 14:47:58.246 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 14:47:58.257 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 14:47:58.259 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 14:47:58.260 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 14:47:58.261 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 14:47:58.263 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 14:47:58.264 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOWY2ZjgxZmYtZDgyNi00NDIxLTlkZDQtN2QwZTFmOGE2MDYyIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDE0MjksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.xqnl7j2LpRlbCbrIvpDeMcwOU0zOW5H02KVZJu3z71Y]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-124652565a286d787fd4038d2fbd674f-dbc17b1158e90bb9-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 14:47:58.270 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 14:47:58.279 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 14:47:58.284 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 14:47:58.285 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 14:47:58.285 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 14:47:58.290 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 14:47:58.295 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 14:47:58.296 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 29.9936ms
2025-05-29 14:47:58.301 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 14:47:58.302 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 14:47:58.306 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 14:47:58.307 +08:00 [INF] 请求 GET /api/property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 190ms
2025-05-29 14:47:58.311 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 14:47:58.313 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 206.4922ms
2025-05-29 14:47:58.318 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 14:47:58.331 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 14:47:58.334 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 14:47:58.337 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 45.2126ms
2025-05-29 14:47:58.339 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 14:47:58.341 +08:00 [INF] 请求 GET /api/property/GetPropertyStats 完成，状态码: 200，耗时: 208ms
2025-05-29 14:47:58.344 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - 200 null application/json; charset=utf-8 223.8667ms
2025-05-29 14:57:40.203 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - null 0
2025-05-29 14:57:40.206 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 14:57:40.207 +08:00 [INF] 请求路径: /api/property/GetPropertyStats
2025-05-29 14:57:40.208 +08:00 [INF] 请求方法: GET
2025-05-29 14:57:40.209 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 14:57:40.211 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 14:57:40.212 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 14:57:40.213 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 14:57:40.214 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 14:57:40.215 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 14:57:40.217 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDg4NDk3OTYtMGZjNC00MzAwLWI3ZDctM2M0NGEwNDYxZDhmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDI0NTksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.dh3pLs0wRYv9XuzIQ0S4ZS2uBjkXMyU-bOkJSTkN3pg
2025-05-29 14:57:40.218 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 14:57:40.220 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 14:57:40.221 +08:00 [INF] 请求头: traceparent = 00-c632a87018eeeaa761e6f4f6b3fe86ee-2fc27594cce833c3-00
2025-05-29 14:57:40.222 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 14:57:40.223 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 14:57:40.225 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 14:57:40.226 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 14:57:40.227 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 14:57:40.228 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 14:57:40.233 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 14:57:40.236 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 14:57:40.237 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 14:57:40.239 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 14:57:40.239 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 14:57:40.244 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 14:57:40.247 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 14:57:40.248 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 14:57:40.249 +08:00 [INF] 请求路径: /api/property/QueryProperties
2025-05-29 14:57:40.251 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 14:57:40.252 +08:00 [INF] 请求方法: GET
2025-05-29 14:57:40.253 +08:00 [INF] JWT Claim: jti = d8849796-0fc4-4300-b7d7-3c44a0461d8f
2025-05-29 14:57:40.254 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 14:57:40.255 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 14:57:40.256 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 14:57:40.257 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 14:57:40.258 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 14:57:40.259 +08:00 [INF] JWT Claim: exp = 1748502459
2025-05-29 14:57:40.260 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 14:57:40.261 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 14:57:40.263 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 14:57:40.264 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 14:57:40.262 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 14:57:40.265 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDg4NDk3OTYtMGZjNC00MzAwLWI3ZDctM2M0NGEwNDYxZDhmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDI0NTksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.dh3pLs0wRYv9XuzIQ0S4ZS2uBjkXMyU-bOkJSTkN3pg]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-c632a87018eeeaa761e6f4f6b3fe86ee-2fc27594cce833c3-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 14:57:40.266 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 14:57:40.273 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 14:57:40.274 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDg4NDk3OTYtMGZjNC00MzAwLWI3ZDctM2M0NGEwNDYxZDhmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDI0NTksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.dh3pLs0wRYv9XuzIQ0S4ZS2uBjkXMyU-bOkJSTkN3pg
2025-05-29 14:57:40.275 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 14:57:40.276 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 14:57:40.277 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 14:57:40.279 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 14:57:40.281 +08:00 [INF] 请求头: traceparent = 00-271d1aa09839c5fb1eb77833c38dcbfd-1251266489402f37-00
2025-05-29 14:57:40.284 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 14:57:40.288 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 14:57:40.289 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 14:57:40.290 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 14:57:40.292 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 14:57:40.294 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 14:57:40.296 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 14:57:40.296 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 14:57:40.299 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 14:57:40.300 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 14:57:40.300 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 14:57:40.301 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 14:57:40.304 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 14:57:40.304 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 14:57:40.306 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 14:57:40.307 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 14:57:40.310 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 14:57:40.310 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 14:57:40.313 +08:00 [INF] JWT Claim: jti = d8849796-0fc4-4300-b7d7-3c44a0461d8f
2025-05-29 14:57:40.314 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 14:57:40.314 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 14:57:40.315 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 14:57:40.318 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 14:57:40.318 +08:00 [INF] JWT Claim: exp = 1748502459
2025-05-29 14:57:40.320 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 39.8113ms
2025-05-29 14:57:40.321 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 14:57:40.322 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 14:57:40.323 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 14:57:40.324 +08:00 [INF] 请求 GET /api/property/GetPropertyStats 完成，状态码: 200，耗时: 118ms
2025-05-29 14:57:40.325 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 14:57:40.327 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - 200 null application/json; charset=utf-8 124.3885ms
2025-05-29 14:57:40.328 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDg4NDk3OTYtMGZjNC00MzAwLWI3ZDctM2M0NGEwNDYxZDhmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDI0NTksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.dh3pLs0wRYv9XuzIQ0S4ZS2uBjkXMyU-bOkJSTkN3pg]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-271d1aa09839c5fb1eb77833c38dcbfd-1251266489402f37-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 14:57:40.339 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 14:57:40.341 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 14:57:40.342 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 14:57:40.347 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 14:57:40.353 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 14:57:40.355 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 14:57:40.357 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 13.4904ms
2025-05-29 14:57:40.359 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 14:57:40.360 +08:00 [INF] 请求 GET /api/property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 112ms
2025-05-29 14:57:40.362 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 122.7972ms
2025-05-29 14:58:06.709 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - null 0
2025-05-29 14:58:06.720 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 14:58:06.721 +08:00 [INF] 请求路径: /api/property/GetPropertyStats
2025-05-29 14:58:06.722 +08:00 [INF] 请求方法: GET
2025-05-29 14:58:06.723 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 14:58:06.724 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 14:58:06.725 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 14:58:06.727 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 14:58:06.728 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 14:58:06.729 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 14:58:06.731 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDg4NDk3OTYtMGZjNC00MzAwLWI3ZDctM2M0NGEwNDYxZDhmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDI0NTksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.dh3pLs0wRYv9XuzIQ0S4ZS2uBjkXMyU-bOkJSTkN3pg
2025-05-29 14:58:06.733 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 14:58:06.734 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 14:58:06.736 +08:00 [INF] 请求头: traceparent = 00-65fe6855ee0f3e613f6278fed4f00817-a89a53018d320007-00
2025-05-29 14:58:06.737 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 14:58:06.738 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 14:58:06.740 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 14:58:06.742 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 14:58:06.743 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 14:58:06.745 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 14:58:06.746 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 14:58:06.748 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 14:58:06.749 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 14:58:06.750 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 14:58:06.752 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 14:58:06.753 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 14:58:06.755 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 14:58:06.763 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 14:58:06.764 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 14:58:06.767 +08:00 [INF] 请求路径: /api/property/QueryProperties
2025-05-29 14:58:06.769 +08:00 [INF] JWT Claim: jti = d8849796-0fc4-4300-b7d7-3c44a0461d8f
2025-05-29 14:58:06.770 +08:00 [INF] 请求方法: GET
2025-05-29 14:58:06.771 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 14:58:06.772 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 14:58:06.773 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 14:58:06.775 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 14:58:06.776 +08:00 [INF] JWT Claim: exp = 1748502459
2025-05-29 14:58:06.777 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 14:58:06.778 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 14:58:06.779 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 14:58:06.780 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 14:58:06.781 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 14:58:06.783 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 14:58:06.784 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 14:58:06.785 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDg4NDk3OTYtMGZjNC00MzAwLWI3ZDctM2M0NGEwNDYxZDhmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDI0NTksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.dh3pLs0wRYv9XuzIQ0S4ZS2uBjkXMyU-bOkJSTkN3pg]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-65fe6855ee0f3e613f6278fed4f00817-a89a53018d320007-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 14:58:06.786 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDg4NDk3OTYtMGZjNC00MzAwLWI3ZDctM2M0NGEwNDYxZDhmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDI0NTksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.dh3pLs0wRYv9XuzIQ0S4ZS2uBjkXMyU-bOkJSTkN3pg
2025-05-29 14:58:06.793 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 14:58:06.794 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 14:58:06.795 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 14:58:06.796 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 14:58:06.797 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 14:58:06.798 +08:00 [INF] 请求头: traceparent = 00-d112e326e837fa71bdb1889d021d8d6e-55ba0f530e5469b0-00
2025-05-29 14:58:06.802 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 14:58:06.804 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 14:58:06.808 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 14:58:06.814 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 14:58:06.815 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 14:58:06.818 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 14:58:06.819 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 14:58:06.822 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 14:58:06.822 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 14:58:06.825 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 14:58:06.826 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 14:58:06.829 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 14:58:06.829 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 14:58:06.832 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 14:58:06.833 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 14:58:06.835 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 34.5577ms
2025-05-29 14:58:06.835 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 14:58:06.837 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 14:58:06.838 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 14:58:06.839 +08:00 [INF] 请求 GET /api/property/GetPropertyStats 完成，状态码: 200，耗时: 119ms
2025-05-29 14:58:06.840 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 14:58:06.842 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - 200 null application/json; charset=utf-8 132.8906ms
2025-05-29 14:58:06.843 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 14:58:06.848 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 14:58:06.849 +08:00 [INF] JWT Claim: jti = d8849796-0fc4-4300-b7d7-3c44a0461d8f
2025-05-29 14:58:06.850 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 14:58:06.852 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 14:58:06.853 +08:00 [INF] JWT Claim: exp = 1748502459
2025-05-29 14:58:06.854 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 14:58:06.855 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 14:58:06.856 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 14:58:06.857 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDg4NDk3OTYtMGZjNC00MzAwLWI3ZDctM2M0NGEwNDYxZDhmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDI0NTksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.dh3pLs0wRYv9XuzIQ0S4ZS2uBjkXMyU-bOkJSTkN3pg]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-d112e326e837fa71bdb1889d021d8d6e-55ba0f530e5469b0-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 14:58:06.864 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 14:58:06.865 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 14:58:06.866 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 14:58:06.872 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 14:58:06.875 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 14:58:06.878 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 14:58:06.879 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 11.3905ms
2025-05-29 14:58:06.881 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 14:58:06.882 +08:00 [INF] 请求 GET /api/property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 119ms
2025-05-29 14:58:06.884 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 131.1927ms
2025-05-29 14:59:28.103 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - null 0
2025-05-29 14:59:28.107 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 14:59:28.109 +08:00 [INF] 请求路径: /api/property/GetPropertyStats
2025-05-29 14:59:28.109 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 14:59:28.110 +08:00 [INF] 请求方法: GET
2025-05-29 14:59:28.113 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 14:59:28.114 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 14:59:28.115 +08:00 [INF] 请求路径: /api/property/QueryProperties
2025-05-29 14:59:28.116 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 14:59:28.117 +08:00 [INF] 请求方法: GET
2025-05-29 14:59:28.118 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 14:59:28.119 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 14:59:28.120 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 14:59:28.121 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 14:59:28.122 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 14:59:28.124 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 14:59:28.126 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 14:59:28.128 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 14:59:28.129 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDg4NDk3OTYtMGZjNC00MzAwLWI3ZDctM2M0NGEwNDYxZDhmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDI0NTksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.dh3pLs0wRYv9XuzIQ0S4ZS2uBjkXMyU-bOkJSTkN3pg
2025-05-29 14:59:28.131 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 14:59:28.133 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 14:59:28.134 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 14:59:28.135 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 14:59:28.137 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDg4NDk3OTYtMGZjNC00MzAwLWI3ZDctM2M0NGEwNDYxZDhmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDI0NTksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.dh3pLs0wRYv9XuzIQ0S4ZS2uBjkXMyU-bOkJSTkN3pg
2025-05-29 14:59:28.138 +08:00 [INF] 请求头: traceparent = 00-e592b25a1a981fbccb6c3f1ca1fc79bf-009a7a91e534d20e-00
2025-05-29 14:59:28.139 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 14:59:28.141 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 14:59:28.142 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 14:59:28.143 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 14:59:28.144 +08:00 [INF] 请求头: traceparent = 00-dc09b698cf4992602c937c106063c251-6490ed5dae292b93-00
2025-05-29 14:59:28.145 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 14:59:28.146 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 14:59:28.147 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 14:59:28.148 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 14:59:28.149 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 14:59:28.150 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 14:59:28.151 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 14:59:28.152 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 14:59:28.153 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 14:59:28.154 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 14:59:28.155 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 14:59:28.156 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 14:59:28.157 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 14:59:28.158 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 14:59:28.159 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 14:59:28.160 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 14:59:28.161 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 14:59:28.161 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 14:59:28.163 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 14:59:28.163 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 14:59:28.164 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 14:59:28.166 +08:00 [INF] JWT Claim: jti = d8849796-0fc4-4300-b7d7-3c44a0461d8f
2025-05-29 14:59:28.166 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 14:59:28.167 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 14:59:28.169 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 14:59:28.170 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 14:59:28.171 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 14:59:28.172 +08:00 [INF] JWT Claim: exp = 1748502459
2025-05-29 14:59:28.173 +08:00 [INF] JWT Claim: jti = d8849796-0fc4-4300-b7d7-3c44a0461d8f
2025-05-29 14:59:28.174 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 14:59:28.175 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 14:59:28.176 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 14:59:28.177 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 14:59:28.178 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 14:59:28.179 +08:00 [INF] JWT Claim: exp = 1748502459
2025-05-29 14:59:28.180 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDg4NDk3OTYtMGZjNC00MzAwLWI3ZDctM2M0NGEwNDYxZDhmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDI0NTksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.dh3pLs0wRYv9XuzIQ0S4ZS2uBjkXMyU-bOkJSTkN3pg]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-e592b25a1a981fbccb6c3f1ca1fc79bf-009a7a91e534d20e-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 14:59:28.181 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 14:59:28.188 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 14:59:28.189 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 14:59:28.190 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 14:59:28.191 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 14:59:28.192 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 14:59:28.193 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDg4NDk3OTYtMGZjNC00MzAwLWI3ZDctM2M0NGEwNDYxZDhmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDI0NTksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.dh3pLs0wRYv9XuzIQ0S4ZS2uBjkXMyU-bOkJSTkN3pg]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-dc09b698cf4992602c937c106063c251-6490ed5dae292b93-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 14:59:28.198 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 14:59:28.203 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 14:59:28.205 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 14:59:28.206 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 14:59:28.207 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 14:59:28.216 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 14:59:28.220 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 14:59:28.226 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 14:59:28.227 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 14:59:28.227 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 19.3924ms
2025-05-29 14:59:28.231 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 14:59:28.231 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 14:59:28.232 +08:00 [INF] 请求 GET /api/property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 118ms
2025-05-29 14:59:28.235 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 14:59:28.236 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 127.3167ms
2025-05-29 14:59:28.246 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 14:59:28.249 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 14:59:28.251 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 56.7393ms
2025-05-29 14:59:28.253 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 14:59:28.254 +08:00 [INF] 请求 GET /api/property/GetPropertyStats 完成，状态码: 200，耗时: 146ms
2025-05-29 14:59:28.256 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - 200 null application/json; charset=utf-8 153.4759ms
2025-05-29 14:59:30.908 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - null 0
2025-05-29 14:59:30.911 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 14:59:30.912 +08:00 [INF] 请求路径: /api/property/GetPropertyStats
2025-05-29 14:59:30.914 +08:00 [INF] 请求方法: GET
2025-05-29 14:59:30.915 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 14:59:30.917 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 14:59:30.918 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 14:59:30.919 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 14:59:30.920 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 14:59:30.922 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 14:59:30.923 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDg4NDk3OTYtMGZjNC00MzAwLWI3ZDctM2M0NGEwNDYxZDhmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDI0NTksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.dh3pLs0wRYv9XuzIQ0S4ZS2uBjkXMyU-bOkJSTkN3pg
2025-05-29 14:59:30.925 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 14:59:30.926 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 14:59:30.927 +08:00 [INF] 请求头: traceparent = 00-917ca914d620ce21258fcce4cb624fa3-d10ad3146db5543e-00
2025-05-29 14:59:30.929 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 14:59:30.930 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 14:59:30.931 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 14:59:30.933 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 14:59:30.934 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 14:59:30.935 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 14:59:30.937 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 14:59:30.938 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 14:59:30.939 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 14:59:30.941 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 14:59:30.942 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 14:59:30.943 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 14:59:30.945 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 14:59:30.946 +08:00 [INF] JWT Claim: jti = d8849796-0fc4-4300-b7d7-3c44a0461d8f
2025-05-29 14:59:30.947 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 14:59:30.949 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 14:59:30.950 +08:00 [INF] JWT Claim: exp = 1748502459
2025-05-29 14:59:30.951 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 14:59:30.953 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 14:59:30.954 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 14:59:30.954 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDg4NDk3OTYtMGZjNC00MzAwLWI3ZDctM2M0NGEwNDYxZDhmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDI0NTksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.dh3pLs0wRYv9XuzIQ0S4ZS2uBjkXMyU-bOkJSTkN3pg]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-917ca914d620ce21258fcce4cb624fa3-d10ad3146db5543e-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 14:59:30.957 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 14:59:30.963 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 14:59:30.965 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 14:59:30.967 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 14:59:30.967 +08:00 [INF] 请求路径: /api/property/QueryProperties
2025-05-29 14:59:30.968 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 14:59:30.969 +08:00 [INF] 请求方法: GET
2025-05-29 14:59:30.971 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 14:59:30.973 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 14:59:30.975 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 14:59:30.978 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 14:59:30.979 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 14:59:30.981 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 14:59:30.982 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 14:59:30.985 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 14:59:30.985 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 14:59:30.986 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 14:59:30.989 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 14:59:30.990 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDg4NDk3OTYtMGZjNC00MzAwLWI3ZDctM2M0NGEwNDYxZDhmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDI0NTksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.dh3pLs0wRYv9XuzIQ0S4ZS2uBjkXMyU-bOkJSTkN3pg
2025-05-29 14:59:30.993 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 14:59:30.993 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 14:59:30.995 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 14:59:30.996 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 14:59:30.997 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 26.6565ms
2025-05-29 14:59:30.998 +08:00 [INF] 请求头: traceparent = 00-21de0278d3981c4a0c67545e06a0b940-965abadcefea652d-00
2025-05-29 14:59:30.999 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 14:59:31.000 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 14:59:31.001 +08:00 [INF] 请求 GET /api/property/GetPropertyStats 完成，状态码: 200，耗时: 89ms
2025-05-29 14:59:31.002 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 14:59:31.004 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - 200 null application/json; charset=utf-8 95.863ms
2025-05-29 14:59:31.005 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 14:59:31.010 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 14:59:31.011 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 14:59:31.012 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 14:59:31.013 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 14:59:31.014 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 14:59:31.015 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 14:59:31.016 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 14:59:31.017 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 14:59:31.018 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 14:59:31.019 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 14:59:31.020 +08:00 [INF] JWT Claim: jti = d8849796-0fc4-4300-b7d7-3c44a0461d8f
2025-05-29 14:59:31.021 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 14:59:31.022 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 14:59:31.023 +08:00 [INF] JWT Claim: exp = 1748502459
2025-05-29 14:59:31.024 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 14:59:31.025 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 14:59:31.026 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 14:59:31.027 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDg4NDk3OTYtMGZjNC00MzAwLWI3ZDctM2M0NGEwNDYxZDhmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDI0NTksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.dh3pLs0wRYv9XuzIQ0S4ZS2uBjkXMyU-bOkJSTkN3pg]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-21de0278d3981c4a0c67545e06a0b940-965abadcefea652d-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 14:59:31.035 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 14:59:31.036 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 14:59:31.037 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 14:59:31.040 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 14:59:31.044 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 14:59:31.046 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 14:59:31.048 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 9.5187ms
2025-05-29 14:59:31.049 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 14:59:31.050 +08:00 [INF] 请求 GET /api/property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 84ms
2025-05-29 14:59:31.052 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 94.7985ms
2025-05-29 15:00:33.194 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - null 0
2025-05-29 15:00:33.207 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 15:00:33.208 +08:00 [INF] 请求路径: /api/property/GetPropertyStats
2025-05-29 15:00:33.210 +08:00 [INF] 请求方法: GET
2025-05-29 15:00:33.211 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 15:00:33.213 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 15:00:33.214 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 15:00:33.216 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 15:00:33.218 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 15:00:33.219 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 15:00:33.221 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDg4NDk3OTYtMGZjNC00MzAwLWI3ZDctM2M0NGEwNDYxZDhmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDI0NTksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.dh3pLs0wRYv9XuzIQ0S4ZS2uBjkXMyU-bOkJSTkN3pg
2025-05-29 15:00:33.222 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 15:00:33.224 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 15:00:33.225 +08:00 [INF] 请求头: traceparent = 00-f0eb46ba94d2c1f1cee61a12e46d4a6e-a85adc1c1d2b6443-00
2025-05-29 15:00:33.227 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 15:00:33.228 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 15:00:33.230 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 15:00:33.232 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 15:00:33.234 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 15:00:33.236 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 15:00:33.237 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 15:00:33.239 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 15:00:33.240 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 15:00:33.241 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 15:00:33.243 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:00:33.244 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 15:00:33.246 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 15:00:33.248 +08:00 [INF] JWT Claim: jti = d8849796-0fc4-4300-b7d7-3c44a0461d8f
2025-05-29 15:00:33.250 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 15:00:33.252 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 15:00:33.253 +08:00 [INF] JWT Claim: exp = 1748502459
2025-05-29 15:00:33.255 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 15:00:33.257 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 15:00:33.259 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 15:00:33.260 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDg4NDk3OTYtMGZjNC00MzAwLWI3ZDctM2M0NGEwNDYxZDhmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDI0NTksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.dh3pLs0wRYv9XuzIQ0S4ZS2uBjkXMyU-bOkJSTkN3pg]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-f0eb46ba94d2c1f1cee61a12e46d4a6e-a85adc1c1d2b6443-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 15:00:33.272 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:00:33.274 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 15:00:33.276 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 15:00:33.285 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 15:00:33.291 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 15:00:33.300 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 15:00:33.302 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 15:00:33.303 +08:00 [INF] 请求路径: /api/property/QueryProperties
2025-05-29 15:00:33.309 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 15:00:33.311 +08:00 [INF] 请求方法: GET
2025-05-29 15:00:33.317 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 15:00:33.319 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 15:00:33.323 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 15:00:33.324 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 15:00:33.328 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 15:00:33.330 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 15:00:33.332 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 15:00:33.333 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 15:00:33.334 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 15:00:33.337 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 15:00:33.338 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDg4NDk3OTYtMGZjNC00MzAwLWI3ZDctM2M0NGEwNDYxZDhmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDI0NTksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.dh3pLs0wRYv9XuzIQ0S4ZS2uBjkXMyU-bOkJSTkN3pg
2025-05-29 15:00:33.341 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 62.0592ms
2025-05-29 15:00:33.342 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 15:00:33.344 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 15:00:33.345 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 15:00:33.347 +08:00 [INF] 请求 GET /api/property/GetPropertyStats 完成，状态码: 200，耗时: 139ms
2025-05-29 15:00:33.349 +08:00 [INF] 请求头: traceparent = 00-3e9d582c4e5616e4f10e99f05116aa94-6927d3c516fc4b53-00
2025-05-29 15:00:33.352 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - 200 null application/json; charset=utf-8 158.1938ms
2025-05-29 15:00:33.353 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 15:00:33.362 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 15:00:33.363 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 15:00:33.365 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 15:00:33.367 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 15:00:33.369 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 15:00:33.370 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 15:00:33.372 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 15:00:33.373 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 15:00:33.374 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 15:00:33.376 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:00:33.378 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 15:00:33.380 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 15:00:33.382 +08:00 [INF] JWT Claim: jti = d8849796-0fc4-4300-b7d7-3c44a0461d8f
2025-05-29 15:00:33.384 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 15:00:33.386 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 15:00:33.388 +08:00 [INF] JWT Claim: exp = 1748502459
2025-05-29 15:00:33.390 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 15:00:33.392 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 15:00:33.394 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 15:00:33.395 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDg4NDk3OTYtMGZjNC00MzAwLWI3ZDctM2M0NGEwNDYxZDhmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDI0NTksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.dh3pLs0wRYv9XuzIQ0S4ZS2uBjkXMyU-bOkJSTkN3pg]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-3e9d582c4e5616e4f10e99f05116aa94-6927d3c516fc4b53-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 15:00:33.405 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:00:33.407 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 15:00:33.409 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 15:00:33.414 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 15:00:33.423 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 15:00:33.427 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 15:00:33.429 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 17.9161ms
2025-05-29 15:00:33.432 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 15:00:33.433 +08:00 [INF] 请求 GET /api/property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 133ms
2025-05-29 15:00:33.436 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 145.0166ms
2025-05-29 15:07:19.389 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 15:07:19.389 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - null 0
2025-05-29 15:07:19.404 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 15:07:19.405 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 15:07:19.406 +08:00 [INF] 请求路径: /api/property/QueryProperties
2025-05-29 15:07:19.406 +08:00 [INF] 请求路径: /api/property/GetPropertyStats
2025-05-29 15:07:19.408 +08:00 [INF] 请求方法: GET
2025-05-29 15:07:19.409 +08:00 [INF] 请求方法: GET
2025-05-29 15:07:19.410 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 15:07:19.412 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 15:07:19.413 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 15:07:19.415 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 15:07:19.416 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 15:07:19.418 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 15:07:19.420 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 15:07:19.422 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 15:07:19.424 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 15:07:19.425 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 15:07:19.428 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 15:07:19.429 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 15:07:19.431 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDg4NDk3OTYtMGZjNC00MzAwLWI3ZDctM2M0NGEwNDYxZDhmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDI0NTksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.dh3pLs0wRYv9XuzIQ0S4ZS2uBjkXMyU-bOkJSTkN3pg
2025-05-29 15:07:19.432 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDg4NDk3OTYtMGZjNC00MzAwLWI3ZDctM2M0NGEwNDYxZDhmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDI0NTksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.dh3pLs0wRYv9XuzIQ0S4ZS2uBjkXMyU-bOkJSTkN3pg
2025-05-29 15:07:19.434 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 15:07:19.436 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 15:07:19.438 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 15:07:19.439 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 15:07:19.441 +08:00 [INF] 请求头: traceparent = 00-26db1fa2b37d64914c3c2c369049daea-64304365b16858e4-00
2025-05-29 15:07:19.443 +08:00 [INF] 请求头: traceparent = 00-22d3e9e84f62fe0f1d360ecf26c241de-f03a90ffedafc7dd-00
2025-05-29 15:07:19.445 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 15:07:19.447 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 15:07:19.449 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 15:07:19.450 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 15:07:19.452 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 15:07:19.454 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 15:07:19.456 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 15:07:19.458 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 15:07:19.460 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 15:07:19.462 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 15:07:19.464 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 15:07:19.466 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 15:07:19.468 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 15:07:19.470 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 15:07:19.471 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 15:07:19.473 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 15:07:19.474 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 15:07:19.475 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 15:07:19.479 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 15:07:19.479 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 15:07:19.481 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:07:19.482 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:07:19.483 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 15:07:19.486 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 15:07:19.488 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 15:07:19.490 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 15:07:19.491 +08:00 [INF] JWT Claim: jti = d8849796-0fc4-4300-b7d7-3c44a0461d8f
2025-05-29 15:07:19.493 +08:00 [INF] JWT Claim: jti = d8849796-0fc4-4300-b7d7-3c44a0461d8f
2025-05-29 15:07:19.495 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 15:07:19.497 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 15:07:19.499 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 15:07:19.501 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 15:07:19.503 +08:00 [INF] JWT Claim: exp = 1748502459
2025-05-29 15:07:19.505 +08:00 [INF] JWT Claim: exp = 1748502459
2025-05-29 15:07:19.507 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 15:07:19.509 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 15:07:19.511 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 15:07:19.512 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 15:07:19.514 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 15:07:19.516 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 15:07:19.518 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDg4NDk3OTYtMGZjNC00MzAwLWI3ZDctM2M0NGEwNDYxZDhmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDI0NTksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.dh3pLs0wRYv9XuzIQ0S4ZS2uBjkXMyU-bOkJSTkN3pg]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-22d3e9e84f62fe0f1d360ecf26c241de-f03a90ffedafc7dd-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 15:07:19.519 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDg4NDk3OTYtMGZjNC00MzAwLWI3ZDctM2M0NGEwNDYxZDhmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDI0NTksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.dh3pLs0wRYv9XuzIQ0S4ZS2uBjkXMyU-bOkJSTkN3pg]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-26db1fa2b37d64914c3c2c369049daea-64304365b16858e4-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 15:07:19.532 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:07:19.543 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:07:19.545 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 15:07:19.545 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 15:07:19.549 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 15:07:19.549 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 15:07:19.607 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 15:07:19.607 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 15:07:19.618 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 15:07:19.625 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 15:07:19.628 +08:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 15:07:19.632 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 15:07:19.634 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 15:07:19.637 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 85.1ms
2025-05-29 15:07:19.637 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 15:07:19.639 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 15:07:19.643 +08:00 [INF] 请求 GET /api/property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 238ms
2025-05-29 15:07:19.646 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 285.8015ms
2025-05-29 15:07:19.649 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 15:07:19.656 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 15:07:19.659 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 103.4316ms
2025-05-29 15:07:19.661 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 15:07:19.662 +08:00 [INF] 请求 GET /api/property/GetPropertyStats 完成，状态码: 200，耗时: 257ms
2025-05-29 15:07:19.665 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - 200 null application/json; charset=utf-8 303.9831ms
2025-05-29 15:07:54.587 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 15:07:54.591 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 15:07:54.592 +08:00 [INF] 请求路径: /api/property/QueryProperties
2025-05-29 15:07:54.593 +08:00 [INF] 请求方法: GET
2025-05-29 15:07:54.595 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 15:07:54.595 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - null 0
2025-05-29 15:07:54.596 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 15:07:54.599 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 15:07:54.601 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 15:07:54.602 +08:00 [INF] 请求路径: /api/property/GetPropertyStats
2025-05-29 15:07:54.603 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 15:07:54.604 +08:00 [INF] 请求方法: GET
2025-05-29 15:07:54.605 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 15:07:54.606 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 15:07:54.607 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 15:07:54.608 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 15:07:54.609 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZGQ3MDEwY2MtZGUwOC00Yzk5LTkzMTctZTllMGY3OGRmMTVmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDMwNzQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.vjjgC6qjpLKJk4RFIlNoangjvM8wZMJ-2wgKK-YvSOY
2025-05-29 15:07:54.611 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 15:07:54.612 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 15:07:54.613 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 15:07:54.614 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 15:07:54.616 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 15:07:54.617 +08:00 [INF] 请求头: traceparent = 00-3ddc83852b3017906365de82c676ff71-326ab183a167a5db-00
2025-05-29 15:07:54.619 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 15:07:54.620 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 15:07:54.621 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZGQ3MDEwY2MtZGUwOC00Yzk5LTkzMTctZTllMGY3OGRmMTVmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDMwNzQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.vjjgC6qjpLKJk4RFIlNoangjvM8wZMJ-2wgKK-YvSOY
2025-05-29 15:07:54.622 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 15:07:54.624 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 15:07:54.625 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 15:07:54.626 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 15:07:54.627 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 15:07:54.629 +08:00 [INF] 请求头: traceparent = 00-d49ef1d8f044796071e1993012e38f72-49e84c74a37ef7f7-00
2025-05-29 15:07:54.630 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 15:07:54.631 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 15:07:54.632 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 15:07:54.633 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 15:07:54.635 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 15:07:54.636 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 15:07:54.637 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 15:07:54.638 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 15:07:54.639 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 15:07:54.640 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 15:07:54.641 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 15:07:54.643 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 15:07:54.644 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:07:54.645 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 15:07:54.646 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 15:07:54.648 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 15:07:54.649 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 15:07:54.649 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 15:07:54.651 +08:00 [INF] JWT Claim: jti = dd7010cc-de08-4c99-9317-e9e0f78df15f
2025-05-29 15:07:54.652 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 15:07:54.653 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 15:07:54.654 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:07:54.655 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 15:07:54.656 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 15:07:54.657 +08:00 [INF] JWT Claim: exp = 1748503074
2025-05-29 15:07:54.658 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 15:07:54.660 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 15:07:54.661 +08:00 [INF] JWT Claim: jti = dd7010cc-de08-4c99-9317-e9e0f78df15f
2025-05-29 15:07:54.662 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 15:07:54.663 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 15:07:54.664 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 15:07:54.665 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 15:07:54.666 +08:00 [INF] JWT Claim: exp = 1748503074
2025-05-29 15:07:54.665 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZGQ3MDEwY2MtZGUwOC00Yzk5LTkzMTctZTllMGY3OGRmMTVmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDMwNzQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.vjjgC6qjpLKJk4RFIlNoangjvM8wZMJ-2wgKK-YvSOY]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-3ddc83852b3017906365de82c676ff71-326ab183a167a5db-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 15:07:54.667 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 15:07:54.674 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:07:54.675 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 15:07:54.676 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 15:07:54.677 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 15:07:54.678 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 15:07:54.678 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZGQ3MDEwY2MtZGUwOC00Yzk5LTkzMTctZTllMGY3OGRmMTVmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDMwNzQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.vjjgC6qjpLKJk4RFIlNoangjvM8wZMJ-2wgKK-YvSOY]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-d49ef1d8f044796071e1993012e38f72-49e84c74a37ef7f7-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 15:07:54.684 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 15:07:54.690 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:07:54.693 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 15:07:54.695 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 15:07:54.695 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 15:07:54.699 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 15:07:54.700 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 15:07:54.704 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 23.978ms
2025-05-29 15:07:54.704 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 15:07:54.706 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 15:07:54.709 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 15:07:54.709 +08:00 [INF] 请求 GET /api/property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 118ms
2025-05-29 15:07:54.712 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 15:07:54.713 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 125.8227ms
2025-05-29 15:07:54.717 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 15:07:54.727 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 15:07:54.729 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 15:07:54.731 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 34.6053ms
2025-05-29 15:07:54.732 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 15:07:54.733 +08:00 [INF] 请求 GET /api/property/GetPropertyStats 完成，状态码: 200，耗时: 133ms
2025-05-29 15:07:54.735 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - 200 null application/json; charset=utf-8 140.3376ms
2025-05-29 15:11:59.296 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 15:11:59.296 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - null 0
2025-05-29 15:11:59.304 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 15:11:59.307 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 15:11:59.308 +08:00 [INF] 请求路径: /api/property/QueryProperties
2025-05-29 15:11:59.308 +08:00 [INF] 请求路径: /api/property/GetPropertyStats
2025-05-29 15:11:59.309 +08:00 [INF] 请求方法: GET
2025-05-29 15:11:59.310 +08:00 [INF] 请求方法: GET
2025-05-29 15:11:59.311 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 15:11:59.312 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 15:11:59.313 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 15:11:59.314 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 15:11:59.315 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 15:11:59.316 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 15:11:59.318 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 15:11:59.318 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 15:11:59.319 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 15:11:59.321 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 15:11:59.322 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 15:11:59.323 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 15:11:59.324 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZGQ3MDEwY2MtZGUwOC00Yzk5LTkzMTctZTllMGY3OGRmMTVmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDMwNzQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.vjjgC6qjpLKJk4RFIlNoangjvM8wZMJ-2wgKK-YvSOY
2025-05-29 15:11:59.325 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZGQ3MDEwY2MtZGUwOC00Yzk5LTkzMTctZTllMGY3OGRmMTVmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDMwNzQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.vjjgC6qjpLKJk4RFIlNoangjvM8wZMJ-2wgKK-YvSOY
2025-05-29 15:11:59.326 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 15:11:59.327 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 15:11:59.328 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 15:11:59.329 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 15:11:59.330 +08:00 [INF] 请求头: traceparent = 00-90a3f42dd9f2c79389c4a1b491cb4134-588ccaf1405c9066-00
2025-05-29 15:11:59.332 +08:00 [INF] 请求头: traceparent = 00-d27c91e197659c91fdea42d9b9cce834-eb229fea28db713f-00
2025-05-29 15:11:59.333 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 15:11:59.334 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 15:11:59.335 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 15:11:59.336 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 15:11:59.337 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 15:11:59.338 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 15:11:59.339 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 15:11:59.341 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 15:11:59.342 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 15:11:59.343 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 15:11:59.344 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 15:11:59.345 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 15:11:59.346 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 15:11:59.347 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 15:11:59.348 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 15:11:59.350 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 15:11:59.350 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 15:11:59.351 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 15:11:59.352 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 15:11:59.352 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 15:11:59.353 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:11:59.354 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:11:59.355 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 15:11:59.356 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 15:11:59.357 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 15:11:59.358 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 15:11:59.359 +08:00 [INF] JWT Claim: jti = dd7010cc-de08-4c99-9317-e9e0f78df15f
2025-05-29 15:11:59.360 +08:00 [INF] JWT Claim: jti = dd7010cc-de08-4c99-9317-e9e0f78df15f
2025-05-29 15:11:59.361 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 15:11:59.362 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 15:11:59.363 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 15:11:59.365 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 15:11:59.366 +08:00 [INF] JWT Claim: exp = 1748503074
2025-05-29 15:11:59.367 +08:00 [INF] JWT Claim: exp = 1748503074
2025-05-29 15:11:59.368 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 15:11:59.369 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 15:11:59.370 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 15:11:59.371 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 15:11:59.372 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 15:11:59.374 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 15:11:59.374 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZGQ3MDEwY2MtZGUwOC00Yzk5LTkzMTctZTllMGY3OGRmMTVmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDMwNzQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.vjjgC6qjpLKJk4RFIlNoangjvM8wZMJ-2wgKK-YvSOY]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-90a3f42dd9f2c79389c4a1b491cb4134-588ccaf1405c9066-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 15:11:59.375 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZGQ3MDEwY2MtZGUwOC00Yzk5LTkzMTctZTllMGY3OGRmMTVmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDMwNzQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.vjjgC6qjpLKJk4RFIlNoangjvM8wZMJ-2wgKK-YvSOY]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-d27c91e197659c91fdea42d9b9cce834-eb229fea28db713f-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 15:11:59.383 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:11:59.390 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:11:59.391 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 15:11:59.392 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 15:11:59.393 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 15:11:59.393 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 15:11:59.399 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 15:11:59.401 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 15:11:59.404 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 15:11:59.406 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 15:11:59.408 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 15:11:59.409 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 15:11:59.410 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 15.0629ms
2025-05-29 15:11:59.412 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 15:11:59.413 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 15:11:59.416 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 15:11:59.416 +08:00 [INF] 请求 GET /api/property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 111ms
2025-05-29 15:11:59.421 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 124.4684ms
2025-05-29 15:11:59.421 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 15:11:59.434 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 15:11:59.435 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 37.3681ms
2025-05-29 15:11:59.436 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 15:11:59.437 +08:00 [INF] 请求 GET /api/property/GetPropertyStats 完成，状态码: 200，耗时: 130ms
2025-05-29 15:11:59.439 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - 200 null application/json; charset=utf-8 142.4622ms
2025-05-29 15:12:03.378 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 15:12:03.381 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 15:12:03.382 +08:00 [INF] 请求路径: /api/property/QueryProperties
2025-05-29 15:12:03.383 +08:00 [INF] 请求方法: GET
2025-05-29 15:12:03.384 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 15:12:03.385 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 15:12:03.386 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 15:12:03.387 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 15:12:03.388 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 15:12:03.389 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 15:12:03.391 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZGQ3MDEwY2MtZGUwOC00Yzk5LTkzMTctZTllMGY3OGRmMTVmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDMwNzQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.vjjgC6qjpLKJk4RFIlNoangjvM8wZMJ-2wgKK-YvSOY
2025-05-29 15:12:03.392 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 15:12:03.393 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 15:12:03.394 +08:00 [INF] 请求头: traceparent = 00-728921a26010d7b6fe56d28413484942-6ef071f4da86a6f6-00
2025-05-29 15:12:03.396 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 15:12:03.397 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 15:12:03.398 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 15:12:03.399 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 15:12:03.401 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 15:12:03.402 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 15:12:03.403 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 15:12:03.404 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 15:12:03.404 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 15:12:03.405 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 15:12:03.406 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:12:03.407 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 15:12:03.409 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 15:12:03.410 +08:00 [INF] JWT Claim: jti = dd7010cc-de08-4c99-9317-e9e0f78df15f
2025-05-29 15:12:03.412 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 15:12:03.413 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 15:12:03.414 +08:00 [INF] JWT Claim: exp = 1748503074
2025-05-29 15:12:03.415 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 15:12:03.416 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 15:12:03.417 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - null 0
2025-05-29 15:12:03.418 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 15:12:03.420 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 15:12:03.421 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZGQ3MDEwY2MtZGUwOC00Yzk5LTkzMTctZTllMGY3OGRmMTVmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDMwNzQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.vjjgC6qjpLKJk4RFIlNoangjvM8wZMJ-2wgKK-YvSOY]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-728921a26010d7b6fe56d28413484942-6ef071f4da86a6f6-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 15:12:03.421 +08:00 [INF] 请求路径: /api/property/GetPropertyStats
2025-05-29 15:12:03.429 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:12:03.429 +08:00 [INF] 请求方法: GET
2025-05-29 15:12:03.430 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 15:12:03.431 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 15:12:03.432 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 15:12:03.433 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 15:12:03.436 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 15:12:03.437 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 15:12:03.439 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 15:12:03.442 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 15:12:03.443 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 15:12:03.443 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 15:12:03.446 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 15:12:03.446 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZGQ3MDEwY2MtZGUwOC00Yzk5LTkzMTctZTllMGY3OGRmMTVmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDMwNzQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.vjjgC6qjpLKJk4RFIlNoangjvM8wZMJ-2wgKK-YvSOY
2025-05-29 15:12:03.448 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 12.7794ms
2025-05-29 15:12:03.449 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 15:12:03.451 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 15:12:03.452 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 15:12:03.453 +08:00 [INF] 请求 GET /api/property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 72ms
2025-05-29 15:12:03.454 +08:00 [INF] 请求头: traceparent = 00-e07ccab21d53b193473f075ef3c4c2d4-921fd6b868e21407-00
2025-05-29 15:12:03.456 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 78.1852ms
2025-05-29 15:12:03.457 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 15:12:03.462 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 15:12:03.463 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 15:12:03.465 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 15:12:03.466 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 15:12:03.467 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 15:12:03.468 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 15:12:03.469 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 15:12:03.470 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 15:12:03.471 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 15:12:03.471 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:12:03.472 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 15:12:03.474 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 15:12:03.475 +08:00 [INF] JWT Claim: jti = dd7010cc-de08-4c99-9317-e9e0f78df15f
2025-05-29 15:12:03.476 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 15:12:03.477 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 15:12:03.478 +08:00 [INF] JWT Claim: exp = 1748503074
2025-05-29 15:12:03.479 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 15:12:03.480 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 15:12:03.481 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 15:12:03.482 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZGQ3MDEwY2MtZGUwOC00Yzk5LTkzMTctZTllMGY3OGRmMTVmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDMwNzQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.vjjgC6qjpLKJk4RFIlNoangjvM8wZMJ-2wgKK-YvSOY]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-e07ccab21d53b193473f075ef3c4c2d4-921fd6b868e21407-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 15:12:03.488 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:12:03.489 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 15:12:03.490 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 15:12:03.495 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 15:12:03.498 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 15:12:03.500 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 15:12:03.503 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 15:12:03.505 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 15:12:03.508 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 15:12:03.510 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 15:12:03.512 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 19.7389ms
2025-05-29 15:12:03.513 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 15:12:03.514 +08:00 [INF] 请求 GET /api/property/GetPropertyStats 完成，状态码: 200，耗时: 93ms
2025-05-29 15:12:03.516 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - 200 null application/json; charset=utf-8 99.3581ms
2025-05-29 15:26:08.014 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - null 0
2025-05-29 15:26:08.015 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 15:26:08.023 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 15:26:08.026 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 15:26:08.026 +08:00 [INF] 请求路径: /api/property/GetPropertyStats
2025-05-29 15:26:08.027 +08:00 [INF] 请求路径: /api/property/QueryProperties
2025-05-29 15:26:08.028 +08:00 [INF] 请求方法: GET
2025-05-29 15:26:08.029 +08:00 [INF] 请求方法: GET
2025-05-29 15:26:08.030 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 15:26:08.030 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 15:26:08.032 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 15:26:08.033 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 15:26:08.034 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 15:26:08.036 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 15:26:08.037 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 15:26:08.038 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 15:26:08.039 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 15:26:08.040 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 15:26:08.041 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 15:26:08.043 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 15:26:08.044 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdlNGExZmUtZDdmYy00NWFmLTkzNDktNzliOTY1MjhlNDJiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQxNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.4yiseZMclY_37En-Xl8h-vtD4zrSm1-fWDgF-ZDwtT4
2025-05-29 15:26:08.045 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdlNGExZmUtZDdmYy00NWFmLTkzNDktNzliOTY1MjhlNDJiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQxNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.4yiseZMclY_37En-Xl8h-vtD4zrSm1-fWDgF-ZDwtT4
2025-05-29 15:26:08.047 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 15:26:08.048 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 15:26:08.049 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 15:26:08.051 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 15:26:08.052 +08:00 [INF] 请求头: traceparent = 00-d01e6fac8b7fa15dd2ba044bb9e88d12-5d162e66d704a8bb-00
2025-05-29 15:26:08.054 +08:00 [INF] 请求头: traceparent = 00-4667a7b645df80bb4a537eda011a0723-73088cefdf827a2b-00
2025-05-29 15:26:08.055 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 15:26:08.056 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 15:26:08.057 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 15:26:08.058 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 15:26:08.060 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 15:26:08.061 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 15:26:08.062 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 15:26:08.063 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 15:26:08.065 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 15:26:08.066 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 15:26:08.067 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 15:26:08.068 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 15:26:08.070 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 15:26:08.070 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 15:26:08.071 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 15:26:08.072 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 15:26:08.073 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 15:26:08.074 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 15:26:08.075 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 15:26:08.076 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 15:26:08.077 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:26:08.077 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:26:08.078 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 15:26:08.079 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 15:26:08.081 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 15:26:08.082 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 15:26:08.083 +08:00 [INF] JWT Claim: jti = 57e4a1fe-d7fc-45af-9349-79b96528e42b
2025-05-29 15:26:08.084 +08:00 [INF] JWT Claim: jti = 57e4a1fe-d7fc-45af-9349-79b96528e42b
2025-05-29 15:26:08.085 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 15:26:08.086 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 15:26:08.088 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 15:26:08.089 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 15:26:08.090 +08:00 [INF] JWT Claim: exp = 1748504167
2025-05-29 15:26:08.091 +08:00 [INF] JWT Claim: exp = 1748504167
2025-05-29 15:26:08.093 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 15:26:08.094 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 15:26:08.092 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 15:26:08.095 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 15:26:08.096 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 15:26:08.097 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdlNGExZmUtZDdmYy00NWFmLTkzNDktNzliOTY1MjhlNDJiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQxNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.4yiseZMclY_37En-Xl8h-vtD4zrSm1-fWDgF-ZDwtT4]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-4667a7b645df80bb4a537eda011a0723-73088cefdf827a2b-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 15:26:08.098 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 15:26:08.106 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:26:08.106 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdlNGExZmUtZDdmYy00NWFmLTkzNDktNzliOTY1MjhlNDJiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQxNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.4yiseZMclY_37En-Xl8h-vtD4zrSm1-fWDgF-ZDwtT4]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-d01e6fac8b7fa15dd2ba044bb9e88d12-5d162e66d704a8bb-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 15:26:08.108 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 15:26:08.117 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:26:08.118 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 15:26:08.119 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 15:26:08.123 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 15:26:08.141 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 15:26:08.145 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 15:26:08.149 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 15:26:08.154 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 15:26:08.155 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 15:26:08.156 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 34.9405ms
2025-05-29 15:26:08.161 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 15:26:08.161 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 15:26:08.165 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 15:26:08.166 +08:00 [INF] 请求 GET /api/property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 139ms
2025-05-29 15:26:08.170 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 15:26:08.172 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 156.9196ms
2025-05-29 15:26:08.179 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 15:26:08.184 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 15:26:08.186 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 55.362ms
2025-05-29 15:26:08.188 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 15:26:08.190 +08:00 [INF] 请求 GET /api/property/GetPropertyStats 完成，状态码: 200，耗时: 167ms
2025-05-29 15:26:08.193 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - 200 null application/json; charset=utf-8 179.7753ms
2025-05-29 15:27:49.401 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 15:27:49.406 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 15:27:49.408 +08:00 [INF] 请求路径: /api/property/QueryProperties
2025-05-29 15:27:49.409 +08:00 [INF] 请求方法: GET
2025-05-29 15:27:49.411 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 15:27:49.412 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 15:27:49.414 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 15:27:49.415 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 15:27:49.417 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 15:27:49.418 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 15:27:49.419 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdlNGExZmUtZDdmYy00NWFmLTkzNDktNzliOTY1MjhlNDJiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQxNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.4yiseZMclY_37En-Xl8h-vtD4zrSm1-fWDgF-ZDwtT4
2025-05-29 15:27:49.420 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 15:27:49.422 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 15:27:49.423 +08:00 [INF] 请求头: traceparent = 00-bea081d6364d4a2d412ed914e0ef945a-4c0ecd3a98184090-00
2025-05-29 15:27:49.425 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 15:27:49.426 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 15:27:49.427 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 15:27:49.428 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 15:27:49.430 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 15:27:49.431 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 15:27:49.431 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 15:27:49.433 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 15:27:49.434 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 15:27:49.435 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 15:27:49.436 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:27:49.437 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 15:27:49.438 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 15:27:49.439 +08:00 [INF] JWT Claim: jti = 57e4a1fe-d7fc-45af-9349-79b96528e42b
2025-05-29 15:27:49.440 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 15:27:49.441 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 15:27:49.442 +08:00 [INF] JWT Claim: exp = 1748504167
2025-05-29 15:27:49.443 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 15:27:49.444 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 15:27:49.445 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 15:27:49.446 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdlNGExZmUtZDdmYy00NWFmLTkzNDktNzliOTY1MjhlNDJiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQxNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.4yiseZMclY_37En-Xl8h-vtD4zrSm1-fWDgF-ZDwtT4]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-bea081d6364d4a2d412ed914e0ef945a-4c0ecd3a98184090-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 15:27:49.453 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:27:49.454 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 15:27:49.455 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 15:27:49.467 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 15:27:49.481 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 15:27:49.485 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 15:27:49.486 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 29.7652ms
2025-05-29 15:27:49.488 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 15:27:49.489 +08:00 [INF] 请求 GET /api/property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 83ms
2025-05-29 15:27:49.495 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 93.9805ms
2025-05-29 15:27:49.512 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - null 0
2025-05-29 15:27:49.514 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 15:27:49.515 +08:00 [INF] 请求路径: /api/property/GetPropertyStats
2025-05-29 15:27:49.516 +08:00 [INF] 请求方法: GET
2025-05-29 15:27:49.518 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 15:27:49.519 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 15:27:49.520 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 15:27:49.521 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 15:27:49.522 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 15:27:49.523 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 15:27:49.525 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdlNGExZmUtZDdmYy00NWFmLTkzNDktNzliOTY1MjhlNDJiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQxNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.4yiseZMclY_37En-Xl8h-vtD4zrSm1-fWDgF-ZDwtT4
2025-05-29 15:27:49.526 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 15:27:49.527 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 15:27:49.528 +08:00 [INF] 请求头: traceparent = 00-716da1a845c9ca946932288d7ce4de6b-98e0413db8135037-00
2025-05-29 15:27:49.529 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 15:27:49.530 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 15:27:49.531 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 15:27:49.532 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 15:27:49.534 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 15:27:49.535 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 15:27:49.536 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 15:27:49.537 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 15:27:49.538 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 15:27:49.539 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 15:27:49.540 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:27:49.541 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 15:27:49.542 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 15:27:49.543 +08:00 [INF] JWT Claim: jti = 57e4a1fe-d7fc-45af-9349-79b96528e42b
2025-05-29 15:27:49.544 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 15:27:49.545 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 15:27:49.546 +08:00 [INF] JWT Claim: exp = 1748504167
2025-05-29 15:27:49.547 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 15:27:49.548 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 15:27:49.550 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 15:27:49.551 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdlNGExZmUtZDdmYy00NWFmLTkzNDktNzliOTY1MjhlNDJiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQxNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.4yiseZMclY_37En-Xl8h-vtD4zrSm1-fWDgF-ZDwtT4]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-716da1a845c9ca946932288d7ce4de6b-98e0413db8135037-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 15:27:49.559 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:27:49.560 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 15:27:49.561 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 15:27:49.565 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 15:27:49.570 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 15:27:49.572 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 15:27:49.575 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 15:27:49.578 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 15:27:49.582 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 15:27:49.584 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 15:27:49.585 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 22.8903ms
2025-05-29 15:27:49.587 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 15:27:49.588 +08:00 [INF] 请求 GET /api/property/GetPropertyStats 完成，状态码: 200，耗时: 73ms
2025-05-29 15:27:49.589 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - 200 null application/json; charset=utf-8 77.777ms
2025-05-29 15:28:10.020 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - null 0
2025-05-29 15:28:10.023 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 15:28:10.024 +08:00 [INF] 请求路径: /api/property/GetPropertyStats
2025-05-29 15:28:10.025 +08:00 [INF] 请求方法: GET
2025-05-29 15:28:10.026 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 15:28:10.027 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 15:28:10.028 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 15:28:10.029 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 15:28:10.030 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 15:28:10.031 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 15:28:10.033 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdlNGExZmUtZDdmYy00NWFmLTkzNDktNzliOTY1MjhlNDJiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQxNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.4yiseZMclY_37En-Xl8h-vtD4zrSm1-fWDgF-ZDwtT4
2025-05-29 15:28:10.034 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 15:28:10.035 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 15:28:10.037 +08:00 [INF] 请求头: traceparent = 00-7ab7b138219b69550569387f860d477f-897f6c712699e0fd-00
2025-05-29 15:28:10.038 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 15:28:10.039 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 15:28:10.040 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 15:28:10.041 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 15:28:10.043 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 15:28:10.044 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 15:28:10.045 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 15:28:10.046 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 15:28:10.047 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 15:28:10.047 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 15:28:10.048 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:28:10.050 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 15:28:10.051 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 15:28:10.052 +08:00 [INF] JWT Claim: jti = 57e4a1fe-d7fc-45af-9349-79b96528e42b
2025-05-29 15:28:10.054 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 15:28:10.055 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 15:28:10.056 +08:00 [INF] JWT Claim: exp = 1748504167
2025-05-29 15:28:10.057 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 15:28:10.058 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 15:28:10.059 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 15:28:10.060 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdlNGExZmUtZDdmYy00NWFmLTkzNDktNzliOTY1MjhlNDJiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQxNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.4yiseZMclY_37En-Xl8h-vtD4zrSm1-fWDgF-ZDwtT4]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-7ab7b138219b69550569387f860d477f-897f6c712699e0fd-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 15:28:10.068 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:28:10.070 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 15:28:10.071 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 15:28:10.078 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 15:28:10.084 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 15:28:10.087 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 15:28:10.090 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 15:28:10.094 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 15:28:10.099 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 15:28:10.102 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 15:28:10.103 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 15:28:10.104 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 30.8859ms
2025-05-29 15:28:10.106 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 15:28:10.107 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 15:28:10.109 +08:00 [INF] 请求 GET /api/property/GetPropertyStats 完成，状态码: 200，耗时: 85ms
2025-05-29 15:28:10.108 +08:00 [INF] 请求路径: /api/property/QueryProperties
2025-05-29 15:28:10.110 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - 200 null application/json; charset=utf-8 90.1212ms
2025-05-29 15:28:10.111 +08:00 [INF] 请求方法: GET
2025-05-29 15:28:10.116 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 15:28:10.117 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 15:28:10.118 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 15:28:10.119 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 15:28:10.120 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 15:28:10.121 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 15:28:10.122 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdlNGExZmUtZDdmYy00NWFmLTkzNDktNzliOTY1MjhlNDJiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQxNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.4yiseZMclY_37En-Xl8h-vtD4zrSm1-fWDgF-ZDwtT4
2025-05-29 15:28:10.123 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 15:28:10.125 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 15:28:10.126 +08:00 [INF] 请求头: traceparent = 00-81d48009fbfa4bdb3f39268f0cbd4be8-244e772459ff3d9d-00
2025-05-29 15:28:10.127 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 15:28:10.128 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 15:28:10.129 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 15:28:10.130 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 15:28:10.131 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 15:28:10.132 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 15:28:10.133 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 15:28:10.134 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 15:28:10.135 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 15:28:10.136 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 15:28:10.136 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:28:10.138 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 15:28:10.139 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 15:28:10.140 +08:00 [INF] JWT Claim: jti = 57e4a1fe-d7fc-45af-9349-79b96528e42b
2025-05-29 15:28:10.141 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 15:28:10.142 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 15:28:10.143 +08:00 [INF] JWT Claim: exp = 1748504167
2025-05-29 15:28:10.144 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 15:28:10.145 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 15:28:10.146 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 15:28:10.147 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdlNGExZmUtZDdmYy00NWFmLTkzNDktNzliOTY1MjhlNDJiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQxNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.4yiseZMclY_37En-Xl8h-vtD4zrSm1-fWDgF-ZDwtT4]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-81d48009fbfa4bdb3f39268f0cbd4be8-244e772459ff3d9d-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 15:28:10.154 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:28:10.155 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 15:28:10.156 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 15:28:10.160 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 15:28:10.167 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 15:28:10.169 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 15:28:10.171 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 13.6165ms
2025-05-29 15:28:10.173 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 15:28:10.174 +08:00 [INF] 请求 GET /api/property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 68ms
2025-05-29 15:28:10.177 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 73.3855ms
2025-05-29 15:28:35.380 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 15:28:35.384 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 15:28:35.385 +08:00 [INF] 请求路径: /api/property/QueryProperties
2025-05-29 15:28:35.386 +08:00 [INF] 请求方法: GET
2025-05-29 15:28:35.387 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 15:28:35.388 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 15:28:35.389 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 15:28:35.391 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 15:28:35.393 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 15:28:35.395 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 15:28:35.396 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdlNGExZmUtZDdmYy00NWFmLTkzNDktNzliOTY1MjhlNDJiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQxNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.4yiseZMclY_37En-Xl8h-vtD4zrSm1-fWDgF-ZDwtT4
2025-05-29 15:28:35.397 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 15:28:35.399 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 15:28:35.401 +08:00 [INF] 请求头: traceparent = 00-55fa9a6aeceb1d08534abced002cbc4c-0a0ce75d815e201f-00
2025-05-29 15:28:35.402 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 15:28:35.403 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 15:28:35.404 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 15:28:35.405 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 15:28:35.407 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 15:28:35.409 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 15:28:35.410 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 15:28:35.412 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 15:28:35.413 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 15:28:35.414 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 15:28:35.415 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:28:35.417 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 15:28:35.418 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 15:28:35.420 +08:00 [INF] JWT Claim: jti = 57e4a1fe-d7fc-45af-9349-79b96528e42b
2025-05-29 15:28:35.421 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 15:28:35.422 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 15:28:35.423 +08:00 [INF] JWT Claim: exp = 1748504167
2025-05-29 15:28:35.425 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 15:28:35.426 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 15:28:35.428 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 15:28:35.429 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdlNGExZmUtZDdmYy00NWFmLTkzNDktNzliOTY1MjhlNDJiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQxNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.4yiseZMclY_37En-Xl8h-vtD4zrSm1-fWDgF-ZDwtT4]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-55fa9a6aeceb1d08534abced002cbc4c-0a0ce75d815e201f-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 15:28:35.438 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:28:35.439 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 15:28:35.441 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 15:28:35.451 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 15:28:35.463 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 15:28:35.466 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 15:28:35.468 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 25.2551ms
2025-05-29 15:28:35.470 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 15:28:35.471 +08:00 [INF] 请求 GET /api/property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 87ms
2025-05-29 15:28:35.473 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 93.8103ms
2025-05-29 15:28:35.496 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - null 0
2025-05-29 15:28:35.498 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 15:28:35.499 +08:00 [INF] 请求路径: /api/property/GetPropertyStats
2025-05-29 15:28:35.500 +08:00 [INF] 请求方法: GET
2025-05-29 15:28:35.501 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 15:28:35.502 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 15:28:35.503 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 15:28:35.504 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 15:28:35.505 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 15:28:35.506 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 15:28:35.507 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdlNGExZmUtZDdmYy00NWFmLTkzNDktNzliOTY1MjhlNDJiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQxNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.4yiseZMclY_37En-Xl8h-vtD4zrSm1-fWDgF-ZDwtT4
2025-05-29 15:28:35.509 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 15:28:35.510 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 15:28:35.511 +08:00 [INF] 请求头: traceparent = 00-5fe6f52276da263437d11414fb7d422d-67b63c571a4bdedc-00
2025-05-29 15:28:35.512 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 15:28:35.513 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 15:28:35.514 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 15:28:35.515 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 15:28:35.517 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 15:28:35.518 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 15:28:35.519 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 15:28:35.520 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 15:28:35.521 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 15:28:35.521 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 15:28:35.522 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:28:35.523 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 15:28:35.525 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 15:28:35.526 +08:00 [INF] JWT Claim: jti = 57e4a1fe-d7fc-45af-9349-79b96528e42b
2025-05-29 15:28:35.527 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 15:28:35.528 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 15:28:35.529 +08:00 [INF] JWT Claim: exp = 1748504167
2025-05-29 15:28:35.530 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 15:28:35.531 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 15:28:35.532 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 15:28:35.533 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdlNGExZmUtZDdmYy00NWFmLTkzNDktNzliOTY1MjhlNDJiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQxNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.4yiseZMclY_37En-Xl8h-vtD4zrSm1-fWDgF-ZDwtT4]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-5fe6f52276da263437d11414fb7d422d-67b63c571a4bdedc-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 15:28:35.540 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:28:35.541 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 15:28:35.542 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 15:28:35.547 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 15:28:35.551 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 15:28:35.554 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 15:28:35.557 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 15:28:35.561 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 15:28:35.565 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 15:28:35.568 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 15:28:35.569 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 25.5171ms
2025-05-29 15:28:35.571 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 15:28:35.571 +08:00 [INF] 请求 GET /api/property/GetPropertyStats 完成，状态码: 200，耗时: 73ms
2025-05-29 15:28:35.573 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - 200 null application/json; charset=utf-8 77.6415ms
2025-05-29 15:28:40.419 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 15:28:40.421 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 15:28:40.422 +08:00 [INF] 请求路径: /api/property/QueryProperties
2025-05-29 15:28:40.423 +08:00 [INF] 请求方法: GET
2025-05-29 15:28:40.424 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 15:28:40.425 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 15:28:40.426 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 15:28:40.428 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 15:28:40.429 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 15:28:40.430 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 15:28:40.431 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdlNGExZmUtZDdmYy00NWFmLTkzNDktNzliOTY1MjhlNDJiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQxNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.4yiseZMclY_37En-Xl8h-vtD4zrSm1-fWDgF-ZDwtT4
2025-05-29 15:28:40.433 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 15:28:40.434 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 15:28:40.435 +08:00 [INF] 请求头: traceparent = 00-5836dd0a88f3619589267b3232c32e94-a567e916b51adbb6-00
2025-05-29 15:28:40.436 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 15:28:40.437 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 15:28:40.438 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 15:28:40.439 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 15:28:40.441 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 15:28:40.442 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 15:28:40.443 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 15:28:40.444 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 15:28:40.445 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 15:28:40.446 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 15:28:40.447 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:28:40.448 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 15:28:40.449 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 15:28:40.450 +08:00 [INF] JWT Claim: jti = 57e4a1fe-d7fc-45af-9349-79b96528e42b
2025-05-29 15:28:40.452 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 15:28:40.453 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 15:28:40.454 +08:00 [INF] JWT Claim: exp = 1748504167
2025-05-29 15:28:40.455 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 15:28:40.456 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 15:28:40.457 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 15:28:40.458 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdlNGExZmUtZDdmYy00NWFmLTkzNDktNzliOTY1MjhlNDJiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQxNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.4yiseZMclY_37En-Xl8h-vtD4zrSm1-fWDgF-ZDwtT4]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-5836dd0a88f3619589267b3232c32e94-a567e916b51adbb6-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 15:28:40.465 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:28:40.467 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 15:28:40.468 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 15:28:40.480 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 15:28:40.491 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 15:28:40.493 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 15:28:40.495 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 25.1306ms
2025-05-29 15:28:40.496 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 15:28:40.498 +08:00 [INF] 请求 GET /api/property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 76ms
2025-05-29 15:28:40.500 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 81.6006ms
2025-05-29 15:28:40.579 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - null 0
2025-05-29 15:28:40.582 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 15:28:40.583 +08:00 [INF] 请求路径: /api/property/GetPropertyStats
2025-05-29 15:28:40.584 +08:00 [INF] 请求方法: GET
2025-05-29 15:28:40.585 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 15:28:40.586 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 15:28:40.586 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 15:28:40.587 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 15:28:40.589 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 15:28:40.590 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 15:28:40.591 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdlNGExZmUtZDdmYy00NWFmLTkzNDktNzliOTY1MjhlNDJiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQxNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.4yiseZMclY_37En-Xl8h-vtD4zrSm1-fWDgF-ZDwtT4
2025-05-29 15:28:40.593 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 15:28:40.594 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 15:28:40.595 +08:00 [INF] 请求头: traceparent = 00-37ecb791e593f5a31d14b09ebad5957d-7294bc3ffe8a3a94-00
2025-05-29 15:28:40.596 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 15:28:40.597 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 15:28:40.598 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 15:28:40.599 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 15:28:40.601 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 15:28:40.602 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 15:28:40.603 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 15:28:40.604 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 15:28:40.605 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 15:28:40.606 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 15:28:40.607 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:28:40.608 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 15:28:40.609 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 15:28:40.610 +08:00 [INF] JWT Claim: jti = 57e4a1fe-d7fc-45af-9349-79b96528e42b
2025-05-29 15:28:40.611 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 15:28:40.612 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 15:28:40.613 +08:00 [INF] JWT Claim: exp = 1748504167
2025-05-29 15:28:40.615 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 15:28:40.616 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 15:28:40.617 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 15:28:40.618 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdlNGExZmUtZDdmYy00NWFmLTkzNDktNzliOTY1MjhlNDJiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQxNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.4yiseZMclY_37En-Xl8h-vtD4zrSm1-fWDgF-ZDwtT4]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-37ecb791e593f5a31d14b09ebad5957d-7294bc3ffe8a3a94-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 15:28:40.625 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:28:40.626 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 15:28:40.627 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 15:28:40.632 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 15:28:40.635 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 15:28:40.638 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 15:28:40.641 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 15:28:40.644 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 15:28:40.647 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 15:28:40.649 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 15:28:40.651 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 21.9601ms
2025-05-29 15:28:40.652 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 15:28:40.653 +08:00 [INF] 请求 GET /api/property/GetPropertyStats 完成，状态码: 200，耗时: 71ms
2025-05-29 15:28:40.655 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - 200 null application/json; charset=utf-8 75.8175ms
2025-05-29 15:29:01.797 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - null 0
2025-05-29 15:29:01.805 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 15:29:01.809 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 15:29:01.811 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 15:29:01.812 +08:00 [INF] 请求路径: /api/property/GetPropertyStats
2025-05-29 15:29:01.813 +08:00 [INF] 请求路径: /api/property/QueryProperties
2025-05-29 15:29:01.814 +08:00 [INF] 请求方法: GET
2025-05-29 15:29:01.814 +08:00 [INF] 请求方法: GET
2025-05-29 15:29:01.815 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 15:29:01.816 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 15:29:01.817 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 15:29:01.818 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 15:29:01.820 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 15:29:01.821 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 15:29:01.822 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 15:29:01.823 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 15:29:01.824 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 15:29:01.825 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 15:29:01.826 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 15:29:01.827 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 15:29:01.828 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdlNGExZmUtZDdmYy00NWFmLTkzNDktNzliOTY1MjhlNDJiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQxNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.4yiseZMclY_37En-Xl8h-vtD4zrSm1-fWDgF-ZDwtT4
2025-05-29 15:29:01.829 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdlNGExZmUtZDdmYy00NWFmLTkzNDktNzliOTY1MjhlNDJiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQxNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.4yiseZMclY_37En-Xl8h-vtD4zrSm1-fWDgF-ZDwtT4
2025-05-29 15:29:01.831 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 15:29:01.832 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 15:29:01.834 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 15:29:01.835 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 15:29:01.836 +08:00 [INF] 请求头: traceparent = 00-40d20cb7440a063149f5b7e436588683-71ef5329d5074ff6-00
2025-05-29 15:29:01.837 +08:00 [INF] 请求头: traceparent = 00-08a582e4f9a71d24c9cc5dd442f2ff83-c97c440b2037aa19-00
2025-05-29 15:29:01.838 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 15:29:01.839 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 15:29:01.840 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 15:29:01.841 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 15:29:01.842 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 15:29:01.844 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 15:29:01.845 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 15:29:01.846 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 15:29:01.847 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 15:29:01.848 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 15:29:01.850 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 15:29:01.851 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 15:29:01.852 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 15:29:01.853 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 15:29:01.854 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 15:29:01.855 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 15:29:01.856 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 15:29:01.857 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 15:29:01.858 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 15:29:01.859 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 15:29:01.860 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:29:01.861 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:29:01.863 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 15:29:01.864 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 15:29:01.865 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 15:29:01.866 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 15:29:01.867 +08:00 [INF] JWT Claim: jti = 57e4a1fe-d7fc-45af-9349-79b96528e42b
2025-05-29 15:29:01.869 +08:00 [INF] JWT Claim: jti = 57e4a1fe-d7fc-45af-9349-79b96528e42b
2025-05-29 15:29:01.870 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 15:29:01.871 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 15:29:01.872 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 15:29:01.873 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 15:29:01.875 +08:00 [INF] JWT Claim: exp = 1748504167
2025-05-29 15:29:01.876 +08:00 [INF] JWT Claim: exp = 1748504167
2025-05-29 15:29:01.877 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 15:29:01.879 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 15:29:01.880 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 15:29:01.881 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 15:29:01.882 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 15:29:01.884 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 15:29:01.884 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdlNGExZmUtZDdmYy00NWFmLTkzNDktNzliOTY1MjhlNDJiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQxNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.4yiseZMclY_37En-Xl8h-vtD4zrSm1-fWDgF-ZDwtT4]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-40d20cb7440a063149f5b7e436588683-71ef5329d5074ff6-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 15:29:01.885 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdlNGExZmUtZDdmYy00NWFmLTkzNDktNzliOTY1MjhlNDJiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQxNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.4yiseZMclY_37En-Xl8h-vtD4zrSm1-fWDgF-ZDwtT4]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-08a582e4f9a71d24c9cc5dd442f2ff83-c97c440b2037aa19-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 15:29:01.892 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:29:01.899 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:29:01.900 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 15:29:01.901 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 15:29:01.902 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 15:29:01.903 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 15:29:01.911 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 15:29:01.924 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 15:29:01.928 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 15:29:01.931 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 15:29:01.934 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 15:29:01.935 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 15:29:01.941 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 15:29:01.941 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 24.3065ms
2025-05-29 15:29:01.945 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 15:29:01.946 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 15:29:01.947 +08:00 [INF] 请求 GET /api/property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 135ms
2025-05-29 15:29:01.952 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 147.1316ms
2025-05-29 15:29:01.954 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 15:29:01.959 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 15:29:01.961 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 56.2609ms
2025-05-29 15:29:01.962 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 15:29:01.963 +08:00 [INF] 请求 GET /api/property/GetPropertyStats 完成，状态码: 200，耗时: 154ms
2025-05-29 15:29:01.966 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - 200 null application/json; charset=utf-8 169.2604ms
2025-05-29 15:29:16.651 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - null 0
2025-05-29 15:29:16.654 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 15:29:16.655 +08:00 [INF] 请求路径: /api/property/GetPropertyStats
2025-05-29 15:29:16.656 +08:00 [INF] 请求方法: GET
2025-05-29 15:29:16.657 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 15:29:16.658 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 15:29:16.659 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 15:29:16.660 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 15:29:16.662 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 15:29:16.663 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 15:29:16.664 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdlNGExZmUtZDdmYy00NWFmLTkzNDktNzliOTY1MjhlNDJiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQxNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.4yiseZMclY_37En-Xl8h-vtD4zrSm1-fWDgF-ZDwtT4
2025-05-29 15:29:16.665 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 15:29:16.666 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 15:29:16.667 +08:00 [INF] 请求头: traceparent = 00-c84df847808867cff3409a999a0efb81-41e84521d9f54fb1-00
2025-05-29 15:29:16.669 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 15:29:16.670 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 15:29:16.671 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 15:29:16.672 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 15:29:16.673 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 15:29:16.675 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 15:29:16.676 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 15:29:16.677 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 15:29:16.678 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 15:29:16.679 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 15:29:16.680 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:29:16.681 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 15:29:16.682 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 15:29:16.684 +08:00 [INF] JWT Claim: jti = 57e4a1fe-d7fc-45af-9349-79b96528e42b
2025-05-29 15:29:16.685 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 15:29:16.686 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 15:29:16.687 +08:00 [INF] JWT Claim: exp = 1748504167
2025-05-29 15:29:16.688 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 15:29:16.689 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 15:29:16.690 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 15:29:16.691 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdlNGExZmUtZDdmYy00NWFmLTkzNDktNzliOTY1MjhlNDJiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQxNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.4yiseZMclY_37En-Xl8h-vtD4zrSm1-fWDgF-ZDwtT4]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-c84df847808867cff3409a999a0efb81-41e84521d9f54fb1-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 15:29:16.698 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:29:16.699 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 15:29:16.700 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 15:29:16.706 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 15:29:16.711 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 15:29:16.714 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 15:29:16.729 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 15:29:16.732 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 15:29:16.737 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 15:29:16.740 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 15:29:16.741 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 39.683ms
2025-05-29 15:29:16.744 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 15:29:16.745 +08:00 [INF] 请求 GET /api/property/GetPropertyStats 完成，状态码: 200，耗时: 90ms
2025-05-29 15:29:16.747 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - 200 null application/json; charset=utf-8 96.0553ms
2025-05-29 15:29:16.757 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 15:29:16.759 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 15:29:16.760 +08:00 [INF] 请求路径: /api/property/QueryProperties
2025-05-29 15:29:16.761 +08:00 [INF] 请求方法: GET
2025-05-29 15:29:16.762 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 15:29:16.763 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 15:29:16.764 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 15:29:16.765 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 15:29:16.766 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 15:29:16.767 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 15:29:16.768 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdlNGExZmUtZDdmYy00NWFmLTkzNDktNzliOTY1MjhlNDJiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQxNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.4yiseZMclY_37En-Xl8h-vtD4zrSm1-fWDgF-ZDwtT4
2025-05-29 15:29:16.769 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 15:29:16.770 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 15:29:16.771 +08:00 [INF] 请求头: traceparent = 00-846364fb4b7fd7b5ce347852327b2404-3ff90a11f0645c00-00
2025-05-29 15:29:16.772 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 15:29:16.773 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 15:29:16.774 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 15:29:16.775 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 15:29:16.776 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 15:29:16.777 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 15:29:16.778 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 15:29:16.779 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 15:29:16.780 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 15:29:16.780 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 15:29:16.781 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:29:16.782 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 15:29:16.784 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 15:29:16.785 +08:00 [INF] JWT Claim: jti = 57e4a1fe-d7fc-45af-9349-79b96528e42b
2025-05-29 15:29:16.786 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 15:29:16.787 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 15:29:16.788 +08:00 [INF] JWT Claim: exp = 1748504167
2025-05-29 15:29:16.789 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 15:29:16.790 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 15:29:16.791 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 15:29:16.792 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdlNGExZmUtZDdmYy00NWFmLTkzNDktNzliOTY1MjhlNDJiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQxNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.4yiseZMclY_37En-Xl8h-vtD4zrSm1-fWDgF-ZDwtT4]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-846364fb4b7fd7b5ce347852327b2404-3ff90a11f0645c00-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 15:29:16.799 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:29:16.800 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 15:29:16.801 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 15:29:16.805 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 15:29:16.813 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 15:29:16.817 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 15:29:16.818 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 15.8353ms
2025-05-29 15:29:16.820 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 15:29:16.821 +08:00 [INF] 请求 GET /api/property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 61ms
2025-05-29 15:29:16.823 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 66.7548ms
2025-05-29 15:29:28.866 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 15:29:28.869 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 15:29:28.870 +08:00 [INF] 请求路径: /api/property/QueryProperties
2025-05-29 15:29:28.871 +08:00 [INF] 请求方法: GET
2025-05-29 15:29:28.871 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 15:29:28.872 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 15:29:28.874 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 15:29:28.875 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 15:29:28.876 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 15:29:28.877 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 15:29:28.878 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdlNGExZmUtZDdmYy00NWFmLTkzNDktNzliOTY1MjhlNDJiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQxNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.4yiseZMclY_37En-Xl8h-vtD4zrSm1-fWDgF-ZDwtT4
2025-05-29 15:29:28.879 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 15:29:28.880 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 15:29:28.881 +08:00 [INF] 请求头: traceparent = 00-0b3ab3b4fb4261f4b08bf4ef93e58087-6911eaafa56803ee-00
2025-05-29 15:29:28.882 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 15:29:28.884 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 15:29:28.885 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 15:29:28.886 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 15:29:28.887 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 15:29:28.888 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 15:29:28.889 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 15:29:28.891 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 15:29:28.891 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 15:29:28.892 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 15:29:28.893 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:29:28.895 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 15:29:28.896 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 15:29:28.897 +08:00 [INF] JWT Claim: jti = 57e4a1fe-d7fc-45af-9349-79b96528e42b
2025-05-29 15:29:28.898 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 15:29:28.899 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 15:29:28.900 +08:00 [INF] JWT Claim: exp = 1748504167
2025-05-29 15:29:28.902 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 15:29:28.903 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 15:29:28.904 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 15:29:28.905 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdlNGExZmUtZDdmYy00NWFmLTkzNDktNzliOTY1MjhlNDJiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQxNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.4yiseZMclY_37En-Xl8h-vtD4zrSm1-fWDgF-ZDwtT4]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-0b3ab3b4fb4261f4b08bf4ef93e58087-6911eaafa56803ee-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 15:29:28.911 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:29:28.912 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 15:29:28.914 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 15:29:28.920 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 15:29:28.927 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 15:29:28.929 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 15:29:28.931 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 15.4992ms
2025-05-29 15:29:28.932 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 15:29:28.934 +08:00 [INF] 请求 GET /api/property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 64ms
2025-05-29 15:29:28.936 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 69.8725ms
2025-05-29 15:29:29.006 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - null 0
2025-05-29 15:29:29.009 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 15:29:29.010 +08:00 [INF] 请求路径: /api/property/GetPropertyStats
2025-05-29 15:29:29.010 +08:00 [INF] 请求方法: GET
2025-05-29 15:29:29.011 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 15:29:29.012 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 15:29:29.013 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 15:29:29.014 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 15:29:29.015 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 15:29:29.016 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 15:29:29.017 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdlNGExZmUtZDdmYy00NWFmLTkzNDktNzliOTY1MjhlNDJiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQxNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.4yiseZMclY_37En-Xl8h-vtD4zrSm1-fWDgF-ZDwtT4
2025-05-29 15:29:29.018 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 15:29:29.019 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 15:29:29.020 +08:00 [INF] 请求头: traceparent = 00-a9cbc12e7fb8fba80cf639734c52db2f-62f451c9ade6ef74-00
2025-05-29 15:29:29.021 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 15:29:29.022 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 15:29:29.023 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 15:29:29.024 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 15:29:29.025 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 15:29:29.026 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 15:29:29.027 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 15:29:29.027 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 15:29:29.028 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 15:29:29.029 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 15:29:29.030 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:29:29.030 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 15:29:29.031 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 15:29:29.032 +08:00 [INF] JWT Claim: jti = 57e4a1fe-d7fc-45af-9349-79b96528e42b
2025-05-29 15:29:29.033 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 15:29:29.034 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 15:29:29.035 +08:00 [INF] JWT Claim: exp = 1748504167
2025-05-29 15:29:29.037 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 15:29:29.037 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 15:29:29.038 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 15:29:29.039 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdlNGExZmUtZDdmYy00NWFmLTkzNDktNzliOTY1MjhlNDJiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQxNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.4yiseZMclY_37En-Xl8h-vtD4zrSm1-fWDgF-ZDwtT4]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-a9cbc12e7fb8fba80cf639734c52db2f-62f451c9ade6ef74-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 15:29:29.045 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:29:29.045 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 15:29:29.046 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 15:29:29.048 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 15:29:29.053 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 15:29:29.055 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 15:29:29.058 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 15:29:29.061 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 15:29:29.067 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 15:29:29.069 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 15:29:29.071 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 23.7267ms
2025-05-29 15:29:29.072 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 15:29:29.073 +08:00 [INF] 请求 GET /api/property/GetPropertyStats 完成，状态码: 200，耗时: 64ms
2025-05-29 15:29:29.075 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - 200 null application/json; charset=utf-8 68.7528ms
2025-05-29 15:30:01.765 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 15:30:01.768 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 15:30:01.768 +08:00 [INF] 请求路径: /api/property/QueryProperties
2025-05-29 15:30:01.769 +08:00 [INF] 请求方法: GET
2025-05-29 15:30:01.770 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 15:30:01.771 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 15:30:01.772 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 15:30:01.774 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 15:30:01.775 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 15:30:01.776 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 15:30:01.777 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdlNGExZmUtZDdmYy00NWFmLTkzNDktNzliOTY1MjhlNDJiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQxNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.4yiseZMclY_37En-Xl8h-vtD4zrSm1-fWDgF-ZDwtT4
2025-05-29 15:30:01.779 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 15:30:01.780 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 15:30:01.781 +08:00 [INF] 请求头: traceparent = 00-b8b5fbfc10e0b7a7a5501a39f26a0a85-9202baee4acad7ab-00
2025-05-29 15:30:01.782 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 15:30:01.784 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 15:30:01.785 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 15:30:01.786 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 15:30:01.787 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 15:30:01.788 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 15:30:01.789 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 15:30:01.791 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 15:30:01.791 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 15:30:01.792 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 15:30:01.793 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:30:01.794 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 15:30:01.796 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 15:30:01.797 +08:00 [INF] JWT Claim: jti = 57e4a1fe-d7fc-45af-9349-79b96528e42b
2025-05-29 15:30:01.798 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 15:30:01.799 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 15:30:01.801 +08:00 [INF] JWT Claim: exp = 1748504167
2025-05-29 15:30:01.802 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 15:30:01.804 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 15:30:01.805 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 15:30:01.806 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdlNGExZmUtZDdmYy00NWFmLTkzNDktNzliOTY1MjhlNDJiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQxNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.4yiseZMclY_37En-Xl8h-vtD4zrSm1-fWDgF-ZDwtT4]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-b8b5fbfc10e0b7a7a5501a39f26a0a85-9202baee4acad7ab-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 15:30:01.815 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:30:01.816 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 15:30:01.817 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 15:30:01.824 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 15:30:01.830 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 15:30:01.834 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 15:30:01.836 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 16.52ms
2025-05-29 15:30:01.837 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 15:30:01.838 +08:00 [INF] 请求 GET /api/property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 70ms
2025-05-29 15:30:01.841 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 75.9344ms
2025-05-29 15:30:01.878 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - null 0
2025-05-29 15:30:01.880 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 15:30:01.881 +08:00 [INF] 请求路径: /api/property/GetPropertyStats
2025-05-29 15:30:01.882 +08:00 [INF] 请求方法: GET
2025-05-29 15:30:01.883 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 15:30:01.884 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 15:30:01.885 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 15:30:01.886 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 15:30:01.887 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 15:30:01.888 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 15:30:01.889 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdlNGExZmUtZDdmYy00NWFmLTkzNDktNzliOTY1MjhlNDJiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQxNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.4yiseZMclY_37En-Xl8h-vtD4zrSm1-fWDgF-ZDwtT4
2025-05-29 15:30:01.890 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 15:30:01.891 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 15:30:01.892 +08:00 [INF] 请求头: traceparent = 00-c3fcc20b4c9dc23f3d4dc98c6449a0a5-dbf8c4cdbd1fee8d-00
2025-05-29 15:30:01.893 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 15:30:01.894 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 15:30:01.895 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 15:30:01.896 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 15:30:01.897 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 15:30:01.898 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 15:30:01.899 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 15:30:01.900 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 15:30:01.901 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 15:30:01.902 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 15:30:01.903 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:30:01.904 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 15:30:01.905 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 15:30:01.906 +08:00 [INF] JWT Claim: jti = 57e4a1fe-d7fc-45af-9349-79b96528e42b
2025-05-29 15:30:01.907 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 15:30:01.908 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 15:30:01.909 +08:00 [INF] JWT Claim: exp = 1748504167
2025-05-29 15:30:01.910 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 15:30:01.911 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 15:30:01.912 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 15:30:01.913 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdlNGExZmUtZDdmYy00NWFmLTkzNDktNzliOTY1MjhlNDJiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQxNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.4yiseZMclY_37En-Xl8h-vtD4zrSm1-fWDgF-ZDwtT4]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-c3fcc20b4c9dc23f3d4dc98c6449a0a5-dbf8c4cdbd1fee8d-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 15:30:01.921 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:30:01.922 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 15:30:01.923 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 15:30:01.928 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 15:30:01.942 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 15:30:01.945 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 15:30:01.948 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 15:30:01.951 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 15:30:01.955 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 15:30:01.958 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 15:30:01.959 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 34.2306ms
2025-05-29 15:30:01.961 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 15:30:01.962 +08:00 [INF] 请求 GET /api/property/GetPropertyStats 完成，状态码: 200，耗时: 81ms
2025-05-29 15:30:01.964 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - 200 null application/json; charset=utf-8 86.4529ms
2025-05-29 15:30:19.417 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - null 0
2025-05-29 15:30:19.419 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 15:30:19.420 +08:00 [INF] 请求路径: /api/property/GetPropertyStats
2025-05-29 15:30:19.421 +08:00 [INF] 请求方法: GET
2025-05-29 15:30:19.422 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 15:30:19.423 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 15:30:19.424 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 15:30:19.425 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 15:30:19.426 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 15:30:19.427 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 15:30:19.428 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdlNGExZmUtZDdmYy00NWFmLTkzNDktNzliOTY1MjhlNDJiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQxNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.4yiseZMclY_37En-Xl8h-vtD4zrSm1-fWDgF-ZDwtT4
2025-05-29 15:30:19.429 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 15:30:19.430 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 15:30:19.431 +08:00 [INF] 请求头: traceparent = 00-8521b6a677223c04a67db7b4a6d7d7e3-c70f2e02c1e1e7d1-00
2025-05-29 15:30:19.432 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 15:30:19.433 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 15:30:19.434 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 15:30:19.435 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 15:30:19.436 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 15:30:19.437 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 15:30:19.438 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 15:30:19.439 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 15:30:19.440 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 15:30:19.441 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 15:30:19.442 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:30:19.443 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 15:30:19.444 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 15:30:19.445 +08:00 [INF] JWT Claim: jti = 57e4a1fe-d7fc-45af-9349-79b96528e42b
2025-05-29 15:30:19.446 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 15:30:19.447 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 15:30:19.449 +08:00 [INF] JWT Claim: exp = 1748504167
2025-05-29 15:30:19.451 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 15:30:19.452 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 15:30:19.453 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 15:30:19.453 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdlNGExZmUtZDdmYy00NWFmLTkzNDktNzliOTY1MjhlNDJiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQxNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.4yiseZMclY_37En-Xl8h-vtD4zrSm1-fWDgF-ZDwtT4]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-8521b6a677223c04a67db7b4a6d7d7e3-c70f2e02c1e1e7d1-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 15:30:19.460 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:30:19.461 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 15:30:19.462 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 15:30:19.470 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 15:30:19.474 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 15:30:19.478 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 15:30:19.480 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 15:30:19.484 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 15:30:19.488 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 15:30:19.491 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 15:30:19.492 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 28.7633ms
2025-05-29 15:30:19.494 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 15:30:19.495 +08:00 [INF] 请求 GET /api/property/GetPropertyStats 完成，状态码: 200，耗时: 75ms
2025-05-29 15:30:19.497 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - 200 null application/json; charset=utf-8 79.9716ms
2025-05-29 15:30:19.552 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 15:30:19.554 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 15:30:19.555 +08:00 [INF] 请求路径: /api/property/QueryProperties
2025-05-29 15:30:19.556 +08:00 [INF] 请求方法: GET
2025-05-29 15:30:19.557 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 15:30:19.558 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 15:30:19.559 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 15:30:19.560 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 15:30:19.562 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 15:30:19.563 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 15:30:19.565 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdlNGExZmUtZDdmYy00NWFmLTkzNDktNzliOTY1MjhlNDJiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQxNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.4yiseZMclY_37En-Xl8h-vtD4zrSm1-fWDgF-ZDwtT4
2025-05-29 15:30:19.567 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 15:30:19.568 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 15:30:19.570 +08:00 [INF] 请求头: traceparent = 00-7e0f4900c17c1e5b658de807c9661587-41fe6c915ca8e4fe-00
2025-05-29 15:30:19.572 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 15:30:19.573 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 15:30:19.575 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 15:30:19.576 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 15:30:19.577 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 15:30:19.579 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 15:30:19.580 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 15:30:19.581 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 15:30:19.582 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 15:30:19.583 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 15:30:19.584 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:30:19.585 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 15:30:19.587 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 15:30:19.588 +08:00 [INF] JWT Claim: jti = 57e4a1fe-d7fc-45af-9349-79b96528e42b
2025-05-29 15:30:19.589 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 15:30:19.591 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 15:30:19.592 +08:00 [INF] JWT Claim: exp = 1748504167
2025-05-29 15:30:19.593 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 15:30:19.595 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 15:30:19.596 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 15:30:19.597 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdlNGExZmUtZDdmYy00NWFmLTkzNDktNzliOTY1MjhlNDJiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQxNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.4yiseZMclY_37En-Xl8h-vtD4zrSm1-fWDgF-ZDwtT4]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-7e0f4900c17c1e5b658de807c9661587-41fe6c915ca8e4fe-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 15:30:19.605 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:30:19.607 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 15:30:19.609 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 15:30:19.613 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 15:30:19.620 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 15:30:19.623 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 15:30:19.624 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 13.9194ms
2025-05-29 15:30:19.626 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 15:30:19.627 +08:00 [INF] 请求 GET /api/property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 72ms
2025-05-29 15:30:19.630 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 77.6269ms
2025-05-29 15:30:34.774 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 15:30:34.779 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 15:30:34.780 +08:00 [INF] 请求路径: /api/property/QueryProperties
2025-05-29 15:30:34.782 +08:00 [INF] 请求方法: GET
2025-05-29 15:30:34.783 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 15:30:34.785 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 15:30:34.787 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 15:30:34.789 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 15:30:34.791 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 15:30:34.793 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 15:30:34.794 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdlNGExZmUtZDdmYy00NWFmLTkzNDktNzliOTY1MjhlNDJiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQxNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.4yiseZMclY_37En-Xl8h-vtD4zrSm1-fWDgF-ZDwtT4
2025-05-29 15:30:34.796 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 15:30:34.798 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 15:30:34.800 +08:00 [INF] 请求头: traceparent = 00-5ee2f29fc94214c768083a6511893e09-10fea05eee39c733-00
2025-05-29 15:30:34.802 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 15:30:34.803 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 15:30:34.805 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 15:30:34.807 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 15:30:34.809 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 15:30:34.811 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 15:30:34.813 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 15:30:34.815 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 15:30:34.816 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 15:30:34.817 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 15:30:34.819 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:30:34.821 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 15:30:34.823 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 15:30:34.825 +08:00 [INF] JWT Claim: jti = 57e4a1fe-d7fc-45af-9349-79b96528e42b
2025-05-29 15:30:34.827 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 15:30:34.828 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 15:30:34.830 +08:00 [INF] JWT Claim: exp = 1748504167
2025-05-29 15:30:34.832 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 15:30:34.833 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 15:30:34.835 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 15:30:34.836 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdlNGExZmUtZDdmYy00NWFmLTkzNDktNzliOTY1MjhlNDJiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQxNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.4yiseZMclY_37En-Xl8h-vtD4zrSm1-fWDgF-ZDwtT4]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-5ee2f29fc94214c768083a6511893e09-10fea05eee39c733-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 15:30:34.846 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:30:34.848 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 15:30:34.849 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 15:30:34.858 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 15:30:34.868 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 15:30:34.871 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 15:30:34.873 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 21.1516ms
2025-05-29 15:30:34.875 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 15:30:34.876 +08:00 [INF] 请求 GET /api/property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 97ms
2025-05-29 15:30:34.878 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 104.1416ms
2025-05-29 15:30:34.929 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - null 0
2025-05-29 15:30:34.931 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 15:30:34.932 +08:00 [INF] 请求路径: /api/property/GetPropertyStats
2025-05-29 15:30:34.933 +08:00 [INF] 请求方法: GET
2025-05-29 15:30:34.934 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 15:30:34.935 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 15:30:34.936 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 15:30:34.937 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 15:30:34.938 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 15:30:34.939 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 15:30:34.941 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdlNGExZmUtZDdmYy00NWFmLTkzNDktNzliOTY1MjhlNDJiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQxNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.4yiseZMclY_37En-Xl8h-vtD4zrSm1-fWDgF-ZDwtT4
2025-05-29 15:30:34.942 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 15:30:34.943 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 15:30:34.944 +08:00 [INF] 请求头: traceparent = 00-3844ee61636f0831491ed1ccaf702ab9-206002b29d9976a5-00
2025-05-29 15:30:34.945 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 15:30:34.946 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 15:30:34.947 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 15:30:34.949 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 15:30:34.950 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 15:30:34.951 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 15:30:34.952 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 15:30:34.953 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 15:30:34.954 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 15:30:34.954 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 15:30:34.955 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:30:34.957 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 15:30:34.958 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 15:30:34.959 +08:00 [INF] JWT Claim: jti = 57e4a1fe-d7fc-45af-9349-79b96528e42b
2025-05-29 15:30:34.960 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 15:30:34.961 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 15:30:34.962 +08:00 [INF] JWT Claim: exp = 1748504167
2025-05-29 15:30:34.963 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 15:30:34.965 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 15:30:34.966 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 15:30:34.967 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdlNGExZmUtZDdmYy00NWFmLTkzNDktNzliOTY1MjhlNDJiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQxNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.4yiseZMclY_37En-Xl8h-vtD4zrSm1-fWDgF-ZDwtT4]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-3844ee61636f0831491ed1ccaf702ab9-206002b29d9976a5-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 15:30:34.975 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:30:34.976 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 15:30:34.977 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 15:30:34.981 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 15:30:34.987 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 15:30:34.990 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 15:30:34.993 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 15:30:34.996 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 15:30:35.002 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 15:30:35.004 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 15:30:35.005 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 26.4738ms
2025-05-29 15:30:35.007 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 15:30:35.008 +08:00 [INF] 请求 GET /api/property/GetPropertyStats 完成，状态码: 200，耗时: 76ms
2025-05-29 15:30:35.010 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - 200 null application/json; charset=utf-8 81.05ms
2025-05-29 15:31:00.489 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 15:31:00.493 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 15:31:00.494 +08:00 [INF] 请求路径: /api/property/QueryProperties
2025-05-29 15:31:00.495 +08:00 [INF] 请求方法: GET
2025-05-29 15:31:00.496 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 15:31:00.498 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 15:31:00.500 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 15:31:00.502 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 15:31:00.503 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 15:31:00.505 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 15:31:00.507 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdlNGExZmUtZDdmYy00NWFmLTkzNDktNzliOTY1MjhlNDJiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQxNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.4yiseZMclY_37En-Xl8h-vtD4zrSm1-fWDgF-ZDwtT4
2025-05-29 15:31:00.509 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 15:31:00.511 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 15:31:00.513 +08:00 [INF] 请求头: traceparent = 00-4435e393806060203f87d94526ba5482-2e4fba221d64f52d-00
2025-05-29 15:31:00.514 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 15:31:00.516 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 15:31:00.518 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 15:31:00.520 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 15:31:00.522 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 15:31:00.524 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 15:31:00.525 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 15:31:00.526 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 15:31:00.528 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 15:31:00.529 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 15:31:00.530 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:31:00.532 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 15:31:00.533 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 15:31:00.535 +08:00 [INF] JWT Claim: jti = 57e4a1fe-d7fc-45af-9349-79b96528e42b
2025-05-29 15:31:00.536 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 15:31:00.537 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 15:31:00.539 +08:00 [INF] JWT Claim: exp = 1748504167
2025-05-29 15:31:00.540 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 15:31:00.542 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 15:31:00.543 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 15:31:00.544 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdlNGExZmUtZDdmYy00NWFmLTkzNDktNzliOTY1MjhlNDJiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQxNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.4yiseZMclY_37En-Xl8h-vtD4zrSm1-fWDgF-ZDwtT4]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-4435e393806060203f87d94526ba5482-2e4fba221d64f52d-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 15:31:00.555 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:31:00.557 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 15:31:00.559 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 15:31:00.568 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 15:31:00.586 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 15:31:00.589 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 15:31:00.591 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 29.7248ms
2025-05-29 15:31:00.594 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 15:31:00.595 +08:00 [INF] 请求 GET /api/property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 102ms
2025-05-29 15:31:00.598 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 110.2483ms
2025-05-29 15:31:00.606 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - null 0
2025-05-29 15:31:00.610 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 15:31:00.611 +08:00 [INF] 请求路径: /api/property/GetPropertyStats
2025-05-29 15:31:00.612 +08:00 [INF] 请求方法: GET
2025-05-29 15:31:00.614 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 15:31:00.615 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 15:31:00.617 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 15:31:00.618 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 15:31:00.620 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 15:31:00.621 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 15:31:00.623 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdlNGExZmUtZDdmYy00NWFmLTkzNDktNzliOTY1MjhlNDJiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQxNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.4yiseZMclY_37En-Xl8h-vtD4zrSm1-fWDgF-ZDwtT4
2025-05-29 15:31:00.624 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 15:31:00.625 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 15:31:00.626 +08:00 [INF] 请求头: traceparent = 00-fe7050fd978b7822ed82b441bf703a23-11a320a2ab7889da-00
2025-05-29 15:31:00.627 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 15:31:00.629 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 15:31:00.630 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 15:31:00.631 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 15:31:00.632 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 15:31:00.633 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 15:31:00.634 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 15:31:00.635 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 15:31:00.636 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 15:31:00.636 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 15:31:00.637 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:31:00.639 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 15:31:00.640 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 15:31:00.641 +08:00 [INF] JWT Claim: jti = 57e4a1fe-d7fc-45af-9349-79b96528e42b
2025-05-29 15:31:00.642 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 15:31:00.643 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 15:31:00.644 +08:00 [INF] JWT Claim: exp = 1748504167
2025-05-29 15:31:00.645 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 15:31:00.646 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 15:31:00.648 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 15:31:00.649 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdlNGExZmUtZDdmYy00NWFmLTkzNDktNzliOTY1MjhlNDJiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQxNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.4yiseZMclY_37En-Xl8h-vtD4zrSm1-fWDgF-ZDwtT4]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-fe7050fd978b7822ed82b441bf703a23-11a320a2ab7889da-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 15:31:00.655 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:31:00.656 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 15:31:00.657 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 15:31:00.661 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 15:31:00.666 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 15:31:00.669 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 15:31:00.671 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 15:31:00.674 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 15:31:00.678 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 15:31:00.680 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 15:31:00.681 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 22.105ms
2025-05-29 15:31:00.682 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 15:31:00.683 +08:00 [INF] 请求 GET /api/property/GetPropertyStats 完成，状态码: 200，耗时: 73ms
2025-05-29 15:31:00.685 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - 200 null application/json; charset=utf-8 79.2612ms
2025-05-29 15:31:04.250 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - null 0
2025-05-29 15:31:04.252 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 15:31:04.253 +08:00 [INF] 请求路径: /api/property/GetPropertyStats
2025-05-29 15:31:04.254 +08:00 [INF] 请求方法: GET
2025-05-29 15:31:04.254 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 15:31:04.255 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 15:31:04.257 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 15:31:04.258 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 15:31:04.259 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 15:31:04.260 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 15:31:04.262 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdlNGExZmUtZDdmYy00NWFmLTkzNDktNzliOTY1MjhlNDJiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQxNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.4yiseZMclY_37En-Xl8h-vtD4zrSm1-fWDgF-ZDwtT4
2025-05-29 15:31:04.263 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 15:31:04.265 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 15:31:04.267 +08:00 [INF] 请求头: traceparent = 00-437372c28e9c7143dab88a1a0467146e-8fd1f35c23096c5b-00
2025-05-29 15:31:04.268 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 15:31:04.270 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 15:31:04.271 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 15:31:04.272 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 15:31:04.274 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 15:31:04.275 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 15:31:04.276 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 15:31:04.277 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 15:31:04.278 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 15:31:04.278 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 15:31:04.279 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:31:04.280 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 15:31:04.281 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 15:31:04.283 +08:00 [INF] JWT Claim: jti = 57e4a1fe-d7fc-45af-9349-79b96528e42b
2025-05-29 15:31:04.284 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 15:31:04.285 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 15:31:04.285 +08:00 [INF] JWT Claim: exp = 1748504167
2025-05-29 15:31:04.286 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 15:31:04.287 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 15:31:04.288 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 15:31:04.289 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdlNGExZmUtZDdmYy00NWFmLTkzNDktNzliOTY1MjhlNDJiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQxNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.4yiseZMclY_37En-Xl8h-vtD4zrSm1-fWDgF-ZDwtT4]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-437372c28e9c7143dab88a1a0467146e-8fd1f35c23096c5b-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 15:31:04.296 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:31:04.297 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 15:31:04.297 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 15:31:04.301 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 15:31:04.304 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 15:31:04.307 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 15:31:04.309 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 15:31:04.311 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 15:31:04.314 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 15:31:04.324 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 15:31:04.325 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 26.0905ms
2025-05-29 15:31:04.327 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 15:31:04.328 +08:00 [INF] 请求 GET /api/property/GetPropertyStats 完成，状态码: 200，耗时: 75ms
2025-05-29 15:31:04.330 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - 200 null application/json; charset=utf-8 80.0397ms
2025-05-29 15:31:06.545 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - null 0
2025-05-29 15:31:06.548 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 15:31:06.549 +08:00 [INF] 请求路径: /api/property/GetPropertyStats
2025-05-29 15:31:06.550 +08:00 [INF] 请求方法: GET
2025-05-29 15:31:06.551 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 15:31:06.552 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 15:31:06.553 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 15:31:06.555 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 15:31:06.556 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 15:31:06.557 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 15:31:06.558 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdlNGExZmUtZDdmYy00NWFmLTkzNDktNzliOTY1MjhlNDJiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQxNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.4yiseZMclY_37En-Xl8h-vtD4zrSm1-fWDgF-ZDwtT4
2025-05-29 15:31:06.559 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 15:31:06.560 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 15:31:06.561 +08:00 [INF] 请求头: traceparent = 00-78133e3da4fd5f5e565e33cefc184f45-0a8b2ef4722ae181-00
2025-05-29 15:31:06.562 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 15:31:06.563 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 15:31:06.565 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 15:31:06.566 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 15:31:06.567 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 15:31:06.569 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 15:31:06.570 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 15:31:06.571 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 15:31:06.572 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 15:31:06.573 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 15:31:06.575 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:31:06.576 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 15:31:06.577 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 15:31:06.578 +08:00 [INF] JWT Claim: jti = 57e4a1fe-d7fc-45af-9349-79b96528e42b
2025-05-29 15:31:06.579 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 15:31:06.580 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 15:31:06.582 +08:00 [INF] JWT Claim: exp = 1748504167
2025-05-29 15:31:06.583 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 15:31:06.584 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 15:31:06.585 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 15:31:06.586 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdlNGExZmUtZDdmYy00NWFmLTkzNDktNzliOTY1MjhlNDJiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQxNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.4yiseZMclY_37En-Xl8h-vtD4zrSm1-fWDgF-ZDwtT4]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-78133e3da4fd5f5e565e33cefc184f45-0a8b2ef4722ae181-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 15:31:06.594 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:31:06.595 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 15:31:06.596 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 15:31:06.605 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 15:31:06.613 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 15:31:06.617 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 15:31:06.620 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 15:31:06.624 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 15:31:06.628 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 15:31:06.630 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 15:31:06.632 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 34.0254ms
2025-05-29 15:31:06.633 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 15:31:06.634 +08:00 [INF] 请求 GET /api/property/GetPropertyStats 完成，状态码: 200，耗时: 86ms
2025-05-29 15:31:06.636 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - 200 null application/json; charset=utf-8 91.2791ms
2025-05-29 15:31:06.663 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 15:31:06.666 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 15:31:06.667 +08:00 [INF] 请求路径: /api/property/QueryProperties
2025-05-29 15:31:06.667 +08:00 [INF] 请求方法: GET
2025-05-29 15:31:06.668 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 15:31:06.669 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 15:31:06.670 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 15:31:06.672 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 15:31:06.673 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 15:31:06.674 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 15:31:06.675 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdlNGExZmUtZDdmYy00NWFmLTkzNDktNzliOTY1MjhlNDJiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQxNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.4yiseZMclY_37En-Xl8h-vtD4zrSm1-fWDgF-ZDwtT4
2025-05-29 15:31:06.676 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 15:31:06.677 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 15:31:06.678 +08:00 [INF] 请求头: traceparent = 00-d4a3ca2680cfc1ca46722cb3c344e0db-98935a1deb990d4b-00
2025-05-29 15:31:06.679 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 15:31:06.680 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 15:31:06.681 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 15:31:06.682 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 15:31:06.683 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 15:31:06.684 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 15:31:06.685 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 15:31:06.686 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 15:31:06.687 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 15:31:06.688 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 15:31:06.688 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:31:06.689 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 15:31:06.690 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 15:31:06.692 +08:00 [INF] JWT Claim: jti = 57e4a1fe-d7fc-45af-9349-79b96528e42b
2025-05-29 15:31:06.693 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 15:31:06.694 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 15:31:06.694 +08:00 [INF] JWT Claim: exp = 1748504167
2025-05-29 15:31:06.695 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 15:31:06.696 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 15:31:06.697 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 15:31:06.698 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdlNGExZmUtZDdmYy00NWFmLTkzNDktNzliOTY1MjhlNDJiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQxNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.4yiseZMclY_37En-Xl8h-vtD4zrSm1-fWDgF-ZDwtT4]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-d4a3ca2680cfc1ca46722cb3c344e0db-98935a1deb990d4b-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 15:31:06.705 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:31:06.706 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 15:31:06.707 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 15:31:06.711 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 15:31:06.714 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 15:31:06.716 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 15:31:06.717 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 8.8571ms
2025-05-29 15:31:06.719 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 15:31:06.720 +08:00 [INF] 请求 GET /api/property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 53ms
2025-05-29 15:31:06.722 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 58.2791ms
2025-05-29 15:31:28.824 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - null 0
2025-05-29 15:31:28.835 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 15:31:28.836 +08:00 [INF] 请求路径: /api/property/GetPropertyStats
2025-05-29 15:31:28.836 +08:00 [INF] 请求方法: GET
2025-05-29 15:31:28.837 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 15:31:28.838 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 15:31:28.839 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 15:31:28.841 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 15:31:28.842 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 15:31:28.843 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 15:31:28.844 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdlNGExZmUtZDdmYy00NWFmLTkzNDktNzliOTY1MjhlNDJiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQxNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.4yiseZMclY_37En-Xl8h-vtD4zrSm1-fWDgF-ZDwtT4
2025-05-29 15:31:28.845 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 15:31:28.846 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 15:31:28.846 +08:00 [INF] 请求头: traceparent = 00-2ddeaf83c12405aa19c7371afe4184fa-892aa2c59dbdb5f9-00
2025-05-29 15:31:28.848 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 15:31:28.849 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 15:31:28.850 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 15:31:28.851 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 15:31:28.852 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 15:31:28.853 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 15:31:28.854 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 15:31:28.855 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 15:31:28.856 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 15:31:28.857 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 15:31:28.857 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:31:28.858 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 15:31:28.859 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 15:31:28.861 +08:00 [INF] JWT Claim: jti = 57e4a1fe-d7fc-45af-9349-79b96528e42b
2025-05-29 15:31:28.862 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 15:31:28.863 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 15:31:28.864 +08:00 [INF] JWT Claim: exp = 1748504167
2025-05-29 15:31:28.865 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 15:31:28.866 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 15:31:28.867 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 15:31:28.868 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdlNGExZmUtZDdmYy00NWFmLTkzNDktNzliOTY1MjhlNDJiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQxNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.4yiseZMclY_37En-Xl8h-vtD4zrSm1-fWDgF-ZDwtT4]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-2ddeaf83c12405aa19c7371afe4184fa-892aa2c59dbdb5f9-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 15:31:28.876 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:31:28.877 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 15:31:28.878 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 15:31:28.883 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 15:31:28.887 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 15:31:28.890 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 15:31:28.892 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 15:31:28.895 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 15:31:28.899 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 15:31:28.901 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 15:31:28.902 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 22.3021ms
2025-05-29 15:31:28.903 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 15:31:28.904 +08:00 [INF] 请求 GET /api/property/GetPropertyStats 完成，状态码: 200，耗时: 69ms
2025-05-29 15:31:28.906 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - 200 null application/json; charset=utf-8 81.9631ms
2025-05-29 15:31:53.237 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - null 0
2025-05-29 15:31:53.241 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 15:31:53.242 +08:00 [INF] 请求路径: /api/property/GetPropertyStats
2025-05-29 15:31:53.243 +08:00 [INF] 请求方法: GET
2025-05-29 15:31:53.243 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 15:31:53.245 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 15:31:53.246 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 15:31:53.247 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 15:31:53.248 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 15:31:53.250 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 15:31:53.251 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiM2I4N2NhOWUtYjY1NC00YzY1LThjZjktNjk1YjJhMTcwMzZmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQ1MTMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.KpchkPg0ZtNE1IY6q2OscuUoQ2ATLluubLHBxaTIZe4
2025-05-29 15:31:53.253 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 15:31:53.254 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 15:31:53.255 +08:00 [INF] 请求头: traceparent = 00-a91532a74d084800bf8af704215e6c8c-bfa58014e7d9619c-00
2025-05-29 15:31:53.257 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 15:31:53.258 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 15:31:53.259 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 15:31:53.260 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 15:31:53.261 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 15:31:53.262 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 15:31:53.263 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 15:31:53.265 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 15:31:53.265 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 15:31:53.266 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 15:31:53.267 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:31:53.268 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 15:31:53.269 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 15:31:53.270 +08:00 [INF] JWT Claim: jti = 3b87ca9e-b654-4c65-8cf9-695b2a17036f
2025-05-29 15:31:53.272 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 15:31:53.273 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 15:31:53.274 +08:00 [INF] JWT Claim: exp = 1748504513
2025-05-29 15:31:53.275 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 15:31:53.276 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 15:31:53.277 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 15:31:53.278 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiM2I4N2NhOWUtYjY1NC00YzY1LThjZjktNjk1YjJhMTcwMzZmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQ1MTMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.KpchkPg0ZtNE1IY6q2OscuUoQ2ATLluubLHBxaTIZe4]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-a91532a74d084800bf8af704215e6c8c-bfa58014e7d9619c-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 15:31:53.286 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:31:53.287 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 15:31:53.288 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 15:31:53.295 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 15:31:53.307 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 15:31:53.310 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 15:31:53.313 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 15:31:53.317 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 15:31:53.322 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 15:31:53.325 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 15:31:53.327 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 36.6345ms
2025-05-29 15:31:53.328 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 15:31:53.329 +08:00 [INF] 请求 GET /api/property/GetPropertyStats 完成，状态码: 200，耗时: 87ms
2025-05-29 15:31:53.331 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - 200 null application/json; charset=utf-8 94.3518ms
2025-05-29 15:31:53.335 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 15:31:53.337 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 15:31:53.338 +08:00 [INF] 请求路径: /api/property/QueryProperties
2025-05-29 15:31:53.339 +08:00 [INF] 请求方法: GET
2025-05-29 15:31:53.343 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 15:31:53.349 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 15:31:53.350 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 15:31:53.351 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 15:31:53.352 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 15:31:53.353 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 15:31:53.354 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiM2I4N2NhOWUtYjY1NC00YzY1LThjZjktNjk1YjJhMTcwMzZmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQ1MTMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.KpchkPg0ZtNE1IY6q2OscuUoQ2ATLluubLHBxaTIZe4
2025-05-29 15:31:53.355 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 15:31:53.356 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 15:31:53.357 +08:00 [INF] 请求头: traceparent = 00-23db3dd5bf30c2e2ee9066e52c502055-bcde8262c0ced3c7-00
2025-05-29 15:31:53.358 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 15:31:53.359 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 15:31:53.360 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 15:31:53.361 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 15:31:53.362 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 15:31:53.363 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 15:31:53.364 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 15:31:53.365 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 15:31:53.366 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 15:31:53.367 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 15:31:53.368 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:31:53.369 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 15:31:53.370 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 15:31:53.370 +08:00 [INF] JWT Claim: jti = 3b87ca9e-b654-4c65-8cf9-695b2a17036f
2025-05-29 15:31:53.371 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 15:31:53.373 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 15:31:53.374 +08:00 [INF] JWT Claim: exp = 1748504513
2025-05-29 15:31:53.375 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 15:31:53.376 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 15:31:53.376 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 15:31:53.377 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiM2I4N2NhOWUtYjY1NC00YzY1LThjZjktNjk1YjJhMTcwMzZmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQ1MTMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.KpchkPg0ZtNE1IY6q2OscuUoQ2ATLluubLHBxaTIZe4]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-23db3dd5bf30c2e2ee9066e52c502055-bcde8262c0ced3c7-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 15:31:53.384 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:31:53.385 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 15:31:53.385 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 15:31:53.389 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 15:31:53.394 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 15:31:53.396 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 15:31:53.398 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 10.8471ms
2025-05-29 15:31:53.400 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 15:31:53.401 +08:00 [INF] 请求 GET /api/property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 63ms
2025-05-29 15:31:53.402 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 67.8167ms
2025-05-29 15:32:50.299 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - null 0
2025-05-29 15:32:50.302 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 15:32:50.303 +08:00 [INF] 请求路径: /api/property/GetPropertyStats
2025-05-29 15:32:50.304 +08:00 [INF] 请求方法: GET
2025-05-29 15:32:50.304 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 15:32:50.306 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 15:32:50.306 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 15:32:50.312 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 15:32:50.317 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 15:32:50.318 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 15:32:50.319 +08:00 [INF] 请求路径: /api/property/QueryProperties
2025-05-29 15:32:50.320 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 15:32:50.321 +08:00 [INF] 请求方法: GET
2025-05-29 15:32:50.322 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 15:32:50.323 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 15:32:50.324 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiM2I4N2NhOWUtYjY1NC00YzY1LThjZjktNjk1YjJhMTcwMzZmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQ1MTMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.KpchkPg0ZtNE1IY6q2OscuUoQ2ATLluubLHBxaTIZe4
2025-05-29 15:32:50.325 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 15:32:50.327 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 15:32:50.328 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 15:32:50.329 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 15:32:50.330 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 15:32:50.331 +08:00 [INF] 请求头: traceparent = 00-82d058b41d2600686244063f5723014b-6a5fa3a1e1e75012-00
2025-05-29 15:32:50.333 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 15:32:50.333 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 15:32:50.335 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 15:32:50.336 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 15:32:50.337 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiM2I4N2NhOWUtYjY1NC00YzY1LThjZjktNjk1YjJhMTcwMzZmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQ1MTMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.KpchkPg0ZtNE1IY6q2OscuUoQ2ATLluubLHBxaTIZe4
2025-05-29 15:32:50.338 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 15:32:50.340 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 15:32:50.341 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 15:32:50.342 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 15:32:50.343 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 15:32:50.344 +08:00 [INF] 请求头: traceparent = 00-03fe004e7d32e44b2c84e85c3e3ee8eb-d24b9d936b87baa7-00
2025-05-29 15:32:50.346 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 15:32:50.347 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 15:32:50.349 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 15:32:50.350 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 15:32:50.351 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 15:32:50.352 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 15:32:50.353 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 15:32:50.354 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 15:32:50.355 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 15:32:50.356 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 15:32:50.357 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:32:50.359 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 15:32:50.360 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 15:32:50.361 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 15:32:50.363 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 15:32:50.364 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 15:32:50.365 +08:00 [INF] JWT Claim: jti = 3b87ca9e-b654-4c65-8cf9-695b2a17036f
2025-05-29 15:32:50.366 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 15:32:50.367 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 15:32:50.368 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 15:32:50.369 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 15:32:50.370 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:32:50.371 +08:00 [INF] JWT Claim: exp = 1748504513
2025-05-29 15:32:50.372 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 15:32:50.373 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 15:32:50.374 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 15:32:50.375 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 15:32:50.376 +08:00 [INF] JWT Claim: jti = 3b87ca9e-b654-4c65-8cf9-695b2a17036f
2025-05-29 15:32:50.377 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 15:32:50.379 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 15:32:50.380 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiM2I4N2NhOWUtYjY1NC00YzY1LThjZjktNjk1YjJhMTcwMzZmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQ1MTMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.KpchkPg0ZtNE1IY6q2OscuUoQ2ATLluubLHBxaTIZe4]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-82d058b41d2600686244063f5723014b-6a5fa3a1e1e75012-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 15:32:50.381 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 15:32:50.387 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:32:50.388 +08:00 [INF] JWT Claim: exp = 1748504513
2025-05-29 15:32:50.389 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 15:32:50.390 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 15:32:50.391 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 15:32:50.392 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 15:32:50.401 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 15:32:50.402 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 15:32:50.403 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiM2I4N2NhOWUtYjY1NC00YzY1LThjZjktNjk1YjJhMTcwMzZmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQ1MTMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.KpchkPg0ZtNE1IY6q2OscuUoQ2ATLluubLHBxaTIZe4]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-03fe004e7d32e44b2c84e85c3e3ee8eb-d24b9d936b87baa7-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 15:32:50.411 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 15:32:50.417 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:32:50.420 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 15:32:50.420 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 15:32:50.423 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 15:32:50.423 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 15:32:50.426 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 15:32:50.429 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 15:32:50.432 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 15:32:50.434 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 15:32:50.434 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 15:32:50.437 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 15:32:50.437 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 43.8547ms
2025-05-29 15:32:50.439 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 11.8557ms
2025-05-29 15:32:50.440 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 15:32:50.441 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 15:32:50.442 +08:00 [INF] 请求 GET /api/property/GetPropertyStats 完成，状态码: 200，耗时: 139ms
2025-05-29 15:32:50.443 +08:00 [INF] 请求 GET /api/property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 126ms
2025-05-29 15:32:50.445 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - 200 null application/json; charset=utf-8 145.6195ms
2025-05-29 15:32:50.447 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 140.1741ms
2025-05-29 15:33:04.383 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - null 0
2025-05-29 15:33:04.386 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 15:33:04.387 +08:00 [INF] 请求路径: /api/property/GetPropertyStats
2025-05-29 15:33:04.387 +08:00 [INF] 请求方法: GET
2025-05-29 15:33:04.388 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 15:33:04.389 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 15:33:04.390 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 15:33:04.391 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 15:33:04.392 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 15:33:04.393 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 15:33:04.394 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiM2I4N2NhOWUtYjY1NC00YzY1LThjZjktNjk1YjJhMTcwMzZmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQ1MTMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.KpchkPg0ZtNE1IY6q2OscuUoQ2ATLluubLHBxaTIZe4
2025-05-29 15:33:04.395 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 15:33:04.396 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 15:33:04.397 +08:00 [INF] 请求头: traceparent = 00-f18ef884c9dcded790c0fa26af22eae0-d3fc2b7746ce15dc-00
2025-05-29 15:33:04.398 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 15:33:04.399 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 15:33:04.400 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 15:33:04.402 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 15:33:04.403 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 15:33:04.404 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 15:33:04.406 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 15:33:04.407 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 15:33:04.408 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 15:33:04.409 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 15:33:04.410 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:33:04.411 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 15:33:04.412 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 15:33:04.414 +08:00 [INF] JWT Claim: jti = 3b87ca9e-b654-4c65-8cf9-695b2a17036f
2025-05-29 15:33:04.415 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 15:33:04.417 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 15:33:04.418 +08:00 [INF] JWT Claim: exp = 1748504513
2025-05-29 15:33:04.419 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 15:33:04.420 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 15:33:04.421 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 15:33:04.422 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiM2I4N2NhOWUtYjY1NC00YzY1LThjZjktNjk1YjJhMTcwMzZmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQ1MTMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.KpchkPg0ZtNE1IY6q2OscuUoQ2ATLluubLHBxaTIZe4]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-f18ef884c9dcded790c0fa26af22eae0-d3fc2b7746ce15dc-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 15:33:04.429 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:33:04.430 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 15:33:04.432 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 15:33:04.435 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 15:33:04.438 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 15:33:04.441 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 15:33:04.443 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 15:33:04.447 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 15:33:04.450 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 15:33:04.452 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 15:33:04.453 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 19.8674ms
2025-05-29 15:33:04.454 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 15:33:04.455 +08:00 [INF] 请求 GET /api/property/GetPropertyStats 完成，状态码: 200，耗时: 69ms
2025-05-29 15:33:04.457 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - 200 null application/json; charset=utf-8 73.6604ms
2025-05-29 15:33:08.743 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 15:33:08.747 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 15:33:08.749 +08:00 [INF] 请求路径: /api/property/QueryProperties
2025-05-29 15:33:08.750 +08:00 [INF] 请求方法: GET
2025-05-29 15:33:08.751 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 15:33:08.752 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 15:33:08.753 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 15:33:08.754 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 15:33:08.756 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 15:33:08.757 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 15:33:08.758 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiM2I4N2NhOWUtYjY1NC00YzY1LThjZjktNjk1YjJhMTcwMzZmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQ1MTMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.KpchkPg0ZtNE1IY6q2OscuUoQ2ATLluubLHBxaTIZe4
2025-05-29 15:33:08.760 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 15:33:08.761 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 15:33:08.762 +08:00 [INF] 请求头: traceparent = 00-bf6cab187dca9daedceb45a86740cd54-0443e3e354654c39-00
2025-05-29 15:33:08.764 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 15:33:08.765 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 15:33:08.766 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 15:33:08.767 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 15:33:08.768 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 15:33:08.769 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 15:33:08.771 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 15:33:08.772 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 15:33:08.773 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 15:33:08.774 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 15:33:08.775 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:33:08.777 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 15:33:08.778 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 15:33:08.779 +08:00 [INF] JWT Claim: jti = 3b87ca9e-b654-4c65-8cf9-695b2a17036f
2025-05-29 15:33:08.781 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 15:33:08.783 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 15:33:08.784 +08:00 [INF] JWT Claim: exp = 1748504513
2025-05-29 15:33:08.786 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 15:33:08.787 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 15:33:08.789 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 15:33:08.790 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiM2I4N2NhOWUtYjY1NC00YzY1LThjZjktNjk1YjJhMTcwMzZmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQ1MTMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.KpchkPg0ZtNE1IY6q2OscuUoQ2ATLluubLHBxaTIZe4]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-bf6cab187dca9daedceb45a86740cd54-0443e3e354654c39-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 15:33:08.799 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:33:08.800 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 15:33:08.802 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 15:33:08.807 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 15:33:08.815 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 15:33:08.818 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 15:33:08.820 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 15.8892ms
2025-05-29 15:33:08.822 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 15:33:08.824 +08:00 [INF] 请求 GET /api/property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 76ms
2025-05-29 15:33:08.826 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 83.3533ms
2025-05-29 15:33:08.873 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - null 0
2025-05-29 15:33:08.876 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 15:33:08.877 +08:00 [INF] 请求路径: /api/property/GetPropertyStats
2025-05-29 15:33:08.877 +08:00 [INF] 请求方法: GET
2025-05-29 15:33:08.878 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 15:33:08.879 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 15:33:08.881 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 15:33:08.882 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 15:33:08.883 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 15:33:08.884 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 15:33:08.885 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiM2I4N2NhOWUtYjY1NC00YzY1LThjZjktNjk1YjJhMTcwMzZmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQ1MTMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.KpchkPg0ZtNE1IY6q2OscuUoQ2ATLluubLHBxaTIZe4
2025-05-29 15:33:08.887 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 15:33:08.888 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 15:33:08.889 +08:00 [INF] 请求头: traceparent = 00-f5a49d605a9a17b75ac4ddff66351d16-6f1c5247c89a65b5-00
2025-05-29 15:33:08.890 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 15:33:08.892 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 15:33:08.893 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 15:33:08.894 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 15:33:08.895 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 15:33:08.896 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 15:33:08.897 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 15:33:08.898 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 15:33:08.899 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 15:33:08.899 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 15:33:08.900 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:33:08.901 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 15:33:08.902 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 15:33:08.903 +08:00 [INF] JWT Claim: jti = 3b87ca9e-b654-4c65-8cf9-695b2a17036f
2025-05-29 15:33:08.904 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 15:33:08.905 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 15:33:08.906 +08:00 [INF] JWT Claim: exp = 1748504513
2025-05-29 15:33:08.907 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 15:33:08.908 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 15:33:08.909 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 15:33:08.910 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiM2I4N2NhOWUtYjY1NC00YzY1LThjZjktNjk1YjJhMTcwMzZmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQ1MTMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.KpchkPg0ZtNE1IY6q2OscuUoQ2ATLluubLHBxaTIZe4]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-f5a49d605a9a17b75ac4ddff66351d16-6f1c5247c89a65b5-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 15:33:08.918 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:33:08.919 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 15:33:08.919 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 15:33:08.923 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 15:33:08.926 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 15:33:08.928 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 15:33:08.931 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 15:33:08.933 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 15:33:08.935 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 15:33:08.937 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 15:33:08.939 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 17.8518ms
2025-05-29 15:33:08.940 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 15:33:08.941 +08:00 [INF] 请求 GET /api/property/GetPropertyStats 完成，状态码: 200，耗时: 64ms
2025-05-29 15:33:08.943 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - 200 null application/json; charset=utf-8 69.1028ms
2025-05-29 15:34:01.045 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 15:34:01.049 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 15:34:01.051 +08:00 [INF] 请求路径: /api/property/QueryProperties
2025-05-29 15:34:01.052 +08:00 [INF] 请求方法: GET
2025-05-29 15:34:01.052 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 15:34:01.053 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 15:34:01.054 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 15:34:01.056 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 15:34:01.057 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 15:34:01.058 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 15:34:01.060 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiM2I4N2NhOWUtYjY1NC00YzY1LThjZjktNjk1YjJhMTcwMzZmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQ1MTMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.KpchkPg0ZtNE1IY6q2OscuUoQ2ATLluubLHBxaTIZe4
2025-05-29 15:34:01.061 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 15:34:01.062 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 15:34:01.063 +08:00 [INF] 请求头: traceparent = 00-ecb1280c32b7e6b99211f9b9c4d82d80-6dcd187a245a66d3-00
2025-05-29 15:34:01.064 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 15:34:01.066 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 15:34:01.067 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 15:34:01.068 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 15:34:01.069 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 15:34:01.071 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 15:34:01.072 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 15:34:01.073 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 15:34:01.074 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 15:34:01.075 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 15:34:01.076 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:34:01.077 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 15:34:01.078 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 15:34:01.079 +08:00 [INF] JWT Claim: jti = 3b87ca9e-b654-4c65-8cf9-695b2a17036f
2025-05-29 15:34:01.080 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 15:34:01.081 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 15:34:01.083 +08:00 [INF] JWT Claim: exp = 1748504513
2025-05-29 15:34:01.084 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 15:34:01.085 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 15:34:01.087 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 15:34:01.087 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiM2I4N2NhOWUtYjY1NC00YzY1LThjZjktNjk1YjJhMTcwMzZmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQ1MTMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.KpchkPg0ZtNE1IY6q2OscuUoQ2ATLluubLHBxaTIZe4]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-ecb1280c32b7e6b99211f9b9c4d82d80-6dcd187a245a66d3-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 15:34:01.094 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:34:01.095 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 15:34:01.097 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 15:34:01.105 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 15:34:01.112 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 15:34:01.114 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 15:34:01.117 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 17.5325ms
2025-05-29 15:34:01.118 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 15:34:01.119 +08:00 [INF] 请求 GET /api/property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 69ms
2025-05-29 15:34:01.121 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 76.0769ms
2025-05-29 15:34:01.156 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - null 0
2025-05-29 15:34:01.159 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 15:34:01.160 +08:00 [INF] 请求路径: /api/property/GetPropertyStats
2025-05-29 15:34:01.161 +08:00 [INF] 请求方法: GET
2025-05-29 15:34:01.162 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 15:34:01.163 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 15:34:01.164 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 15:34:01.165 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 15:34:01.166 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 15:34:01.167 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 15:34:01.168 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiM2I4N2NhOWUtYjY1NC00YzY1LThjZjktNjk1YjJhMTcwMzZmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQ1MTMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.KpchkPg0ZtNE1IY6q2OscuUoQ2ATLluubLHBxaTIZe4
2025-05-29 15:34:01.169 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 15:34:01.170 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 15:34:01.171 +08:00 [INF] 请求头: traceparent = 00-454760f95871c38926d4593b524d0217-c16a58635a5ba08c-00
2025-05-29 15:34:01.172 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 15:34:01.173 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 15:34:01.174 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 15:34:01.175 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 15:34:01.176 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 15:34:01.177 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 15:34:01.178 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 15:34:01.180 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 15:34:01.180 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 15:34:01.181 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 15:34:01.182 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:34:01.183 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 15:34:01.184 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 15:34:01.185 +08:00 [INF] JWT Claim: jti = 3b87ca9e-b654-4c65-8cf9-695b2a17036f
2025-05-29 15:34:01.186 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 15:34:01.187 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 15:34:01.189 +08:00 [INF] JWT Claim: exp = 1748504513
2025-05-29 15:34:01.190 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 15:34:01.191 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 15:34:01.192 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 15:34:01.192 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiM2I4N2NhOWUtYjY1NC00YzY1LThjZjktNjk1YjJhMTcwMzZmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQ1MTMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.KpchkPg0ZtNE1IY6q2OscuUoQ2ATLluubLHBxaTIZe4]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-454760f95871c38926d4593b524d0217-c16a58635a5ba08c-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 15:34:01.199 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:34:01.200 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 15:34:01.201 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 15:34:01.205 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 15:34:01.211 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 15:34:01.214 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 15:34:01.217 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 15:34:01.220 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 15:34:01.224 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 15:34:01.226 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 15:34:01.227 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 25.1112ms
2025-05-29 15:34:01.229 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 15:34:01.230 +08:00 [INF] 请求 GET /api/property/GetPropertyStats 完成，状态码: 200，耗时: 70ms
2025-05-29 15:34:01.232 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - 200 null application/json; charset=utf-8 75.2852ms
2025-05-29 15:34:02.778 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - null 0
2025-05-29 15:34:02.781 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 15:34:02.781 +08:00 [INF] 请求路径: /api/property/GetPropertyStats
2025-05-29 15:34:02.782 +08:00 [INF] 请求方法: GET
2025-05-29 15:34:02.783 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 15:34:02.784 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 15:34:02.785 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 15:34:02.786 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 15:34:02.787 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 15:34:02.788 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 15:34:02.789 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiM2I4N2NhOWUtYjY1NC00YzY1LThjZjktNjk1YjJhMTcwMzZmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQ1MTMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.KpchkPg0ZtNE1IY6q2OscuUoQ2ATLluubLHBxaTIZe4
2025-05-29 15:34:02.790 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 15:34:02.791 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 15:34:02.792 +08:00 [INF] 请求头: traceparent = 00-d48554e444f69d39e0739adec1045f39-b55eb8320fa2b4dd-00
2025-05-29 15:34:02.793 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 15:34:02.794 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 15:34:02.795 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 15:34:02.796 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 15:34:02.796 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 15:34:02.797 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 15:34:02.798 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 15:34:02.799 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 15:34:02.800 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 15:34:02.801 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 15:34:02.802 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:34:02.803 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 15:34:02.803 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 15:34:02.804 +08:00 [INF] JWT Claim: jti = 3b87ca9e-b654-4c65-8cf9-695b2a17036f
2025-05-29 15:34:02.805 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 15:34:02.806 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 15:34:02.807 +08:00 [INF] JWT Claim: exp = 1748504513
2025-05-29 15:34:02.808 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 15:34:02.809 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 15:34:02.810 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 15:34:02.811 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiM2I4N2NhOWUtYjY1NC00YzY1LThjZjktNjk1YjJhMTcwMzZmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQ1MTMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.KpchkPg0ZtNE1IY6q2OscuUoQ2ATLluubLHBxaTIZe4]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-d48554e444f69d39e0739adec1045f39-b55eb8320fa2b4dd-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 15:34:02.819 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:34:02.820 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 15:34:02.820 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 15:34:02.824 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 15:34:02.827 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 15:34:02.829 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 15:34:02.831 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 15:34:02.834 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 15:34:02.836 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 15:34:02.838 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 15:34:02.839 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 17.2081ms
2025-05-29 15:34:02.841 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 15:34:02.841 +08:00 [INF] 请求 GET /api/property/GetPropertyStats 完成，状态码: 200，耗时: 60ms
2025-05-29 15:34:02.843 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - 200 null application/json; charset=utf-8 65.0546ms
2025-05-29 15:34:03.736 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 15:34:03.739 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 15:34:03.740 +08:00 [INF] 请求路径: /api/property/QueryProperties
2025-05-29 15:34:03.741 +08:00 [INF] 请求方法: GET
2025-05-29 15:34:03.742 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 15:34:03.744 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 15:34:03.745 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 15:34:03.746 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 15:34:03.747 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 15:34:03.748 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 15:34:03.749 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiM2I4N2NhOWUtYjY1NC00YzY1LThjZjktNjk1YjJhMTcwMzZmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQ1MTMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.KpchkPg0ZtNE1IY6q2OscuUoQ2ATLluubLHBxaTIZe4
2025-05-29 15:34:03.750 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 15:34:03.752 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 15:34:03.753 +08:00 [INF] 请求头: traceparent = 00-b5f3b4990d70ce22134282e736f52994-04d1288db4ee7edf-00
2025-05-29 15:34:03.754 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 15:34:03.755 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 15:34:03.756 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 15:34:03.757 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 15:34:03.759 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 15:34:03.760 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 15:34:03.761 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 15:34:03.762 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 15:34:03.763 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 15:34:03.764 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 15:34:03.765 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:34:03.767 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 15:34:03.768 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 15:34:03.769 +08:00 [INF] JWT Claim: jti = 3b87ca9e-b654-4c65-8cf9-695b2a17036f
2025-05-29 15:34:03.771 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 15:34:03.772 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 15:34:03.773 +08:00 [INF] JWT Claim: exp = 1748504513
2025-05-29 15:34:03.774 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 15:34:03.776 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 15:34:03.777 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 15:34:03.778 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiM2I4N2NhOWUtYjY1NC00YzY1LThjZjktNjk1YjJhMTcwMzZmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQ1MTMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.KpchkPg0ZtNE1IY6q2OscuUoQ2ATLluubLHBxaTIZe4]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-b5f3b4990d70ce22134282e736f52994-04d1288db4ee7edf-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 15:34:03.786 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:34:03.787 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 15:34:03.788 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 15:34:03.802 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - null 0
2025-05-29 15:34:03.805 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 15:34:03.806 +08:00 [INF] 请求路径: /api/property/GetPropertyStats
2025-05-29 15:34:03.806 +08:00 [INF] 请求方法: GET
2025-05-29 15:34:03.807 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 15:34:03.808 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 15:34:03.810 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 15:34:03.811 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 15:34:03.811 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 15:34:03.812 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 15:34:03.813 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiM2I4N2NhOWUtYjY1NC00YzY1LThjZjktNjk1YjJhMTcwMzZmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQ1MTMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.KpchkPg0ZtNE1IY6q2OscuUoQ2ATLluubLHBxaTIZe4
2025-05-29 15:34:03.816 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 15:34:03.817 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 15:34:03.825 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 15:34:03.825 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 15:34:03.826 +08:00 [INF] 请求头: traceparent = 00-085f72d03b2197b15248f3810d2b7f02-92a8dd6d73bd9542-00
2025-05-29 15:34:03.828 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 15:34:03.829 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 15:34:03.830 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 40.1622ms
2025-05-29 15:34:03.831 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 15:34:03.833 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 15:34:03.834 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 15:34:03.835 +08:00 [INF] 请求 GET /api/property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 95ms
2025-05-29 15:34:03.836 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 15:34:03.838 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 101.6706ms
2025-05-29 15:34:03.839 +08:00 [INF] 请求头: Sec-Fetch-Site = same-site
2025-05-29 15:34:03.845 +08:00 [INF] 请求头: Sec-Fetch-Mode = cors
2025-05-29 15:34:03.847 +08:00 [INF] 请求头: Sec-Fetch-Dest = empty
2025-05-29 15:34:03.849 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 15:34:03.850 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 15:34:03.852 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 15:34:03.853 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:34:03.854 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 15:34:03.856 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 15:34:03.859 +08:00 [INF] JWT Claim: jti = 3b87ca9e-b654-4c65-8cf9-695b2a17036f
2025-05-29 15:34:03.860 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 15:34:03.862 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 15:34:03.863 +08:00 [INF] JWT Claim: exp = 1748504513
2025-05-29 15:34:03.864 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 15:34:03.866 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 15:34:03.867 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 15:34:03.868 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiM2I4N2NhOWUtYjY1NC00YzY1LThjZjktNjk1YjJhMTcwMzZmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDQ1MTMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.KpchkPg0ZtNE1IY6q2OscuUoQ2ATLluubLHBxaTIZe4]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-085f72d03b2197b15248f3810d2b7f02-92a8dd6d73bd9542-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[Sec-Fetch-Site, same-site]","[Sec-Fetch-Mode, cors]","[Sec-Fetch-Dest, empty]"]
2025-05-29 15:34:03.877 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 15:34:03.878 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 15:34:03.879 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 15:34:03.883 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 15:34:03.886 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 15:34:03.889 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 15:34:03.891 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 15:34:03.894 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 15:34:03.897 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 15:34:03.899 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 15:34:03.900 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 19.848ms
2025-05-29 15:34:03.902 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 15:34:03.903 +08:00 [INF] 请求 GET /api/property/GetPropertyStats 完成，状态码: 200，耗时: 97ms
2025-05-29 15:34:03.904 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/GetPropertyStats - 200 null application/json; charset=utf-8 101.7642ms
2025-05-29 15:37:06.373 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-29 15:37:06.693 +08:00 [INF] Now listening on: https://localhost:5001
2025-05-29 15:37:07.040 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-29 15:37:07.042 +08:00 [INF] Hosting environment: Development
2025-05-29 15:37:07.044 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.PropertyService
2025-05-29 15:37:10.036 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-05-29 15:37:10.037 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-05-29 15:37:10.268 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 248.0498ms
2025-05-29 15:37:10.354 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 338.1745ms
2025-05-29 15:37:11.239 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-05-29 15:37:11.356 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 118.2676ms
2025-05-29 15:40:31.874 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-29 15:40:32.178 +08:00 [INF] Now listening on: https://localhost:5001
2025-05-29 15:40:32.302 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-29 15:40:32.305 +08:00 [INF] Hosting environment: Development
2025-05-29 15:40:32.307 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.PropertyService
2025-05-29 15:40:34.915 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-05-29 15:40:34.915 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-05-29 15:40:35.009 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 109.339ms
2025-05-29 15:40:35.089 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 190.556ms
2025-05-29 15:40:35.587 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-05-29 15:40:35.635 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 49.8215ms
2025-05-29 15:48:59.314 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-29 15:48:59.607 +08:00 [INF] Now listening on: https://localhost:5001
2025-05-29 15:48:59.747 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-29 15:48:59.750 +08:00 [INF] Hosting environment: Development
2025-05-29 15:48:59.753 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.PropertyService
2025-05-29 15:49:01.761 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-05-29 15:49:01.762 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-05-29 15:49:01.855 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 106.8356ms
2025-05-29 15:49:01.914 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 166.9736ms
2025-05-29 15:49:02.582 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-05-29 15:49:02.633 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 51.5324ms
2025-05-29 15:55:15.945 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-29 15:55:16.403 +08:00 [INF] Now listening on: https://localhost:5001
2025-05-29 15:55:16.552 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-29 15:55:16.554 +08:00 [INF] Hosting environment: Development
2025-05-29 15:55:16.555 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.PropertyService
2025-05-29 15:55:18.106 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-05-29 15:55:18.135 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 42.7744ms
2025-05-29 15:55:18.382 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-05-29 15:55:18.668 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 293.9505ms
2025-05-29 15:55:19.060 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-05-29 15:55:19.124 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 64.3124ms
2025-05-29 16:05:11.875 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-29 16:05:12.150 +08:00 [INF] Now listening on: https://localhost:5001
2025-05-29 16:05:12.281 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-29 16:05:12.284 +08:00 [INF] Hosting environment: Development
2025-05-29 16:05:12.285 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.PropertyService
2025-05-29 16:05:13.449 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-05-29 16:05:13.510 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 70.4935ms
2025-05-29 16:05:14.185 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-05-29 16:05:14.333 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 148.8128ms
2025-05-29 16:05:14.492 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-05-29 16:05:14.540 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 49.3719ms
2025-05-29 16:08:30.280 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-29 16:08:30.575 +08:00 [INF] Now listening on: https://localhost:5001
2025-05-29 16:08:30.689 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-29 16:08:30.692 +08:00 [INF] Hosting environment: Development
2025-05-29 16:08:30.693 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.PropertyService
2025-05-29 16:08:32.848 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-05-29 16:08:32.888 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 50.6834ms
2025-05-29 16:08:32.942 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-05-29 16:08:33.072 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 131.3821ms
2025-05-29 16:08:33.382 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-05-29 16:08:33.430 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 48.4692ms
2025-05-29 16:17:45.267 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-29 16:17:45.416 +08:00 [INF] Now listening on: https://localhost:5001
2025-05-29 16:17:45.421 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-29 16:17:45.424 +08:00 [INF] Hosting environment: Development
2025-05-29 16:17:45.425 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.PropertyService
2025-05-29 16:18:05.995 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/health - null null
2025-05-29 16:18:06.022 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 16:18:06.025 +08:00 [INF] 请求路径: /health
2025-05-29 16:18:06.026 +08:00 [INF] 请求方法: GET
2025-05-29 16:18:06.028 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 16:18:06.031 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 16:18:06.032 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell/5.1.26100.2161
2025-05-29 16:18:06.034 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 16:18:06.035 +08:00 [INF] 未检测到Authorization头部
2025-05-29 16:18:06.035 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 16:18:06.039 +08:00 [INF] 接收请求头：["[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT; Windows NT 10.0; zh-CN) WindowsPowerShell/5.1.26100.2161]"]
2025-05-29 16:18:06.075 +08:00 [INF] Executing endpoint 'Health checks'
2025-05-29 16:18:06.886 +08:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-05-29 16:18:06.965 +08:00 [INF] Executed endpoint 'Health checks'
2025-05-29 16:18:06.969 +08:00 [INF] 请求 GET /health 完成，状态码: 200，耗时: 954ms
2025-05-29 16:18:06.975 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/health - 200 null application/json; charset=utf-8 981.2828ms
2025-05-29 16:19:07.625 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-29 16:19:07.950 +08:00 [INF] Now listening on: https://localhost:5001
2025-05-29 16:19:08.048 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-29 16:19:08.051 +08:00 [INF] Hosting environment: Development
2025-05-29 16:19:08.053 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.PropertyService
2025-05-29 16:19:09.329 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-05-29 16:19:09.378 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 59.8681ms
2025-05-29 16:19:09.705 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-05-29 16:19:09.831 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 126.4487ms
2025-05-29 16:19:09.990 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-05-29 16:19:10.036 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 46.7947ms
2025-05-29 16:29:16.965 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/1 - null 0
2025-05-29 16:29:17.004 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 16:29:17.006 +08:00 [INF] 请求路径: /api/property/1
2025-05-29 16:29:17.007 +08:00 [INF] 请求方法: GET
2025-05-29 16:29:17.008 +08:00 [INF] 请求头: Accept = */*
2025-05-29 16:29:17.009 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 16:29:17.010 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 16:29:17.011 +08:00 [INF] 请求头: User-Agent = Apifox/1.0.0 (https://apifox.com)
2025-05-29 16:29:17.012 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br
2025-05-29 16:29:17.013 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNjMxYWVjMGMtNjQxNi00ODk5LWFkMTMtZDNjMmIzMzYxNGQwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDc2MzEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.2qIR--T4yeNMIxAdd52CZapZD0MRqf0joptOlJt5OOg
2025-05-29 16:29:17.014 +08:00 [INF] 请求头: traceparent = 00-8ee6f5a820339024ca07feb5fb4259d6-af5c294708e16fb8-00
2025-05-29 16:29:17.014 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 16:29:17.015 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 16:29:17.016 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 16:29:17.051 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 16:29:17.052 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 16:29:17.053 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 16:29:17.054 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 16:29:17.055 +08:00 [INF] JWT Claim: jti = 631aec0c-6416-4899-ad13-d3c2b33614d0
2025-05-29 16:29:17.055 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 16:29:17.056 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 16:29:17.057 +08:00 [INF] JWT Claim: exp = 1748507631
2025-05-29 16:29:17.058 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 16:29:17.059 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 16:29:17.060 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 16:29:17.064 +08:00 [INF] 接收请求头：["[Accept, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Apifox/1.0.0 (https://apifox.com)]","[Accept-Encoding, gzip, deflate, br]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNjMxYWVjMGMtNjQxNi00ODk5LWFkMTMtZDNjMmIzMzYxNGQwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDc2MzEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.2qIR--T4yeNMIxAdd52CZapZD0MRqf0joptOlJt5OOg]","[traceparent, 00-8ee6f5a820339024ca07feb5fb4259d6-af5c294708e16fb8-00]","[Content-Length, 0]"]
2025-05-29 16:29:17.126 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 16:29:17.144 +08:00 [INF] 请求 GET /api/property/1 完成，状态码: 404，耗时: 169ms
2025-05-29 16:29:17.154 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/1 - 404 0 null 190.5464ms
2025-05-29 16:29:17.162 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5001/api/property/1, Response status code: 404
2025-05-29 16:29:24.779 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/property/1 - null 0
2025-05-29 16:29:24.783 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 16:29:24.784 +08:00 [INF] 请求路径: /api/property/1
2025-05-29 16:29:24.785 +08:00 [INF] 请求方法: GET
2025-05-29 16:29:24.786 +08:00 [INF] 请求头: Accept = */*
2025-05-29 16:29:24.787 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 16:29:24.788 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 16:29:24.789 +08:00 [INF] 请求头: User-Agent = Apifox/1.0.0 (https://apifox.com)
2025-05-29 16:29:24.790 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br
2025-05-29 16:29:24.791 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNjMxYWVjMGMtNjQxNi00ODk5LWFkMTMtZDNjMmIzMzYxNGQwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDc2MzEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.2qIR--T4yeNMIxAdd52CZapZD0MRqf0joptOlJt5OOg
2025-05-29 16:29:24.792 +08:00 [INF] 请求头: traceparent = 00-52ece148390f743a2ed010e7fb80e87a-42f39c0118f045df-00
2025-05-29 16:29:24.793 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 16:29:24.794 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 16:29:24.795 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 16:29:24.796 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 16:29:24.797 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 16:29:24.798 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 16:29:24.800 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 16:29:24.801 +08:00 [INF] JWT Claim: jti = 631aec0c-6416-4899-ad13-d3c2b33614d0
2025-05-29 16:29:24.802 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 16:29:24.803 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 16:29:24.804 +08:00 [INF] JWT Claim: exp = 1748507631
2025-05-29 16:29:24.805 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 16:29:24.806 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 16:29:24.807 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 16:29:24.808 +08:00 [INF] 接收请求头：["[Accept, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Apifox/1.0.0 (https://apifox.com)]","[Accept-Encoding, gzip, deflate, br]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNjMxYWVjMGMtNjQxNi00ODk5LWFkMTMtZDNjMmIzMzYxNGQwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDc2MzEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.2qIR--T4yeNMIxAdd52CZapZD0MRqf0joptOlJt5OOg]","[traceparent, 00-52ece148390f743a2ed010e7fb80e87a-42f39c0118f045df-00]","[Content-Length, 0]"]
2025-05-29 16:29:24.812 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 16:29:24.815 +08:00 [INF] 请求 GET /api/property/1 完成，状态码: 404，耗时: 31ms
2025-05-29 16:29:24.817 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/property/1 - 404 0 null 37.7772ms
2025-05-29 16:29:24.821 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5001/api/property/1, Response status code: 404
2025-05-29 16:30:03.191 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Property/GetProperty/1 - null null
2025-05-29 16:30:03.199 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 16:30:03.200 +08:00 [INF] 请求路径: /api/Property/GetProperty/1
2025-05-29 16:30:03.201 +08:00 [INF] 请求方法: GET
2025-05-29 16:30:03.203 +08:00 [INF] 请求头: Accept = text/plain
2025-05-29 16:30:03.204 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 16:30:03.205 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 16:30:03.207 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 16:30:03.208 +08:00 [INF] 请求头: Accept-Language = zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6
2025-05-29 16:30:03.209 +08:00 [INF] 请求头: Referer = https://localhost:5001/swagger/index.html
2025-05-29 16:30:03.211 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 16:30:03.212 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 16:30:03.213 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 16:30:03.214 +08:00 [INF] 请求头: sec-fetch-site = same-origin
2025-05-29 16:30:03.215 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 16:30:03.216 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 16:30:03.217 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 16:30:03.218 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 16:30:03.218 +08:00 [INF] 未检测到Authorization头部
2025-05-29 16:30:03.219 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 16:30:03.220 +08:00 [INF] 接收请求头：["[Accept, text/plain]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6]","[Referer, https://localhost:5001/swagger/index.html]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, same-origin]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 16:30:03.233 +08:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-05-29 16:30:03.236 +08:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-05-29 16:30:03.237 +08:00 [INF] 请求 GET /api/Property/GetProperty/1 完成，状态码: 401，耗时: 38ms
2025-05-29 16:30:03.239 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Property/GetProperty/1 - 401 0 null 49.8938ms
2025-05-29 16:30:16.279 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperty/1 - null 0
2025-05-29 16:30:16.282 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 16:30:16.283 +08:00 [INF] 请求路径: /api/Property/GetProperty/1
2025-05-29 16:30:16.284 +08:00 [INF] 请求方法: GET
2025-05-29 16:30:16.285 +08:00 [INF] 请求头: Accept = */*
2025-05-29 16:30:16.287 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 16:30:16.288 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 16:30:16.289 +08:00 [INF] 请求头: User-Agent = Apifox/1.0.0 (https://apifox.com)
2025-05-29 16:30:16.291 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br
2025-05-29 16:30:16.292 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNjMxYWVjMGMtNjQxNi00ODk5LWFkMTMtZDNjMmIzMzYxNGQwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDc2MzEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.2qIR--T4yeNMIxAdd52CZapZD0MRqf0joptOlJt5OOg
2025-05-29 16:30:16.294 +08:00 [INF] 请求头: traceparent = 00-93ad4cf4ef36f9973e853fb669654720-fa1e830a4a81105e-00
2025-05-29 16:30:16.295 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 16:30:16.297 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 16:30:16.298 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 16:30:16.299 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 16:30:16.300 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 16:30:16.301 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 16:30:16.303 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 16:30:16.304 +08:00 [INF] JWT Claim: jti = 631aec0c-6416-4899-ad13-d3c2b33614d0
2025-05-29 16:30:16.306 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 16:30:16.307 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 16:30:16.308 +08:00 [INF] JWT Claim: exp = 1748507631
2025-05-29 16:30:16.310 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 16:30:16.311 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 16:30:16.313 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 16:30:16.314 +08:00 [INF] 接收请求头：["[Accept, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Apifox/1.0.0 (https://apifox.com)]","[Accept-Encoding, gzip, deflate, br]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNjMxYWVjMGMtNjQxNi00ODk5LWFkMTMtZDNjMmIzMzYxNGQwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDc2MzEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.2qIR--T4yeNMIxAdd52CZapZD0MRqf0joptOlJt5OOg]","[traceparent, 00-93ad4cf4ef36f9973e853fb669654720-fa1e830a4a81105e-00]","[Content-Length, 0]"]
2025-05-29 16:30:16.318 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 16:30:16.323 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperty (RealEstateSolution.PropertyService)'
2025-05-29 16:30:16.364 +08:00 [INF] Route matched with {action = "GetProperty", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Database.Models.Property]] GetProperty(Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 16:30:18.080 +08:00 [INF] Executed DbCommand (54ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
WHERE [p].[Id] = @__p_0
2025-05-29 16:30:18.163 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 16:30:18.200 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperty (RealEstateSolution.PropertyService) in 1830.3166ms
2025-05-29 16:30:18.203 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperty (RealEstateSolution.PropertyService)'
2025-05-29 16:30:18.205 +08:00 [INF] 请求 GET /api/Property/GetProperty/1 完成，状态码: 200，耗时: 1922ms
2025-05-29 16:30:18.212 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperty/1 - 200 null application/json; charset=utf-8 1933.5435ms
2025-05-29 16:34:44.691 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-29 16:34:44.999 +08:00 [INF] Now listening on: https://localhost:5001
2025-05-29 16:34:45.082 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-29 16:34:45.085 +08:00 [INF] Hosting environment: Development
2025-05-29 16:34:45.086 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.PropertyService
2025-05-29 16:34:47.270 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-05-29 16:34:47.270 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-05-29 16:34:47.334 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 73.414ms
2025-05-29 16:34:47.402 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 144.804ms
2025-05-29 16:34:48.019 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-05-29 16:34:48.139 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 121.3693ms
2025-05-29 16:35:21.822 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2025-05-29 16:35:22.063 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 242.6116ms
2025-05-29 16:35:22.208 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-05-29 16:35:22.213 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-05-29 16:35:22.225 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 12.8261ms
2025-05-29 16:35:22.250 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 41.8349ms
2025-05-29 16:35:23.548 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-05-29 16:35:23.591 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 43.4766ms
2025-05-29 16:35:23.782 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/favicon-32x32.png - null null
2025-05-29 16:35:23.813 +08:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-05-29 16:35:23.817 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/favicon-32x32.png - 200 628 image/png 36.1737ms
2025-05-29 16:35:36.377 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperty/1 - null 0
2025-05-29 16:35:36.429 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 16:35:36.431 +08:00 [INF] 请求路径: /api/Property/GetProperty/1
2025-05-29 16:35:36.433 +08:00 [INF] 请求方法: GET
2025-05-29 16:35:36.434 +08:00 [INF] 请求头: Accept = */*
2025-05-29 16:35:36.435 +08:00 [INF] 请求头: Connection = keep-alive
2025-05-29 16:35:36.436 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 16:35:36.437 +08:00 [INF] 请求头: User-Agent = Apifox/1.0.0 (https://apifox.com)
2025-05-29 16:35:36.438 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br
2025-05-29 16:35:36.440 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOGRiNWM1NWYtZDNjOC00ZjUyLWI3MGYtZDI0NDdkZWJmNjYzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDgzMjAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.TTHOfD2hg2lhyM3Qqpesk4tQDBXnesHA3x_84s5hxZ4
2025-05-29 16:35:36.441 +08:00 [INF] 请求头: traceparent = 00-16c25ec716a743dba18636fe6dedc69a-65dade14cf3b1581-00
2025-05-29 16:35:36.442 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 16:35:36.443 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 16:35:36.444 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 16:35:36.487 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 16:35:36.488 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 16:35:36.489 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 16:35:36.490 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 16:35:36.491 +08:00 [INF] JWT Claim: jti = 8db5c55f-d3c8-4f52-b70f-d2447debf663
2025-05-29 16:35:36.492 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 16:35:36.493 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 16:35:36.494 +08:00 [INF] JWT Claim: exp = 1748508320
2025-05-29 16:35:36.495 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 16:35:36.495 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 16:35:36.496 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 16:35:36.499 +08:00 [INF] 接收请求头：["[Accept, */*]","[Connection, keep-alive]","[Host, localhost:5001]","[User-Agent, Apifox/1.0.0 (https://apifox.com)]","[Accept-Encoding, gzip, deflate, br]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOGRiNWM1NWYtZDNjOC00ZjUyLWI3MGYtZDI0NDdkZWJmNjYzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MDgzMjAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.TTHOfD2hg2lhyM3Qqpesk4tQDBXnesHA3x_84s5hxZ4]","[traceparent, 00-16c25ec716a743dba18636fe6dedc69a-65dade14cf3b1581-00]","[Content-Length, 0]"]
2025-05-29 16:35:36.579 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 16:35:36.602 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperty (RealEstateSolution.PropertyService)'
2025-05-29 16:35:36.631 +08:00 [INF] Route matched with {action = "GetProperty", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Database.Models.Property]] GetProperty(Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 16:35:38.321 +08:00 [INF] Executed DbCommand (54ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
WHERE [p].[Id] = @__p_0
2025-05-29 16:35:38.403 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 16:35:38.426 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperty (RealEstateSolution.PropertyService) in 1789.5888ms
2025-05-29 16:35:38.428 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperty (RealEstateSolution.PropertyService)'
2025-05-29 16:35:38.430 +08:00 [INF] 请求 GET /api/Property/GetProperty/1 完成，状态码: 200，耗时: 2047ms
2025-05-29 16:35:38.439 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperty/1 - 200 null application/json; charset=utf-8 2062.5528ms
2025-05-29 16:36:03.301 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-29 16:36:03.643 +08:00 [INF] Now listening on: https://localhost:5001
2025-05-29 16:36:03.748 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-29 16:36:03.750 +08:00 [INF] Hosting environment: Development
2025-05-29 16:36:03.752 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.PropertyService
2025-05-29 16:36:05.727 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-05-29 16:36:05.727 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-05-29 16:36:05.797 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 81.9338ms
2025-05-29 16:36:05.855 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 128.5244ms
2025-05-29 16:36:06.548 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-05-29 16:36:06.636 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 88.0538ms
2025-05-29 16:53:51.812 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-29 16:53:52.131 +08:00 [INF] Now listening on: https://localhost:5001
2025-05-29 16:53:52.224 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-29 16:53:52.226 +08:00 [INF] Hosting environment: Development
2025-05-29 16:53:52.227 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.PropertyService
2025-05-29 16:53:53.221 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-05-29 16:53:53.252 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 41.6203ms
2025-05-29 16:53:53.392 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-05-29 16:53:53.490 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 98.4137ms
2025-05-29 16:53:53.614 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-05-29 16:53:53.657 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 43.9597ms
2025-05-29 16:56:50.899 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-29 16:56:51.204 +08:00 [INF] Now listening on: https://localhost:5001
2025-05-29 16:56:51.294 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-29 16:56:51.296 +08:00 [INF] Hosting environment: Development
2025-05-29 16:56:51.298 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.PropertyService
2025-05-29 16:56:52.163 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-05-29 16:56:52.198 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 45.2005ms
2025-05-29 16:56:52.538 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-05-29 16:56:52.768 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 230.7423ms
2025-05-29 16:56:53.200 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-05-29 16:56:53.247 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 47.543ms
2025-05-29 17:17:22.431 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-29 17:17:22.736 +08:00 [INF] Now listening on: https://localhost:5001
2025-05-29 17:17:22.817 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-29 17:17:22.818 +08:00 [INF] Hosting environment: Development
2025-05-29 17:17:22.819 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.PropertyService
2025-05-29 17:17:25.179 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-05-29 17:17:25.180 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-05-29 17:17:25.251 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 88.6576ms
2025-05-29 17:17:25.328 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 166.4424ms
2025-05-29 17:17:25.679 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-05-29 17:17:25.711 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 32.2874ms
2025-05-29 17:48:39.924 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-05-29 17:48:39.940 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 18.1822ms
2025-05-29 17:48:40.167 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-05-29 17:48:40.205 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 37.8463ms
2025-05-29 17:56:06.078 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 17:56:06.078 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 17:56:06.145 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 17:56:06.145 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 17:56:06.147 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 17:56:06.147 +08:00 [INF] 请求路径: /api/Property/QueryProperties
2025-05-29 17:56:06.148 +08:00 [INF] 请求方法: GET
2025-05-29 17:56:06.149 +08:00 [INF] 请求方法: GET
2025-05-29 17:56:06.150 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 17:56:06.150 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 17:56:06.151 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 17:56:06.152 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 17:56:06.153 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 17:56:06.154 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 17:56:06.155 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 17:56:06.156 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 17:56:06.157 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 17:56:06.158 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 17:56:06.159 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNWU4NWFmZjgtODFjZC00ODlmLWI5MWMtNmUzOWVmYjU0MTdjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMxNjQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.bVW6NSGF3dDXSmPdFeamfN0Nld639tR4AQImXiTFytM
2025-05-29 17:56:06.160 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNWU4NWFmZjgtODFjZC00ODlmLWI5MWMtNmUzOWVmYjU0MTdjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMxNjQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.bVW6NSGF3dDXSmPdFeamfN0Nld639tR4AQImXiTFytM
2025-05-29 17:56:06.161 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 17:56:06.162 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 17:56:06.162 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 17:56:06.164 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 17:56:06.165 +08:00 [INF] 请求头: traceparent = 00-db98cd11095ab0da310c6047c54b35a8-538191a4dbc5a979-00
2025-05-29 17:56:06.166 +08:00 [INF] 请求头: traceparent = 00-41db7c32da771d0bb0250ab0572dbf87-3db3a417365e9155-00
2025-05-29 17:56:06.166 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 17:56:06.167 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 17:56:06.168 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 17:56:06.169 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 17:56:06.170 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 17:56:06.172 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 17:56:06.171 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 17:56:06.173 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 17:56:06.174 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 17:56:06.175 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 17:56:06.176 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 17:56:06.177 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 17:56:06.178 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 17:56:06.179 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 17:56:06.180 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 17:56:06.182 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 17:56:06.182 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 17:56:06.183 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 17:56:06.184 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 17:56:06.185 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 17:56:06.229 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 17:56:06.229 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 17:56:06.230 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 17:56:06.230 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 17:56:06.231 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 17:56:06.232 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 17:56:06.233 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 17:56:06.234 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 17:56:06.235 +08:00 [INF] JWT Claim: jti = 5e85aff8-81cd-489f-b91c-6e39efb5417c
2025-05-29 17:56:06.236 +08:00 [INF] JWT Claim: jti = 5e85aff8-81cd-489f-b91c-6e39efb5417c
2025-05-29 17:56:06.237 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 17:56:06.237 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 17:56:06.238 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 17:56:06.239 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 17:56:06.240 +08:00 [INF] JWT Claim: exp = 1748513164
2025-05-29 17:56:06.241 +08:00 [INF] JWT Claim: exp = 1748513164
2025-05-29 17:56:06.242 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 17:56:06.243 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 17:56:06.244 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 17:56:06.245 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 17:56:06.245 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 17:56:06.246 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 17:56:06.250 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNWU4NWFmZjgtODFjZC00ODlmLWI5MWMtNmUzOWVmYjU0MTdjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMxNjQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.bVW6NSGF3dDXSmPdFeamfN0Nld639tR4AQImXiTFytM]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-db98cd11095ab0da310c6047c54b35a8-538191a4dbc5a979-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 17:56:06.250 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNWU4NWFmZjgtODFjZC00ODlmLWI5MWMtNmUzOWVmYjU0MTdjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMxNjQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.bVW6NSGF3dDXSmPdFeamfN0Nld639tR4AQImXiTFytM]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-41db7c32da771d0bb0250ab0572dbf87-3db3a417365e9155-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 17:56:06.342 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 17:56:06.342 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 17:56:06.369 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 17:56:06.369 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 17:56:06.391 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 17:56:06.393 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 17:56:07.868 +08:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 17:56:07.868 +08:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 17:56:07.922 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 17:56:07.927 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 17:56:07.931 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 17:56:07.936 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 17:56:07.971 +08:00 [INF] Executed DbCommand (34ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 17:56:07.982 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 17:56:07.995 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 17:56:08.015 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 1619.3016ms
2025-05-29 17:56:08.017 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 17:56:08.020 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 1933ms
2025-05-29 17:56:08.028 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 1951.7411ms
2025-05-29 17:56:08.042 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 17:56:08.074 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 1679.0511ms
2025-05-29 17:56:08.077 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 17:56:08.078 +08:00 [INF] 请求 GET /api/Property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 1991ms
2025-05-29 17:56:08.081 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 2004.9401ms
2025-05-29 17:56:25.464 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 17:56:25.468 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 17:56:25.469 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 17:56:25.470 +08:00 [INF] 请求方法: GET
2025-05-29 17:56:25.471 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 17:56:25.472 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 17:56:25.474 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 17:56:25.475 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 17:56:25.476 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 17:56:25.477 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNWU4NWFmZjgtODFjZC00ODlmLWI5MWMtNmUzOWVmYjU0MTdjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMxNjQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.bVW6NSGF3dDXSmPdFeamfN0Nld639tR4AQImXiTFytM
2025-05-29 17:56:25.478 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 17:56:25.479 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 17:56:25.481 +08:00 [INF] 请求头: traceparent = 00-fe8e0fcdc68de55453c06054491df472-738007b7ec1af742-00
2025-05-29 17:56:25.482 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 17:56:25.484 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 17:56:25.485 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 17:56:25.486 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 17:56:25.487 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 17:56:25.489 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 17:56:25.490 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 17:56:25.491 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 17:56:25.493 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 17:56:25.494 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 17:56:25.495 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 17:56:25.495 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 17:56:25.497 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 17:56:25.498 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 17:56:25.499 +08:00 [INF] JWT Claim: jti = 5e85aff8-81cd-489f-b91c-6e39efb5417c
2025-05-29 17:56:25.500 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 17:56:25.501 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 17:56:25.503 +08:00 [INF] JWT Claim: exp = 1748513164
2025-05-29 17:56:25.504 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 17:56:25.505 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 17:56:25.507 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 17:56:25.508 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNWU4NWFmZjgtODFjZC00ODlmLWI5MWMtNmUzOWVmYjU0MTdjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMxNjQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.bVW6NSGF3dDXSmPdFeamfN0Nld639tR4AQImXiTFytM]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-fe8e0fcdc68de55453c06054491df472-738007b7ec1af742-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 17:56:25.517 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 17:56:25.520 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 17:56:25.522 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 17:56:25.571 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 17:56:25.577 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 17:56:25.581 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 17:56:25.585 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 17:56:25.588 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 17:56:25.593 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 17:56:25.596 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 17:56:25.598 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 73.721ms
2025-05-29 17:56:25.600 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 17:56:25.601 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 133ms
2025-05-29 17:56:25.604 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 139.8919ms
2025-05-29 17:56:25.608 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 17:56:25.612 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 17:56:25.613 +08:00 [INF] 请求路径: /api/Property/QueryProperties
2025-05-29 17:56:25.614 +08:00 [INF] 请求方法: GET
2025-05-29 17:56:25.616 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 17:56:25.617 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 17:56:25.619 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 17:56:25.620 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 17:56:25.622 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 17:56:25.624 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNWU4NWFmZjgtODFjZC00ODlmLWI5MWMtNmUzOWVmYjU0MTdjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMxNjQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.bVW6NSGF3dDXSmPdFeamfN0Nld639tR4AQImXiTFytM
2025-05-29 17:56:25.626 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 17:56:25.627 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 17:56:25.628 +08:00 [INF] 请求头: traceparent = 00-5b8272c210a4749f6d2fdf559e2c2449-9a31dcdb61c38aad-00
2025-05-29 17:56:25.629 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 17:56:25.630 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 17:56:25.632 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 17:56:25.633 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 17:56:25.634 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 17:56:25.635 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 17:56:25.636 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 17:56:25.637 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 17:56:25.638 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 17:56:25.639 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 17:56:25.640 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 17:56:25.641 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 17:56:25.642 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 17:56:25.643 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 17:56:25.644 +08:00 [INF] JWT Claim: jti = 5e85aff8-81cd-489f-b91c-6e39efb5417c
2025-05-29 17:56:25.645 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 17:56:25.646 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 17:56:25.647 +08:00 [INF] JWT Claim: exp = 1748513164
2025-05-29 17:56:25.649 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 17:56:25.650 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 17:56:25.651 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 17:56:25.652 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNWU4NWFmZjgtODFjZC00ODlmLWI5MWMtNmUzOWVmYjU0MTdjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMxNjQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.bVW6NSGF3dDXSmPdFeamfN0Nld639tR4AQImXiTFytM]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-5b8272c210a4749f6d2fdf559e2c2449-9a31dcdb61c38aad-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 17:56:25.658 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 17:56:25.659 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 17:56:25.660 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 17:56:25.665 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 17:56:25.669 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 17:56:25.672 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 17:56:25.674 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 11.6279ms
2025-05-29 17:56:25.675 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 17:56:25.676 +08:00 [INF] 请求 GET /api/Property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 63ms
2025-05-29 17:56:25.678 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 70.1482ms
2025-05-29 17:56:28.143 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 17:56:28.145 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 17:56:28.146 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 17:56:28.147 +08:00 [INF] 请求方法: GET
2025-05-29 17:56:28.148 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 17:56:28.149 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 17:56:28.150 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 17:56:28.151 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 17:56:28.152 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 17:56:28.153 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNWU4NWFmZjgtODFjZC00ODlmLWI5MWMtNmUzOWVmYjU0MTdjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMxNjQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.bVW6NSGF3dDXSmPdFeamfN0Nld639tR4AQImXiTFytM
2025-05-29 17:56:28.154 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 17:56:28.155 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 17:56:28.156 +08:00 [INF] 请求头: traceparent = 00-15291834803ea25c939c8188397781f3-c17012655cc11814-00
2025-05-29 17:56:28.157 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 17:56:28.158 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 17:56:28.159 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 17:56:28.160 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 17:56:28.161 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 17:56:28.162 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 17:56:28.163 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 17:56:28.165 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 17:56:28.166 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 17:56:28.166 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 17:56:28.167 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 17:56:28.168 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 17:56:28.169 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 17:56:28.169 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 17:56:28.170 +08:00 [INF] JWT Claim: jti = 5e85aff8-81cd-489f-b91c-6e39efb5417c
2025-05-29 17:56:28.171 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 17:56:28.172 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 17:56:28.173 +08:00 [INF] JWT Claim: exp = 1748513164
2025-05-29 17:56:28.174 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 17:56:28.175 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 17:56:28.176 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 17:56:28.177 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNWU4NWFmZjgtODFjZC00ODlmLWI5MWMtNmUzOWVmYjU0MTdjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMxNjQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.bVW6NSGF3dDXSmPdFeamfN0Nld639tR4AQImXiTFytM]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-15291834803ea25c939c8188397781f3-c17012655cc11814-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 17:56:28.183 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 17:56:28.184 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 17:56:28.185 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 17:56:28.195 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 17:56:28.200 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 17:56:28.203 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 17:56:28.205 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 17:56:28.208 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 17:56:28.214 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 17:56:28.216 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 17:56:28.217 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 30.5106ms
2025-05-29 17:56:28.218 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 17:56:28.219 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 73ms
2025-05-29 17:56:28.221 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 77.9186ms
2025-05-29 17:56:32.683 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 17:56:32.687 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 17:56:32.688 +08:00 [INF] 请求路径: /api/Property/QueryProperties
2025-05-29 17:56:32.689 +08:00 [INF] 请求方法: GET
2025-05-29 17:56:32.690 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 17:56:32.692 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 17:56:32.693 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 17:56:32.694 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 17:56:32.695 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 17:56:32.696 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNWU4NWFmZjgtODFjZC00ODlmLWI5MWMtNmUzOWVmYjU0MTdjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMxNjQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.bVW6NSGF3dDXSmPdFeamfN0Nld639tR4AQImXiTFytM
2025-05-29 17:56:32.698 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 17:56:32.700 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 17:56:32.701 +08:00 [INF] 请求头: traceparent = 00-0ed2fc16318c700fdf36e21437a63318-670b4b805fa99685-00
2025-05-29 17:56:32.702 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 17:56:32.703 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 17:56:32.704 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 17:56:32.706 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 17:56:32.707 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 17:56:32.709 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 17:56:32.710 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 17:56:32.711 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 17:56:32.712 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 17:56:32.713 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 17:56:32.714 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 17:56:32.715 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 17:56:32.717 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 17:56:32.718 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 17:56:32.720 +08:00 [INF] JWT Claim: jti = 5e85aff8-81cd-489f-b91c-6e39efb5417c
2025-05-29 17:56:32.721 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 17:56:32.722 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 17:56:32.724 +08:00 [INF] JWT Claim: exp = 1748513164
2025-05-29 17:56:32.726 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 17:56:32.727 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 17:56:32.728 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 17:56:32.729 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNWU4NWFmZjgtODFjZC00ODlmLWI5MWMtNmUzOWVmYjU0MTdjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMxNjQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.bVW6NSGF3dDXSmPdFeamfN0Nld639tR4AQImXiTFytM]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-0ed2fc16318c700fdf36e21437a63318-670b4b805fa99685-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 17:56:32.738 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 17:56:32.740 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 17:56:32.741 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 17:56:32.750 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 17:56:32.754 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 17:56:32.758 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 17:56:32.760 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 16.1664ms
2025-05-29 17:56:32.761 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 17:56:32.763 +08:00 [INF] 请求 GET /api/Property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 75ms
2025-05-29 17:56:32.765 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 82.2843ms
2025-05-29 17:56:32.860 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 17:56:32.863 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 17:56:32.863 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 17:56:32.865 +08:00 [INF] 请求方法: GET
2025-05-29 17:56:32.865 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 17:56:32.866 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 17:56:32.868 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 17:56:32.869 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 17:56:32.870 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 17:56:32.871 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNWU4NWFmZjgtODFjZC00ODlmLWI5MWMtNmUzOWVmYjU0MTdjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMxNjQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.bVW6NSGF3dDXSmPdFeamfN0Nld639tR4AQImXiTFytM
2025-05-29 17:56:32.872 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 17:56:32.873 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 17:56:32.874 +08:00 [INF] 请求头: traceparent = 00-971a16d5fc4461ce385f0e6e1e2a1e24-3abbac8a7ca7c257-00
2025-05-29 17:56:32.875 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 17:56:32.876 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 17:56:32.877 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 17:56:32.878 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 17:56:32.879 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 17:56:32.881 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 17:56:32.882 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 17:56:32.883 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 17:56:32.884 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 17:56:32.885 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 17:56:32.886 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 17:56:32.887 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 17:56:32.888 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 17:56:32.890 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 17:56:32.891 +08:00 [INF] JWT Claim: jti = 5e85aff8-81cd-489f-b91c-6e39efb5417c
2025-05-29 17:56:32.892 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 17:56:32.893 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 17:56:32.894 +08:00 [INF] JWT Claim: exp = 1748513164
2025-05-29 17:56:32.895 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 17:56:32.896 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 17:56:32.898 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 17:56:32.899 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNWU4NWFmZjgtODFjZC00ODlmLWI5MWMtNmUzOWVmYjU0MTdjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMxNjQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.bVW6NSGF3dDXSmPdFeamfN0Nld639tR4AQImXiTFytM]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-971a16d5fc4461ce385f0e6e1e2a1e24-3abbac8a7ca7c257-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 17:56:32.907 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 17:56:32.908 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 17:56:32.909 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 17:56:32.913 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 17:56:32.919 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 17:56:32.922 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 17:56:32.926 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 17:56:32.929 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 17:56:32.934 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 17:56:32.936 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 17:56:32.938 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 26.7151ms
2025-05-29 17:56:32.939 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 17:56:32.940 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 77ms
2025-05-29 17:56:32.943 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 82.6403ms
2025-05-29 17:57:31.203 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 17:57:31.207 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 17:57:31.208 +08:00 [INF] 请求路径: /api/Property/QueryProperties
2025-05-29 17:57:31.208 +08:00 [INF] 请求方法: GET
2025-05-29 17:57:31.209 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 17:57:31.210 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 17:57:31.211 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 17:57:31.212 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 17:57:31.214 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 17:57:31.215 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNWU4NWFmZjgtODFjZC00ODlmLWI5MWMtNmUzOWVmYjU0MTdjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMxNjQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.bVW6NSGF3dDXSmPdFeamfN0Nld639tR4AQImXiTFytM
2025-05-29 17:57:31.216 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 17:57:31.218 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 17:57:31.219 +08:00 [INF] 请求头: traceparent = 00-658174792675486d076f764b1d8de023-582001489c4a5e04-00
2025-05-29 17:57:31.220 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 17:57:31.221 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 17:57:31.222 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 17:57:31.223 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 17:57:31.226 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 17:57:31.228 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 17:57:31.229 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 17:57:31.230 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 17:57:31.231 +08:00 [INF] 请求方法: GET
2025-05-29 17:57:31.233 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 17:57:31.234 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 17:57:31.236 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 17:57:31.237 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 17:57:31.239 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 17:57:31.240 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 17:57:31.242 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 17:57:31.243 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 17:57:31.244 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 17:57:31.246 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 17:57:31.247 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 17:57:31.249 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNWU4NWFmZjgtODFjZC00ODlmLWI5MWMtNmUzOWVmYjU0MTdjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMxNjQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.bVW6NSGF3dDXSmPdFeamfN0Nld639tR4AQImXiTFytM
2025-05-29 17:57:31.250 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 17:57:31.252 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 17:57:31.253 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 17:57:31.255 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 17:57:31.256 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 17:57:31.257 +08:00 [INF] 请求头: traceparent = 00-2f6ab86b9db4cf6800a70d82dcd27ade-46516511aafbd949-00
2025-05-29 17:57:31.259 +08:00 [INF] JWT Claim: jti = 5e85aff8-81cd-489f-b91c-6e39efb5417c
2025-05-29 17:57:31.260 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 17:57:31.261 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 17:57:31.262 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 17:57:31.264 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 17:57:31.265 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 17:57:31.267 +08:00 [INF] JWT Claim: exp = 1748513164
2025-05-29 17:57:31.268 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 17:57:31.270 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 17:57:31.271 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 17:57:31.272 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 17:57:31.274 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 17:57:31.275 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 17:57:31.276 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 17:57:31.277 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNWU4NWFmZjgtODFjZC00ODlmLWI5MWMtNmUzOWVmYjU0MTdjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMxNjQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.bVW6NSGF3dDXSmPdFeamfN0Nld639tR4AQImXiTFytM]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-658174792675486d076f764b1d8de023-582001489c4a5e04-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 17:57:31.278 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 17:57:31.286 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 17:57:31.287 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 17:57:31.289 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 17:57:31.289 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 17:57:31.290 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 17:57:31.291 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 17:57:31.294 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 17:57:31.296 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 17:57:31.298 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 17:57:31.298 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 17:57:31.302 +08:00 [INF] JWT Claim: jti = 5e85aff8-81cd-489f-b91c-6e39efb5417c
2025-05-29 17:57:31.303 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 17:57:31.304 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 17:57:31.308 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 17:57:31.308 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 17:57:31.310 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 17.0379ms
2025-05-29 17:57:31.311 +08:00 [INF] JWT Claim: exp = 1748513164
2025-05-29 17:57:31.312 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 17:57:31.314 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 17:57:31.315 +08:00 [INF] 请求 GET /api/Property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 108ms
2025-05-29 17:57:31.316 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 17:57:31.318 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 115.5427ms
2025-05-29 17:57:31.319 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 17:57:31.326 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNWU4NWFmZjgtODFjZC00ODlmLWI5MWMtNmUzOWVmYjU0MTdjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMxNjQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.bVW6NSGF3dDXSmPdFeamfN0Nld639tR4AQImXiTFytM]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-2f6ab86b9db4cf6800a70d82dcd27ade-46516511aafbd949-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 17:57:31.336 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 17:57:31.337 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 17:57:31.339 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 17:57:31.343 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 17:57:31.351 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 17:57:31.356 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 17:57:31.360 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 17:57:31.365 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 17:57:31.371 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 17:57:31.374 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 17:57:31.376 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 35.5251ms
2025-05-29 17:57:31.378 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 17:57:31.380 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 153ms
2025-05-29 17:57:31.383 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 161.1966ms
2025-05-29 17:57:35.461 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 17:57:35.465 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 17:57:35.466 +08:00 [INF] 请求路径: /api/Property/QueryProperties
2025-05-29 17:57:35.467 +08:00 [INF] 请求方法: GET
2025-05-29 17:57:35.468 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 17:57:35.469 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 17:57:35.470 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 17:57:35.471 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 17:57:35.475 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 17:57:35.476 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 17:57:35.477 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 17:57:35.478 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 17:57:35.479 +08:00 [INF] 请求方法: GET
2025-05-29 17:57:35.481 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDY1YzQ1NjktMDdmYy00N2UxLWJjZTEtZmEyNzBjZGUyZDIwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMyNTUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PCnzP_fcBD3KQUe1k17rwzF-suex6lNyMgPxLD-RohA
2025-05-29 17:57:35.482 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 17:57:35.484 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 17:57:35.485 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 17:57:35.487 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 17:57:35.488 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 17:57:35.489 +08:00 [INF] 请求头: traceparent = 00-adeaa439eb91003bce9703b4c4aa1bbd-6d70a34c6d4f55b5-00
2025-05-29 17:57:35.491 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 17:57:35.492 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 17:57:35.493 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 17:57:35.494 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 17:57:35.495 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDY1YzQ1NjktMDdmYy00N2UxLWJjZTEtZmEyNzBjZGUyZDIwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMyNTUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PCnzP_fcBD3KQUe1k17rwzF-suex6lNyMgPxLD-RohA
2025-05-29 17:57:35.496 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 17:57:35.498 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 17:57:35.499 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 17:57:35.500 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 17:57:35.501 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 17:57:35.503 +08:00 [INF] 请求头: traceparent = 00-62c29fb86b16e1f64479f5016a49bef9-df5d92bd9b9a98f8-00
2025-05-29 17:57:35.504 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 17:57:35.505 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 17:57:35.507 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 17:57:35.508 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 17:57:35.509 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 17:57:35.510 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 17:57:35.511 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 17:57:35.512 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 17:57:35.513 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 17:57:35.514 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 17:57:35.515 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 17:57:35.516 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 17:57:35.517 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 17:57:35.518 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 17:57:35.519 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 17:57:35.520 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 17:57:35.522 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 17:57:35.523 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 17:57:35.524 +08:00 [INF] JWT Claim: jti = d65c4569-07fc-47e1-bce1-fa270cde2d20
2025-05-29 17:57:35.525 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 17:57:35.526 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 17:57:35.527 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 17:57:35.528 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 17:57:35.528 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 17:57:35.530 +08:00 [INF] JWT Claim: exp = 1748513255
2025-05-29 17:57:35.531 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 17:57:35.532 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 17:57:35.533 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 17:57:35.535 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 17:57:35.536 +08:00 [INF] JWT Claim: jti = d65c4569-07fc-47e1-bce1-fa270cde2d20
2025-05-29 17:57:35.537 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 17:57:35.538 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 17:57:35.539 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDY1YzQ1NjktMDdmYy00N2UxLWJjZTEtZmEyNzBjZGUyZDIwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMyNTUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PCnzP_fcBD3KQUe1k17rwzF-suex6lNyMgPxLD-RohA]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-adeaa439eb91003bce9703b4c4aa1bbd-6d70a34c6d4f55b5-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 17:57:35.540 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 17:57:35.548 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 17:57:35.549 +08:00 [INF] JWT Claim: exp = 1748513255
2025-05-29 17:57:35.550 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 17:57:35.551 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 17:57:35.552 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 17:57:35.553 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 17:57:35.557 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 17:57:35.559 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDY1YzQ1NjktMDdmYy00N2UxLWJjZTEtZmEyNzBjZGUyZDIwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMyNTUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PCnzP_fcBD3KQUe1k17rwzF-suex6lNyMgPxLD-RohA]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-62c29fb86b16e1f64479f5016a49bef9-df5d92bd9b9a98f8-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 17:57:35.560 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 17:57:35.572 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 17:57:35.576 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 17:57:35.576 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 17:57:35.577 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 17:57:35.580 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 17:57:35.586 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 17:57:35.586 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 30.3309ms
2025-05-29 17:57:35.599 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 17:57:35.600 +08:00 [INF] 请求 GET /api/Property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 135ms
2025-05-29 17:57:35.600 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 17:57:35.603 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 142.2747ms
2025-05-29 17:57:35.610 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 17:57:35.617 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 17:57:35.622 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 17:57:35.628 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 17:57:35.631 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 17:57:35.633 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 51.2147ms
2025-05-29 17:57:35.635 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 17:57:35.636 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 160ms
2025-05-29 17:57:35.638 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 167.9533ms
2025-05-29 17:58:08.672 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 17:58:08.675 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 17:58:08.676 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 17:58:08.677 +08:00 [INF] 请求方法: GET
2025-05-29 17:58:08.678 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 17:58:08.679 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 17:58:08.681 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 17:58:08.682 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 17:58:08.683 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 17:58:08.684 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDY1YzQ1NjktMDdmYy00N2UxLWJjZTEtZmEyNzBjZGUyZDIwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMyNTUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PCnzP_fcBD3KQUe1k17rwzF-suex6lNyMgPxLD-RohA
2025-05-29 17:58:08.686 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 17:58:08.687 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 17:58:08.688 +08:00 [INF] 请求头: traceparent = 00-0728d2ed85b44bb4ce40f4ab946d130f-073f12c256985267-00
2025-05-29 17:58:08.690 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 17:58:08.691 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 17:58:08.692 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 17:58:08.693 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 17:58:08.695 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 17:58:08.696 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 17:58:08.698 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 17:58:08.699 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 17:58:08.700 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 17:58:08.701 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 17:58:08.702 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 17:58:08.703 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 17:58:08.704 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 17:58:08.705 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 17:58:08.707 +08:00 [INF] JWT Claim: jti = d65c4569-07fc-47e1-bce1-fa270cde2d20
2025-05-29 17:58:08.708 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 17:58:08.709 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 17:58:08.710 +08:00 [INF] JWT Claim: exp = 1748513255
2025-05-29 17:58:08.711 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 17:58:08.713 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 17:58:08.714 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 17:58:08.715 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDY1YzQ1NjktMDdmYy00N2UxLWJjZTEtZmEyNzBjZGUyZDIwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMyNTUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PCnzP_fcBD3KQUe1k17rwzF-suex6lNyMgPxLD-RohA]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-0728d2ed85b44bb4ce40f4ab946d130f-073f12c256985267-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 17:58:08.723 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 17:58:08.724 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 17:58:08.725 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 17:58:08.733 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 17:58:08.745 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 17:58:08.749 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 17:58:08.753 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 17:58:08.757 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 17:58:08.763 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 17:58:08.766 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 17:58:08.768 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 40.2594ms
2025-05-29 17:58:08.769 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 17:58:08.770 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 95ms
2025-05-29 17:58:08.773 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 100.9689ms
2025-05-29 17:58:08.850 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 17:58:08.853 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 17:58:08.853 +08:00 [INF] 请求路径: /api/Property/QueryProperties
2025-05-29 17:58:08.854 +08:00 [INF] 请求方法: GET
2025-05-29 17:58:08.855 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 17:58:08.856 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 17:58:08.858 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 17:58:08.859 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 17:58:08.860 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 17:58:08.860 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDY1YzQ1NjktMDdmYy00N2UxLWJjZTEtZmEyNzBjZGUyZDIwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMyNTUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PCnzP_fcBD3KQUe1k17rwzF-suex6lNyMgPxLD-RohA
2025-05-29 17:58:08.861 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 17:58:08.863 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 17:58:08.864 +08:00 [INF] 请求头: traceparent = 00-3faec7fea1c8a19aff05936aac4a134b-31d1cc41a46c7572-00
2025-05-29 17:58:08.865 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 17:58:08.866 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 17:58:08.867 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 17:58:08.868 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 17:58:08.869 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 17:58:08.870 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 17:58:08.871 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 17:58:08.872 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 17:58:08.873 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 17:58:08.874 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 17:58:08.875 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 17:58:08.876 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 17:58:08.877 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 17:58:08.878 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 17:58:08.879 +08:00 [INF] JWT Claim: jti = d65c4569-07fc-47e1-bce1-fa270cde2d20
2025-05-29 17:58:08.880 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 17:58:08.881 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 17:58:08.882 +08:00 [INF] JWT Claim: exp = 1748513255
2025-05-29 17:58:08.883 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 17:58:08.884 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 17:58:08.885 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 17:58:08.886 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDY1YzQ1NjktMDdmYy00N2UxLWJjZTEtZmEyNzBjZGUyZDIwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMyNTUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PCnzP_fcBD3KQUe1k17rwzF-suex6lNyMgPxLD-RohA]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-3faec7fea1c8a19aff05936aac4a134b-31d1cc41a46c7572-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 17:58:08.894 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 17:58:08.895 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 17:58:08.897 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 17:58:08.903 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 17:58:08.910 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 17:58:08.912 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 17:58:08.914 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 14.6117ms
2025-05-29 17:58:08.916 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 17:58:08.917 +08:00 [INF] 请求 GET /api/Property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 63ms
2025-05-29 17:58:08.919 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 68.4345ms
2025-05-29 17:58:30.012 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 17:58:30.017 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 17:58:30.018 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 17:58:30.020 +08:00 [INF] 请求方法: GET
2025-05-29 17:58:30.021 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 17:58:30.022 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 17:58:30.024 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 17:58:30.025 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 17:58:30.026 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 17:58:30.027 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDY1YzQ1NjktMDdmYy00N2UxLWJjZTEtZmEyNzBjZGUyZDIwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMyNTUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PCnzP_fcBD3KQUe1k17rwzF-suex6lNyMgPxLD-RohA
2025-05-29 17:58:30.029 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 17:58:30.030 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 17:58:30.031 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 17:58:30.040 +08:00 [INF] 请求头: traceparent = 00-bfb120c3570ffaf90b5413fc24ec6664-e57d5f8678b14a9a-00
2025-05-29 17:58:30.045 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 17:58:30.047 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 17:58:30.049 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 17:58:30.048 +08:00 [INF] 请求路径: /api/Property/QueryProperties
2025-05-29 17:58:30.050 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 17:58:30.051 +08:00 [INF] 请求方法: GET
2025-05-29 17:58:30.052 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 17:58:30.053 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 17:58:30.054 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 17:58:30.055 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 17:58:30.057 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 17:58:30.058 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 17:58:30.060 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 17:58:30.061 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 17:58:30.062 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 17:58:30.064 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 17:58:30.065 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 17:58:30.067 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDY1YzQ1NjktMDdmYy00N2UxLWJjZTEtZmEyNzBjZGUyZDIwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMyNTUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PCnzP_fcBD3KQUe1k17rwzF-suex6lNyMgPxLD-RohA
2025-05-29 17:58:30.068 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 17:58:30.069 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 17:58:30.070 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 17:58:30.072 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 17:58:30.073 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 17:58:30.075 +08:00 [INF] 请求头: traceparent = 00-81a7c314b1662099a6b7c03bc0601644-373d251a43334a34-00
2025-05-29 17:58:30.076 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 17:58:30.077 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 17:58:30.078 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 17:58:30.080 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 17:58:30.082 +08:00 [INF] JWT Claim: jti = d65c4569-07fc-47e1-bce1-fa270cde2d20
2025-05-29 17:58:30.083 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 17:58:30.085 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 17:58:30.086 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 17:58:30.087 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 17:58:30.089 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 17:58:30.090 +08:00 [INF] JWT Claim: exp = 1748513255
2025-05-29 17:58:30.091 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 17:58:30.093 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 17:58:30.094 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 17:58:30.096 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 17:58:30.097 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 17:58:30.099 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 17:58:30.100 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 17:58:30.101 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDY1YzQ1NjktMDdmYy00N2UxLWJjZTEtZmEyNzBjZGUyZDIwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMyNTUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PCnzP_fcBD3KQUe1k17rwzF-suex6lNyMgPxLD-RohA]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-bfb120c3570ffaf90b5413fc24ec6664-e57d5f8678b14a9a-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 17:58:30.102 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 17:58:30.115 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 17:58:30.116 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 17:58:30.118 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 17:58:30.119 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 17:58:30.120 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 17:58:30.122 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 17:58:30.126 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 17:58:30.131 +08:00 [INF] JWT Claim: jti = d65c4569-07fc-47e1-bce1-fa270cde2d20
2025-05-29 17:58:30.132 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 17:58:30.133 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 17:58:30.142 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 17:58:30.145 +08:00 [INF] JWT Claim: exp = 1748513255
2025-05-29 17:58:30.145 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 17:58:30.147 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 17:58:30.153 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 17:58:30.153 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 17:58:30.155 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 17:58:30.160 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 17:58:30.160 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDY1YzQ1NjktMDdmYy00N2UxLWJjZTEtZmEyNzBjZGUyZDIwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMyNTUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PCnzP_fcBD3KQUe1k17rwzF-suex6lNyMgPxLD-RohA]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-81a7c314b1662099a6b7c03bc0601644-373d251a43334a34-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 17:58:30.170 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 17:58:30.183 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 17:58:30.187 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 17:58:30.190 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 17:58:30.190 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 17:58:30.201 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 17:58:30.201 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 17:58:30.219 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 94.4672ms
2025-05-29 17:58:30.226 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 17:58:30.227 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 17:58:30.228 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 210ms
2025-05-29 17:58:30.234 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 17:58:30.236 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 224.1641ms
2025-05-29 17:58:30.239 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 46.4438ms
2025-05-29 17:58:30.249 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 17:58:30.251 +08:00 [INF] 请求 GET /api/Property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 205ms
2025-05-29 17:58:30.255 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 224.4363ms
2025-05-29 17:58:31.496 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 17:58:31.499 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 17:58:31.500 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 17:58:31.502 +08:00 [INF] 请求方法: GET
2025-05-29 17:58:31.503 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 17:58:31.505 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 17:58:31.506 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 17:58:31.508 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 17:58:31.510 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 17:58:31.511 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDY1YzQ1NjktMDdmYy00N2UxLWJjZTEtZmEyNzBjZGUyZDIwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMyNTUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PCnzP_fcBD3KQUe1k17rwzF-suex6lNyMgPxLD-RohA
2025-05-29 17:58:31.513 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 17:58:31.514 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 17:58:31.515 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 17:58:31.519 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 17:58:31.521 +08:00 [INF] 请求头: traceparent = 00-d8096172b4df27cc9767df31be35d23c-d0de599f083e2b72-00
2025-05-29 17:58:31.522 +08:00 [INF] 请求路径: /api/Property/QueryProperties
2025-05-29 17:58:31.524 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 17:58:31.525 +08:00 [INF] 请求方法: GET
2025-05-29 17:58:31.526 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 17:58:31.528 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 17:58:31.529 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 17:58:31.531 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 17:58:31.532 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 17:58:31.534 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 17:58:31.536 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 17:58:31.537 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 17:58:31.540 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 17:58:31.541 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 17:58:31.543 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 17:58:31.544 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDY1YzQ1NjktMDdmYy00N2UxLWJjZTEtZmEyNzBjZGUyZDIwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMyNTUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PCnzP_fcBD3KQUe1k17rwzF-suex6lNyMgPxLD-RohA
2025-05-29 17:58:31.546 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 17:58:31.548 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 17:58:31.550 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 17:58:31.551 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 17:58:31.553 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 17:58:31.555 +08:00 [INF] 请求头: traceparent = 00-05fb4e53dd80274ef0fcb175f15b9b9c-8f20e1bf8fb686aa-00
2025-05-29 17:58:31.556 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 17:58:31.558 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 17:58:31.559 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 17:58:31.562 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 17:58:31.561 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 17:58:31.564 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 17:58:31.566 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 17:58:31.568 +08:00 [INF] JWT Claim: jti = d65c4569-07fc-47e1-bce1-fa270cde2d20
2025-05-29 17:58:31.569 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 17:58:31.571 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 17:58:31.573 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 17:58:31.574 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 17:58:31.576 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 17:58:31.577 +08:00 [INF] JWT Claim: exp = 1748513255
2025-05-29 17:58:31.579 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 17:58:31.581 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 17:58:31.582 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 17:58:31.583 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 17:58:31.584 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 17:58:31.586 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 17:58:31.587 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 17:58:31.588 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDY1YzQ1NjktMDdmYy00N2UxLWJjZTEtZmEyNzBjZGUyZDIwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMyNTUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PCnzP_fcBD3KQUe1k17rwzF-suex6lNyMgPxLD-RohA]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-d8096172b4df27cc9767df31be35d23c-d0de599f083e2b72-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 17:58:31.589 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 17:58:31.597 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 17:58:31.597 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 17:58:31.598 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 17:58:31.599 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 17:58:31.601 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 17:58:31.602 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 17:58:31.606 +08:00 [INF] JWT Claim: jti = d65c4569-07fc-47e1-bce1-fa270cde2d20
2025-05-29 17:58:31.607 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 17:58:31.608 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 17:58:31.611 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 17:58:31.612 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 17:58:31.615 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 17:58:31.616 +08:00 [INF] JWT Claim: exp = 1748513255
2025-05-29 17:58:31.619 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 17:58:31.619 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 17:58:31.623 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 17:58:31.623 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 17:58:31.626 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 17:58:31.626 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 17:58:31.628 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 17:58:31.629 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDY1YzQ1NjktMDdmYy00N2UxLWJjZTEtZmEyNzBjZGUyZDIwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMyNTUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PCnzP_fcBD3KQUe1k17rwzF-suex6lNyMgPxLD-RohA]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-05fb4e53dd80274ef0fcb175f15b9b9c-8f20e1bf8fb686aa-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 17:58:31.631 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 26.1721ms
2025-05-29 17:58:31.638 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 17:58:31.639 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 17:58:31.640 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 17:58:31.641 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 141ms
2025-05-29 17:58:31.642 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 17:58:31.643 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 147.8311ms
2025-05-29 17:58:31.649 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 17:58:31.656 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 17:58:31.658 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 17:58:31.660 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 14.5906ms
2025-05-29 17:58:31.661 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 17:58:31.662 +08:00 [INF] 请求 GET /api/Property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 142ms
2025-05-29 17:58:31.664 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 150.0322ms
2025-05-29 17:59:45.859 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 17:59:45.864 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 17:59:45.865 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 17:59:45.875 +08:00 [INF] 请求方法: GET
2025-05-29 17:59:45.877 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 17:59:45.879 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 17:59:45.881 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 17:59:45.882 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 17:59:45.890 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 17:59:45.893 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 17:59:45.894 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 17:59:45.895 +08:00 [INF] 请求路径: /api/Property/QueryProperties
2025-05-29 17:59:45.896 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2IzYmI4MzItNTYyMC00MGExLWJjOGYtYzQ0NmI4YjI1ODE2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMzODUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.f3LG8zTIwBbu3cJzmaJEOuvWD9h_ruz0BjSNdmb0T6Q
2025-05-29 17:59:45.897 +08:00 [INF] 请求方法: GET
2025-05-29 17:59:45.898 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 17:59:45.899 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 17:59:45.901 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 17:59:45.902 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 17:59:45.903 +08:00 [INF] 请求头: traceparent = 00-6a2d825d5ac050a551745cc9b0380fd9-49a4756b8d515ffc-00
2025-05-29 17:59:45.904 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 17:59:45.905 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 17:59:45.906 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 17:59:45.907 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 17:59:45.909 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 17:59:45.910 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 17:59:45.911 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2IzYmI4MzItNTYyMC00MGExLWJjOGYtYzQ0NmI4YjI1ODE2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMzODUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.f3LG8zTIwBbu3cJzmaJEOuvWD9h_ruz0BjSNdmb0T6Q
2025-05-29 17:59:45.912 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 17:59:45.913 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 17:59:45.915 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 17:59:45.915 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 17:59:45.916 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 17:59:45.918 +08:00 [INF] 请求头: traceparent = 00-a2c00f1f6d202cb7b4e3aee2134e61ab-5d8fa79f8006e2c6-00
2025-05-29 17:59:45.919 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 17:59:45.920 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 17:59:45.921 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 17:59:45.923 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 17:59:45.924 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 17:59:45.925 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 17:59:45.925 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 17:59:45.926 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 17:59:45.927 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 17:59:45.928 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 17:59:45.930 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 17:59:45.931 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 17:59:45.932 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 17:59:45.934 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 17:59:45.935 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 17:59:45.936 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 17:59:45.937 +08:00 [INF] JWT Claim: jti = cb3bb832-5620-40a1-bc8f-c446b8b25816
2025-05-29 17:59:45.939 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 17:59:45.940 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 17:59:45.941 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 17:59:45.942 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 17:59:45.943 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 17:59:45.944 +08:00 [INF] JWT Claim: exp = 1748513385
2025-05-29 17:59:45.945 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 17:59:45.946 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 17:59:45.948 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 17:59:45.949 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 17:59:45.951 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 17:59:45.952 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 17:59:45.953 +08:00 [INF] JWT Claim: jti = cb3bb832-5620-40a1-bc8f-c446b8b25816
2025-05-29 17:59:45.954 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2IzYmI4MzItNTYyMC00MGExLWJjOGYtYzQ0NmI4YjI1ODE2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMzODUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.f3LG8zTIwBbu3cJzmaJEOuvWD9h_ruz0BjSNdmb0T6Q]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-6a2d825d5ac050a551745cc9b0380fd9-49a4756b8d515ffc-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 17:59:45.956 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 17:59:45.964 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 17:59:45.965 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 17:59:45.966 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 17:59:45.967 +08:00 [INF] JWT Claim: exp = 1748513385
2025-05-29 17:59:45.968 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 17:59:45.969 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 17:59:45.973 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 17:59:45.976 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 17:59:45.976 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 17:59:45.980 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2IzYmI4MzItNTYyMC00MGExLWJjOGYtYzQ0NmI4YjI1ODE2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMzODUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.f3LG8zTIwBbu3cJzmaJEOuvWD9h_ruz0BjSNdmb0T6Q]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-a2c00f1f6d202cb7b4e3aee2134e61ab-5d8fa79f8006e2c6-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 17:59:45.982 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 17:59:45.989 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 17:59:45.992 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 17:59:45.993 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 17:59:45.997 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 17:59:46.000 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 17:59:46.002 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 17:59:46.005 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 17:59:46.007 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 17:59:46.009 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 17:59:46.013 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 17.4487ms
2025-05-29 17:59:46.014 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 17:59:46.015 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 17:59:46.017 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 17:59:46.018 +08:00 [INF] 请求 GET /api/Property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 125ms
2025-05-29 17:59:46.019 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 48.0537ms
2025-05-29 17:59:46.022 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 140.3431ms
2025-05-29 17:59:46.024 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 17:59:46.030 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 166ms
2025-05-29 17:59:46.033 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 174.1299ms
2025-05-29 18:00:47.301 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 18:00:47.310 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 18:00:47.318 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:00:47.321 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:00:47.321 +08:00 [INF] 请求路径: /api/Property/QueryProperties
2025-05-29 18:00:47.322 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 18:00:47.323 +08:00 [INF] 请求方法: GET
2025-05-29 18:00:47.324 +08:00 [INF] 请求方法: GET
2025-05-29 18:00:47.325 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:00:47.325 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:00:47.326 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:00:47.327 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:00:47.329 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:00:47.330 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:00:47.331 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:00:47.332 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:00:47.334 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:00:47.333 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:00:47.335 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2IzYmI4MzItNTYyMC00MGExLWJjOGYtYzQ0NmI4YjI1ODE2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMzODUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.f3LG8zTIwBbu3cJzmaJEOuvWD9h_ruz0BjSNdmb0T6Q
2025-05-29 18:00:47.336 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2IzYmI4MzItNTYyMC00MGExLWJjOGYtYzQ0NmI4YjI1ODE2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMzODUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.f3LG8zTIwBbu3cJzmaJEOuvWD9h_ruz0BjSNdmb0T6Q
2025-05-29 18:00:47.337 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:00:47.339 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:00:47.340 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:00:47.341 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:00:47.342 +08:00 [INF] 请求头: traceparent = 00-2c2eecc0e068b48fc14df1dacfc90ae7-596d79083ed9519d-00
2025-05-29 18:00:47.343 +08:00 [INF] 请求头: traceparent = 00-59f67db705279abca2299350f3b9a714-147f7f1f2cd7f6fd-00
2025-05-29 18:00:47.344 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:00:47.345 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:00:47.346 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:00:47.347 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:00:47.348 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:00:47.350 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:00:47.349 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:00:47.352 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:00:47.351 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:00:47.353 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:00:47.355 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:00:47.356 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:00:47.357 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:00:47.358 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:00:47.359 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:00:47.360 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:00:47.362 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:00:47.363 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:00:47.364 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:00:47.364 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:00:47.365 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:00:47.366 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:00:47.367 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:00:47.368 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:00:47.369 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:00:47.371 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:00:47.372 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:00:47.373 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:00:47.374 +08:00 [INF] JWT Claim: jti = cb3bb832-5620-40a1-bc8f-c446b8b25816
2025-05-29 18:00:47.375 +08:00 [INF] JWT Claim: jti = cb3bb832-5620-40a1-bc8f-c446b8b25816
2025-05-29 18:00:47.376 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:00:47.378 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:00:47.379 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:00:47.380 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:00:47.381 +08:00 [INF] JWT Claim: exp = 1748513385
2025-05-29 18:00:47.382 +08:00 [INF] JWT Claim: exp = 1748513385
2025-05-29 18:00:47.383 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:00:47.384 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:00:47.385 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:00:47.387 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:00:47.388 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:00:47.389 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:00:47.390 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2IzYmI4MzItNTYyMC00MGExLWJjOGYtYzQ0NmI4YjI1ODE2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMzODUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.f3LG8zTIwBbu3cJzmaJEOuvWD9h_ruz0BjSNdmb0T6Q]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-2c2eecc0e068b48fc14df1dacfc90ae7-596d79083ed9519d-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:00:47.391 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2IzYmI4MzItNTYyMC00MGExLWJjOGYtYzQ0NmI4YjI1ODE2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMzODUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.f3LG8zTIwBbu3cJzmaJEOuvWD9h_ruz0BjSNdmb0T6Q]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-59f67db705279abca2299350f3b9a714-147f7f1f2cd7f6fd-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:00:47.400 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:00:47.408 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:00:47.409 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:00:47.410 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:00:47.411 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:00:47.412 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:00:47.428 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:00:47.428 +08:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:00:47.438 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 18:00:47.441 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 18:00:47.441 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:00:47.444 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 18:00:47.445 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 27.4491ms
2025-05-29 18:00:47.448 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 18:00:47.449 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:00:47.453 +08:00 [INF] 请求 GET /api/Property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 135ms
2025-05-29 18:00:47.453 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 18:00:47.460 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 159.3893ms
2025-05-29 18:00:47.465 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 18:00:47.468 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:00:47.470 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 55.6849ms
2025-05-29 18:00:47.471 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:00:47.472 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 151ms
2025-05-29 18:00:47.474 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 163.8715ms
2025-05-29 18:00:57.344 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 18:00:57.347 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:00:57.348 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 18:00:57.349 +08:00 [INF] 请求方法: GET
2025-05-29 18:00:57.349 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:00:57.351 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:00:57.352 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:00:57.353 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:00:57.354 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:00:57.356 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2IzYmI4MzItNTYyMC00MGExLWJjOGYtYzQ0NmI4YjI1ODE2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMzODUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.f3LG8zTIwBbu3cJzmaJEOuvWD9h_ruz0BjSNdmb0T6Q
2025-05-29 18:00:57.358 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:00:57.359 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:00:57.361 +08:00 [INF] 请求头: traceparent = 00-b492c14e4b7b380c2362a1877e02a83c-c387f04e26b2d8f3-00
2025-05-29 18:00:57.362 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:00:57.364 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:00:57.366 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:00:57.367 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:00:57.368 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:00:57.370 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:00:57.372 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:00:57.373 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:00:57.375 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:00:57.376 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:00:57.378 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:00:57.379 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:00:57.381 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:00:57.382 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:00:57.384 +08:00 [INF] JWT Claim: jti = cb3bb832-5620-40a1-bc8f-c446b8b25816
2025-05-29 18:00:57.385 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:00:57.387 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:00:57.389 +08:00 [INF] JWT Claim: exp = 1748513385
2025-05-29 18:00:57.391 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:00:57.392 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:00:57.394 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:00:57.395 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2IzYmI4MzItNTYyMC00MGExLWJjOGYtYzQ0NmI4YjI1ODE2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMzODUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.f3LG8zTIwBbu3cJzmaJEOuvWD9h_ruz0BjSNdmb0T6Q]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-b492c14e4b7b380c2362a1877e02a83c-c387f04e26b2d8f3-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:00:57.404 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:00:57.405 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:00:57.407 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:00:57.482 +08:00 [INF] Executed DbCommand (72ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:00:57.487 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 18:00:57.491 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 18:00:57.495 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 18:00:57.500 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 18:00:57.505 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 18:00:57.508 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:00:57.510 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 101.619ms
2025-05-29 18:00:57.513 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:00:57.515 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 167ms
2025-05-29 18:00:57.518 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 174.167ms
2025-05-29 18:00:57.530 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 18:00:57.533 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:00:57.534 +08:00 [INF] 请求路径: /api/Property/QueryProperties
2025-05-29 18:00:57.535 +08:00 [INF] 请求方法: GET
2025-05-29 18:00:57.537 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:00:57.538 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:00:57.540 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:00:57.542 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:00:57.544 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:00:57.546 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2IzYmI4MzItNTYyMC00MGExLWJjOGYtYzQ0NmI4YjI1ODE2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMzODUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.f3LG8zTIwBbu3cJzmaJEOuvWD9h_ruz0BjSNdmb0T6Q
2025-05-29 18:00:57.548 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:00:57.549 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:00:57.551 +08:00 [INF] 请求头: traceparent = 00-b6653e0df246659cfb6cdea02d76d418-54b1954627f0f4ae-00
2025-05-29 18:00:57.552 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:00:57.553 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:00:57.555 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:00:57.556 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:00:57.558 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:00:57.560 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:00:57.561 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:00:57.563 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:00:57.564 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:00:57.565 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:00:57.566 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:00:57.567 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:00:57.568 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:00:57.570 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:00:57.571 +08:00 [INF] JWT Claim: jti = cb3bb832-5620-40a1-bc8f-c446b8b25816
2025-05-29 18:00:57.573 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:00:57.574 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:00:57.575 +08:00 [INF] JWT Claim: exp = 1748513385
2025-05-29 18:00:57.576 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:00:57.577 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:00:57.579 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:00:57.580 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2IzYmI4MzItNTYyMC00MGExLWJjOGYtYzQ0NmI4YjI1ODE2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMzODUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.f3LG8zTIwBbu3cJzmaJEOuvWD9h_ruz0BjSNdmb0T6Q]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-b6653e0df246659cfb6cdea02d76d418-54b1954627f0f4ae-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:00:57.588 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:00:57.589 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:00:57.591 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:00:57.598 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:00:57.603 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 18:00:57.607 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:00:57.608 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 15.591ms
2025-05-29 18:00:57.610 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:00:57.611 +08:00 [INF] 请求 GET /api/Property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 78ms
2025-05-29 18:00:57.614 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 84.3146ms
2025-05-29 18:00:57.671 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 18:00:57.675 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:00:57.676 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 18:00:57.677 +08:00 [INF] 请求方法: GET
2025-05-29 18:00:57.678 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:00:57.680 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:00:57.681 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:00:57.683 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:00:57.684 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:00:57.685 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2IzYmI4MzItNTYyMC00MGExLWJjOGYtYzQ0NmI4YjI1ODE2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMzODUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.f3LG8zTIwBbu3cJzmaJEOuvWD9h_ruz0BjSNdmb0T6Q
2025-05-29 18:00:57.687 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:00:57.689 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:00:57.690 +08:00 [INF] 请求头: traceparent = 00-e6bb8ec1278104ef233d9569c407bee0-2161a5b32ac17b83-00
2025-05-29 18:00:57.691 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:00:57.693 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:00:57.694 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:00:57.695 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:00:57.697 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:00:57.699 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:00:57.700 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:00:57.702 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:00:57.703 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:00:57.704 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:00:57.705 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:00:57.707 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:00:57.708 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:00:57.709 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:00:57.711 +08:00 [INF] JWT Claim: jti = cb3bb832-5620-40a1-bc8f-c446b8b25816
2025-05-29 18:00:57.712 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:00:57.714 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:00:57.715 +08:00 [INF] JWT Claim: exp = 1748513385
2025-05-29 18:00:57.716 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:00:57.717 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:00:57.718 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:00:57.719 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2IzYmI4MzItNTYyMC00MGExLWJjOGYtYzQ0NmI4YjI1ODE2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMzODUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.f3LG8zTIwBbu3cJzmaJEOuvWD9h_ruz0BjSNdmb0T6Q]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-e6bb8ec1278104ef233d9569c407bee0-2161a5b32ac17b83-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:00:57.728 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:00:57.729 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:00:57.731 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:00:57.736 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:00:57.742 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 18:00:57.746 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 18:00:57.750 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 18:00:57.754 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 18:00:57.760 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 18:00:57.763 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:00:57.765 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 32.0863ms
2025-05-29 18:00:57.767 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:00:57.768 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 93ms
2025-05-29 18:00:57.771 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 99.7928ms
2025-05-29 18:00:57.952 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 18:00:57.955 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:00:57.956 +08:00 [INF] 请求路径: /api/Property/QueryProperties
2025-05-29 18:00:57.958 +08:00 [INF] 请求方法: GET
2025-05-29 18:00:57.958 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:00:57.960 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:00:57.961 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:00:57.963 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:00:57.964 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:00:57.965 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2IzYmI4MzItNTYyMC00MGExLWJjOGYtYzQ0NmI4YjI1ODE2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMzODUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.f3LG8zTIwBbu3cJzmaJEOuvWD9h_ruz0BjSNdmb0T6Q
2025-05-29 18:00:57.966 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:00:57.968 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:00:57.969 +08:00 [INF] 请求头: traceparent = 00-d25ba2cc38843afa29b3d9cd1050288c-d5eb10b81888870e-00
2025-05-29 18:00:57.970 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:00:57.972 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:00:57.973 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:00:57.974 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:00:57.975 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:00:57.977 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:00:57.978 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:00:57.979 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:00:57.981 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:00:57.981 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:00:57.982 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:00:57.983 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:00:57.984 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:00:57.986 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:00:57.987 +08:00 [INF] JWT Claim: jti = cb3bb832-5620-40a1-bc8f-c446b8b25816
2025-05-29 18:00:57.989 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:00:57.990 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:00:57.991 +08:00 [INF] JWT Claim: exp = 1748513385
2025-05-29 18:00:57.992 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:00:57.994 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:00:57.995 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:00:57.997 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2IzYmI4MzItNTYyMC00MGExLWJjOGYtYzQ0NmI4YjI1ODE2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMzODUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.f3LG8zTIwBbu3cJzmaJEOuvWD9h_ruz0BjSNdmb0T6Q]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-d25ba2cc38843afa29b3d9cd1050288c-d5eb10b81888870e-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:00:58.006 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:00:58.008 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:00:58.009 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:00:58.014 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:00:58.019 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 18:00:58.022 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:00:58.024 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 12.8456ms
2025-05-29 18:00:58.026 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:00:58.028 +08:00 [INF] 请求 GET /api/Property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 72ms
2025-05-29 18:00:58.031 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 78.8689ms
2025-05-29 18:01:10.336 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 18:01:10.339 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:01:10.340 +08:00 [INF] 请求路径: /api/Property/QueryProperties
2025-05-29 18:01:10.341 +08:00 [INF] 请求方法: GET
2025-05-29 18:01:10.342 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:01:10.343 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:01:10.345 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:01:10.346 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:01:10.347 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:01:10.349 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2IzYmI4MzItNTYyMC00MGExLWJjOGYtYzQ0NmI4YjI1ODE2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMzODUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.f3LG8zTIwBbu3cJzmaJEOuvWD9h_ruz0BjSNdmb0T6Q
2025-05-29 18:01:10.350 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:01:10.351 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:01:10.353 +08:00 [INF] 请求头: traceparent = 00-c80aaa546526b375995bd74bab490687-043ec3a4ece0ce87-00
2025-05-29 18:01:10.354 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:01:10.356 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:01:10.357 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:01:10.358 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:01:10.359 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:01:10.361 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:01:10.362 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:01:10.363 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:01:10.365 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:01:10.366 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:01:10.366 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:01:10.367 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:01:10.368 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:01:10.370 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:01:10.371 +08:00 [INF] JWT Claim: jti = cb3bb832-5620-40a1-bc8f-c446b8b25816
2025-05-29 18:01:10.373 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:01:10.374 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:01:10.375 +08:00 [INF] JWT Claim: exp = 1748513385
2025-05-29 18:01:10.377 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:01:10.379 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:01:10.380 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:01:10.381 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2IzYmI4MzItNTYyMC00MGExLWJjOGYtYzQ0NmI4YjI1ODE2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMzODUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.f3LG8zTIwBbu3cJzmaJEOuvWD9h_ruz0BjSNdmb0T6Q]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-c80aaa546526b375995bd74bab490687-043ec3a4ece0ce87-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:01:10.390 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:01:10.391 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:01:10.392 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:01:10.398 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:01:10.405 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 18:01:10.408 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:01:10.409 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 14.9917ms
2025-05-29 18:01:10.411 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:01:10.413 +08:00 [INF] 请求 GET /api/Property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 73ms
2025-05-29 18:01:10.415 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 79.2113ms
2025-05-29 18:01:10.540 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 18:01:10.542 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:01:10.543 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 18:01:10.544 +08:00 [INF] 请求方法: GET
2025-05-29 18:01:10.545 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:01:10.546 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:01:10.547 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:01:10.548 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:01:10.549 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:01:10.551 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2IzYmI4MzItNTYyMC00MGExLWJjOGYtYzQ0NmI4YjI1ODE2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMzODUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.f3LG8zTIwBbu3cJzmaJEOuvWD9h_ruz0BjSNdmb0T6Q
2025-05-29 18:01:10.552 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:01:10.553 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:01:10.554 +08:00 [INF] 请求头: traceparent = 00-53d3d456e0ddd9f64b9b8344f280bfed-1d51e690c9a8cc33-00
2025-05-29 18:01:10.555 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:01:10.556 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:01:10.557 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:01:10.559 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:01:10.560 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:01:10.561 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:01:10.562 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:01:10.563 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:01:10.564 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:01:10.565 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:01:10.566 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:01:10.567 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:01:10.568 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:01:10.569 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:01:10.571 +08:00 [INF] JWT Claim: jti = cb3bb832-5620-40a1-bc8f-c446b8b25816
2025-05-29 18:01:10.572 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:01:10.573 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:01:10.574 +08:00 [INF] JWT Claim: exp = 1748513385
2025-05-29 18:01:10.575 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:01:10.576 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:01:10.577 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:01:10.578 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2IzYmI4MzItNTYyMC00MGExLWJjOGYtYzQ0NmI4YjI1ODE2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMzODUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.f3LG8zTIwBbu3cJzmaJEOuvWD9h_ruz0BjSNdmb0T6Q]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-53d3d456e0ddd9f64b9b8344f280bfed-1d51e690c9a8cc33-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:01:10.585 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:01:10.586 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:01:10.588 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:01:10.592 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:01:10.598 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 18:01:10.601 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 18:01:10.604 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 18:01:10.607 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 18:01:10.610 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 18:01:10.612 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:01:10.614 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 24.2909ms
2025-05-29 18:01:10.615 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:01:10.616 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 73ms
2025-05-29 18:01:10.618 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 77.9957ms
2025-05-29 18:01:22.816 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 18:01:22.820 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:01:22.821 +08:00 [INF] 请求路径: /api/Property/QueryProperties
2025-05-29 18:01:22.822 +08:00 [INF] 请求方法: GET
2025-05-29 18:01:22.823 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:01:22.824 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:01:22.825 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:01:22.826 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:01:22.827 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:01:22.829 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2IzYmI4MzItNTYyMC00MGExLWJjOGYtYzQ0NmI4YjI1ODE2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMzODUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.f3LG8zTIwBbu3cJzmaJEOuvWD9h_ruz0BjSNdmb0T6Q
2025-05-29 18:01:22.830 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:01:22.831 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:01:22.833 +08:00 [INF] 请求头: traceparent = 00-c530ef396c2aedb15871d5532aae4af3-baa4049a4e415d6c-00
2025-05-29 18:01:22.834 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:01:22.835 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:01:22.837 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:01:22.839 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:01:22.840 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:01:22.841 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:01:22.843 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:01:22.844 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:01:22.845 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:01:22.846 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:01:22.847 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:01:22.848 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:01:22.849 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:01:22.850 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:01:22.851 +08:00 [INF] JWT Claim: jti = cb3bb832-5620-40a1-bc8f-c446b8b25816
2025-05-29 18:01:22.853 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:01:22.854 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:01:22.856 +08:00 [INF] JWT Claim: exp = 1748513385
2025-05-29 18:01:22.857 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:01:22.858 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:01:22.860 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:01:22.860 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2IzYmI4MzItNTYyMC00MGExLWJjOGYtYzQ0NmI4YjI1ODE2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMzODUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.f3LG8zTIwBbu3cJzmaJEOuvWD9h_ruz0BjSNdmb0T6Q]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-c530ef396c2aedb15871d5532aae4af3-baa4049a4e415d6c-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:01:22.868 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:01:22.870 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:01:22.871 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:01:22.877 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:01:22.882 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 18:01:22.885 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:01:22.887 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 13.9007ms
2025-05-29 18:01:22.888 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:01:22.889 +08:00 [INF] 请求 GET /api/Property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 69ms
2025-05-29 18:01:22.892 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 75.8081ms
2025-05-29 18:01:22.971 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 18:01:22.974 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:01:22.975 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 18:01:22.975 +08:00 [INF] 请求方法: GET
2025-05-29 18:01:22.976 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:01:22.977 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:01:22.978 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:01:22.979 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:01:22.980 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:01:22.981 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2IzYmI4MzItNTYyMC00MGExLWJjOGYtYzQ0NmI4YjI1ODE2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMzODUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.f3LG8zTIwBbu3cJzmaJEOuvWD9h_ruz0BjSNdmb0T6Q
2025-05-29 18:01:22.982 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:01:22.983 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:01:22.984 +08:00 [INF] 请求头: traceparent = 00-b963b76e6df11506639fdbc15e7b631d-9dfc0be11a9f6c55-00
2025-05-29 18:01:22.985 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:01:22.986 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:01:22.988 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:01:22.989 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:01:22.990 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:01:22.991 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:01:22.992 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:01:22.993 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:01:22.994 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:01:22.994 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:01:22.995 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:01:22.996 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:01:22.997 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:01:22.999 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:01:23.000 +08:00 [INF] JWT Claim: jti = cb3bb832-5620-40a1-bc8f-c446b8b25816
2025-05-29 18:01:23.001 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:01:23.002 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:01:23.003 +08:00 [INF] JWT Claim: exp = 1748513385
2025-05-29 18:01:23.005 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:01:23.006 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:01:23.007 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:01:23.008 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2IzYmI4MzItNTYyMC00MGExLWJjOGYtYzQ0NmI4YjI1ODE2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMzODUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.f3LG8zTIwBbu3cJzmaJEOuvWD9h_ruz0BjSNdmb0T6Q]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-b963b76e6df11506639fdbc15e7b631d-9dfc0be11a9f6c55-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:01:23.017 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:01:23.018 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:01:23.019 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:01:23.023 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:01:23.026 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 18:01:23.028 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 18:01:23.031 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 18:01:23.034 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 18:01:23.037 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 18:01:23.039 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:01:23.040 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 19.3208ms
2025-05-29 18:01:23.041 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:01:23.042 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 68ms
2025-05-29 18:01:23.044 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 72.8229ms
2025-05-29 18:01:25.884 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 18:01:25.887 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:01:25.888 +08:00 [INF] 请求路径: /api/Property/QueryProperties
2025-05-29 18:01:25.889 +08:00 [INF] 请求方法: GET
2025-05-29 18:01:25.890 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:01:25.891 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:01:25.892 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:01:25.893 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:01:25.895 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:01:25.896 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2IzYmI4MzItNTYyMC00MGExLWJjOGYtYzQ0NmI4YjI1ODE2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMzODUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.f3LG8zTIwBbu3cJzmaJEOuvWD9h_ruz0BjSNdmb0T6Q
2025-05-29 18:01:25.897 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:01:25.899 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:01:25.900 +08:00 [INF] 请求头: traceparent = 00-ff036f8a74a45e4b579dc9180563cf43-0862e9c45111b8e3-00
2025-05-29 18:01:25.901 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:01:25.902 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:01:25.903 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:01:25.904 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:01:25.906 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:01:25.907 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:01:25.908 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:01:25.909 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:01:25.911 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:01:25.912 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:01:25.913 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:01:25.914 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:01:25.915 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:01:25.916 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:01:25.917 +08:00 [INF] JWT Claim: jti = cb3bb832-5620-40a1-bc8f-c446b8b25816
2025-05-29 18:01:25.918 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:01:25.919 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:01:25.920 +08:00 [INF] JWT Claim: exp = 1748513385
2025-05-29 18:01:25.922 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:01:25.923 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:01:25.924 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:01:25.925 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2IzYmI4MzItNTYyMC00MGExLWJjOGYtYzQ0NmI4YjI1ODE2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMzODUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.f3LG8zTIwBbu3cJzmaJEOuvWD9h_ruz0BjSNdmb0T6Q]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-ff036f8a74a45e4b579dc9180563cf43-0862e9c45111b8e3-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:01:25.932 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:01:25.934 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:01:25.935 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:01:25.939 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:01:25.942 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 18:01:25.944 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:01:25.946 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 9.3257ms
2025-05-29 18:01:25.947 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:01:25.948 +08:00 [INF] 请求 GET /api/Property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 61ms
2025-05-29 18:01:25.950 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 66.0557ms
2025-05-29 18:01:26.049 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 18:01:26.052 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:01:26.054 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 18:01:26.055 +08:00 [INF] 请求方法: GET
2025-05-29 18:01:26.056 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:01:26.058 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:01:26.059 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:01:26.060 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:01:26.062 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:01:26.064 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2IzYmI4MzItNTYyMC00MGExLWJjOGYtYzQ0NmI4YjI1ODE2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMzODUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.f3LG8zTIwBbu3cJzmaJEOuvWD9h_ruz0BjSNdmb0T6Q
2025-05-29 18:01:26.065 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:01:26.066 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:01:26.067 +08:00 [INF] 请求头: traceparent = 00-cf05e1a041295cae7bda3cc50b707ad2-acc12a580a0b42de-00
2025-05-29 18:01:26.068 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:01:26.070 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:01:26.071 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:01:26.072 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:01:26.073 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:01:26.074 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:01:26.075 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:01:26.076 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:01:26.077 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:01:26.079 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:01:26.079 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:01:26.080 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:01:26.081 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:01:26.082 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:01:26.083 +08:00 [INF] JWT Claim: jti = cb3bb832-5620-40a1-bc8f-c446b8b25816
2025-05-29 18:01:26.084 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:01:26.085 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:01:26.087 +08:00 [INF] JWT Claim: exp = 1748513385
2025-05-29 18:01:26.088 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:01:26.089 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:01:26.090 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:01:26.091 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2IzYmI4MzItNTYyMC00MGExLWJjOGYtYzQ0NmI4YjI1ODE2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMzODUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.f3LG8zTIwBbu3cJzmaJEOuvWD9h_ruz0BjSNdmb0T6Q]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-cf05e1a041295cae7bda3cc50b707ad2-acc12a580a0b42de-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:01:26.097 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:01:26.098 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:01:26.099 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:01:26.103 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:01:26.106 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 18:01:26.109 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 18:01:26.113 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 18:01:26.116 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 18:01:26.118 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 18:01:26.121 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:01:26.122 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 21.4561ms
2025-05-29 18:01:26.124 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:01:26.125 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 72ms
2025-05-29 18:01:26.127 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 77.1832ms
2025-05-29 18:04:58.958 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 18:04:58.961 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:04:58.962 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 18:04:58.963 +08:00 [INF] 请求方法: GET
2025-05-29 18:04:58.964 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:04:58.965 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:04:58.966 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:04:58.968 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:04:58.969 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:04:58.971 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2IzYmI4MzItNTYyMC00MGExLWJjOGYtYzQ0NmI4YjI1ODE2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMzODUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.f3LG8zTIwBbu3cJzmaJEOuvWD9h_ruz0BjSNdmb0T6Q
2025-05-29 18:04:58.972 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:04:58.973 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:04:58.974 +08:00 [INF] 请求头: traceparent = 00-c1c97a5c57a0de1f56033f7fce04148b-6c494fa1bd2ac538-00
2025-05-29 18:04:58.975 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:04:58.977 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:04:58.978 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:04:58.979 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:04:58.980 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:04:58.981 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:04:58.982 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:04:58.983 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:04:58.985 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:04:58.986 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:04:58.987 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:04:58.988 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:04:58.989 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:04:58.990 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:04:58.991 +08:00 [INF] JWT Claim: jti = cb3bb832-5620-40a1-bc8f-c446b8b25816
2025-05-29 18:04:58.992 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:04:58.994 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:04:58.995 +08:00 [INF] JWT Claim: exp = 1748513385
2025-05-29 18:04:58.996 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:04:58.997 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:04:58.998 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:04:58.999 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2IzYmI4MzItNTYyMC00MGExLWJjOGYtYzQ0NmI4YjI1ODE2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMzODUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.f3LG8zTIwBbu3cJzmaJEOuvWD9h_ruz0BjSNdmb0T6Q]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-c1c97a5c57a0de1f56033f7fce04148b-6c494fa1bd2ac538-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:04:59.008 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:04:59.009 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:04:59.011 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:04:59.021 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:04:59.026 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 18:04:59.043 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 18:04:59.046 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 18:04:59.050 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 18:04:59.055 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 18:04:59.058 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:04:59.060 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 48.1347ms
2025-05-29 18:04:59.062 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:04:59.063 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 101ms
2025-05-29 18:04:59.066 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 107.9012ms
2025-05-29 18:04:59.175 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 18:04:59.178 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:04:59.179 +08:00 [INF] 请求路径: /api/Property/QueryProperties
2025-05-29 18:04:59.180 +08:00 [INF] 请求方法: GET
2025-05-29 18:04:59.181 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:04:59.182 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:04:59.183 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:04:59.184 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:04:59.186 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:04:59.188 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2IzYmI4MzItNTYyMC00MGExLWJjOGYtYzQ0NmI4YjI1ODE2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMzODUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.f3LG8zTIwBbu3cJzmaJEOuvWD9h_ruz0BjSNdmb0T6Q
2025-05-29 18:04:59.189 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:04:59.190 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:04:59.192 +08:00 [INF] 请求头: traceparent = 00-fb4e35ee2b48054d1c571d0edeaaeb59-ccae67f6fa9a7903-00
2025-05-29 18:04:59.194 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:04:59.195 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:04:59.196 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:04:59.198 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:04:59.199 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:04:59.200 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:04:59.201 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:04:59.203 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:04:59.204 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:04:59.205 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:04:59.206 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:04:59.207 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:04:59.208 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:04:59.210 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:04:59.212 +08:00 [INF] JWT Claim: jti = cb3bb832-5620-40a1-bc8f-c446b8b25816
2025-05-29 18:04:59.213 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:04:59.215 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:04:59.216 +08:00 [INF] JWT Claim: exp = 1748513385
2025-05-29 18:04:59.218 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:04:59.220 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:04:59.221 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:04:59.222 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2IzYmI4MzItNTYyMC00MGExLWJjOGYtYzQ0NmI4YjI1ODE2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMzODUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.f3LG8zTIwBbu3cJzmaJEOuvWD9h_ruz0BjSNdmb0T6Q]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-fb4e35ee2b48054d1c571d0edeaaeb59-ccae67f6fa9a7903-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:04:59.230 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:04:59.231 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:04:59.233 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:04:59.238 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:04:59.242 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 18:04:59.244 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:04:59.246 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 11.0879ms
2025-05-29 18:04:59.247 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:04:59.248 +08:00 [INF] 请求 GET /api/Property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 70ms
2025-05-29 18:04:59.250 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 75.1957ms
2025-05-29 18:05:09.901 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 18:05:09.904 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:05:09.904 +08:00 [INF] 请求路径: /api/Property/QueryProperties
2025-05-29 18:05:09.905 +08:00 [INF] 请求方法: GET
2025-05-29 18:05:09.906 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:05:09.907 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:05:09.908 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:05:09.910 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:05:09.911 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:05:09.912 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2IzYmI4MzItNTYyMC00MGExLWJjOGYtYzQ0NmI4YjI1ODE2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMzODUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.f3LG8zTIwBbu3cJzmaJEOuvWD9h_ruz0BjSNdmb0T6Q
2025-05-29 18:05:09.913 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:05:09.915 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:05:09.917 +08:00 [INF] 请求头: traceparent = 00-a21910b83009a5cf46d561c564bc074e-2d8b31c380073e52-00
2025-05-29 18:05:09.919 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:05:09.920 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:05:09.921 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:05:09.923 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:05:09.924 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:05:09.926 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:05:09.927 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:05:09.928 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:05:09.929 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:05:09.930 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:05:09.931 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:05:09.932 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:05:09.933 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:05:09.935 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:05:09.936 +08:00 [INF] JWT Claim: jti = cb3bb832-5620-40a1-bc8f-c446b8b25816
2025-05-29 18:05:09.937 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:05:09.938 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:05:09.939 +08:00 [INF] JWT Claim: exp = 1748513385
2025-05-29 18:05:09.940 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:05:09.941 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:05:09.943 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:05:09.944 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2IzYmI4MzItNTYyMC00MGExLWJjOGYtYzQ0NmI4YjI1ODE2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMzODUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.f3LG8zTIwBbu3cJzmaJEOuvWD9h_ruz0BjSNdmb0T6Q]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-a21910b83009a5cf46d561c564bc074e-2d8b31c380073e52-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:05:09.952 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:05:09.954 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:05:09.955 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:05:09.959 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:05:09.966 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 18:05:09.969 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:05:09.971 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 14.0131ms
2025-05-29 18:05:09.972 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:05:09.973 +08:00 [INF] 请求 GET /api/Property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 69ms
2025-05-29 18:05:09.975 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 74.2762ms
2025-05-29 18:05:10.125 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 18:05:10.127 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:05:10.128 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 18:05:10.129 +08:00 [INF] 请求方法: GET
2025-05-29 18:05:10.131 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:05:10.132 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:05:10.133 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:05:10.135 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:05:10.136 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:05:10.137 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2IzYmI4MzItNTYyMC00MGExLWJjOGYtYzQ0NmI4YjI1ODE2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMzODUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.f3LG8zTIwBbu3cJzmaJEOuvWD9h_ruz0BjSNdmb0T6Q
2025-05-29 18:05:10.139 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:05:10.140 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:05:10.141 +08:00 [INF] 请求头: traceparent = 00-f807e938753d997b340be67418bc4d44-3a05c03031e6a3cd-00
2025-05-29 18:05:10.142 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:05:10.143 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:05:10.145 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:05:10.146 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:05:10.147 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:05:10.148 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:05:10.150 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:05:10.151 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:05:10.153 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:05:10.154 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:05:10.155 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:05:10.156 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:05:10.158 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:05:10.160 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:05:10.161 +08:00 [INF] JWT Claim: jti = cb3bb832-5620-40a1-bc8f-c446b8b25816
2025-05-29 18:05:10.163 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:05:10.164 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:05:10.167 +08:00 [INF] JWT Claim: exp = 1748513385
2025-05-29 18:05:10.169 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:05:10.171 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:05:10.173 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:05:10.175 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2IzYmI4MzItNTYyMC00MGExLWJjOGYtYzQ0NmI4YjI1ODE2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMzODUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.f3LG8zTIwBbu3cJzmaJEOuvWD9h_ruz0BjSNdmb0T6Q]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-f807e938753d997b340be67418bc4d44-3a05c03031e6a3cd-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:05:10.188 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:05:10.189 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:05:10.191 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:05:10.196 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:05:10.202 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 18:05:10.206 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 18:05:10.210 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 18:05:10.214 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 18:05:10.219 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 18:05:10.223 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:05:10.225 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 30.769ms
2025-05-29 18:05:10.227 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:05:10.229 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 101ms
2025-05-29 18:05:10.232 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 107.227ms
2025-05-29 18:07:32.496 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 18:07:32.527 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 18:07:32.528 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:07:32.531 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:07:32.532 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 18:07:32.533 +08:00 [INF] 请求路径: /api/Property/QueryProperties
2025-05-29 18:07:32.534 +08:00 [INF] 请求方法: GET
2025-05-29 18:07:32.535 +08:00 [INF] 请求方法: GET
2025-05-29 18:07:32.536 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:07:32.537 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:07:32.538 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:07:32.539 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:07:32.540 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:07:32.541 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:07:32.542 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:07:32.543 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:07:32.544 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:07:32.545 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:07:32.546 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2IzYmI4MzItNTYyMC00MGExLWJjOGYtYzQ0NmI4YjI1ODE2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMzODUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.f3LG8zTIwBbu3cJzmaJEOuvWD9h_ruz0BjSNdmb0T6Q
2025-05-29 18:07:32.547 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2IzYmI4MzItNTYyMC00MGExLWJjOGYtYzQ0NmI4YjI1ODE2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMzODUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.f3LG8zTIwBbu3cJzmaJEOuvWD9h_ruz0BjSNdmb0T6Q
2025-05-29 18:07:32.549 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:07:32.550 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:07:32.551 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:07:32.552 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:07:32.553 +08:00 [INF] 请求头: traceparent = 00-bde733477473260654188e5eeb9d5355-06131bba18a93022-00
2025-05-29 18:07:32.554 +08:00 [INF] 请求头: traceparent = 00-571eb603389e2c58b9ff2ebd55b28489-79263b4c63b8868b-00
2025-05-29 18:07:32.556 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:07:32.556 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:07:32.558 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:07:32.559 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:07:32.560 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:07:32.561 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:07:32.562 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:07:32.563 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:07:32.564 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:07:32.565 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:07:32.567 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:07:32.568 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:07:32.569 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:07:32.570 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:07:32.571 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:07:32.572 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:07:32.573 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:07:32.575 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:07:32.576 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:07:32.576 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:07:32.577 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:07:32.578 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:07:32.579 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:07:32.580 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:07:32.581 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:07:32.582 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:07:32.583 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:07:32.584 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:07:32.587 +08:00 [INF] JWT Claim: jti = cb3bb832-5620-40a1-bc8f-c446b8b25816
2025-05-29 18:07:32.586 +08:00 [INF] JWT Claim: jti = cb3bb832-5620-40a1-bc8f-c446b8b25816
2025-05-29 18:07:32.588 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:07:32.589 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:07:32.590 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:07:32.592 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:07:32.593 +08:00 [INF] JWT Claim: exp = 1748513385
2025-05-29 18:07:32.594 +08:00 [INF] JWT Claim: exp = 1748513385
2025-05-29 18:07:32.595 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:07:32.596 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:07:32.597 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:07:32.598 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:07:32.599 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:07:32.601 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:07:32.601 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2IzYmI4MzItNTYyMC00MGExLWJjOGYtYzQ0NmI4YjI1ODE2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMzODUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.f3LG8zTIwBbu3cJzmaJEOuvWD9h_ruz0BjSNdmb0T6Q]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-571eb603389e2c58b9ff2ebd55b28489-79263b4c63b8868b-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:07:32.602 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2IzYmI4MzItNTYyMC00MGExLWJjOGYtYzQ0NmI4YjI1ODE2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMzODUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.f3LG8zTIwBbu3cJzmaJEOuvWD9h_ruz0BjSNdmb0T6Q]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-bde733477473260654188e5eeb9d5355-06131bba18a93022-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:07:32.611 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:07:32.620 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:07:32.621 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:07:32.622 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:07:32.623 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:07:32.623 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:07:32.638 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:07:32.643 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 18:07:32.645 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:07:32.646 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 20.9268ms
2025-05-29 18:07:32.648 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:07:32.651 +08:00 [INF] 请求 GET /api/Property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 119ms
2025-05-29 18:07:32.654 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:07:32.656 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 128.8511ms
2025-05-29 18:07:32.662 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 18:07:32.669 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 18:07:32.673 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 18:07:32.676 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 18:07:32.682 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 18:07:32.685 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:07:32.687 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 58.0603ms
2025-05-29 18:07:32.689 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:07:32.690 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 161ms
2025-05-29 18:07:32.693 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 196.9487ms
2025-05-29 18:07:36.531 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 18:07:36.535 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:07:36.536 +08:00 [INF] 请求路径: /api/Property/QueryProperties
2025-05-29 18:07:36.537 +08:00 [INF] 请求方法: GET
2025-05-29 18:07:36.538 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:07:36.539 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:07:36.540 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:07:36.542 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:07:36.543 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:07:36.545 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2IzYmI4MzItNTYyMC00MGExLWJjOGYtYzQ0NmI4YjI1ODE2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMzODUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.f3LG8zTIwBbu3cJzmaJEOuvWD9h_ruz0BjSNdmb0T6Q
2025-05-29 18:07:36.547 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:07:36.548 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:07:36.550 +08:00 [INF] 请求头: traceparent = 00-c475914a9660086a0e3ef9b226acc5eb-b6a14e81ee1c5882-00
2025-05-29 18:07:36.551 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:07:36.553 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:07:36.554 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:07:36.556 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:07:36.557 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:07:36.559 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:07:36.560 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:07:36.561 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:07:36.562 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:07:36.563 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:07:36.564 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:07:36.565 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:07:36.567 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:07:36.568 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:07:36.569 +08:00 [INF] JWT Claim: jti = cb3bb832-5620-40a1-bc8f-c446b8b25816
2025-05-29 18:07:36.570 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:07:36.572 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:07:36.573 +08:00 [INF] JWT Claim: exp = 1748513385
2025-05-29 18:07:36.574 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:07:36.576 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:07:36.577 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:07:36.578 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2IzYmI4MzItNTYyMC00MGExLWJjOGYtYzQ0NmI4YjI1ODE2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMzODUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.f3LG8zTIwBbu3cJzmaJEOuvWD9h_ruz0BjSNdmb0T6Q]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-c475914a9660086a0e3ef9b226acc5eb-b6a14e81ee1c5882-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:07:36.587 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:07:36.588 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:07:36.590 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:07:36.598 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:07:36.605 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 18:07:36.609 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:07:36.611 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 18.4778ms
2025-05-29 18:07:36.612 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:07:36.614 +08:00 [INF] 请求 GET /api/Property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 78ms
2025-05-29 18:07:36.616 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 84.5196ms
2025-05-29 18:07:36.800 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 18:07:36.804 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:07:36.804 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 18:07:36.805 +08:00 [INF] 请求方法: GET
2025-05-29 18:07:36.807 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:07:36.808 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:07:36.810 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:07:36.811 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:07:36.812 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:07:36.813 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2IzYmI4MzItNTYyMC00MGExLWJjOGYtYzQ0NmI4YjI1ODE2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMzODUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.f3LG8zTIwBbu3cJzmaJEOuvWD9h_ruz0BjSNdmb0T6Q
2025-05-29 18:07:36.814 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:07:36.815 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:07:36.817 +08:00 [INF] 请求头: traceparent = 00-f3528ca30e7e83cbe2e63b0dfeac99db-69074ce61a54d77d-00
2025-05-29 18:07:36.818 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:07:36.820 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:07:36.821 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:07:36.822 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:07:36.823 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:07:36.824 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:07:36.826 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:07:36.827 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:07:36.828 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:07:36.829 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:07:36.830 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:07:36.831 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:07:36.832 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:07:36.833 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:07:36.835 +08:00 [INF] JWT Claim: jti = cb3bb832-5620-40a1-bc8f-c446b8b25816
2025-05-29 18:07:36.836 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:07:36.837 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:07:36.838 +08:00 [INF] JWT Claim: exp = 1748513385
2025-05-29 18:07:36.839 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:07:36.840 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:07:36.842 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:07:36.843 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2IzYmI4MzItNTYyMC00MGExLWJjOGYtYzQ0NmI4YjI1ODE2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMzODUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.f3LG8zTIwBbu3cJzmaJEOuvWD9h_ruz0BjSNdmb0T6Q]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-f3528ca30e7e83cbe2e63b0dfeac99db-69074ce61a54d77d-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:07:36.850 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:07:36.852 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:07:36.853 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:07:36.857 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:07:36.863 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 18:07:36.867 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 18:07:36.870 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 18:07:36.873 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 18:07:36.880 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 18:07:36.882 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:07:36.884 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 28.8249ms
2025-05-29 18:07:36.886 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:07:36.887 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 83ms
2025-05-29 18:07:36.889 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 88.8883ms
2025-05-29 18:08:03.861 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 18:08:03.873 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:08:03.874 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 18:08:03.875 +08:00 [INF] 请求方法: GET
2025-05-29 18:08:03.876 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:08:03.878 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:08:03.879 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:08:03.880 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:08:03.881 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:08:03.882 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2IzYmI4MzItNTYyMC00MGExLWJjOGYtYzQ0NmI4YjI1ODE2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMzODUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.f3LG8zTIwBbu3cJzmaJEOuvWD9h_ruz0BjSNdmb0T6Q
2025-05-29 18:08:03.884 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 18:08:03.885 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:08:03.894 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:08:03.895 +08:00 [INF] 请求路径: /api/Property/QueryProperties
2025-05-29 18:08:03.895 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:08:03.896 +08:00 [INF] 请求方法: GET
2025-05-29 18:08:03.897 +08:00 [INF] 请求头: traceparent = 00-aba5f6a56d4b281ed87b4be749319193-d00652ee18366d7b-00
2025-05-29 18:08:03.898 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:08:03.899 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:08:03.900 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:08:03.901 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:08:03.903 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:08:03.904 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:08:03.905 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:08:03.906 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:08:03.907 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:08:03.908 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:08:03.909 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2IzYmI4MzItNTYyMC00MGExLWJjOGYtYzQ0NmI4YjI1ODE2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMzODUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.f3LG8zTIwBbu3cJzmaJEOuvWD9h_ruz0BjSNdmb0T6Q
2025-05-29 18:08:03.911 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:08:03.912 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:08:03.914 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:08:03.915 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:08:03.916 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:08:03.918 +08:00 [INF] 请求头: traceparent = 00-3715eec031dfba6f94eacddd4c52b9fb-dec36518a96a4914-00
2025-05-29 18:08:03.919 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:08:03.920 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:08:03.921 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:08:03.922 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:08:03.923 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:08:03.924 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:08:03.925 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:08:03.926 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:08:03.928 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:08:03.929 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:08:03.930 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:08:03.931 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:08:03.932 +08:00 [INF] JWT Claim: jti = cb3bb832-5620-40a1-bc8f-c446b8b25816
2025-05-29 18:08:03.933 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:08:03.934 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:08:03.935 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:08:03.936 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:08:03.938 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:08:03.939 +08:00 [INF] JWT Claim: exp = 1748513385
2025-05-29 18:08:03.939 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:08:03.940 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:08:03.941 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:08:03.942 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:08:03.943 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:08:03.945 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:08:03.946 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:08:03.946 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2IzYmI4MzItNTYyMC00MGExLWJjOGYtYzQ0NmI4YjI1ODE2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMzODUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.f3LG8zTIwBbu3cJzmaJEOuvWD9h_ruz0BjSNdmb0T6Q]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-aba5f6a56d4b281ed87b4be749319193-d00652ee18366d7b-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:08:03.947 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:08:03.956 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:08:03.956 +08:00 [INF] JWT Claim: jti = cb3bb832-5620-40a1-bc8f-c446b8b25816
2025-05-29 18:08:03.957 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:08:03.958 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:08:03.959 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:08:03.960 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:08:03.964 +08:00 [INF] JWT Claim: exp = 1748513385
2025-05-29 18:08:03.964 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:08:03.965 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:08:03.968 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 18:08:03.969 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:08:03.971 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 18:08:03.972 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:08:03.974 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 18:08:03.976 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2IzYmI4MzItNTYyMC00MGExLWJjOGYtYzQ0NmI4YjI1ODE2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMzODUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.f3LG8zTIwBbu3cJzmaJEOuvWD9h_ruz0BjSNdmb0T6Q]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-3715eec031dfba6f94eacddd4c52b9fb-dec36518a96a4914-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:08:03.985 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 18:08:03.992 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:08:03.995 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 18:08:03.996 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:08:03.997 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:08:03.998 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:08:04.000 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 37.7818ms
2025-05-29 18:08:04.004 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:08:04.004 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:08:04.010 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 136ms
2025-05-29 18:08:04.014 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 18:08:04.015 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 154.3488ms
2025-05-29 18:08:04.018 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:08:04.024 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 22.8855ms
2025-05-29 18:08:04.026 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:08:04.028 +08:00 [INF] 请求 GET /api/Property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 134ms
2025-05-29 18:08:04.031 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 147.7061ms
2025-05-29 18:08:06.655 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 18:08:06.658 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:08:06.660 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 18:08:06.661 +08:00 [INF] 请求方法: GET
2025-05-29 18:08:06.662 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:08:06.663 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:08:06.665 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:08:06.666 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:08:06.668 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:08:06.669 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2IzYmI4MzItNTYyMC00MGExLWJjOGYtYzQ0NmI4YjI1ODE2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMzODUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.f3LG8zTIwBbu3cJzmaJEOuvWD9h_ruz0BjSNdmb0T6Q
2025-05-29 18:08:06.670 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:08:06.672 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:08:06.673 +08:00 [INF] 请求头: traceparent = 00-4b3a8a770442746664aeea6d8d5b221b-a68c2a376a58ff08-00
2025-05-29 18:08:06.675 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:08:06.676 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:08:06.677 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:08:06.679 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:08:06.680 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:08:06.681 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:08:06.683 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:08:06.684 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:08:06.685 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:08:06.686 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:08:06.686 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:08:06.688 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:08:06.689 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:08:06.690 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:08:06.692 +08:00 [INF] JWT Claim: jti = cb3bb832-5620-40a1-bc8f-c446b8b25816
2025-05-29 18:08:06.693 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:08:06.695 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:08:06.696 +08:00 [INF] JWT Claim: exp = 1748513385
2025-05-29 18:08:06.697 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:08:06.698 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:08:06.700 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:08:06.701 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2IzYmI4MzItNTYyMC00MGExLWJjOGYtYzQ0NmI4YjI1ODE2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMzODUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.f3LG8zTIwBbu3cJzmaJEOuvWD9h_ruz0BjSNdmb0T6Q]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-4b3a8a770442746664aeea6d8d5b221b-a68c2a376a58ff08-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:08:06.711 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:08:06.712 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:08:06.714 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:08:06.721 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:08:06.730 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 18:08:06.734 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 18:08:06.737 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 18:08:06.741 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 18:08:06.745 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 18:08:06.747 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:08:06.749 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 32.6161ms
2025-05-29 18:08:06.751 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:08:06.752 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 93ms
2025-05-29 18:08:06.754 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 99.3126ms
2025-05-29 18:08:06.886 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 18:08:06.889 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:08:06.890 +08:00 [INF] 请求路径: /api/Property/QueryProperties
2025-05-29 18:08:06.892 +08:00 [INF] 请求方法: GET
2025-05-29 18:08:06.892 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:08:06.894 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:08:06.895 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:08:06.896 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:08:06.897 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:08:06.899 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2IzYmI4MzItNTYyMC00MGExLWJjOGYtYzQ0NmI4YjI1ODE2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMzODUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.f3LG8zTIwBbu3cJzmaJEOuvWD9h_ruz0BjSNdmb0T6Q
2025-05-29 18:08:06.900 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:08:06.902 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:08:06.903 +08:00 [INF] 请求头: traceparent = 00-f1ff076d22c0cfbc3837081405ea79e0-515048f121ec03fe-00
2025-05-29 18:08:06.904 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:08:06.905 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:08:06.906 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:08:06.908 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:08:06.909 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:08:06.910 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:08:06.911 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:08:06.912 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:08:06.913 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:08:06.914 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:08:06.915 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:08:06.916 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:08:06.917 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:08:06.919 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:08:06.920 +08:00 [INF] JWT Claim: jti = cb3bb832-5620-40a1-bc8f-c446b8b25816
2025-05-29 18:08:06.921 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:08:06.922 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:08:06.923 +08:00 [INF] JWT Claim: exp = 1748513385
2025-05-29 18:08:06.924 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:08:06.925 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:08:06.926 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:08:06.927 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2IzYmI4MzItNTYyMC00MGExLWJjOGYtYzQ0NmI4YjI1ODE2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMzODUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.f3LG8zTIwBbu3cJzmaJEOuvWD9h_ruz0BjSNdmb0T6Q]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-f1ff076d22c0cfbc3837081405ea79e0-515048f121ec03fe-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:08:06.934 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:08:06.935 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:08:06.936 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:08:06.940 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:08:06.944 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 18:08:06.946 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:08:06.948 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 9.5933ms
2025-05-29 18:08:06.949 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:08:06.950 +08:00 [INF] 请求 GET /api/Property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 60ms
2025-05-29 18:08:06.952 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 65.9717ms
2025-05-29 18:08:13.311 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 18:08:13.314 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:08:13.315 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 18:08:13.316 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 18:08:13.316 +08:00 [INF] 请求方法: GET
2025-05-29 18:08:13.319 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:08:13.320 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:08:13.321 +08:00 [INF] 请求路径: /api/Property/QueryProperties
2025-05-29 18:08:13.322 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:08:13.323 +08:00 [INF] 请求方法: GET
2025-05-29 18:08:13.324 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:08:13.325 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:08:13.326 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:08:13.328 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:08:13.329 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:08:13.331 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2IzYmI4MzItNTYyMC00MGExLWJjOGYtYzQ0NmI4YjI1ODE2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMzODUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.f3LG8zTIwBbu3cJzmaJEOuvWD9h_ruz0BjSNdmb0T6Q
2025-05-29 18:08:13.330 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:08:13.332 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:08:13.333 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:08:13.334 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:08:13.335 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:08:13.337 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2IzYmI4MzItNTYyMC00MGExLWJjOGYtYzQ0NmI4YjI1ODE2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMzODUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.f3LG8zTIwBbu3cJzmaJEOuvWD9h_ruz0BjSNdmb0T6Q
2025-05-29 18:08:13.336 +08:00 [INF] 请求头: traceparent = 00-3e7c59f1e6109a77721a84f4944d49bf-ddde668cc29087ed-00
2025-05-29 18:08:13.339 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:08:13.340 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:08:13.341 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:08:13.342 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:08:13.343 +08:00 [INF] 请求头: traceparent = 00-12eb238ed58507e2e42b19326e38bdeb-ff4000f99fd3965c-00
2025-05-29 18:08:13.344 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:08:13.345 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:08:13.346 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:08:13.347 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:08:13.348 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:08:13.349 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:08:13.351 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:08:13.352 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:08:13.353 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:08:13.354 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:08:13.355 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:08:13.356 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:08:13.357 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:08:13.359 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:08:13.359 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:08:13.360 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:08:13.361 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:08:13.362 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:08:13.363 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:08:13.364 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:08:13.365 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:08:13.366 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:08:13.367 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:08:13.368 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:08:13.369 +08:00 [INF] JWT Claim: jti = cb3bb832-5620-40a1-bc8f-c446b8b25816
2025-05-29 18:08:13.370 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:08:13.372 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:08:13.372 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:08:13.373 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:08:13.375 +08:00 [INF] JWT Claim: jti = cb3bb832-5620-40a1-bc8f-c446b8b25816
2025-05-29 18:08:13.376 +08:00 [INF] JWT Claim: exp = 1748513385
2025-05-29 18:08:13.378 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:08:13.379 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:08:13.380 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:08:13.381 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:08:13.382 +08:00 [INF] JWT Claim: exp = 1748513385
2025-05-29 18:08:13.384 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:08:13.385 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:08:13.386 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2IzYmI4MzItNTYyMC00MGExLWJjOGYtYzQ0NmI4YjI1ODE2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMzODUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.f3LG8zTIwBbu3cJzmaJEOuvWD9h_ruz0BjSNdmb0T6Q]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-3e7c59f1e6109a77721a84f4944d49bf-ddde668cc29087ed-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:08:13.387 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:08:13.394 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:08:13.395 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:08:13.396 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:08:13.397 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2IzYmI4MzItNTYyMC00MGExLWJjOGYtYzQ0NmI4YjI1ODE2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMzODUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.f3LG8zTIwBbu3cJzmaJEOuvWD9h_ruz0BjSNdmb0T6Q]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-12eb238ed58507e2e42b19326e38bdeb-ff4000f99fd3965c-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:08:13.398 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:08:13.405 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:08:13.408 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:08:13.408 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:08:13.409 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:08:13.412 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 18:08:13.415 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:08:13.418 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 18:08:13.420 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 18:08:13.422 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 18:08:13.423 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:08:13.426 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 18:08:13.427 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 13.4529ms
2025-05-29 18:08:13.429 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 18:08:13.430 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:08:13.432 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:08:13.433 +08:00 [INF] 请求 GET /api/Property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 113ms
2025-05-29 18:08:13.434 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 28.5125ms
2025-05-29 18:08:13.437 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 120.7402ms
2025-05-29 18:08:13.438 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:08:13.443 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 128ms
2025-05-29 18:08:13.446 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 134.4271ms
2025-05-29 18:08:23.197 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 18:08:23.200 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:08:23.201 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 18:08:23.202 +08:00 [INF] 请求方法: GET
2025-05-29 18:08:23.203 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:08:23.204 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:08:23.205 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:08:23.206 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:08:23.207 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:08:23.208 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2IzYmI4MzItNTYyMC00MGExLWJjOGYtYzQ0NmI4YjI1ODE2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMzODUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.f3LG8zTIwBbu3cJzmaJEOuvWD9h_ruz0BjSNdmb0T6Q
2025-05-29 18:08:23.210 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:08:23.211 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:08:23.212 +08:00 [INF] 请求头: traceparent = 00-f2b45263a74858d82a0e0aca2d475af2-a991a514c1768dcb-00
2025-05-29 18:08:23.213 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:08:23.214 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:08:23.215 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:08:23.217 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:08:23.218 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:08:23.219 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:08:23.220 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:08:23.221 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:08:23.222 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:08:23.223 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:08:23.224 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:08:23.226 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:08:23.227 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:08:23.228 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:08:23.229 +08:00 [INF] JWT Claim: jti = cb3bb832-5620-40a1-bc8f-c446b8b25816
2025-05-29 18:08:23.230 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:08:23.231 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:08:23.232 +08:00 [INF] JWT Claim: exp = 1748513385
2025-05-29 18:08:23.233 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:08:23.235 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:08:23.236 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:08:23.237 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2IzYmI4MzItNTYyMC00MGExLWJjOGYtYzQ0NmI4YjI1ODE2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTMzODUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.f3LG8zTIwBbu3cJzmaJEOuvWD9h_ruz0BjSNdmb0T6Q]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-f2b45263a74858d82a0e0aca2d475af2-a991a514c1768dcb-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:08:23.244 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:08:23.245 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:08:23.246 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:08:23.250 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:08:23.253 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 18:08:23.256 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 18:08:23.259 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 18:08:23.262 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 18:08:23.264 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 18:08:23.266 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:08:23.267 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 19.9133ms
2025-05-29 18:08:23.269 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:08:23.270 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 70ms
2025-05-29 18:08:23.272 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 74.9577ms
2025-05-29 18:10:02.827 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 18:10:02.830 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:10:02.830 +08:00 [INF] 请求路径: /api/Property/QueryProperties
2025-05-29 18:10:02.832 +08:00 [INF] 请求方法: GET
2025-05-29 18:10:02.833 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:10:02.835 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:10:02.836 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:10:02.837 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:10:02.838 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:10:02.839 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMGYzZThmNDYtMTExMi00NDg4LWExN2ItNjQ5YWU1YTkzMWE3IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTQwMDIsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.KlSkd6uWcYyqoCjBvNSooRWHPGcjhWdqHLNVemWB6jU
2025-05-29 18:10:02.841 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:10:02.843 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:10:02.844 +08:00 [INF] 请求头: traceparent = 00-b66ab7c4c4a81e0b2ddc30353dba8262-47a4c7b82ebe156f-00
2025-05-29 18:10:02.845 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:10:02.846 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:10:02.847 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:10:02.849 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:10:02.850 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:10:02.851 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:10:02.853 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:10:02.854 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:10:02.855 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:10:02.855 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:10:02.856 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:10:02.857 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:10:02.859 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:10:02.860 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:10:02.861 +08:00 [INF] JWT Claim: jti = 0f3e8f46-1112-4488-a17b-649ae5a931a7
2025-05-29 18:10:02.862 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:10:02.863 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:10:02.865 +08:00 [INF] JWT Claim: exp = 1748514002
2025-05-29 18:10:02.866 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:10:02.867 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:10:02.869 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:10:02.869 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMGYzZThmNDYtMTExMi00NDg4LWExN2ItNjQ5YWU1YTkzMWE3IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTQwMDIsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.KlSkd6uWcYyqoCjBvNSooRWHPGcjhWdqHLNVemWB6jU]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-b66ab7c4c4a81e0b2ddc30353dba8262-47a4c7b82ebe156f-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:10:02.877 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:10:02.878 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:10:02.879 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:10:02.887 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:10:02.894 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 18:10:02.896 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:10:02.898 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 16.9168ms
2025-05-29 18:10:02.900 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:10:02.901 +08:00 [INF] 请求 GET /api/Property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 71ms
2025-05-29 18:10:02.903 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 76.5435ms
2025-05-29 18:10:03.026 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 18:10:03.030 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:10:03.031 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 18:10:03.032 +08:00 [INF] 请求方法: GET
2025-05-29 18:10:03.033 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:10:03.034 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:10:03.035 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:10:03.036 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:10:03.037 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:10:03.038 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMGYzZThmNDYtMTExMi00NDg4LWExN2ItNjQ5YWU1YTkzMWE3IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTQwMDIsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.KlSkd6uWcYyqoCjBvNSooRWHPGcjhWdqHLNVemWB6jU
2025-05-29 18:10:03.039 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:10:03.041 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:10:03.042 +08:00 [INF] 请求头: traceparent = 00-808461ad7f1c9c7b234431034e9183cc-67f69fcad78e2ffe-00
2025-05-29 18:10:03.043 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:10:03.045 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:10:03.046 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:10:03.047 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:10:03.048 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:10:03.049 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:10:03.050 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:10:03.051 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:10:03.052 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:10:03.053 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:10:03.054 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:10:03.055 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:10:03.056 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:10:03.057 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:10:03.058 +08:00 [INF] JWT Claim: jti = 0f3e8f46-1112-4488-a17b-649ae5a931a7
2025-05-29 18:10:03.059 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:10:03.060 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:10:03.061 +08:00 [INF] JWT Claim: exp = 1748514002
2025-05-29 18:10:03.062 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:10:03.063 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:10:03.064 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:10:03.065 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMGYzZThmNDYtMTExMi00NDg4LWExN2ItNjQ5YWU1YTkzMWE3IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTQwMDIsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.KlSkd6uWcYyqoCjBvNSooRWHPGcjhWdqHLNVemWB6jU]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-808461ad7f1c9c7b234431034e9183cc-67f69fcad78e2ffe-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:10:03.072 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:10:03.074 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:10:03.075 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:10:03.079 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:10:03.083 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 18:10:03.086 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 18:10:03.088 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 18:10:03.091 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 18:10:03.097 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 18:10:03.100 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:10:03.101 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 24.3304ms
2025-05-29 18:10:03.103 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:10:03.104 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 73ms
2025-05-29 18:10:03.105 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 79.1637ms
2025-05-29 18:11:30.148 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 18:11:30.159 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 18:11:30.161 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:11:30.164 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:11:30.165 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 18:11:30.166 +08:00 [INF] 请求路径: /api/Property/QueryProperties
2025-05-29 18:11:30.167 +08:00 [INF] 请求方法: GET
2025-05-29 18:11:30.168 +08:00 [INF] 请求方法: GET
2025-05-29 18:11:30.168 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:11:30.169 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:11:30.171 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:11:30.172 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:11:30.173 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:11:30.174 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:11:30.176 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:11:30.177 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:11:30.178 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:11:30.179 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:11:30.181 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMGYzZThmNDYtMTExMi00NDg4LWExN2ItNjQ5YWU1YTkzMWE3IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTQwMDIsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.KlSkd6uWcYyqoCjBvNSooRWHPGcjhWdqHLNVemWB6jU
2025-05-29 18:11:30.182 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMGYzZThmNDYtMTExMi00NDg4LWExN2ItNjQ5YWU1YTkzMWE3IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTQwMDIsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.KlSkd6uWcYyqoCjBvNSooRWHPGcjhWdqHLNVemWB6jU
2025-05-29 18:11:30.183 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:11:30.184 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:11:30.185 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:11:30.186 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:11:30.188 +08:00 [INF] 请求头: traceparent = 00-c513aa4d92b8a2b0d1f1fc912e0bc69c-7a6cd894dc5e6e41-00
2025-05-29 18:11:30.189 +08:00 [INF] 请求头: traceparent = 00-26a7139dacea59768d00a60f119be2af-a2341a04abbb057f-00
2025-05-29 18:11:30.190 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:11:30.191 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:11:30.192 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:11:30.194 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:11:30.195 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:11:30.193 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:11:30.196 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:11:30.197 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:11:30.198 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:11:30.199 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:11:30.201 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:11:30.202 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:11:30.204 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:11:30.203 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:11:30.205 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:11:30.206 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:11:30.207 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:11:30.208 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:11:30.209 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:11:30.209 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:11:30.210 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:11:30.211 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:11:30.212 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:11:30.213 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:11:30.213 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:11:30.214 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:11:30.215 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:11:30.216 +08:00 [INF] JWT Claim: jti = 0f3e8f46-1112-4488-a17b-649ae5a931a7
2025-05-29 18:11:30.217 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:11:30.219 +08:00 [INF] JWT Claim: jti = 0f3e8f46-1112-4488-a17b-649ae5a931a7
2025-05-29 18:11:30.220 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:11:30.218 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:11:30.221 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:11:30.223 +08:00 [INF] JWT Claim: exp = 1748514002
2025-05-29 18:11:30.224 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:11:30.225 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:11:30.226 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:11:30.222 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:11:30.228 +08:00 [INF] JWT Claim: exp = 1748514002
2025-05-29 18:11:30.229 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:11:30.227 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMGYzZThmNDYtMTExMi00NDg4LWExN2ItNjQ5YWU1YTkzMWE3IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTQwMDIsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.KlSkd6uWcYyqoCjBvNSooRWHPGcjhWdqHLNVemWB6jU]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-26a7139dacea59768d00a60f119be2af-a2341a04abbb057f-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:11:30.230 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:11:30.236 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:11:30.237 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:11:30.238 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:11:30.239 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMGYzZThmNDYtMTExMi00NDg4LWExN2ItNjQ5YWU1YTkzMWE3IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTQwMDIsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.KlSkd6uWcYyqoCjBvNSooRWHPGcjhWdqHLNVemWB6jU]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-c513aa4d92b8a2b0d1f1fc912e0bc69c-7a6cd894dc5e6e41-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:11:30.240 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:11:30.247 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:11:30.249 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:11:30.251 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:11:30.252 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:11:30.255 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:11:30.258 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 18:11:30.260 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 18:11:30.261 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:11:30.263 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 18:11:30.264 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 15.9828ms
2025-05-29 18:11:30.267 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 18:11:30.267 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:11:30.270 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 18:11:30.270 +08:00 [INF] 请求 GET /api/Property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 106ms
2025-05-29 18:11:30.275 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 115.3822ms
2025-05-29 18:11:30.275 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 18:11:30.281 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:11:30.283 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 29.7379ms
2025-05-29 18:11:30.285 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:11:30.286 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 124ms
2025-05-29 18:11:30.288 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 139.7212ms
2025-05-29 18:11:42.410 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 18:11:42.412 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:11:42.413 +08:00 [INF] 请求路径: /api/Property/QueryProperties
2025-05-29 18:11:42.414 +08:00 [INF] 请求方法: GET
2025-05-29 18:11:42.415 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:11:42.416 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:11:42.417 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 18:11:42.418 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:11:42.420 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:11:42.421 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:11:42.422 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 18:11:42.423 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:11:42.424 +08:00 [INF] 请求方法: GET
2025-05-29 18:11:42.425 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMGYzZThmNDYtMTExMi00NDg4LWExN2ItNjQ5YWU1YTkzMWE3IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTQwMDIsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.KlSkd6uWcYyqoCjBvNSooRWHPGcjhWdqHLNVemWB6jU
2025-05-29 18:11:42.426 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:11:42.427 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:11:42.429 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:11:42.430 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:11:42.431 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:11:42.432 +08:00 [INF] 请求头: traceparent = 00-2852454fb5e238e0a6bd003c77be384f-3cf1ea3d0b8218ec-00
2025-05-29 18:11:42.433 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:11:42.434 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:11:42.436 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:11:42.437 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:11:42.438 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMGYzZThmNDYtMTExMi00NDg4LWExN2ItNjQ5YWU1YTkzMWE3IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTQwMDIsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.KlSkd6uWcYyqoCjBvNSooRWHPGcjhWdqHLNVemWB6jU
2025-05-29 18:11:42.439 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:11:42.440 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:11:42.442 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:11:42.443 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:11:42.444 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:11:42.445 +08:00 [INF] 请求头: traceparent = 00-3016cf42d4daaa70067b07ac82828a3a-1280a91e795bfd5b-00
2025-05-29 18:11:42.446 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:11:42.448 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:11:42.449 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:11:42.450 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:11:42.451 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:11:42.452 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:11:42.453 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:11:42.454 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:11:42.455 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:11:42.456 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:11:42.457 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:11:42.458 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:11:42.459 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:11:42.460 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:11:42.462 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:11:42.461 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:11:42.463 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:11:42.465 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:11:42.465 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:11:42.466 +08:00 [INF] JWT Claim: jti = 0f3e8f46-1112-4488-a17b-649ae5a931a7
2025-05-29 18:11:42.467 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:11:42.468 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:11:42.469 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:11:42.470 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:11:42.471 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:11:42.472 +08:00 [INF] JWT Claim: exp = 1748514002
2025-05-29 18:11:42.473 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:11:42.474 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:11:42.476 +08:00 [INF] JWT Claim: jti = 0f3e8f46-1112-4488-a17b-649ae5a931a7
2025-05-29 18:11:42.477 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:11:42.478 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:11:42.479 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:11:42.480 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:11:42.481 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMGYzZThmNDYtMTExMi00NDg4LWExN2ItNjQ5YWU1YTkzMWE3IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTQwMDIsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.KlSkd6uWcYyqoCjBvNSooRWHPGcjhWdqHLNVemWB6jU]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-2852454fb5e238e0a6bd003c77be384f-3cf1ea3d0b8218ec-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:11:42.482 +08:00 [INF] JWT Claim: exp = 1748514002
2025-05-29 18:11:42.490 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:11:42.491 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:11:42.492 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:11:42.493 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:11:42.494 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:11:42.495 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:11:42.498 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMGYzZThmNDYtMTExMi00NDg4LWExN2ItNjQ5YWU1YTkzMWE3IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTQwMDIsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.KlSkd6uWcYyqoCjBvNSooRWHPGcjhWdqHLNVemWB6jU]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-3016cf42d4daaa70067b07ac82828a3a-1280a91e795bfd5b-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:11:42.500 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:11:42.509 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:11:42.513 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 18:11:42.513 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:11:42.515 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:11:42.516 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:11:42.518 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 20.499ms
2025-05-29 18:11:42.522 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:11:42.523 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:11:42.527 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 18:11:42.527 +08:00 [INF] 请求 GET /api/Property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 115ms
2025-05-29 18:11:42.531 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 18:11:42.533 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 123.1143ms
2025-05-29 18:11:42.536 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 18:11:42.543 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 18:11:42.547 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 18:11:42.550 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:11:42.552 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 33.3221ms
2025-05-29 18:11:42.554 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:11:42.556 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 136ms
2025-05-29 18:11:42.559 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 141.8011ms
2025-05-29 18:12:23.555 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 18:12:23.557 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:12:23.558 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 18:12:23.559 +08:00 [INF] 请求方法: GET
2025-05-29 18:12:23.561 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:12:23.562 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:12:23.564 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:12:23.565 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:12:23.566 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:12:23.568 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMGYzZThmNDYtMTExMi00NDg4LWExN2ItNjQ5YWU1YTkzMWE3IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTQwMDIsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.KlSkd6uWcYyqoCjBvNSooRWHPGcjhWdqHLNVemWB6jU
2025-05-29 18:12:23.569 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:12:23.571 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:12:23.572 +08:00 [INF] 请求头: traceparent = 00-b4a9f65c096edeafa44954eaa7558d1e-28f1a16324518992-00
2025-05-29 18:12:23.573 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:12:23.574 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:12:23.575 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:12:23.577 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:12:23.578 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:12:23.579 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:12:23.580 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:12:23.582 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:12:23.583 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:12:23.584 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:12:23.584 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:12:23.585 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:12:23.587 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:12:23.588 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:12:23.589 +08:00 [INF] JWT Claim: jti = 0f3e8f46-1112-4488-a17b-649ae5a931a7
2025-05-29 18:12:23.590 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:12:23.592 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:12:23.593 +08:00 [INF] JWT Claim: exp = 1748514002
2025-05-29 18:12:23.594 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:12:23.595 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:12:23.597 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:12:23.597 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMGYzZThmNDYtMTExMi00NDg4LWExN2ItNjQ5YWU1YTkzMWE3IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTQwMDIsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.KlSkd6uWcYyqoCjBvNSooRWHPGcjhWdqHLNVemWB6jU]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-b4a9f65c096edeafa44954eaa7558d1e-28f1a16324518992-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:12:23.605 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:12:23.606 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:12:23.607 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:12:23.620 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:12:23.625 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 18:12:23.629 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 18:12:23.632 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 18:12:23.635 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 18:12:23.640 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 18:12:23.643 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:12:23.644 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 35.2522ms
2025-05-29 18:12:23.646 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:12:23.647 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 89ms
2025-05-29 18:12:23.649 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 94.6148ms
2025-05-29 18:12:23.692 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 18:12:23.695 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:12:23.696 +08:00 [INF] 请求路径: /api/Property/QueryProperties
2025-05-29 18:12:23.697 +08:00 [INF] 请求方法: GET
2025-05-29 18:12:23.698 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:12:23.699 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:12:23.700 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:12:23.701 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:12:23.703 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:12:23.704 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMGYzZThmNDYtMTExMi00NDg4LWExN2ItNjQ5YWU1YTkzMWE3IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTQwMDIsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.KlSkd6uWcYyqoCjBvNSooRWHPGcjhWdqHLNVemWB6jU
2025-05-29 18:12:23.705 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:12:23.707 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:12:23.708 +08:00 [INF] 请求头: traceparent = 00-49aed4b22b87417ae79cc7be73de3341-e37ecedc33ea18b1-00
2025-05-29 18:12:23.709 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:12:23.710 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:12:23.711 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:12:23.712 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:12:23.713 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:12:23.714 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:12:23.715 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:12:23.716 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:12:23.717 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:12:23.718 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:12:23.719 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:12:23.720 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:12:23.721 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:12:23.722 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:12:23.723 +08:00 [INF] JWT Claim: jti = 0f3e8f46-1112-4488-a17b-649ae5a931a7
2025-05-29 18:12:23.724 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:12:23.725 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:12:23.726 +08:00 [INF] JWT Claim: exp = 1748514002
2025-05-29 18:12:23.727 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:12:23.728 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:12:23.729 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:12:23.730 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMGYzZThmNDYtMTExMi00NDg4LWExN2ItNjQ5YWU1YTkzMWE3IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTQwMDIsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.KlSkd6uWcYyqoCjBvNSooRWHPGcjhWdqHLNVemWB6jU]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-49aed4b22b87417ae79cc7be73de3341-e37ecedc33ea18b1-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:12:23.736 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:12:23.737 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:12:23.738 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:12:23.741 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:12:23.747 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 18:12:23.749 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:12:23.751 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 10.9946ms
2025-05-29 18:12:23.752 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:12:23.754 +08:00 [INF] 请求 GET /api/Property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 58ms
2025-05-29 18:12:23.756 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 64.2164ms
2025-05-29 18:12:33.268 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 18:12:33.272 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:12:33.273 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 18:12:33.274 +08:00 [INF] 请求方法: GET
2025-05-29 18:12:33.275 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:12:33.277 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:12:33.278 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:12:33.280 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:12:33.282 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:12:33.283 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMGYzZThmNDYtMTExMi00NDg4LWExN2ItNjQ5YWU1YTkzMWE3IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTQwMDIsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.KlSkd6uWcYyqoCjBvNSooRWHPGcjhWdqHLNVemWB6jU
2025-05-29 18:12:33.285 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:12:33.287 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:12:33.288 +08:00 [INF] 请求头: traceparent = 00-4f5fffe37d7bdf933aa43eed500a5901-a1bd5a10abbd66d5-00
2025-05-29 18:12:33.290 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:12:33.291 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:12:33.293 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:12:33.294 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:12:33.296 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:12:33.297 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:12:33.299 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:12:33.301 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:12:33.302 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:12:33.303 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:12:33.304 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:12:33.306 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:12:33.307 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:12:33.309 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:12:33.310 +08:00 [INF] JWT Claim: jti = 0f3e8f46-1112-4488-a17b-649ae5a931a7
2025-05-29 18:12:33.312 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:12:33.314 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:12:33.315 +08:00 [INF] JWT Claim: exp = 1748514002
2025-05-29 18:12:33.316 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:12:33.318 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:12:33.319 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:12:33.320 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMGYzZThmNDYtMTExMi00NDg4LWExN2ItNjQ5YWU1YTkzMWE3IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTQwMDIsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.KlSkd6uWcYyqoCjBvNSooRWHPGcjhWdqHLNVemWB6jU]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-4f5fffe37d7bdf933aa43eed500a5901-a1bd5a10abbd66d5-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:12:33.330 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:12:33.332 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:12:33.333 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:12:33.339 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:12:33.346 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 18:12:33.356 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 18:12:33.361 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 18:12:33.365 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 18:12:33.369 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 18:12:33.372 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:12:33.374 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 37.7606ms
2025-05-29 18:12:33.376 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:12:33.377 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 105ms
2025-05-29 18:12:33.380 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 111.8511ms
2025-05-29 18:12:33.471 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 18:12:33.475 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:12:33.477 +08:00 [INF] 请求路径: /api/Property/QueryProperties
2025-05-29 18:12:33.478 +08:00 [INF] 请求方法: GET
2025-05-29 18:12:33.480 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:12:33.482 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:12:33.483 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:12:33.485 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:12:33.487 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:12:33.488 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMGYzZThmNDYtMTExMi00NDg4LWExN2ItNjQ5YWU1YTkzMWE3IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTQwMDIsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.KlSkd6uWcYyqoCjBvNSooRWHPGcjhWdqHLNVemWB6jU
2025-05-29 18:12:33.490 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:12:33.491 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:12:33.492 +08:00 [INF] 请求头: traceparent = 00-cf1660a732def4c0c56d9e47156ccd20-abc2d554812bed04-00
2025-05-29 18:12:33.494 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:12:33.495 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:12:33.496 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:12:33.497 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:12:33.498 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:12:33.500 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:12:33.501 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:12:33.502 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:12:33.503 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:12:33.504 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:12:33.505 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:12:33.505 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:12:33.507 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:12:33.508 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:12:33.509 +08:00 [INF] JWT Claim: jti = 0f3e8f46-1112-4488-a17b-649ae5a931a7
2025-05-29 18:12:33.510 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:12:33.511 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:12:33.512 +08:00 [INF] JWT Claim: exp = 1748514002
2025-05-29 18:12:33.514 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:12:33.515 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:12:33.516 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:12:33.517 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMGYzZThmNDYtMTExMi00NDg4LWExN2ItNjQ5YWU1YTkzMWE3IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTQwMDIsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.KlSkd6uWcYyqoCjBvNSooRWHPGcjhWdqHLNVemWB6jU]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-cf1660a732def4c0c56d9e47156ccd20-abc2d554812bed04-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:12:33.525 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:12:33.526 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:12:33.527 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:12:33.532 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:12:33.536 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 18:12:33.539 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:12:33.540 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 11.2117ms
2025-05-29 18:12:33.541 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:12:33.542 +08:00 [INF] 请求 GET /api/Property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 66ms
2025-05-29 18:12:33.545 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 73.5656ms
2025-05-29 18:12:45.177 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 18:12:45.181 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:12:45.182 +08:00 [INF] 请求路径: /api/Property/QueryProperties
2025-05-29 18:12:45.183 +08:00 [INF] 请求方法: GET
2025-05-29 18:12:45.185 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:12:45.186 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:12:45.188 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:12:45.189 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:12:45.191 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:12:45.193 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMGYzZThmNDYtMTExMi00NDg4LWExN2ItNjQ5YWU1YTkzMWE3IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTQwMDIsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.KlSkd6uWcYyqoCjBvNSooRWHPGcjhWdqHLNVemWB6jU
2025-05-29 18:12:45.194 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:12:45.196 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:12:45.198 +08:00 [INF] 请求头: traceparent = 00-acd4ec7ff60df4dac1ad5e823b0e61dd-d8f7aae9830fc9a6-00
2025-05-29 18:12:45.199 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:12:45.201 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:12:45.202 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:12:45.203 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:12:45.205 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:12:45.207 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:12:45.208 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:12:45.210 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:12:45.211 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:12:45.212 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:12:45.213 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:12:45.214 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:12:45.215 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:12:45.216 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:12:45.218 +08:00 [INF] JWT Claim: jti = 0f3e8f46-1112-4488-a17b-649ae5a931a7
2025-05-29 18:12:45.219 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:12:45.220 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:12:45.222 +08:00 [INF] JWT Claim: exp = 1748514002
2025-05-29 18:12:45.223 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:12:45.224 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:12:45.225 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:12:45.227 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMGYzZThmNDYtMTExMi00NDg4LWExN2ItNjQ5YWU1YTkzMWE3IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTQwMDIsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.KlSkd6uWcYyqoCjBvNSooRWHPGcjhWdqHLNVemWB6jU]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-acd4ec7ff60df4dac1ad5e823b0e61dd-d8f7aae9830fc9a6-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:12:45.236 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:12:45.237 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:12:45.238 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:12:45.243 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:12:45.250 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 18:12:45.253 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:12:45.255 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 14.935ms
2025-05-29 18:12:45.257 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:12:45.258 +08:00 [INF] 请求 GET /api/Property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 77ms
2025-05-29 18:12:45.261 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 83.7687ms
2025-05-29 18:12:45.346 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 18:12:45.348 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:12:45.349 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 18:12:45.350 +08:00 [INF] 请求方法: GET
2025-05-29 18:12:45.351 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:12:45.352 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:12:45.353 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:12:45.354 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:12:45.355 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:12:45.356 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMGYzZThmNDYtMTExMi00NDg4LWExN2ItNjQ5YWU1YTkzMWE3IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTQwMDIsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.KlSkd6uWcYyqoCjBvNSooRWHPGcjhWdqHLNVemWB6jU
2025-05-29 18:12:45.357 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:12:45.359 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:12:45.360 +08:00 [INF] 请求头: traceparent = 00-78939c6d12a35c33098e23d665b82dab-45b8a0652f0c1d7a-00
2025-05-29 18:12:45.361 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:12:45.362 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:12:45.363 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:12:45.364 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:12:45.365 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:12:45.366 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:12:45.367 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:12:45.368 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:12:45.369 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:12:45.370 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:12:45.371 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:12:45.372 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:12:45.373 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:12:45.374 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:12:45.375 +08:00 [INF] JWT Claim: jti = 0f3e8f46-1112-4488-a17b-649ae5a931a7
2025-05-29 18:12:45.376 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:12:45.378 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:12:45.379 +08:00 [INF] JWT Claim: exp = 1748514002
2025-05-29 18:12:45.380 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:12:45.381 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:12:45.382 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:12:45.383 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMGYzZThmNDYtMTExMi00NDg4LWExN2ItNjQ5YWU1YTkzMWE3IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTQwMDIsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.KlSkd6uWcYyqoCjBvNSooRWHPGcjhWdqHLNVemWB6jU]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-78939c6d12a35c33098e23d665b82dab-45b8a0652f0c1d7a-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:12:45.391 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:12:45.392 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:12:45.393 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:12:45.396 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:12:45.399 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 18:12:45.402 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 18:12:45.405 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 18:12:45.407 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 18:12:45.410 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 18:12:45.412 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:12:45.413 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 18.9187ms
2025-05-29 18:12:45.415 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:12:45.416 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 67ms
2025-05-29 18:12:45.418 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 72.3443ms
2025-05-29 18:12:57.119 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 18:12:57.123 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:12:57.124 +08:00 [INF] 请求路径: /api/Property/QueryProperties
2025-05-29 18:12:57.125 +08:00 [INF] 请求方法: GET
2025-05-29 18:12:57.126 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:12:57.127 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:12:57.128 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:12:57.129 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:12:57.131 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:12:57.132 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMGYzZThmNDYtMTExMi00NDg4LWExN2ItNjQ5YWU1YTkzMWE3IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTQwMDIsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.KlSkd6uWcYyqoCjBvNSooRWHPGcjhWdqHLNVemWB6jU
2025-05-29 18:12:57.133 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:12:57.134 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:12:57.135 +08:00 [INF] 请求头: traceparent = 00-eaef0439c72e31c34de281eb767f102c-8a37e98f640498b0-00
2025-05-29 18:12:57.137 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:12:57.138 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:12:57.139 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:12:57.141 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:12:57.142 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:12:57.143 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:12:57.144 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:12:57.146 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:12:57.147 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:12:57.148 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:12:57.148 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:12:57.149 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:12:57.151 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:12:57.152 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:12:57.154 +08:00 [INF] JWT Claim: jti = 0f3e8f46-1112-4488-a17b-649ae5a931a7
2025-05-29 18:12:57.155 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:12:57.156 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:12:57.157 +08:00 [INF] JWT Claim: exp = 1748514002
2025-05-29 18:12:57.158 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:12:57.160 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:12:57.161 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:12:57.162 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMGYzZThmNDYtMTExMi00NDg4LWExN2ItNjQ5YWU1YTkzMWE3IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTQwMDIsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.KlSkd6uWcYyqoCjBvNSooRWHPGcjhWdqHLNVemWB6jU]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-eaef0439c72e31c34de281eb767f102c-8a37e98f640498b0-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:12:57.169 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:12:57.170 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:12:57.172 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:12:57.176 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:12:57.182 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 18:12:57.185 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:12:57.187 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 13.7217ms
2025-05-29 18:12:57.189 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:12:57.190 +08:00 [INF] 请求 GET /api/Property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 67ms
2025-05-29 18:12:57.193 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 73.6978ms
2025-05-29 18:12:57.291 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 18:12:57.294 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:12:57.295 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 18:12:57.296 +08:00 [INF] 请求方法: GET
2025-05-29 18:12:57.297 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:12:57.298 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:12:57.299 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:12:57.300 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:12:57.301 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:12:57.302 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMGYzZThmNDYtMTExMi00NDg4LWExN2ItNjQ5YWU1YTkzMWE3IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTQwMDIsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.KlSkd6uWcYyqoCjBvNSooRWHPGcjhWdqHLNVemWB6jU
2025-05-29 18:12:57.303 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:12:57.304 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:12:57.306 +08:00 [INF] 请求头: traceparent = 00-68ae4045c6f8011da26c841d57eb981c-1aa30e06afc6bd07-00
2025-05-29 18:12:57.307 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:12:57.308 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:12:57.309 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:12:57.310 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:12:57.311 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:12:57.312 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:12:57.313 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:12:57.314 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:12:57.315 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:12:57.316 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:12:57.316 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:12:57.318 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:12:57.319 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:12:57.320 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:12:57.321 +08:00 [INF] JWT Claim: jti = 0f3e8f46-1112-4488-a17b-649ae5a931a7
2025-05-29 18:12:57.322 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:12:57.323 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:12:57.324 +08:00 [INF] JWT Claim: exp = 1748514002
2025-05-29 18:12:57.325 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:12:57.326 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:12:57.327 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:12:57.328 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMGYzZThmNDYtMTExMi00NDg4LWExN2ItNjQ5YWU1YTkzMWE3IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTQwMDIsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.KlSkd6uWcYyqoCjBvNSooRWHPGcjhWdqHLNVemWB6jU]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-68ae4045c6f8011da26c841d57eb981c-1aa30e06afc6bd07-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:12:57.335 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:12:57.336 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:12:57.337 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:12:57.341 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:12:57.345 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 18:12:57.348 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 18:12:57.350 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 18:12:57.353 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 18:12:57.356 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 18:12:57.358 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:12:57.359 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 20.3382ms
2025-05-29 18:12:57.361 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:12:57.362 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 67ms
2025-05-29 18:12:57.364 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 73.3811ms
2025-05-29 18:27:19.400 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 18:27:19.413 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 18:27:19.417 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:27:19.420 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:27:19.421 +08:00 [INF] 请求路径: /api/Property/QueryProperties
2025-05-29 18:27:19.422 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 18:27:19.423 +08:00 [INF] 请求方法: GET
2025-05-29 18:27:19.424 +08:00 [INF] 请求方法: GET
2025-05-29 18:27:19.425 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:27:19.426 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:27:19.428 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:27:19.429 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:27:19.431 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:27:19.432 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:27:19.434 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:27:19.436 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:27:19.437 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:27:19.439 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:27:19.440 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiYjNhNzcwZmItMzZlNi00NGZmLWI3MjAtOWE2ODVhYzJiYTc0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTUwMzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.prVm4TJPWzm4_wTF_ztdPvtWSOzlWlqxAjavoTwTVHU
2025-05-29 18:27:19.441 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiYjNhNzcwZmItMzZlNi00NGZmLWI3MjAtOWE2ODVhYzJiYTc0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTUwMzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.prVm4TJPWzm4_wTF_ztdPvtWSOzlWlqxAjavoTwTVHU
2025-05-29 18:27:19.442 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:27:19.444 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:27:19.446 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:27:19.447 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:27:19.448 +08:00 [INF] 请求头: traceparent = 00-02a85274d2163839666cad8f5aab74da-46f2dd0571d32524-00
2025-05-29 18:27:19.450 +08:00 [INF] 请求头: traceparent = 00-bdf677a152e69bb61ccf9eccad221f0b-a338b86a0db1aac8-00
2025-05-29 18:27:19.451 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:27:19.453 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:27:19.454 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:27:19.456 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:27:19.457 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:27:19.459 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:27:19.460 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:27:19.461 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:27:19.463 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:27:19.464 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:27:19.465 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:27:19.467 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:27:19.468 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:27:19.470 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:27:19.471 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:27:19.473 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:27:19.474 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:27:19.476 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:27:19.477 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:27:19.478 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:27:19.479 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:27:19.480 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:27:19.481 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:27:19.482 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:27:19.483 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:27:19.485 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:27:19.486 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:27:19.488 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:27:19.489 +08:00 [INF] JWT Claim: jti = b3a770fb-36e6-44ff-b720-9a685ac2ba74
2025-05-29 18:27:19.491 +08:00 [INF] JWT Claim: jti = b3a770fb-36e6-44ff-b720-9a685ac2ba74
2025-05-29 18:27:19.492 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:27:19.493 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:27:19.495 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:27:19.496 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:27:19.498 +08:00 [INF] JWT Claim: exp = 1748515038
2025-05-29 18:27:19.499 +08:00 [INF] JWT Claim: exp = 1748515038
2025-05-29 18:27:19.500 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:27:19.502 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:27:19.503 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:27:19.504 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:27:19.506 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:27:19.507 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:27:19.508 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiYjNhNzcwZmItMzZlNi00NGZmLWI3MjAtOWE2ODVhYzJiYTc0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTUwMzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.prVm4TJPWzm4_wTF_ztdPvtWSOzlWlqxAjavoTwTVHU]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-02a85274d2163839666cad8f5aab74da-46f2dd0571d32524-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:27:19.509 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiYjNhNzcwZmItMzZlNi00NGZmLWI3MjAtOWE2ODVhYzJiYTc0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTUwMzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.prVm4TJPWzm4_wTF_ztdPvtWSOzlWlqxAjavoTwTVHU]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-bdf677a152e69bb61ccf9eccad221f0b-a338b86a0db1aac8-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:27:19.518 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:27:19.526 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:27:19.527 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:27:19.528 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:27:19.530 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:27:19.531 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:27:19.562 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:27:19.562 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:27:19.566 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 18:27:19.569 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 18:27:19.571 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 18:27:19.573 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:27:19.575 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 18:27:19.576 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 42.4018ms
2025-05-29 18:27:19.579 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 18:27:19.579 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:27:19.583 +08:00 [INF] 请求 GET /api/Property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 165ms
2025-05-29 18:27:19.585 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 184.7127ms
2025-05-29 18:27:19.585 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 18:27:19.591 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:27:19.593 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 56.3513ms
2025-05-29 18:27:19.594 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:27:19.595 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 175ms
2025-05-29 18:27:19.597 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 184.1752ms
2025-05-29 18:28:49.165 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 18:28:49.169 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 18:28:49.172 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:28:49.176 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:28:49.177 +08:00 [INF] 请求路径: /api/Property/QueryProperties
2025-05-29 18:28:49.178 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 18:28:49.180 +08:00 [INF] 请求方法: GET
2025-05-29 18:28:49.181 +08:00 [INF] 请求方法: GET
2025-05-29 18:28:49.182 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:28:49.183 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:28:49.185 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:28:49.187 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:28:49.188 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:28:49.190 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:28:49.191 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:28:49.193 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:28:49.195 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:28:49.196 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:28:49.198 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiYjNhNzcwZmItMzZlNi00NGZmLWI3MjAtOWE2ODVhYzJiYTc0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTUwMzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.prVm4TJPWzm4_wTF_ztdPvtWSOzlWlqxAjavoTwTVHU
2025-05-29 18:28:49.199 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiYjNhNzcwZmItMzZlNi00NGZmLWI3MjAtOWE2ODVhYzJiYTc0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTUwMzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.prVm4TJPWzm4_wTF_ztdPvtWSOzlWlqxAjavoTwTVHU
2025-05-29 18:28:49.201 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:28:49.203 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:28:49.205 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:28:49.209 +08:00 [INF] 请求头: traceparent = 00-fc7689d1c4f2e2a7367ac3f7056b038c-13e1e8ce4981241c-00
2025-05-29 18:28:49.207 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:28:49.211 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:28:49.213 +08:00 [INF] 请求头: traceparent = 00-f6a7e43f855190ab02c02eb1f1efe6ad-beebd9e149783556-00
2025-05-29 18:28:49.215 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:28:49.216 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:28:49.218 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:28:49.219 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:28:49.221 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:28:49.222 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:28:49.224 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:28:49.226 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:28:49.227 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:28:49.229 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:28:49.231 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:28:49.232 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:28:49.233 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:28:49.235 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:28:49.237 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:28:49.238 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:28:49.239 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:28:49.240 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:28:49.242 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:28:49.243 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:28:49.244 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:28:49.245 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:28:49.247 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:28:49.248 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:28:49.250 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:28:49.251 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:28:49.253 +08:00 [INF] JWT Claim: jti = b3a770fb-36e6-44ff-b720-9a685ac2ba74
2025-05-29 18:28:49.254 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:28:49.256 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:28:49.257 +08:00 [INF] JWT Claim: jti = b3a770fb-36e6-44ff-b720-9a685ac2ba74
2025-05-29 18:28:49.259 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:28:49.261 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:28:49.262 +08:00 [INF] JWT Claim: exp = 1748515038
2025-05-29 18:28:49.264 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:28:49.266 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:28:49.268 +08:00 [INF] JWT Claim: exp = 1748515038
2025-05-29 18:28:49.270 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:28:49.272 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:28:49.274 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:28:49.276 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:28:49.277 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiYjNhNzcwZmItMzZlNi00NGZmLWI3MjAtOWE2ODVhYzJiYTc0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTUwMzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.prVm4TJPWzm4_wTF_ztdPvtWSOzlWlqxAjavoTwTVHU]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-fc7689d1c4f2e2a7367ac3f7056b038c-13e1e8ce4981241c-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:28:49.279 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:28:49.294 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:28:49.295 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiYjNhNzcwZmItMzZlNi00NGZmLWI3MjAtOWE2ODVhYzJiYTc0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTUwMzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.prVm4TJPWzm4_wTF_ztdPvtWSOzlWlqxAjavoTwTVHU]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-f6a7e43f855190ab02c02eb1f1efe6ad-beebd9e149783556-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:28:49.297 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:28:49.312 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:28:49.313 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:28:49.314 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:28:49.319 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:28:49.355 +08:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:28:49.355 +08:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:28:49.361 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 18:28:49.365 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 18:28:49.366 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 18:28:49.369 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:28:49.372 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 18:28:49.373 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 55.8771ms
2025-05-29 18:28:49.377 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 18:28:49.378 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:28:49.381 +08:00 [INF] 请求 GET /api/Property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 208ms
2025-05-29 18:28:49.382 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 18:28:49.383 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 217.8611ms
2025-05-29 18:28:49.386 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:28:49.391 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 67.6144ms
2025-05-29 18:28:49.393 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:28:49.394 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 217ms
2025-05-29 18:28:49.397 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 227.277ms
2025-05-29 18:29:02.557 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 18:29:02.561 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:29:02.562 +08:00 [INF] 请求路径: /api/Property/QueryProperties
2025-05-29 18:29:02.563 +08:00 [INF] 请求方法: GET
2025-05-29 18:29:02.564 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:29:02.565 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:29:02.567 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:29:02.568 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:29:02.569 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:29:02.571 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiYjNhNzcwZmItMzZlNi00NGZmLWI3MjAtOWE2ODVhYzJiYTc0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTUwMzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.prVm4TJPWzm4_wTF_ztdPvtWSOzlWlqxAjavoTwTVHU
2025-05-29 18:29:02.572 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:29:02.573 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:29:02.575 +08:00 [INF] 请求头: traceparent = 00-1988c58d6944d47f36ed1c6ed68d48d1-a35632cc2d6f8dc5-00
2025-05-29 18:29:02.576 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:29:02.577 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:29:02.579 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:29:02.580 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:29:02.582 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:29:02.583 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:29:02.584 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:29:02.586 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:29:02.587 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:29:02.588 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:29:02.590 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:29:02.590 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:29:02.592 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:29:02.593 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:29:02.594 +08:00 [INF] JWT Claim: jti = b3a770fb-36e6-44ff-b720-9a685ac2ba74
2025-05-29 18:29:02.596 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:29:02.597 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:29:02.598 +08:00 [INF] JWT Claim: exp = 1748515038
2025-05-29 18:29:02.599 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:29:02.601 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:29:02.602 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:29:02.603 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiYjNhNzcwZmItMzZlNi00NGZmLWI3MjAtOWE2ODVhYzJiYTc0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTUwMzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.prVm4TJPWzm4_wTF_ztdPvtWSOzlWlqxAjavoTwTVHU]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-1988c58d6944d47f36ed1c6ed68d48d1-a35632cc2d6f8dc5-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:29:02.613 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:29:02.614 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:29:02.616 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:29:02.621 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:29:02.628 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 18:29:02.631 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:29:02.633 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 14.6504ms
2025-05-29 18:29:02.634 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:29:02.636 +08:00 [INF] 请求 GET /api/Property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 74ms
2025-05-29 18:29:02.638 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 81.0229ms
2025-05-29 18:29:02.704 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 18:29:02.706 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:29:02.708 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 18:29:02.709 +08:00 [INF] 请求方法: GET
2025-05-29 18:29:02.710 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:29:02.711 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:29:02.712 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:29:02.713 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:29:02.715 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:29:02.716 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiYjNhNzcwZmItMzZlNi00NGZmLWI3MjAtOWE2ODVhYzJiYTc0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTUwMzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.prVm4TJPWzm4_wTF_ztdPvtWSOzlWlqxAjavoTwTVHU
2025-05-29 18:29:02.717 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:29:02.718 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:29:02.720 +08:00 [INF] 请求头: traceparent = 00-d4e367f48ffc2ec50bdeb8628b70a067-fd75383b11be2d3f-00
2025-05-29 18:29:02.721 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:29:02.722 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:29:02.723 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:29:02.724 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:29:02.725 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:29:02.727 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:29:02.728 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:29:02.729 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:29:02.731 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:29:02.731 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:29:02.732 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:29:02.733 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:29:02.734 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:29:02.736 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:29:02.737 +08:00 [INF] JWT Claim: jti = b3a770fb-36e6-44ff-b720-9a685ac2ba74
2025-05-29 18:29:02.738 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:29:02.739 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:29:02.740 +08:00 [INF] JWT Claim: exp = 1748515038
2025-05-29 18:29:02.741 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:29:02.742 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:29:02.743 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:29:02.744 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiYjNhNzcwZmItMzZlNi00NGZmLWI3MjAtOWE2ODVhYzJiYTc0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTUwMzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.prVm4TJPWzm4_wTF_ztdPvtWSOzlWlqxAjavoTwTVHU]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-d4e367f48ffc2ec50bdeb8628b70a067-fd75383b11be2d3f-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:29:02.751 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:29:02.752 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:29:02.753 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:29:02.756 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:29:02.760 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 18:29:02.762 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 18:29:02.765 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 18:29:02.767 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 18:29:02.770 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 18:29:02.772 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:29:02.773 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 18.6981ms
2025-05-29 18:29:02.775 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:29:02.776 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 69ms
2025-05-29 18:29:02.778 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 73.9607ms
2025-05-29 18:30:21.306 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 18:30:21.314 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:30:21.315 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 18:30:21.316 +08:00 [INF] 请求方法: GET
2025-05-29 18:30:21.317 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:30:21.320 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:30:21.322 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:30:21.324 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:30:21.325 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 18:30:21.326 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:30:21.335 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:30:21.336 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiYjNhNzcwZmItMzZlNi00NGZmLWI3MjAtOWE2ODVhYzJiYTc0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTUwMzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.prVm4TJPWzm4_wTF_ztdPvtWSOzlWlqxAjavoTwTVHU
2025-05-29 18:30:21.337 +08:00 [INF] 请求路径: /api/Property/QueryProperties
2025-05-29 18:30:21.338 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:30:21.340 +08:00 [INF] 请求方法: GET
2025-05-29 18:30:21.341 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:30:21.342 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:30:21.343 +08:00 [INF] 请求头: traceparent = 00-86c35b71b44e840d384f69b785031115-8afa36d1e951cc99-00
2025-05-29 18:30:21.344 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:30:21.345 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:30:21.346 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:30:21.347 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:30:21.348 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:30:21.349 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:30:21.351 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:30:21.352 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:30:21.353 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiYjNhNzcwZmItMzZlNi00NGZmLWI3MjAtOWE2ODVhYzJiYTc0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTUwMzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.prVm4TJPWzm4_wTF_ztdPvtWSOzlWlqxAjavoTwTVHU
2025-05-29 18:30:21.354 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:30:21.355 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:30:21.356 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:30:21.357 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:30:21.359 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:30:21.360 +08:00 [INF] 请求头: traceparent = 00-935f9107cf06512c5df47ca56ac0974f-0c0bbce39bdd103a-00
2025-05-29 18:30:21.361 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:30:21.362 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:30:21.363 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:30:21.364 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:30:21.365 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:30:21.366 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:30:21.367 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:30:21.368 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:30:21.368 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:30:21.370 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:30:21.371 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:30:21.372 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:30:21.373 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:30:21.373 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:30:21.374 +08:00 [INF] JWT Claim: jti = b3a770fb-36e6-44ff-b720-9a685ac2ba74
2025-05-29 18:30:21.375 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:30:21.377 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:30:21.378 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:30:21.379 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:30:21.379 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:30:21.380 +08:00 [INF] JWT Claim: exp = 1748515038
2025-05-29 18:30:21.381 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:30:21.382 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:30:21.383 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:30:21.385 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:30:21.386 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:30:21.387 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:30:21.388 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:30:21.389 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiYjNhNzcwZmItMzZlNi00NGZmLWI3MjAtOWE2ODVhYzJiYTc0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTUwMzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.prVm4TJPWzm4_wTF_ztdPvtWSOzlWlqxAjavoTwTVHU]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-86c35b71b44e840d384f69b785031115-8afa36d1e951cc99-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:30:21.390 +08:00 [INF] JWT Claim: jti = b3a770fb-36e6-44ff-b720-9a685ac2ba74
2025-05-29 18:30:21.397 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:30:21.398 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:30:21.399 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:30:21.400 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:30:21.401 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:30:21.402 +08:00 [INF] JWT Claim: exp = 1748515038
2025-05-29 18:30:21.406 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:30:21.407 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:30:21.409 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:30:21.409 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiYjNhNzcwZmItMzZlNi00NGZmLWI3MjAtOWE2ODVhYzJiYTc0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTUwMzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.prVm4TJPWzm4_wTF_ztdPvtWSOzlWlqxAjavoTwTVHU]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-935f9107cf06512c5df47ca56ac0974f-0c0bbce39bdd103a-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:30:21.411 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:30:21.416 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:30:21.419 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:30:21.420 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 18:30:21.420 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:30:21.423 +08:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 18:30:21.425 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:30:21.428 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 18:30:21.430 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 18:30:21.431 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 18:30:21.434 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:30:21.437 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 12.9759ms
2025-05-29 18:30:21.438 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 18:30:21.438 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:30:21.440 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:30:21.441 +08:00 [INF] 请求 GET /api/Property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 105ms
2025-05-29 18:30:21.442 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 37.8442ms
2025-05-29 18:30:21.444 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 118.5139ms
2025-05-29 18:30:21.445 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:30:21.449 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 135ms
2025-05-29 18:30:21.451 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 145.4169ms
2025-05-29 18:31:16.598 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 18:31:16.604 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 18:31:16.608 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:31:16.610 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:31:16.612 +08:00 [INF] 请求路径: /api/Property/QueryProperties
2025-05-29 18:31:16.613 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 18:31:16.614 +08:00 [INF] 请求方法: GET
2025-05-29 18:31:16.615 +08:00 [INF] 请求方法: GET
2025-05-29 18:31:16.616 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:31:16.617 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:31:16.619 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:31:16.620 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:31:16.621 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:31:16.623 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:31:16.624 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:31:16.625 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:31:16.627 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:31:16.628 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:31:16.629 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiYjNhNzcwZmItMzZlNi00NGZmLWI3MjAtOWE2ODVhYzJiYTc0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTUwMzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.prVm4TJPWzm4_wTF_ztdPvtWSOzlWlqxAjavoTwTVHU
2025-05-29 18:31:16.630 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiYjNhNzcwZmItMzZlNi00NGZmLWI3MjAtOWE2ODVhYzJiYTc0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTUwMzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.prVm4TJPWzm4_wTF_ztdPvtWSOzlWlqxAjavoTwTVHU
2025-05-29 18:31:16.631 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:31:16.633 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:31:16.634 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:31:16.635 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:31:16.636 +08:00 [INF] 请求头: traceparent = 00-4deb525e067f03cbe81fc47420105b32-6d2ec5ab458c1b35-00
2025-05-29 18:31:16.637 +08:00 [INF] 请求头: traceparent = 00-06129de836092ee45a369692b72a679c-fb7aeccbbdaada7e-00
2025-05-29 18:31:16.638 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:31:16.639 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:31:16.640 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:31:16.641 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:31:16.642 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:31:16.644 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:31:16.645 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:31:16.646 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:31:16.648 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:31:16.649 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:31:16.651 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:31:16.652 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:31:16.653 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:31:16.655 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:31:16.656 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:31:16.657 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:31:16.659 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:31:16.660 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:31:16.661 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:31:16.662 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:31:16.663 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:31:16.663 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:31:16.664 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:31:16.665 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:31:16.667 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:31:16.668 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:31:16.669 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:31:16.670 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:31:16.671 +08:00 [INF] JWT Claim: jti = b3a770fb-36e6-44ff-b720-9a685ac2ba74
2025-05-29 18:31:16.673 +08:00 [INF] JWT Claim: jti = b3a770fb-36e6-44ff-b720-9a685ac2ba74
2025-05-29 18:31:16.674 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:31:16.676 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:31:16.677 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:31:16.679 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:31:16.680 +08:00 [INF] JWT Claim: exp = 1748515038
2025-05-29 18:31:16.681 +08:00 [INF] JWT Claim: exp = 1748515038
2025-05-29 18:31:16.682 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:31:16.684 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:31:16.686 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:31:16.687 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:31:16.688 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:31:16.690 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:31:16.691 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiYjNhNzcwZmItMzZlNi00NGZmLWI3MjAtOWE2ODVhYzJiYTc0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTUwMzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.prVm4TJPWzm4_wTF_ztdPvtWSOzlWlqxAjavoTwTVHU]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-4deb525e067f03cbe81fc47420105b32-6d2ec5ab458c1b35-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:31:16.692 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiYjNhNzcwZmItMzZlNi00NGZmLWI3MjAtOWE2ODVhYzJiYTc0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTUwMzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.prVm4TJPWzm4_wTF_ztdPvtWSOzlWlqxAjavoTwTVHU]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-06129de836092ee45a369692b72a679c-fb7aeccbbdaada7e-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:31:16.699 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:31:16.706 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:31:16.707 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:31:16.708 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:31:16.710 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:31:16.711 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:31:16.720 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:31:16.772 +08:00 [INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:31:16.773 +08:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 18:31:16.777 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 18:31:16.780 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 18:31:16.781 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:31:16.785 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 72.7304ms
2025-05-29 18:31:16.786 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 18:31:16.787 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:31:16.791 +08:00 [INF] 请求 GET /api/Property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 183ms
2025-05-29 18:31:16.793 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 18:31:16.794 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 195.7204ms
2025-05-29 18:31:16.800 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 18:31:16.806 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:31:16.808 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 93.6068ms
2025-05-29 18:31:16.810 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:31:16.812 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 201ms
2025-05-29 18:31:16.814 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 210.033ms
2025-05-29 18:34:08.297 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 18:34:08.300 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:34:08.301 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 18:34:08.302 +08:00 [INF] 请求方法: GET
2025-05-29 18:34:08.303 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:34:08.304 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:34:08.305 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:34:08.306 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:34:08.307 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:34:08.308 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiYjNhNzcwZmItMzZlNi00NGZmLWI3MjAtOWE2ODVhYzJiYTc0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTUwMzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.prVm4TJPWzm4_wTF_ztdPvtWSOzlWlqxAjavoTwTVHU
2025-05-29 18:34:08.310 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:34:08.311 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:34:08.312 +08:00 [INF] 请求头: traceparent = 00-95e01126f1bf9a82e8140a2778d0549d-7a6b1c13225c2e6f-00
2025-05-29 18:34:08.313 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:34:08.314 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:34:08.315 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:34:08.317 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:34:08.318 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:34:08.319 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:34:08.321 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:34:08.322 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:34:08.323 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:34:08.324 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:34:08.325 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:34:08.326 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:34:08.327 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:34:08.328 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:34:08.329 +08:00 [INF] JWT Claim: jti = b3a770fb-36e6-44ff-b720-9a685ac2ba74
2025-05-29 18:34:08.331 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:34:08.332 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:34:08.333 +08:00 [INF] JWT Claim: exp = 1748515038
2025-05-29 18:34:08.334 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:34:08.335 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:34:08.336 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:34:08.337 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiYjNhNzcwZmItMzZlNi00NGZmLWI3MjAtOWE2ODVhYzJiYTc0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTUwMzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.prVm4TJPWzm4_wTF_ztdPvtWSOzlWlqxAjavoTwTVHU]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-95e01126f1bf9a82e8140a2778d0549d-7a6b1c13225c2e6f-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:34:08.345 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:34:08.347 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:34:08.348 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:34:08.361 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:34:08.366 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 18:34:08.371 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 18:34:08.375 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 18:34:08.378 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 18:34:08.383 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 18:34:08.386 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:34:08.387 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 37.7531ms
2025-05-29 18:34:08.389 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:34:08.390 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 90ms
2025-05-29 18:34:08.392 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 95.0542ms
2025-05-29 18:34:08.495 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 18:34:08.498 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:34:08.499 +08:00 [INF] 请求路径: /api/Property/QueryProperties
2025-05-29 18:34:08.499 +08:00 [INF] 请求方法: GET
2025-05-29 18:34:08.500 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:34:08.502 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:34:08.503 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:34:08.504 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:34:08.506 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:34:08.507 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiYjNhNzcwZmItMzZlNi00NGZmLWI3MjAtOWE2ODVhYzJiYTc0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTUwMzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.prVm4TJPWzm4_wTF_ztdPvtWSOzlWlqxAjavoTwTVHU
2025-05-29 18:34:08.508 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:34:08.509 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:34:08.511 +08:00 [INF] 请求头: traceparent = 00-9cd956fc39bbabcf394b63937d890b06-a1987ed8a91e0699-00
2025-05-29 18:34:08.512 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:34:08.513 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:34:08.514 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:34:08.515 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:34:08.516 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:34:08.518 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:34:08.519 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:34:08.520 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:34:08.521 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:34:08.521 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:34:08.522 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:34:08.523 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:34:08.524 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:34:08.525 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:34:08.526 +08:00 [INF] JWT Claim: jti = b3a770fb-36e6-44ff-b720-9a685ac2ba74
2025-05-29 18:34:08.528 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:34:08.529 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:34:08.530 +08:00 [INF] JWT Claim: exp = 1748515038
2025-05-29 18:34:08.532 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:34:08.533 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:34:08.534 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:34:08.535 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiYjNhNzcwZmItMzZlNi00NGZmLWI3MjAtOWE2ODVhYzJiYTc0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTUwMzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.prVm4TJPWzm4_wTF_ztdPvtWSOzlWlqxAjavoTwTVHU]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-9cd956fc39bbabcf394b63937d890b06-a1987ed8a91e0699-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:34:08.542 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:34:08.543 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:34:08.544 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:34:08.548 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:34:08.553 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 18:34:08.555 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:34:08.557 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 11.1836ms
2025-05-29 18:34:08.559 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:34:08.560 +08:00 [INF] 请求 GET /api/Property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 62ms
2025-05-29 18:34:08.563 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 67.5578ms
2025-05-29 18:35:14.463 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 18:35:14.477 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:35:14.478 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 18:35:14.479 +08:00 [INF] 请求方法: GET
2025-05-29 18:35:14.481 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:35:14.482 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:35:14.483 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:35:14.485 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:35:14.487 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:35:14.488 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiYjNhNzcwZmItMzZlNi00NGZmLWI3MjAtOWE2ODVhYzJiYTc0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTUwMzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.prVm4TJPWzm4_wTF_ztdPvtWSOzlWlqxAjavoTwTVHU
2025-05-29 18:35:14.489 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:35:14.491 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:35:14.492 +08:00 [INF] 请求头: traceparent = 00-38dcd2b9fab60d17e3a7c59642c10e57-b9344f76162d4529-00
2025-05-29 18:35:14.494 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:35:14.495 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:35:14.496 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:35:14.497 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:35:14.499 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:35:14.500 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:35:14.502 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:35:14.503 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:35:14.504 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:35:14.505 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:35:14.506 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:35:14.507 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:35:14.509 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:35:14.513 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:35:14.522 +08:00 [INF] JWT Claim: jti = b3a770fb-36e6-44ff-b720-9a685ac2ba74
2025-05-29 18:35:14.532 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 18:35:14.532 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:35:14.536 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:35:14.537 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:35:14.538 +08:00 [INF] 请求路径: /api/Property/QueryProperties
2025-05-29 18:35:14.540 +08:00 [INF] JWT Claim: exp = 1748515038
2025-05-29 18:35:14.541 +08:00 [INF] 请求方法: GET
2025-05-29 18:35:14.542 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:35:14.544 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:35:14.545 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:35:14.546 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:35:14.547 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:35:14.549 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:35:14.549 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiYjNhNzcwZmItMzZlNi00NGZmLWI3MjAtOWE2ODVhYzJiYTc0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTUwMzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.prVm4TJPWzm4_wTF_ztdPvtWSOzlWlqxAjavoTwTVHU]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-38dcd2b9fab60d17e3a7c59642c10e57-b9344f76162d4529-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:35:14.551 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:35:14.558 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:35:14.560 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:35:14.561 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:35:14.562 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiYjNhNzcwZmItMzZlNi00NGZmLWI3MjAtOWE2ODVhYzJiYTc0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTUwMzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.prVm4TJPWzm4_wTF_ztdPvtWSOzlWlqxAjavoTwTVHU
2025-05-29 18:35:14.563 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:35:14.565 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:35:14.568 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:35:14.570 +08:00 [INF] 请求头: traceparent = 00-7e0eff07a2f12905d210b4790e7691ec-0e471cb188107bc6-00
2025-05-29 18:35:14.572 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:35:14.573 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:35:14.574 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:35:14.575 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:35:14.576 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:35:14.577 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:35:14.580 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:35:14.581 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 18:35:14.581 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:35:14.583 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 18:35:14.584 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:35:14.588 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 18:35:14.588 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:35:14.591 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 18:35:14.591 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:35:14.595 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:35:14.596 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:35:14.596 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 18:35:14.597 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:35:14.599 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:35:14.600 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:35:14.601 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 35.2899ms
2025-05-29 18:35:14.603 +08:00 [INF] JWT Claim: jti = b3a770fb-36e6-44ff-b720-9a685ac2ba74
2025-05-29 18:35:14.604 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:35:14.605 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:35:14.607 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 129ms
2025-05-29 18:35:14.608 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:35:14.611 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 147.7774ms
2025-05-29 18:35:14.612 +08:00 [INF] JWT Claim: exp = 1748515038
2025-05-29 18:35:14.617 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:35:14.618 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:35:14.620 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:35:14.621 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiYjNhNzcwZmItMzZlNi00NGZmLWI3MjAtOWE2ODVhYzJiYTc0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTUwMzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.prVm4TJPWzm4_wTF_ztdPvtWSOzlWlqxAjavoTwTVHU]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-7e0eff07a2f12905d210b4790e7691ec-0e471cb188107bc6-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:35:14.629 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:35:14.630 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:35:14.631 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:35:14.636 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:35:14.640 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 18:35:14.643 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:35:14.645 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 11.1637ms
2025-05-29 18:35:14.646 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:35:14.647 +08:00 [INF] 请求 GET /api/Property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 111ms
2025-05-29 18:35:14.650 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 117.4062ms
2025-05-29 18:35:30.491 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 18:35:30.495 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:35:30.496 +08:00 [INF] 请求路径: /api/Property/QueryProperties
2025-05-29 18:35:30.497 +08:00 [INF] 请求方法: GET
2025-05-29 18:35:30.498 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:35:30.499 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:35:30.500 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:35:30.501 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:35:30.503 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:35:30.504 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiYjNhNzcwZmItMzZlNi00NGZmLWI3MjAtOWE2ODVhYzJiYTc0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTUwMzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.prVm4TJPWzm4_wTF_ztdPvtWSOzlWlqxAjavoTwTVHU
2025-05-29 18:35:30.505 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:35:30.506 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:35:30.507 +08:00 [INF] 请求头: traceparent = 00-a74a4828906fd5f2e2f568f95e3a4076-52d35c2ed147725c-00
2025-05-29 18:35:30.508 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 18:35:30.509 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:35:30.512 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:35:30.513 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:35:30.514 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 18:35:30.515 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:35:30.516 +08:00 [INF] 请求方法: GET
2025-05-29 18:35:30.517 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:35:30.518 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:35:30.520 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:35:30.521 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:35:30.522 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:35:30.523 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:35:30.525 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:35:30.526 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:35:30.527 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:35:30.528 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:35:30.530 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:35:30.531 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiYjNhNzcwZmItMzZlNi00NGZmLWI3MjAtOWE2ODVhYzJiYTc0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTUwMzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.prVm4TJPWzm4_wTF_ztdPvtWSOzlWlqxAjavoTwTVHU
2025-05-29 18:35:30.531 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:35:30.533 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:35:30.534 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:35:30.535 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:35:30.535 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:35:30.537 +08:00 [INF] 请求头: traceparent = 00-3d342aff0a14da91e9cf2bd4da37f5a4-92f0c2a94cab8b22-00
2025-05-29 18:35:30.538 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:35:30.539 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:35:30.540 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:35:30.542 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:35:30.543 +08:00 [INF] JWT Claim: jti = b3a770fb-36e6-44ff-b720-9a685ac2ba74
2025-05-29 18:35:30.545 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:35:30.546 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:35:30.547 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:35:30.548 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:35:30.549 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:35:30.551 +08:00 [INF] JWT Claim: exp = 1748515038
2025-05-29 18:35:30.552 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:35:30.553 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:35:30.554 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:35:30.555 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:35:30.557 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:35:30.558 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:35:30.560 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:35:30.561 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiYjNhNzcwZmItMzZlNi00NGZmLWI3MjAtOWE2ODVhYzJiYTc0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTUwMzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.prVm4TJPWzm4_wTF_ztdPvtWSOzlWlqxAjavoTwTVHU]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-a74a4828906fd5f2e2f568f95e3a4076-52d35c2ed147725c-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:35:30.562 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:35:30.570 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:35:30.570 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:35:30.571 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:35:30.572 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:35:30.573 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:35:30.574 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:35:30.579 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:35:30.579 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:35:30.583 +08:00 [INF] JWT Claim: jti = b3a770fb-36e6-44ff-b720-9a685ac2ba74
2025-05-29 18:35:30.586 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 18:35:30.587 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:35:30.589 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:35:30.590 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:35:30.592 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 14.8946ms
2025-05-29 18:35:30.593 +08:00 [INF] JWT Claim: exp = 1748515038
2025-05-29 18:35:30.594 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:35:30.595 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:35:30.596 +08:00 [INF] 请求 GET /api/Property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 101ms
2025-05-29 18:35:30.597 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:35:30.599 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 107.9042ms
2025-05-29 18:35:30.602 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:35:30.606 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiYjNhNzcwZmItMzZlNi00NGZmLWI3MjAtOWE2ODVhYzJiYTc0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTUwMzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.prVm4TJPWzm4_wTF_ztdPvtWSOzlWlqxAjavoTwTVHU]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-3d342aff0a14da91e9cf2bd4da37f5a4-92f0c2a94cab8b22-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:35:30.615 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:35:30.616 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:35:30.618 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:35:30.622 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:35:30.627 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 18:35:30.631 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 18:35:30.635 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 18:35:30.638 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 18:35:30.642 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 18:35:30.644 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:35:30.646 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 25.9077ms
2025-05-29 18:35:30.648 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:35:30.649 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 137ms
2025-05-29 18:35:30.652 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 144.3717ms
2025-05-29 18:36:57.099 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 18:36:57.101 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 18:36:57.103 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:36:57.106 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:36:57.107 +08:00 [INF] 请求路径: /api/Property/QueryProperties
2025-05-29 18:36:57.108 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 18:36:57.109 +08:00 [INF] 请求方法: GET
2025-05-29 18:36:57.110 +08:00 [INF] 请求方法: GET
2025-05-29 18:36:57.111 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:36:57.112 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:36:57.113 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:36:57.114 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:36:57.116 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:36:57.117 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:36:57.119 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:36:57.120 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:36:57.121 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:36:57.123 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:36:57.124 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiYjNhNzcwZmItMzZlNi00NGZmLWI3MjAtOWE2ODVhYzJiYTc0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTUwMzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.prVm4TJPWzm4_wTF_ztdPvtWSOzlWlqxAjavoTwTVHU
2025-05-29 18:36:57.125 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiYjNhNzcwZmItMzZlNi00NGZmLWI3MjAtOWE2ODVhYzJiYTc0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTUwMzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.prVm4TJPWzm4_wTF_ztdPvtWSOzlWlqxAjavoTwTVHU
2025-05-29 18:36:57.127 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:36:57.128 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:36:57.130 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:36:57.132 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:36:57.133 +08:00 [INF] 请求头: traceparent = 00-4435262171a06eb7a4d1b965734337ef-ef3f2b42afe03c8f-00
2025-05-29 18:36:57.134 +08:00 [INF] 请求头: traceparent = 00-734de7074da22264e561ae0715c2b74d-4989170bce3a1adc-00
2025-05-29 18:36:57.136 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:36:57.137 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:36:57.139 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:36:57.140 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:36:57.141 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:36:57.143 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:36:57.144 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:36:57.145 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:36:57.147 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:36:57.149 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:36:57.151 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:36:57.152 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:36:57.153 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:36:57.155 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:36:57.156 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:36:57.157 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:36:57.159 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:36:57.160 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:36:57.161 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:36:57.162 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:36:57.163 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:36:57.164 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:36:57.165 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:36:57.166 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:36:57.167 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:36:57.169 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:36:57.170 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:36:57.171 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:36:57.173 +08:00 [INF] JWT Claim: jti = b3a770fb-36e6-44ff-b720-9a685ac2ba74
2025-05-29 18:36:57.174 +08:00 [INF] JWT Claim: jti = b3a770fb-36e6-44ff-b720-9a685ac2ba74
2025-05-29 18:36:57.175 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:36:57.177 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:36:57.178 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:36:57.179 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:36:57.181 +08:00 [INF] JWT Claim: exp = 1748515038
2025-05-29 18:36:57.182 +08:00 [INF] JWT Claim: exp = 1748515038
2025-05-29 18:36:57.183 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:36:57.185 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:36:57.186 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:36:57.187 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:36:57.189 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:36:57.190 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:36:57.191 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiYjNhNzcwZmItMzZlNi00NGZmLWI3MjAtOWE2ODVhYzJiYTc0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTUwMzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.prVm4TJPWzm4_wTF_ztdPvtWSOzlWlqxAjavoTwTVHU]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-4435262171a06eb7a4d1b965734337ef-ef3f2b42afe03c8f-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:36:57.192 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiYjNhNzcwZmItMzZlNi00NGZmLWI3MjAtOWE2ODVhYzJiYTc0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTUwMzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.prVm4TJPWzm4_wTF_ztdPvtWSOzlWlqxAjavoTwTVHU]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-734de7074da22264e561ae0715c2b74d-4989170bce3a1adc-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:36:57.200 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:36:57.209 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:36:57.210 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:36:57.210 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:36:57.212 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:36:57.213 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:36:57.225 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:36:57.225 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:36:57.237 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 18:36:57.239 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 18:36:57.240 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:36:57.243 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 18:36:57.244 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 28.9458ms
2025-05-29 18:36:57.247 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 18:36:57.248 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:36:57.252 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 18:36:57.253 +08:00 [INF] 请求 GET /api/Property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 149ms
2025-05-29 18:36:57.258 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 18:36:57.259 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 159.5802ms
2025-05-29 18:36:57.261 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:36:57.268 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 49.3065ms
2025-05-29 18:36:57.270 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:36:57.271 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 165ms
2025-05-29 18:36:57.274 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 172.6188ms
2025-05-29 18:37:41.562 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 18:37:41.565 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:37:41.566 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 18:37:41.567 +08:00 [INF] 请求方法: GET
2025-05-29 18:37:41.568 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:37:41.569 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:37:41.570 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:37:41.571 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:37:41.572 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:37:41.573 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2UxODlmMjctYmM5Zi00ZmQ2LWE2YjQtMGViMDI0MmEzNzliIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTU2NjAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.QTfo-ilvUhRDNjoxIJb6kRsBuxSYM-M115iXSHusk80
2025-05-29 18:37:41.575 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:37:41.576 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:37:41.577 +08:00 [INF] 请求头: traceparent = 00-9170fad3d71c25fc72b9c2ba9d130abe-3e7556e79e485006-00
2025-05-29 18:37:41.578 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:37:41.579 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:37:41.580 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:37:41.582 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:37:41.582 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 18:37:41.588 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:37:41.593 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:37:41.594 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:37:41.595 +08:00 [INF] 请求路径: /api/Property/QueryProperties
2025-05-29 18:37:41.596 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:37:41.597 +08:00 [INF] 请求方法: GET
2025-05-29 18:37:41.599 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:37:41.599 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:37:41.601 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:37:41.602 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:37:41.603 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:37:41.604 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:37:41.606 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:37:41.606 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:37:41.607 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:37:41.608 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:37:41.609 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:37:41.611 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2UxODlmMjctYmM5Zi00ZmQ2LWE2YjQtMGViMDI0MmEzNzliIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTU2NjAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.QTfo-ilvUhRDNjoxIJb6kRsBuxSYM-M115iXSHusk80
2025-05-29 18:37:41.612 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:37:41.613 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:37:41.614 +08:00 [INF] JWT Claim: jti = ce189f27-bc9f-4fd6-a6b4-0eb0242a379b
2025-05-29 18:37:41.616 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:37:41.618 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:37:41.619 +08:00 [INF] 请求头: traceparent = 00-072f8539ccc27b6321962e8b644ae969-ef74711ebe12e673-00
2025-05-29 18:37:41.620 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:37:41.622 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:37:41.623 +08:00 [INF] JWT Claim: exp = 1748515660
2025-05-29 18:37:41.624 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:37:41.625 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:37:41.627 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:37:41.628 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:37:41.629 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:37:41.630 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:37:41.632 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:37:41.633 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2UxODlmMjctYmM5Zi00ZmQ2LWE2YjQtMGViMDI0MmEzNzliIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTU2NjAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.QTfo-ilvUhRDNjoxIJb6kRsBuxSYM-M115iXSHusk80]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-9170fad3d71c25fc72b9c2ba9d130abe-3e7556e79e485006-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:37:41.634 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:37:41.643 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:37:41.644 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:37:41.645 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:37:41.646 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:37:41.648 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:37:41.649 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:37:41.652 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:37:41.655 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:37:41.657 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:37:41.661 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:37:41.677 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:37:41.677 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 18:37:41.678 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:37:41.682 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 18:37:41.682 +08:00 [INF] JWT Claim: jti = ce189f27-bc9f-4fd6-a6b4-0eb0242a379b
2025-05-29 18:37:41.686 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 18:37:41.686 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:37:41.689 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 18:37:41.690 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:37:41.694 +08:00 [INF] JWT Claim: exp = 1748515660
2025-05-29 18:37:41.695 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 18:37:41.696 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:37:41.698 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:37:41.699 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:37:41.701 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 49.3728ms
2025-05-29 18:37:41.702 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:37:41.703 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:37:41.704 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2UxODlmMjctYmM5Zi00ZmQ2LWE2YjQtMGViMDI0MmEzNzliIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTU2NjAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.QTfo-ilvUhRDNjoxIJb6kRsBuxSYM-M115iXSHusk80]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-072f8539ccc27b6321962e8b644ae969-ef74711ebe12e673-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:37:41.706 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 140ms
2025-05-29 18:37:41.713 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:37:41.715 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 153.2483ms
2025-05-29 18:37:41.716 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:37:41.722 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:37:41.729 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:37:41.735 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 18:37:41.737 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:37:41.739 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 13.8787ms
2025-05-29 18:37:41.741 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:37:41.742 +08:00 [INF] 请求 GET /api/Property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 148ms
2025-05-29 18:37:41.744 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 162.2786ms
2025-05-29 18:37:48.418 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-29 18:37:48.421 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:37:48.421 +08:00 [INF] 请求路径: /api/Property/QueryProperties
2025-05-29 18:37:48.422 +08:00 [INF] 请求方法: GET
2025-05-29 18:37:48.424 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:37:48.425 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:37:48.426 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:37:48.428 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:37:48.429 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:37:48.430 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2UxODlmMjctYmM5Zi00ZmQ2LWE2YjQtMGViMDI0MmEzNzliIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTU2NjAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.QTfo-ilvUhRDNjoxIJb6kRsBuxSYM-M115iXSHusk80
2025-05-29 18:37:48.431 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:37:48.433 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:37:48.434 +08:00 [INF] 请求头: traceparent = 00-6a656c58feba7734908993ecf76f8b08-fd48e0661b6e886b-00
2025-05-29 18:37:48.435 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:37:48.436 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:37:48.437 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:37:48.439 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:37:48.440 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:37:48.442 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:37:48.443 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:37:48.444 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:37:48.445 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:37:48.446 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:37:48.447 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:37:48.449 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:37:48.450 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:37:48.452 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:37:48.453 +08:00 [INF] JWT Claim: jti = ce189f27-bc9f-4fd6-a6b4-0eb0242a379b
2025-05-29 18:37:48.454 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:37:48.455 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:37:48.457 +08:00 [INF] JWT Claim: exp = 1748515660
2025-05-29 18:37:48.459 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:37:48.460 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:37:48.461 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:37:48.463 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2UxODlmMjctYmM5Zi00ZmQ2LWE2YjQtMGViMDI0MmEzNzliIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTU2NjAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.QTfo-ilvUhRDNjoxIJb6kRsBuxSYM-M115iXSHusk80]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-6a656c58feba7734908993ecf76f8b08-fd48e0661b6e886b-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:37:48.472 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:37:48.473 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:37:48.474 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:37:48.480 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:37:48.485 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 18:37:48.488 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:37:48.490 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 14.2077ms
2025-05-29 18:37:48.493 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:37:48.494 +08:00 [INF] 请求 GET /api/Property/QueryProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 73ms
2025-05-29 18:37:48.496 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 77.9634ms
2025-05-29 18:37:51.012 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?keyword=&pageIndex=2&pageSize=10 - null 0
2025-05-29 18:37:51.014 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:37:51.015 +08:00 [INF] 请求路径: /api/Property/QueryProperties
2025-05-29 18:37:51.016 +08:00 [INF] 请求方法: GET
2025-05-29 18:37:51.017 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:37:51.018 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:37:51.020 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:37:51.021 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:37:51.022 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:37:51.023 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2UxODlmMjctYmM5Zi00ZmQ2LWE2YjQtMGViMDI0MmEzNzliIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTU2NjAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.QTfo-ilvUhRDNjoxIJb6kRsBuxSYM-M115iXSHusk80
2025-05-29 18:37:51.025 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:37:51.026 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:37:51.027 +08:00 [INF] 请求头: traceparent = 00-05162dd2b467560dd8620db7ee03d147-bb5d8286fa1ff32f-00
2025-05-29 18:37:51.028 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:37:51.030 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:37:51.031 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:37:51.032 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:37:51.033 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:37:51.035 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:37:51.036 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:37:51.037 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:37:51.038 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:37:51.039 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:37:51.040 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:37:51.042 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:37:51.043 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:37:51.044 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:37:51.045 +08:00 [INF] JWT Claim: jti = ce189f27-bc9f-4fd6-a6b4-0eb0242a379b
2025-05-29 18:37:51.047 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:37:51.048 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:37:51.049 +08:00 [INF] JWT Claim: exp = 1748515660
2025-05-29 18:37:51.051 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:37:51.052 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:37:51.053 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:37:51.054 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2UxODlmMjctYmM5Zi00ZmQ2LWE2YjQtMGViMDI0MmEzNzliIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTU2NjAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.QTfo-ilvUhRDNjoxIJb6kRsBuxSYM-M115iXSHusk80]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-05162dd2b467560dd8620db7ee03d147-bb5d8286fa1ff32f-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:37:51.062 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:37:51.063 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:37:51.064 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:37:51.069 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:37:51.106 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
2025-05-29 18:37:51.109 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:37:51.110 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 43.8099ms
2025-05-29 18:37:51.112 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:37:51.113 +08:00 [INF] 请求 GET /api/Property/QueryProperties?keyword=&pageIndex=2&pageSize=10 完成，状态码: 200，耗时: 98ms
2025-05-29 18:37:51.115 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?keyword=&pageIndex=2&pageSize=10 - 200 null application/json; charset=utf-8 103.305ms
2025-05-29 18:37:52.412 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?keyword=&pageIndex=3&pageSize=10 - null 0
2025-05-29 18:37:52.415 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:37:52.417 +08:00 [INF] 请求路径: /api/Property/QueryProperties
2025-05-29 18:37:52.417 +08:00 [INF] 请求方法: GET
2025-05-29 18:37:52.418 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:37:52.420 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:37:52.421 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:37:52.422 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:37:52.423 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:37:52.424 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2UxODlmMjctYmM5Zi00ZmQ2LWE2YjQtMGViMDI0MmEzNzliIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTU2NjAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.QTfo-ilvUhRDNjoxIJb6kRsBuxSYM-M115iXSHusk80
2025-05-29 18:37:52.426 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:37:52.427 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:37:52.428 +08:00 [INF] 请求头: traceparent = 00-ac8862983405de73547af3e1c83f2e9c-42bab0cb0a7c6008-00
2025-05-29 18:37:52.430 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:37:52.431 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:37:52.432 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:37:52.433 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:37:52.434 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:37:52.436 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:37:52.437 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:37:52.438 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:37:52.439 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:37:52.440 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:37:52.441 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:37:52.442 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:37:52.443 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:37:52.444 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:37:52.445 +08:00 [INF] JWT Claim: jti = ce189f27-bc9f-4fd6-a6b4-0eb0242a379b
2025-05-29 18:37:52.446 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:37:52.447 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:37:52.449 +08:00 [INF] JWT Claim: exp = 1748515660
2025-05-29 18:37:52.450 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:37:52.451 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:37:52.452 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:37:52.453 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2UxODlmMjctYmM5Zi00ZmQ2LWE2YjQtMGViMDI0MmEzNzliIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTU2NjAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.QTfo-ilvUhRDNjoxIJb6kRsBuxSYM-M115iXSHusk80]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-ac8862983405de73547af3e1c83f2e9c-42bab0cb0a7c6008-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:37:52.460 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:37:52.462 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:37:52.463 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:37:52.467 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:37:52.471 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 18:37:52.473 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:37:52.475 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 10.4743ms
2025-05-29 18:37:52.476 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:37:52.477 +08:00 [INF] 请求 GET /api/Property/QueryProperties?keyword=&pageIndex=3&pageSize=10 完成，状态码: 200，耗时: 61ms
2025-05-29 18:37:52.480 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?keyword=&pageIndex=3&pageSize=10 - 200 null application/json; charset=utf-8 67.1289ms
2025-05-29 18:37:53.859 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-29 18:37:53.861 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:37:53.863 +08:00 [INF] 请求路径: /api/Property/QueryProperties
2025-05-29 18:37:53.863 +08:00 [INF] 请求方法: GET
2025-05-29 18:37:53.864 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:37:53.865 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:37:53.866 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:37:53.867 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:37:53.868 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:37:53.869 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2UxODlmMjctYmM5Zi00ZmQ2LWE2YjQtMGViMDI0MmEzNzliIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTU2NjAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.QTfo-ilvUhRDNjoxIJb6kRsBuxSYM-M115iXSHusk80
2025-05-29 18:37:53.870 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:37:53.871 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:37:53.872 +08:00 [INF] 请求头: traceparent = 00-7fad01d9785999d801325dc5e16e2e8e-64cb5dc3c98cf79d-00
2025-05-29 18:37:53.872 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:37:53.873 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:37:53.874 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:37:53.875 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:37:53.876 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:37:53.877 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:37:53.878 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:37:53.879 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:37:53.880 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:37:53.881 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:37:53.881 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:37:53.882 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:37:53.883 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:37:53.885 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:37:53.886 +08:00 [INF] JWT Claim: jti = ce189f27-bc9f-4fd6-a6b4-0eb0242a379b
2025-05-29 18:37:53.887 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:37:53.887 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:37:53.888 +08:00 [INF] JWT Claim: exp = 1748515660
2025-05-29 18:37:53.889 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:37:53.891 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:37:53.893 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:37:53.893 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2UxODlmMjctYmM5Zi00ZmQ2LWE2YjQtMGViMDI0MmEzNzliIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTU2NjAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.QTfo-ilvUhRDNjoxIJb6kRsBuxSYM-M115iXSHusk80]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-7fad01d9785999d801325dc5e16e2e8e-64cb5dc3c98cf79d-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:37:53.900 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:37:53.901 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:37:53.902 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:37:53.905 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:37:53.910 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 18:37:53.912 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:37:53.913 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 9.4902ms
2025-05-29 18:37:53.914 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:37:53.915 +08:00 [INF] 请求 GET /api/Property/QueryProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 53ms
2025-05-29 18:37:53.917 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 57.4124ms
2025-05-29 18:37:59.412 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 18:37:59.415 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:37:59.416 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 18:37:59.417 +08:00 [INF] 请求方法: GET
2025-05-29 18:37:59.418 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:37:59.419 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:37:59.420 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:37:59.421 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:37:59.422 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:37:59.424 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2UxODlmMjctYmM5Zi00ZmQ2LWE2YjQtMGViMDI0MmEzNzliIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTU2NjAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.QTfo-ilvUhRDNjoxIJb6kRsBuxSYM-M115iXSHusk80
2025-05-29 18:37:59.425 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:37:59.427 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:37:59.428 +08:00 [INF] 请求头: traceparent = 00-71586499753fb732585367114193eb6f-943264e9dd18d2af-00
2025-05-29 18:37:59.429 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:37:59.430 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:37:59.431 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:37:59.432 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:37:59.434 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:37:59.435 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:37:59.436 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:37:59.437 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:37:59.438 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:37:59.439 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:37:59.440 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:37:59.442 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:37:59.443 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:37:59.444 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:37:59.445 +08:00 [INF] JWT Claim: jti = ce189f27-bc9f-4fd6-a6b4-0eb0242a379b
2025-05-29 18:37:59.446 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:37:59.447 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:37:59.449 +08:00 [INF] JWT Claim: exp = 1748515660
2025-05-29 18:37:59.450 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:37:59.451 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:37:59.453 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:37:59.453 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2UxODlmMjctYmM5Zi00ZmQ2LWE2YjQtMGViMDI0MmEzNzliIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTU2NjAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.QTfo-ilvUhRDNjoxIJb6kRsBuxSYM-M115iXSHusk80]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-71586499753fb732585367114193eb6f-943264e9dd18d2af-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:37:59.462 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:37:59.463 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:37:59.464 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:37:59.469 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:37:59.477 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 18:37:59.480 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 18:37:59.485 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 18:37:59.489 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 18:37:59.492 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 18:37:59.495 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:37:59.497 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 29.9346ms
2025-05-29 18:37:59.498 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:37:59.500 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 84ms
2025-05-29 18:37:59.502 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 89.979ms
2025-05-29 18:37:59.631 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 18:37:59.634 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:37:59.635 +08:00 [INF] 请求路径: /api/Property/QueryProperties
2025-05-29 18:37:59.637 +08:00 [INF] 请求方法: GET
2025-05-29 18:37:59.638 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:37:59.640 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:37:59.641 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:37:59.643 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:37:59.644 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:37:59.646 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2UxODlmMjctYmM5Zi00ZmQ2LWE2YjQtMGViMDI0MmEzNzliIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTU2NjAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.QTfo-ilvUhRDNjoxIJb6kRsBuxSYM-M115iXSHusk80
2025-05-29 18:37:59.647 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:37:59.649 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:37:59.650 +08:00 [INF] 请求头: traceparent = 00-52d4e5aac05a583df40bd5b22f182b58-fe5f4ce7ab84eb94-00
2025-05-29 18:37:59.652 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:37:59.653 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:37:59.655 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:37:59.656 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:37:59.658 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:37:59.660 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:37:59.661 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:37:59.662 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:37:59.664 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:37:59.665 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:37:59.666 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:37:59.668 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:37:59.669 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:37:59.670 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:37:59.672 +08:00 [INF] JWT Claim: jti = ce189f27-bc9f-4fd6-a6b4-0eb0242a379b
2025-05-29 18:37:59.673 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:37:59.675 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:37:59.676 +08:00 [INF] JWT Claim: exp = 1748515660
2025-05-29 18:37:59.678 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:37:59.679 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:37:59.681 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:37:59.682 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2UxODlmMjctYmM5Zi00ZmQ2LWE2YjQtMGViMDI0MmEzNzliIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTU2NjAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.QTfo-ilvUhRDNjoxIJb6kRsBuxSYM-M115iXSHusk80]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-52d4e5aac05a583df40bd5b22f182b58-fe5f4ce7ab84eb94-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:37:59.690 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:37:59.692 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:37:59.693 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:37:59.698 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:37:59.703 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 18:37:59.706 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:37:59.708 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 12.7959ms
2025-05-29 18:37:59.710 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:37:59.711 +08:00 [INF] 请求 GET /api/Property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 76ms
2025-05-29 18:37:59.713 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 82.0657ms
2025-05-29 18:46:41.908 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 18:46:41.917 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:46:41.919 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 18:46:41.920 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 18:46:41.921 +08:00 [INF] 请求方法: GET
2025-05-29 18:46:41.928 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 18:46:41.929 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:46:41.930 +08:00 [INF] 请求路径: /api/Property/QueryProperties
2025-05-29 18:46:41.931 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:46:41.932 +08:00 [INF] 请求方法: GET
2025-05-29 18:46:41.933 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:46:41.934 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 18:46:41.935 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:46:41.937 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 18:46:41.938 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:46:41.939 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 18:46:41.940 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2UxODlmMjctYmM5Zi00ZmQ2LWE2YjQtMGViMDI0MmEzNzliIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTU2NjAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.QTfo-ilvUhRDNjoxIJb6kRsBuxSYM-M115iXSHusk80
2025-05-29 18:46:41.941 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 18:46:41.943 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:46:41.944 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 18:46:41.945 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:46:41.946 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2UxODlmMjctYmM5Zi00ZmQ2LWE2YjQtMGViMDI0MmEzNzliIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTU2NjAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.QTfo-ilvUhRDNjoxIJb6kRsBuxSYM-M115iXSHusk80
2025-05-29 18:46:41.947 +08:00 [INF] 请求头: traceparent = 00-fe8fc6600aea61ba054aabbfcaf14799-a75c8367f9521367-00
2025-05-29 18:46:41.949 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 18:46:41.950 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:46:41.951 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 18:46:41.953 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:46:41.954 +08:00 [INF] 请求头: traceparent = 00-e43bf785b72d06d0e5db161689be0dc3-096bcb00906c2dce-00
2025-05-29 18:46:41.955 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:46:41.956 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 18:46:41.957 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:46:41.959 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 18:46:41.960 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:46:41.962 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 18:46:41.963 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:46:41.964 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 18:46:41.965 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:46:41.967 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 18:46:41.968 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:46:41.969 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 18:46:41.971 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:46:41.972 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 18:46:41.973 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:46:41.974 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 18:46:41.975 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:46:41.977 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 18:46:41.978 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:46:41.979 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 18:46:41.980 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:46:41.981 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 18:46:41.982 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:46:41.983 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:46:41.984 +08:00 [INF] JWT Claim: jti = ce189f27-bc9f-4fd6-a6b4-0eb0242a379b
2025-05-29 18:46:41.986 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 18:46:41.987 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:46:41.988 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 18:46:41.989 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:46:41.991 +08:00 [INF] JWT Claim: jti = ce189f27-bc9f-4fd6-a6b4-0eb0242a379b
2025-05-29 18:46:41.992 +08:00 [INF] JWT Claim: exp = 1748515660
2025-05-29 18:46:41.994 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 18:46:41.995 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:46:41.996 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 18:46:41.998 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:46:41.999 +08:00 [INF] JWT Claim: exp = 1748515660
2025-05-29 18:46:42.000 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:46:42.002 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 18:46:42.003 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2UxODlmMjctYmM5Zi00ZmQ2LWE2YjQtMGViMDI0MmEzNzliIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTU2NjAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.QTfo-ilvUhRDNjoxIJb6kRsBuxSYM-M115iXSHusk80]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-fe8fc6600aea61ba054aabbfcaf14799-a75c8367f9521367-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:46:42.004 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 18:46:42.013 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:46:42.014 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 18:46:42.016 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:46:42.016 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2UxODlmMjctYmM5Zi00ZmQ2LWE2YjQtMGViMDI0MmEzNzliIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTU2NjAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.QTfo-ilvUhRDNjoxIJb6kRsBuxSYM-M115iXSHusk80]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-e43bf785b72d06d0e5db161689be0dc3-096bcb00906c2dce-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 18:46:42.018 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Models.PropertyStats]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:46:42.027 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 18:46:42.030 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:46:42.034 +08:00 [INF] Route matched with {action = "QueryProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.Database.Models.Property]]] QueryProperties(System.Nullable`1[RealEstateSolution.Database.Models.PropertyType], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.Nullable`1[RealEstateSolution.Database.Models.PropertyStatus], System.String, Int32, Int32) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 18:46:42.064 +08:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:46:42.064 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 18:46:42.069 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 1
2025-05-29 18:46:42.071 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
ORDER BY [p].[UpdateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 18:46:42.072 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 2
2025-05-29 18:46:42.074 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.Database.Models.Property, RealEstateSolution.Database, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:46:42.078 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 3
2025-05-29 18:46:42.079 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService) in 37.7865ms
2025-05-29 18:46:42.082 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
WHERE [p].[Status] = 4
2025-05-29 18:46:42.083 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.QueryProperties (RealEstateSolution.PropertyService)'
2025-05-29 18:46:42.086 +08:00 [INF] 请求 GET /api/Property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 157ms
2025-05-29 18:46:42.087 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Type], COUNT(*) AS [Count]
FROM [Properties] AS [p]
GROUP BY [p].[Type]
2025-05-29 18:46:42.088 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 168.7695ms
2025-05-29 18:46:42.091 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Models.PropertyStats, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 18:46:42.098 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 69.6414ms
2025-05-29 18:46:42.100 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 18:46:42.101 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 183ms
2025-05-29 18:46:42.104 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 196.1422ms
2025-05-29 19:40:04.752 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-29 19:40:05.075 +08:00 [INF] Now listening on: https://localhost:5001
2025-05-29 19:40:05.190 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-29 19:40:05.192 +08:00 [INF] Hosting environment: Development
2025-05-29 19:40:05.194 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.PropertyService
2025-05-29 19:40:08.789 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-05-29 19:40:08.789 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-05-29 19:40:08.899 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 129.7635ms
2025-05-29 19:40:09.048 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 262.7041ms
2025-05-29 19:40:09.925 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-05-29 19:40:10.030 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 105.5687ms
2025-05-29 19:40:41.086 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 19:40:41.086 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 19:40:41.146 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 19:40:41.146 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 19:40:41.149 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 19:40:41.149 +08:00 [INF] 请求路径: /api/Property/QueryProperties
2025-05-29 19:40:41.150 +08:00 [INF] 请求方法: GET
2025-05-29 19:40:41.152 +08:00 [INF] 请求方法: GET
2025-05-29 19:40:41.153 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 19:40:41.154 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 19:40:41.154 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 19:40:41.155 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 19:40:41.156 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 19:40:41.157 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 19:40:41.158 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 19:40:41.160 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 19:40:41.161 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 19:40:41.162 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 19:40:41.163 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDIzOGM0OTItMTUxZS00YWQ4LWI4NWUtMWEwMjRkMThmNTRiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTk0NDAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.B4RbAMptSPVkxCqYb5SppL3YICC0D5Snf5qI1vNv2xQ
2025-05-29 19:40:41.164 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDIzOGM0OTItMTUxZS00YWQ4LWI4NWUtMWEwMjRkMThmNTRiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTk0NDAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.B4RbAMptSPVkxCqYb5SppL3YICC0D5Snf5qI1vNv2xQ
2025-05-29 19:40:41.165 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 19:40:41.166 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 19:40:41.167 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 19:40:41.169 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 19:40:41.170 +08:00 [INF] 请求头: traceparent = 00-eee2cb116f8ae3cd54c43b5431a27a90-f6de19aae14305bb-00
2025-05-29 19:40:41.171 +08:00 [INF] 请求头: traceparent = 00-f7456d26fe6f5ca0ad086502a620620d-76a09f761a8bcfe8-00
2025-05-29 19:40:41.172 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 19:40:41.173 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 19:40:41.174 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 19:40:41.175 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 19:40:41.176 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 19:40:41.177 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 19:40:41.178 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 19:40:41.179 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 19:40:41.180 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 19:40:41.181 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 19:40:41.182 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 19:40:41.183 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 19:40:41.185 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 19:40:41.186 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 19:40:41.187 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 19:40:41.188 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 19:40:41.189 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 19:40:41.190 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 19:40:41.191 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 19:40:41.191 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 19:40:41.237 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 19:40:41.237 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 19:40:41.238 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:40:41.239 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:40:41.240 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 19:40:41.241 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 19:40:41.242 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 19:40:41.243 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 19:40:41.244 +08:00 [INF] JWT Claim: jti = d238c492-151e-4ad8-b85e-1a024d18f54b
2025-05-29 19:40:41.245 +08:00 [INF] JWT Claim: jti = d238c492-151e-4ad8-b85e-1a024d18f54b
2025-05-29 19:40:41.246 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 19:40:41.247 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 19:40:41.248 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 19:40:41.249 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 19:40:41.250 +08:00 [INF] JWT Claim: exp = 1748519440
2025-05-29 19:40:41.251 +08:00 [INF] JWT Claim: exp = 1748519440
2025-05-29 19:40:41.252 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 19:40:41.253 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 19:40:41.254 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 19:40:41.255 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 19:40:41.257 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 19:40:41.258 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 19:40:41.261 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDIzOGM0OTItMTUxZS00YWQ4LWI4NWUtMWEwMjRkMThmNTRiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTk0NDAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.B4RbAMptSPVkxCqYb5SppL3YICC0D5Snf5qI1vNv2xQ]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-eee2cb116f8ae3cd54c43b5431a27a90-f6de19aae14305bb-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 19:40:41.261 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDIzOGM0OTItMTUxZS00YWQ4LWI4NWUtMWEwMjRkMThmNTRiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTk0NDAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.B4RbAMptSPVkxCqYb5SppL3YICC0D5Snf5qI1vNv2xQ]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-f7456d26fe6f5ca0ad086502a620620d-76a09f761a8bcfe8-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 19:40:41.345 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:40:41.345 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:40:41.364 +08:00 [INF] 请求 GET /api/Property/QueryProperties?pageIndex=1&pageSize=5 完成，状态码: 404，耗时: 272ms
2025-05-29 19:40:41.366 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 19:40:41.380 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/QueryProperties?pageIndex=1&pageSize=5 - 404 0 null 294.7405ms
2025-05-29 19:40:41.387 +08:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5001/api/Property/QueryProperties, Response status code: 404
2025-05-29 19:40:41.399 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 19:40:42.727 +08:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-29 19:40:42.812 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 19:40:42.827 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 1423.9529ms
2025-05-29 19:40:42.829 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 19:40:42.830 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 1738ms
2025-05-29 19:40:42.837 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 1751.574ms
2025-05-29 19:42:30.960 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 19:42:30.965 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 19:42:30.966 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 19:42:30.968 +08:00 [INF] 请求方法: GET
2025-05-29 19:42:30.969 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 19:42:30.971 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 19:42:30.973 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 19:42:30.975 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 19:42:30.976 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 19:42:30.978 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDIzOGM0OTItMTUxZS00YWQ4LWI4NWUtMWEwMjRkMThmNTRiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTk0NDAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.B4RbAMptSPVkxCqYb5SppL3YICC0D5Snf5qI1vNv2xQ
2025-05-29 19:42:30.980 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 19:42:30.982 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 19:42:30.983 +08:00 [INF] 请求头: traceparent = 00-f217f4201b1fabe1dd1017d3875e39ec-49533d8fc5dada9f-00
2025-05-29 19:42:30.985 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 19:42:30.986 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 19:42:30.988 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 19:42:30.989 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 19:42:30.991 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 19:42:30.992 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 19:42:30.994 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 19:42:30.995 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 19:42:30.997 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 19:42:30.998 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 19:42:30.999 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 19:42:31.001 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:42:31.002 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 19:42:31.004 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 19:42:31.005 +08:00 [INF] JWT Claim: jti = d238c492-151e-4ad8-b85e-1a024d18f54b
2025-05-29 19:42:31.007 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 19:42:31.008 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 19:42:31.010 +08:00 [INF] JWT Claim: exp = 1748519440
2025-05-29 19:42:31.011 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 19:42:31.013 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 19:42:31.014 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 19:42:31.015 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDIzOGM0OTItMTUxZS00YWQ4LWI4NWUtMWEwMjRkMThmNTRiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTk0NDAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.B4RbAMptSPVkxCqYb5SppL3YICC0D5Snf5qI1vNv2xQ]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-f217f4201b1fabe1dd1017d3875e39ec-49533d8fc5dada9f-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 19:42:31.028 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:42:31.035 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 19:42:31.037 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 19:42:31.110 +08:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-29 19:42:31.115 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 19:42:31.118 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 78.7519ms
2025-05-29 19:42:31.120 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 19:42:31.122 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 156ms
2025-05-29 19:42:31.125 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 165.1264ms
2025-05-29 19:42:31.134 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 19:42:31.139 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 19:42:31.141 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-29 19:42:31.142 +08:00 [INF] 请求方法: GET
2025-05-29 19:42:31.143 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 19:42:31.145 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 19:42:31.147 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 19:42:31.150 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 19:42:31.152 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 19:42:31.154 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDIzOGM0OTItMTUxZS00YWQ4LWI4NWUtMWEwMjRkMThmNTRiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTk0NDAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.B4RbAMptSPVkxCqYb5SppL3YICC0D5Snf5qI1vNv2xQ
2025-05-29 19:42:31.156 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 19:42:31.157 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 19:42:31.159 +08:00 [INF] 请求头: traceparent = 00-57a24c929ab128a82f44e9c442af5083-fcaa2920997f216b-00
2025-05-29 19:42:31.161 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 19:42:31.163 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 19:42:31.165 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 19:42:31.167 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 19:42:31.168 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 19:42:31.170 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 19:42:31.172 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 19:42:31.173 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 19:42:31.175 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 19:42:31.177 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 19:42:31.178 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 19:42:31.180 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:42:31.181 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 19:42:31.183 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 19:42:31.185 +08:00 [INF] JWT Claim: jti = d238c492-151e-4ad8-b85e-1a024d18f54b
2025-05-29 19:42:31.187 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 19:42:31.189 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 19:42:31.191 +08:00 [INF] JWT Claim: exp = 1748519440
2025-05-29 19:42:31.193 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 19:42:31.195 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 19:42:31.196 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 19:42:31.198 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDIzOGM0OTItMTUxZS00YWQ4LWI4NWUtMWEwMjRkMThmNTRiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTk0NDAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.B4RbAMptSPVkxCqYb5SppL3YICC0D5Snf5qI1vNv2xQ]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-57a24c929ab128a82f44e9c442af5083-fcaa2920997f216b-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 19:42:31.209 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:42:31.213 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-29 19:42:31.234 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 19:42:31.374 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 19:42:31.378 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 19:42:31.380 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 19:42:31.381 +08:00 [INF] 请求方法: GET
2025-05-29 19:42:31.382 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 19:42:31.384 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 19:42:31.386 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 19:42:31.387 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 19:42:31.389 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 19:42:31.390 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDIzOGM0OTItMTUxZS00YWQ4LWI4NWUtMWEwMjRkMThmNTRiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTk0NDAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.B4RbAMptSPVkxCqYb5SppL3YICC0D5Snf5qI1vNv2xQ
2025-05-29 19:42:31.392 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 19:42:31.394 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 19:42:31.395 +08:00 [INF] 请求头: traceparent = 00-c5c928d54ee48156fcf832f33c5631dc-ab8479519c7c2f20-00
2025-05-29 19:42:31.397 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 19:42:31.398 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 19:42:31.400 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 19:42:31.401 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 19:42:31.403 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 19:42:31.404 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 19:42:31.406 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 19:42:31.407 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 19:42:31.410 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 19:42:31.412 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 19:42:31.413 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 19:42:31.425 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 19:42:31.427 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:42:31.429 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 19:42:31.430 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 19:42:31.432 +08:00 [INF] JWT Claim: jti = d238c492-151e-4ad8-b85e-1a024d18f54b
2025-05-29 19:42:31.434 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 19:42:31.436 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 19:42:31.437 +08:00 [INF] JWT Claim: exp = 1748519440
2025-05-29 19:42:31.439 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 19:42:31.440 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 19:42:31.443 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 19:42:31.444 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDIzOGM0OTItMTUxZS00YWQ4LWI4NWUtMWEwMjRkMThmNTRiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTk0NDAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.B4RbAMptSPVkxCqYb5SppL3YICC0D5Snf5qI1vNv2xQ]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-c5c928d54ee48156fcf832f33c5631dc-ab8479519c7c2f20-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 19:42:31.455 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:42:31.457 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 19:42:31.460 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 19:42:31.493 +08:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-29 19:42:31.499 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 19:42:31.501 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 38.1624ms
2025-05-29 19:42:31.503 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 19:42:31.505 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 127ms
2025-05-29 19:42:31.509 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 134.6409ms
2025-05-29 19:42:31.617 +08:00 [INF] Executed DbCommand (66ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 19:42:31.631 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-29 19:42:31.634 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 19:42:31.677 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 439.914ms
2025-05-29 19:42:31.679 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-29 19:42:31.681 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 541ms
2025-05-29 19:42:31.685 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 551.5392ms
2025-05-29 19:42:31.860 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 19:42:31.864 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 19:42:31.865 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-29 19:42:31.867 +08:00 [INF] 请求方法: GET
2025-05-29 19:42:31.868 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 19:42:31.870 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 19:42:31.871 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 19:42:31.873 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 19:42:31.875 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 19:42:31.877 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDIzOGM0OTItMTUxZS00YWQ4LWI4NWUtMWEwMjRkMThmNTRiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTk0NDAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.B4RbAMptSPVkxCqYb5SppL3YICC0D5Snf5qI1vNv2xQ
2025-05-29 19:42:31.879 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 19:42:31.881 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 19:42:31.882 +08:00 [INF] 请求头: traceparent = 00-39615c668556205316f949b4bea1f30b-25bb908ff4bbbedb-00
2025-05-29 19:42:31.884 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 19:42:31.886 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 19:42:31.887 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 19:42:31.889 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 19:42:31.891 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 19:42:31.893 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 19:42:31.894 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 19:42:31.895 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 19:42:31.897 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 19:42:31.898 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 19:42:31.899 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 19:42:31.900 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:42:31.902 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 19:42:31.903 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 19:42:31.904 +08:00 [INF] JWT Claim: jti = d238c492-151e-4ad8-b85e-1a024d18f54b
2025-05-29 19:42:31.906 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 19:42:31.907 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 19:42:31.909 +08:00 [INF] JWT Claim: exp = 1748519440
2025-05-29 19:42:31.911 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 19:42:31.913 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 19:42:31.914 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 19:42:31.916 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDIzOGM0OTItMTUxZS00YWQ4LWI4NWUtMWEwMjRkMThmNTRiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTk0NDAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.B4RbAMptSPVkxCqYb5SppL3YICC0D5Snf5qI1vNv2xQ]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-39615c668556205316f949b4bea1f30b-25bb908ff4bbbedb-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 19:42:31.954 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:42:31.962 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-29 19:42:31.964 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 19:42:31.997 +08:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 19:42:32.037 +08:00 [INF] Executed DbCommand (25ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 19:42:32.045 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-29 19:42:32.047 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 19:42:32.050 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 81.889ms
2025-05-29 19:42:32.052 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-29 19:42:32.054 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 189ms
2025-05-29 19:42:32.057 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 197.609ms
2025-05-29 19:42:39.377 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-05-29 19:42:39.384 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13804 application/javascript; charset=utf-8 6.9779ms
2025-05-29 19:42:39.808 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-05-29 19:42:39.834 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 26.477ms
2025-05-29 19:42:44.969 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 19:42:44.972 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 19:42:44.973 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 19:42:44.975 +08:00 [INF] 请求方法: GET
2025-05-29 19:42:44.976 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 19:42:44.977 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 19:42:44.979 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 19:42:44.980 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 19:42:44.982 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 19:42:44.984 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDIzOGM0OTItMTUxZS00YWQ4LWI4NWUtMWEwMjRkMThmNTRiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTk0NDAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.B4RbAMptSPVkxCqYb5SppL3YICC0D5Snf5qI1vNv2xQ
2025-05-29 19:42:44.985 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 19:42:44.987 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 19:42:44.988 +08:00 [INF] 请求头: traceparent = 00-e0d47af6eeaea3e5cbfe35ffdb50042a-fddae42b8627ef2e-00
2025-05-29 19:42:44.990 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 19:42:44.991 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 19:42:44.993 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 19:42:44.994 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 19:42:44.996 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 19:42:44.998 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 19:42:44.998 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 19:42:45.000 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 19:42:45.003 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 19:42:45.005 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 19:42:45.006 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-29 19:42:45.007 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 19:42:45.008 +08:00 [INF] 请求方法: GET
2025-05-29 19:42:45.009 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 19:42:45.011 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 19:42:45.012 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 19:42:45.013 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 19:42:45.014 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:42:45.016 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 19:42:45.017 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 19:42:45.019 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 19:42:45.020 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 19:42:45.022 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 19:42:45.023 +08:00 [INF] JWT Claim: jti = d238c492-151e-4ad8-b85e-1a024d18f54b
2025-05-29 19:42:45.024 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDIzOGM0OTItMTUxZS00YWQ4LWI4NWUtMWEwMjRkMThmNTRiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTk0NDAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.B4RbAMptSPVkxCqYb5SppL3YICC0D5Snf5qI1vNv2xQ
2025-05-29 19:42:45.026 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 19:42:45.028 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 19:42:45.029 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 19:42:45.030 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 19:42:45.032 +08:00 [INF] JWT Claim: exp = 1748519440
2025-05-29 19:42:45.033 +08:00 [INF] 请求头: traceparent = 00-9041509abe825f1266998f45917af9aa-f0c610bd2a7e6f1e-00
2025-05-29 19:42:45.035 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 19:42:45.036 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 19:42:45.037 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 19:42:45.039 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 19:42:45.041 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 19:42:45.042 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 19:42:45.043 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDIzOGM0OTItMTUxZS00YWQ4LWI4NWUtMWEwMjRkMThmNTRiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTk0NDAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.B4RbAMptSPVkxCqYb5SppL3YICC0D5Snf5qI1vNv2xQ]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-e0d47af6eeaea3e5cbfe35ffdb50042a-fddae42b8627ef2e-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 19:42:45.045 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 19:42:45.056 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:42:45.057 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 19:42:45.059 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 19:42:45.060 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 19:42:45.062 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 19:42:45.064 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 19:42:45.068 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 19:42:45.074 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 19:42:45.075 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-29 19:42:45.076 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 19:42:45.079 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 19:42:45.080 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 19:42:45.081 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:42:45.083 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 16.6684ms
2025-05-29 19:42:45.084 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 19:42:45.086 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 19:42:45.088 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 19:42:45.089 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 116ms
2025-05-29 19:42:45.090 +08:00 [INF] JWT Claim: jti = d238c492-151e-4ad8-b85e-1a024d18f54b
2025-05-29 19:42:45.093 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 124.2451ms
2025-05-29 19:42:45.094 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 19:42:45.101 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 19:42:45.102 +08:00 [INF] JWT Claim: exp = 1748519440
2025-05-29 19:42:45.105 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 19:42:45.106 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 19:42:45.108 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 19:42:45.110 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDIzOGM0OTItMTUxZS00YWQ4LWI4NWUtMWEwMjRkMThmNTRiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTk0NDAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.B4RbAMptSPVkxCqYb5SppL3YICC0D5Snf5qI1vNv2xQ]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-9041509abe825f1266998f45917af9aa-f0c610bd2a7e6f1e-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 19:42:45.121 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:42:45.123 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-29 19:42:45.124 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 19:42:45.133 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 19:42:45.139 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 19:42:45.143 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-29 19:42:45.145 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 19:42:45.147 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 20.0225ms
2025-05-29 19:42:45.149 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-29 19:42:45.150 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 146ms
2025-05-29 19:42:45.153 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 154.7583ms
2025-05-29 19:45:02.312 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 19:45:02.321 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 19:45:02.322 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 19:45:02.323 +08:00 [INF] 请求方法: GET
2025-05-29 19:45:02.324 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 19:45:02.325 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 19:45:02.328 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 19:45:02.329 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 19:45:02.330 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-29 19:45:02.331 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 19:45:02.332 +08:00 [INF] 请求方法: GET
2025-05-29 19:45:02.334 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 19:45:02.335 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 19:45:02.336 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 19:45:02.338 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 19:45:02.339 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDIzOGM0OTItMTUxZS00YWQ4LWI4NWUtMWEwMjRkMThmNTRiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTk0NDAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.B4RbAMptSPVkxCqYb5SppL3YICC0D5Snf5qI1vNv2xQ
2025-05-29 19:45:02.341 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 19:45:02.342 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 19:45:02.343 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 19:45:02.345 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 19:45:02.346 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 19:45:02.347 +08:00 [INF] 请求头: traceparent = 00-9d8d72375401f443ab621ff979124dcd-c542508c464aa351-00
2025-05-29 19:45:02.349 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDIzOGM0OTItMTUxZS00YWQ4LWI4NWUtMWEwMjRkMThmNTRiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTk0NDAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.B4RbAMptSPVkxCqYb5SppL3YICC0D5Snf5qI1vNv2xQ
2025-05-29 19:45:02.350 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 19:45:02.352 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 19:45:02.353 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 19:45:02.355 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 19:45:02.356 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 19:45:02.358 +08:00 [INF] 请求头: traceparent = 00-cf1373b781f4e38c403d8b0154441050-6ab4ace80ebdda25-00
2025-05-29 19:45:02.359 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 19:45:02.360 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 19:45:02.362 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 19:45:02.363 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 19:45:02.364 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 19:45:02.366 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 19:45:02.367 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 19:45:02.368 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 19:45:02.370 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 19:45:02.371 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 19:45:02.373 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 19:45:02.374 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 19:45:02.375 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 19:45:02.376 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 19:45:02.377 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 19:45:02.378 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 19:45:02.379 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:45:02.381 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 19:45:02.382 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 19:45:02.383 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 19:45:02.384 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 19:45:02.385 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 19:45:02.387 +08:00 [INF] JWT Claim: jti = d238c492-151e-4ad8-b85e-1a024d18f54b
2025-05-29 19:45:02.388 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:45:02.389 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 19:45:02.390 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 19:45:02.392 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 19:45:02.393 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 19:45:02.395 +08:00 [INF] JWT Claim: exp = 1748519440
2025-05-29 19:45:02.396 +08:00 [INF] JWT Claim: jti = d238c492-151e-4ad8-b85e-1a024d18f54b
2025-05-29 19:45:02.398 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 19:45:02.399 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 19:45:02.401 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 19:45:02.402 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 19:45:02.404 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 19:45:02.405 +08:00 [INF] JWT Claim: exp = 1748519440
2025-05-29 19:45:02.406 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDIzOGM0OTItMTUxZS00YWQ4LWI4NWUtMWEwMjRkMThmNTRiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTk0NDAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.B4RbAMptSPVkxCqYb5SppL3YICC0D5Snf5qI1vNv2xQ]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-9d8d72375401f443ab621ff979124dcd-c542508c464aa351-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 19:45:02.408 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 19:45:02.417 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:45:02.418 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 19:45:02.419 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 19:45:02.420 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 19:45:02.422 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 19:45:02.422 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDIzOGM0OTItMTUxZS00YWQ4LWI4NWUtMWEwMjRkMThmNTRiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTk0NDAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.B4RbAMptSPVkxCqYb5SppL3YICC0D5Snf5qI1vNv2xQ]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-cf1373b781f4e38c403d8b0154441050-6ab4ace80ebdda25-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 19:45:02.435 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-29 19:45:02.437 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:45:02.441 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 19:45:02.441 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-29 19:45:02.444 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 18.9835ms
2025-05-29 19:45:02.444 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 19:45:02.446 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 19:45:02.449 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 128ms
2025-05-29 19:45:02.455 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 19:45:02.456 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 143.6372ms
2025-05-29 19:45:02.479 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 19:45:02.483 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-29 19:45:02.484 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 19:45:02.487 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 38.6926ms
2025-05-29 19:45:02.488 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-29 19:45:02.490 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 162ms
2025-05-29 19:45:02.494 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 170.0582ms
2025-05-29 19:45:05.228 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 19:45:05.233 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 19:45:05.234 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 19:45:05.236 +08:00 [INF] 请求方法: GET
2025-05-29 19:45:05.237 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 19:45:05.239 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 19:45:05.240 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 19:45:05.242 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 19:45:05.244 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 19:45:05.246 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDIzOGM0OTItMTUxZS00YWQ4LWI4NWUtMWEwMjRkMThmNTRiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTk0NDAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.B4RbAMptSPVkxCqYb5SppL3YICC0D5Snf5qI1vNv2xQ
2025-05-29 19:45:05.248 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 19:45:05.251 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 19:45:05.252 +08:00 [INF] 请求头: traceparent = 00-31e6fc73253fb3d9288db392ebb52b8b-6d779fd837fa6fef-00
2025-05-29 19:45:05.254 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 19:45:05.256 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 19:45:05.258 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 19:45:05.260 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 19:45:05.262 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 19:45:05.264 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 19:45:05.266 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 19:45:05.268 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 19:45:05.271 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 19:45:05.272 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 19:45:05.275 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 19:45:05.276 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:45:05.278 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 19:45:05.279 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 19:45:05.280 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 19:45:05.285 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 19:45:05.286 +08:00 [INF] JWT Claim: jti = d238c492-151e-4ad8-b85e-1a024d18f54b
2025-05-29 19:45:05.287 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-29 19:45:05.289 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 19:45:05.291 +08:00 [INF] 请求方法: GET
2025-05-29 19:45:05.292 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 19:45:05.294 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 19:45:05.295 +08:00 [INF] JWT Claim: exp = 1748519440
2025-05-29 19:45:05.297 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 19:45:05.299 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 19:45:05.301 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 19:45:05.303 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 19:45:05.305 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 19:45:05.307 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 19:45:05.309 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 19:45:05.310 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDIzOGM0OTItMTUxZS00YWQ4LWI4NWUtMWEwMjRkMThmNTRiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTk0NDAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.B4RbAMptSPVkxCqYb5SppL3YICC0D5Snf5qI1vNv2xQ]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-31e6fc73253fb3d9288db392ebb52b8b-6d779fd837fa6fef-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 19:45:05.312 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDIzOGM0OTItMTUxZS00YWQ4LWI4NWUtMWEwMjRkMThmNTRiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTk0NDAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.B4RbAMptSPVkxCqYb5SppL3YICC0D5Snf5qI1vNv2xQ
2025-05-29 19:45:05.325 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:45:05.327 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 19:45:05.329 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 19:45:05.330 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 19:45:05.332 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 19:45:05.334 +08:00 [INF] 请求头: traceparent = 00-2f7f7a83bfd54416ae717f74d37d5815-f2b303a4b3e1725a-00
2025-05-29 19:45:05.340 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 19:45:05.344 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-29 19:45:05.344 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 19:45:05.349 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 19:45:05.350 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 19:45:05.353 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 15.4187ms
2025-05-29 19:45:05.354 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 19:45:05.357 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 19:45:05.358 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 19:45:05.360 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 126ms
2025-05-29 19:45:05.366 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 19:45:05.372 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 19:45:05.370 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 142.1478ms
2025-05-29 19:45:05.374 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 19:45:05.387 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 19:45:05.389 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 19:45:05.390 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 19:45:05.392 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:45:05.394 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 19:45:05.396 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 19:45:05.399 +08:00 [INF] JWT Claim: jti = d238c492-151e-4ad8-b85e-1a024d18f54b
2025-05-29 19:45:05.400 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 19:45:05.402 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 19:45:05.404 +08:00 [INF] JWT Claim: exp = 1748519440
2025-05-29 19:45:05.406 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 19:45:05.408 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 19:45:05.410 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 19:45:05.412 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDIzOGM0OTItMTUxZS00YWQ4LWI4NWUtMWEwMjRkMThmNTRiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTk0NDAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.B4RbAMptSPVkxCqYb5SppL3YICC0D5Snf5qI1vNv2xQ]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-2f7f7a83bfd54416ae717f74d37d5815-f2b303a4b3e1725a-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 19:45:05.425 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:45:05.427 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-29 19:45:05.429 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 19:45:05.438 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 19:45:05.447 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 19:45:05.451 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-29 19:45:05.453 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 19:45:05.455 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 22.8986ms
2025-05-29 19:45:05.458 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-29 19:45:05.459 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 174ms
2025-05-29 19:45:05.463 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 183.2098ms
2025-05-29 19:46:31.088 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 19:46:31.093 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 19:46:31.095 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-29 19:46:31.099 +08:00 [INF] 请求方法: GET
2025-05-29 19:46:31.111 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 19:46:31.113 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 19:46:31.116 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 19:46:31.123 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 19:46:31.129 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 19:46:31.131 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 19:46:31.132 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 19:46:31.134 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 19:46:31.136 +08:00 [INF] 请求方法: GET
2025-05-29 19:46:31.138 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDIzOGM0OTItMTUxZS00YWQ4LWI4NWUtMWEwMjRkMThmNTRiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTk0NDAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.B4RbAMptSPVkxCqYb5SppL3YICC0D5Snf5qI1vNv2xQ
2025-05-29 19:46:31.139 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 19:46:31.141 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 19:46:31.143 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 19:46:31.145 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 19:46:31.146 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 19:46:31.148 +08:00 [INF] 请求头: traceparent = 00-1ea4cfdbdafc8413759e3d07511cff4e-9976208ef502bdc5-00
2025-05-29 19:46:31.151 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 19:46:31.152 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 19:46:31.154 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 19:46:31.156 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 19:46:31.158 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDIzOGM0OTItMTUxZS00YWQ4LWI4NWUtMWEwMjRkMThmNTRiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTk0NDAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.B4RbAMptSPVkxCqYb5SppL3YICC0D5Snf5qI1vNv2xQ
2025-05-29 19:46:31.159 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 19:46:31.161 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 19:46:31.163 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 19:46:31.164 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 19:46:31.166 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 19:46:31.168 +08:00 [INF] 请求头: traceparent = 00-c2586ab8ef7e7bfee3932077e089a0fa-6fc30b425b07abe9-00
2025-05-29 19:46:31.169 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 19:46:31.171 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 19:46:31.173 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 19:46:31.175 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 19:46:31.177 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 19:46:31.178 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 19:46:31.180 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 19:46:31.182 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 19:46:31.183 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 19:46:31.185 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 19:46:31.187 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 19:46:31.188 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 19:46:31.190 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:46:31.192 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 19:46:31.194 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 19:46:31.196 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 19:46:31.198 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 19:46:31.200 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 19:46:31.203 +08:00 [INF] JWT Claim: jti = d238c492-151e-4ad8-b85e-1a024d18f54b
2025-05-29 19:46:31.204 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 19:46:31.206 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 19:46:31.208 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 19:46:31.210 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 19:46:31.211 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:46:31.213 +08:00 [INF] JWT Claim: exp = 1748519440
2025-05-29 19:46:31.215 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 19:46:31.217 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 19:46:31.219 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 19:46:31.220 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 19:46:31.222 +08:00 [INF] JWT Claim: jti = d238c492-151e-4ad8-b85e-1a024d18f54b
2025-05-29 19:46:31.224 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 19:46:31.226 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 19:46:31.228 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDIzOGM0OTItMTUxZS00YWQ4LWI4NWUtMWEwMjRkMThmNTRiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTk0NDAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.B4RbAMptSPVkxCqYb5SppL3YICC0D5Snf5qI1vNv2xQ]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-1ea4cfdbdafc8413759e3d07511cff4e-9976208ef502bdc5-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 19:46:31.229 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 19:46:31.242 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:46:31.244 +08:00 [INF] JWT Claim: exp = 1748519440
2025-05-29 19:46:31.246 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-29 19:46:31.248 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 19:46:31.250 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 19:46:31.252 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 19:46:31.258 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 19:46:31.263 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDIzOGM0OTItMTUxZS00YWQ4LWI4NWUtMWEwMjRkMThmNTRiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTk0NDAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.B4RbAMptSPVkxCqYb5SppL3YICC0D5Snf5qI1vNv2xQ]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-c2586ab8ef7e7bfee3932077e089a0fa-6fc30b425b07abe9-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 19:46:31.265 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 19:46:31.279 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:46:31.286 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 19:46:31.287 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 19:46:31.288 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 19:46:31.293 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-29 19:46:31.304 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 19:46:31.305 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-29 19:46:31.309 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 54.0445ms
2025-05-29 19:46:31.313 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 19:46:31.315 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-29 19:46:31.318 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 22.373ms
2025-05-29 19:46:31.320 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 226ms
2025-05-29 19:46:31.321 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 19:46:31.325 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 236.4781ms
2025-05-29 19:46:31.326 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 196ms
2025-05-29 19:46:31.335 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 219.3435ms
2025-05-29 19:46:37.313 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 19:46:37.319 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 19:46:37.321 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 19:46:37.323 +08:00 [INF] 请求方法: GET
2025-05-29 19:46:37.325 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 19:46:37.328 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 19:46:37.330 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 19:46:37.333 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 19:46:37.336 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 19:46:37.338 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDIzOGM0OTItMTUxZS00YWQ4LWI4NWUtMWEwMjRkMThmNTRiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTk0NDAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.B4RbAMptSPVkxCqYb5SppL3YICC0D5Snf5qI1vNv2xQ
2025-05-29 19:46:37.341 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 19:46:37.344 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 19:46:37.346 +08:00 [INF] 请求头: traceparent = 00-0c1ddf326e725adf284e6d0fc537483d-21474c12c3d56360-00
2025-05-29 19:46:37.350 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 19:46:37.351 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 19:46:37.353 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 19:46:37.358 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 19:46:37.360 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 19:46:37.361 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-29 19:46:37.364 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 19:46:37.366 +08:00 [INF] 请求方法: GET
2025-05-29 19:46:37.368 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 19:46:37.370 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 19:46:37.372 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 19:46:37.374 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 19:46:37.376 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 19:46:37.379 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 19:46:37.382 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 19:46:37.384 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 19:46:37.386 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 19:46:37.388 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 19:46:37.390 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 19:46:37.392 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDIzOGM0OTItMTUxZS00YWQ4LWI4NWUtMWEwMjRkMThmNTRiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTk0NDAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.B4RbAMptSPVkxCqYb5SppL3YICC0D5Snf5qI1vNv2xQ
2025-05-29 19:46:37.394 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 19:46:37.397 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 19:46:37.398 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:46:37.400 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 19:46:37.403 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 19:46:37.405 +08:00 [INF] 请求头: traceparent = 00-5a781cb73bcb5e2c8d4959d2334f199e-f4d061ee17c4415a-00
2025-05-29 19:46:37.408 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 19:46:37.410 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 19:46:37.412 +08:00 [INF] JWT Claim: jti = d238c492-151e-4ad8-b85e-1a024d18f54b
2025-05-29 19:46:37.414 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 19:46:37.416 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 19:46:37.418 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 19:46:37.421 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 19:46:37.423 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 19:46:37.426 +08:00 [INF] JWT Claim: exp = 1748519440
2025-05-29 19:46:37.428 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 19:46:37.431 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 19:46:37.434 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 19:46:37.436 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 19:46:37.438 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 19:46:37.441 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 19:46:37.443 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 19:46:37.445 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDIzOGM0OTItMTUxZS00YWQ4LWI4NWUtMWEwMjRkMThmNTRiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTk0NDAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.B4RbAMptSPVkxCqYb5SppL3YICC0D5Snf5qI1vNv2xQ]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-0c1ddf326e725adf284e6d0fc537483d-21474c12c3d56360-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 19:46:37.447 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 19:46:37.461 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:46:37.462 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 19:46:37.464 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 19:46:37.466 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 19:46:37.468 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 19:46:37.470 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:46:37.477 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 19:46:37.480 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-29 19:46:37.482 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 19:46:37.487 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 19:46:37.488 +08:00 [INF] JWT Claim: jti = d238c492-151e-4ad8-b85e-1a024d18f54b
2025-05-29 19:46:37.491 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 17.9227ms
2025-05-29 19:46:37.493 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 19:46:37.496 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 19:46:37.498 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 19:46:37.500 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 181ms
2025-05-29 19:46:37.503 +08:00 [INF] JWT Claim: exp = 1748519440
2025-05-29 19:46:37.507 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 194.6066ms
2025-05-29 19:46:37.509 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 19:46:37.519 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 19:46:37.522 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 19:46:37.524 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDIzOGM0OTItMTUxZS00YWQ4LWI4NWUtMWEwMjRkMThmNTRiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTk0NDAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.B4RbAMptSPVkxCqYb5SppL3YICC0D5Snf5qI1vNv2xQ]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-5a781cb73bcb5e2c8d4959d2334f199e-f4d061ee17c4415a-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 19:46:37.540 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:46:37.543 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-29 19:46:37.545 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 19:46:37.555 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 19:46:37.563 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 19:46:37.569 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-29 19:46:37.571 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 19:46:37.575 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 26.419ms
2025-05-29 19:46:37.577 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-29 19:46:37.579 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 221ms
2025-05-29 19:46:37.583 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 232.6948ms
2025-05-29 19:46:57.235 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 19:46:57.239 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 19:46:57.240 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-29 19:46:57.242 +08:00 [INF] 请求方法: GET
2025-05-29 19:46:57.243 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 19:46:57.244 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 19:46:57.246 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 19:46:57.247 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 19:46:57.249 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 19:46:57.250 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDIzOGM0OTItMTUxZS00YWQ4LWI4NWUtMWEwMjRkMThmNTRiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTk0NDAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.B4RbAMptSPVkxCqYb5SppL3YICC0D5Snf5qI1vNv2xQ
2025-05-29 19:46:57.252 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 19:46:57.253 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 19:46:57.255 +08:00 [INF] 请求头: traceparent = 00-578109a69d3354af22b34e3f96db8c4d-eb3bde0b56acb1f3-00
2025-05-29 19:46:57.256 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 19:46:57.258 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 19:46:57.260 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 19:46:57.261 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 19:46:57.263 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 19:46:57.265 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 19:46:57.267 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 19:46:57.268 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 19:46:57.270 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 19:46:57.271 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 19:46:57.272 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 19:46:57.273 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:46:57.274 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 19:46:57.276 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 19:46:57.277 +08:00 [INF] JWT Claim: jti = d238c492-151e-4ad8-b85e-1a024d18f54b
2025-05-29 19:46:57.278 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 19:46:57.280 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 19:46:57.282 +08:00 [INF] JWT Claim: exp = 1748519440
2025-05-29 19:46:57.283 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 19:46:57.285 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 19:46:57.286 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 19:46:57.287 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDIzOGM0OTItMTUxZS00YWQ4LWI4NWUtMWEwMjRkMThmNTRiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTk0NDAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.B4RbAMptSPVkxCqYb5SppL3YICC0D5Snf5qI1vNv2xQ]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-578109a69d3354af22b34e3f96db8c4d-eb3bde0b56acb1f3-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 19:46:57.297 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:46:57.299 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-29 19:46:57.301 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 19:46:57.310 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 19:46:57.317 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 19:46:57.320 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-29 19:46:57.322 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 19:46:57.325 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 21.9219ms
2025-05-29 19:46:57.327 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-29 19:46:57.328 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 89ms
2025-05-29 19:46:57.331 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 96.1172ms
2025-05-29 19:46:57.453 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 19:46:57.457 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 19:46:57.457 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 19:46:57.459 +08:00 [INF] 请求方法: GET
2025-05-29 19:46:57.460 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 19:46:57.461 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 19:46:57.463 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 19:46:57.464 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 19:46:57.466 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 19:46:57.467 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDIzOGM0OTItMTUxZS00YWQ4LWI4NWUtMWEwMjRkMThmNTRiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTk0NDAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.B4RbAMptSPVkxCqYb5SppL3YICC0D5Snf5qI1vNv2xQ
2025-05-29 19:46:57.469 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 19:46:57.470 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 19:46:57.472 +08:00 [INF] 请求头: traceparent = 00-80ad0ba45029873c768433c41aa91f11-5ea1473500a8c5dc-00
2025-05-29 19:46:57.473 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 19:46:57.474 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 19:46:57.476 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 19:46:57.477 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 19:46:57.479 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 19:46:57.480 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 19:46:57.482 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 19:46:57.483 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 19:46:57.485 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 19:46:57.486 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 19:46:57.487 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 19:46:57.488 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:46:57.489 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 19:46:57.491 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 19:46:57.492 +08:00 [INF] JWT Claim: jti = d238c492-151e-4ad8-b85e-1a024d18f54b
2025-05-29 19:46:57.493 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 19:46:57.495 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 19:46:57.496 +08:00 [INF] JWT Claim: exp = 1748519440
2025-05-29 19:46:57.498 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 19:46:57.499 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 19:46:57.501 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 19:46:57.502 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDIzOGM0OTItMTUxZS00YWQ4LWI4NWUtMWEwMjRkMThmNTRiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTk0NDAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.B4RbAMptSPVkxCqYb5SppL3YICC0D5Snf5qI1vNv2xQ]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-80ad0ba45029873c768433c41aa91f11-5ea1473500a8c5dc-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 19:46:57.512 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:46:57.513 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 19:46:57.515 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 19:46:57.522 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-29 19:46:57.526 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 19:46:57.528 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 10.7209ms
2025-05-29 19:46:57.530 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 19:46:57.531 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 74ms
2025-05-29 19:46:57.534 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 81.0002ms
2025-05-29 19:47:03.564 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 19:47:03.567 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 19:47:03.568 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-29 19:47:03.569 +08:00 [INF] 请求方法: GET
2025-05-29 19:47:03.571 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 19:47:03.572 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 19:47:03.573 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 19:47:03.574 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 19:47:03.576 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 19:47:03.577 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDIzOGM0OTItMTUxZS00YWQ4LWI4NWUtMWEwMjRkMThmNTRiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTk0NDAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.B4RbAMptSPVkxCqYb5SppL3YICC0D5Snf5qI1vNv2xQ
2025-05-29 19:47:03.579 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 19:47:03.580 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 19:47:03.582 +08:00 [INF] 请求头: traceparent = 00-171aef4a6cd18048129af6a1e9393359-093d51f43c8fae13-00
2025-05-29 19:47:03.583 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 19:47:03.585 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 19:47:03.586 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 19:47:03.588 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 19:47:03.589 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 19:47:03.590 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 19:47:03.592 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 19:47:03.593 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 19:47:03.594 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 19:47:03.595 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 19:47:03.596 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 19:47:03.597 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:47:03.599 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 19:47:03.600 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 19:47:03.601 +08:00 [INF] JWT Claim: jti = d238c492-151e-4ad8-b85e-1a024d18f54b
2025-05-29 19:47:03.603 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 19:47:03.604 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 19:47:03.606 +08:00 [INF] JWT Claim: exp = 1748519440
2025-05-29 19:47:03.607 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 19:47:03.609 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 19:47:03.610 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 19:47:03.611 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDIzOGM0OTItMTUxZS00YWQ4LWI4NWUtMWEwMjRkMThmNTRiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTk0NDAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.B4RbAMptSPVkxCqYb5SppL3YICC0D5Snf5qI1vNv2xQ]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-171aef4a6cd18048129af6a1e9393359-093d51f43c8fae13-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 19:47:03.621 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:47:03.623 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-29 19:47:03.625 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 19:47:03.637 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 19:47:03.644 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 19:47:03.647 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-29 19:47:03.648 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 19:47:03.650 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 23.4402ms
2025-05-29 19:47:03.652 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-29 19:47:03.653 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 85ms
2025-05-29 19:47:03.656 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 92.3258ms
2025-05-29 19:47:03.858 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 19:47:03.862 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 19:47:03.863 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 19:47:03.865 +08:00 [INF] 请求方法: GET
2025-05-29 19:47:03.866 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 19:47:03.868 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 19:47:03.869 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 19:47:03.870 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 19:47:03.872 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 19:47:03.874 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDIzOGM0OTItMTUxZS00YWQ4LWI4NWUtMWEwMjRkMThmNTRiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTk0NDAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.B4RbAMptSPVkxCqYb5SppL3YICC0D5Snf5qI1vNv2xQ
2025-05-29 19:47:03.875 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 19:47:03.877 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 19:47:03.878 +08:00 [INF] 请求头: traceparent = 00-1f6de0c6ba4e93379c93fa196540281e-3aaf747a4fd42658-00
2025-05-29 19:47:03.879 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 19:47:03.881 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 19:47:03.882 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 19:47:03.884 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 19:47:03.885 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 19:47:03.887 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 19:47:03.888 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 19:47:03.890 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 19:47:03.891 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 19:47:03.892 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 19:47:03.893 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 19:47:03.894 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:47:03.896 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 19:47:03.898 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 19:47:03.900 +08:00 [INF] JWT Claim: jti = d238c492-151e-4ad8-b85e-1a024d18f54b
2025-05-29 19:47:03.901 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 19:47:03.903 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 19:47:03.904 +08:00 [INF] JWT Claim: exp = 1748519440
2025-05-29 19:47:03.906 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 19:47:03.907 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 19:47:03.909 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 19:47:03.910 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDIzOGM0OTItMTUxZS00YWQ4LWI4NWUtMWEwMjRkMThmNTRiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTk0NDAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.B4RbAMptSPVkxCqYb5SppL3YICC0D5Snf5qI1vNv2xQ]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-1f6de0c6ba4e93379c93fa196540281e-3aaf747a4fd42658-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 19:47:03.920 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:47:03.921 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 19:47:03.922 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 19:47:03.929 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-29 19:47:03.932 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 19:47:03.934 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 9.5739ms
2025-05-29 19:47:03.936 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 19:47:03.937 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 74ms
2025-05-29 19:47:03.939 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 81.0373ms
2025-05-29 19:48:28.821 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 19:48:28.825 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 19:48:28.826 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 19:48:28.827 +08:00 [INF] 请求方法: GET
2025-05-29 19:48:28.828 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 19:48:28.830 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 19:48:28.831 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 19:48:28.832 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 19:48:28.834 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 19:48:28.835 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDIzOGM0OTItMTUxZS00YWQ4LWI4NWUtMWEwMjRkMThmNTRiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTk0NDAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.B4RbAMptSPVkxCqYb5SppL3YICC0D5Snf5qI1vNv2xQ
2025-05-29 19:48:28.836 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 19:48:28.838 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 19:48:28.839 +08:00 [INF] 请求头: traceparent = 00-2e99cc737666e87062343381649a6991-8cbec624a697c09d-00
2025-05-29 19:48:28.840 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 19:48:28.841 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 19:48:28.843 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 19:48:28.844 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 19:48:28.845 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 19:48:28.846 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 19:48:28.848 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 19:48:28.849 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 19:48:28.850 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 19:48:28.851 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 19:48:28.852 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 19:48:28.852 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:48:28.854 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 19:48:28.855 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 19:48:28.856 +08:00 [INF] JWT Claim: jti = d238c492-151e-4ad8-b85e-1a024d18f54b
2025-05-29 19:48:28.858 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 19:48:28.859 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 19:48:28.861 +08:00 [INF] JWT Claim: exp = 1748519440
2025-05-29 19:48:28.862 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 19:48:28.863 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 19:48:28.864 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 19:48:28.865 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDIzOGM0OTItMTUxZS00YWQ4LWI4NWUtMWEwMjRkMThmNTRiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTk0NDAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.B4RbAMptSPVkxCqYb5SppL3YICC0D5Snf5qI1vNv2xQ]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-2e99cc737666e87062343381649a6991-8cbec624a697c09d-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 19:48:28.872 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:48:28.873 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 19:48:28.874 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 19:48:28.884 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-29 19:48:28.887 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 19:48:28.889 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 12.2646ms
2025-05-29 19:48:28.890 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 19:48:28.891 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 66ms
2025-05-29 19:48:28.893 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 72.1486ms
2025-05-29 19:48:28.980 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 19:48:28.983 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 19:48:28.984 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-29 19:48:28.985 +08:00 [INF] 请求方法: GET
2025-05-29 19:48:28.986 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 19:48:28.987 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 19:48:28.989 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 19:48:28.990 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 19:48:28.991 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 19:48:28.992 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDIzOGM0OTItMTUxZS00YWQ4LWI4NWUtMWEwMjRkMThmNTRiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTk0NDAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.B4RbAMptSPVkxCqYb5SppL3YICC0D5Snf5qI1vNv2xQ
2025-05-29 19:48:28.994 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 19:48:28.995 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 19:48:28.997 +08:00 [INF] 请求头: traceparent = 00-b3544901ad424db8891118272786c161-cc6f52b826519d9f-00
2025-05-29 19:48:28.998 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 19:48:28.999 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 19:48:29.000 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 19:48:29.002 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 19:48:29.003 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 19:48:29.004 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 19:48:29.005 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 19:48:29.006 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 19:48:29.007 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 19:48:29.008 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 19:48:29.009 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 19:48:29.010 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:48:29.011 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 19:48:29.012 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 19:48:29.013 +08:00 [INF] JWT Claim: jti = d238c492-151e-4ad8-b85e-1a024d18f54b
2025-05-29 19:48:29.015 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 19:48:29.016 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 19:48:29.017 +08:00 [INF] JWT Claim: exp = 1748519440
2025-05-29 19:48:29.018 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 19:48:29.019 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 19:48:29.020 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 19:48:29.020 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDIzOGM0OTItMTUxZS00YWQ4LWI4NWUtMWEwMjRkMThmNTRiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTk0NDAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.B4RbAMptSPVkxCqYb5SppL3YICC0D5Snf5qI1vNv2xQ]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-b3544901ad424db8891118272786c161-cc6f52b826519d9f-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 19:48:29.028 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:48:29.029 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-29 19:48:29.030 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 19:48:29.036 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 19:48:29.051 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 19:48:29.053 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-29 19:48:29.054 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 19:48:29.056 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 23.6912ms
2025-05-29 19:48:29.057 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-29 19:48:29.058 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 74ms
2025-05-29 19:48:29.060 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 80.3113ms
2025-05-29 19:49:41.161 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 19:49:41.165 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 19:49:41.166 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-29 19:49:41.167 +08:00 [INF] 请求方法: GET
2025-05-29 19:49:41.170 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 19:49:41.172 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 19:49:41.173 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 19:49:41.175 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 19:49:41.178 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 19:49:41.178 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 19:49:41.184 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDIzOGM0OTItMTUxZS00YWQ4LWI4NWUtMWEwMjRkMThmNTRiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTk0NDAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.B4RbAMptSPVkxCqYb5SppL3YICC0D5Snf5qI1vNv2xQ
2025-05-29 19:49:41.189 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 19:49:41.193 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 19:49:41.194 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 19:49:41.195 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 19:49:41.197 +08:00 [INF] 请求方法: GET
2025-05-29 19:49:41.198 +08:00 [INF] 请求头: traceparent = 00-1019cf79376ef21607701f15b6e87368-94d25586497366a2-00
2025-05-29 19:49:41.199 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 19:49:41.201 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 19:49:41.202 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 19:49:41.203 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 19:49:41.204 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 19:49:41.205 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 19:49:41.207 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 19:49:41.208 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 19:49:41.210 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 19:49:41.211 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 19:49:41.212 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDIzOGM0OTItMTUxZS00YWQ4LWI4NWUtMWEwMjRkMThmNTRiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTk0NDAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.B4RbAMptSPVkxCqYb5SppL3YICC0D5Snf5qI1vNv2xQ
2025-05-29 19:49:41.214 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 19:49:41.215 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 19:49:41.216 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 19:49:41.218 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 19:49:41.219 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 19:49:41.220 +08:00 [INF] 请求头: traceparent = 00-eaefa5d6f7263f793a81528d806f3182-5ac1d1277088dc5d-00
2025-05-29 19:49:41.222 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 19:49:41.224 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 19:49:41.225 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 19:49:41.227 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 19:49:41.228 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 19:49:41.229 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 19:49:41.230 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:49:41.231 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 19:49:41.233 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 19:49:41.235 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 19:49:41.236 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 19:49:41.238 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 19:49:41.240 +08:00 [INF] JWT Claim: jti = d238c492-151e-4ad8-b85e-1a024d18f54b
2025-05-29 19:49:41.241 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 19:49:41.243 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 19:49:41.245 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 19:49:41.247 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 19:49:41.249 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 19:49:41.251 +08:00 [INF] JWT Claim: exp = 1748519440
2025-05-29 19:49:41.252 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 19:49:41.254 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 19:49:41.255 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 19:49:41.257 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 19:49:41.258 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:49:41.260 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 19:49:41.262 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 19:49:41.264 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDIzOGM0OTItMTUxZS00YWQ4LWI4NWUtMWEwMjRkMThmNTRiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTk0NDAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.B4RbAMptSPVkxCqYb5SppL3YICC0D5Snf5qI1vNv2xQ]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-1019cf79376ef21607701f15b6e87368-94d25586497366a2-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 19:49:41.265 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 19:49:41.277 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:49:41.278 +08:00 [INF] JWT Claim: jti = d238c492-151e-4ad8-b85e-1a024d18f54b
2025-05-29 19:49:41.280 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-29 19:49:41.282 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 19:49:41.283 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 19:49:41.285 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 19:49:41.289 +08:00 [INF] JWT Claim: exp = 1748519440
2025-05-29 19:49:41.293 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 19:49:41.295 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 19:49:41.297 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 19:49:41.298 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDIzOGM0OTItMTUxZS00YWQ4LWI4NWUtMWEwMjRkMThmNTRiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTk0NDAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.B4RbAMptSPVkxCqYb5SppL3YICC0D5Snf5qI1vNv2xQ]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-eaefa5d6f7263f793a81528d806f3182-5ac1d1277088dc5d-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 19:49:41.299 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 19:49:41.310 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:49:41.316 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 19:49:41.318 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 19:49:41.318 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 19:49:41.335 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-29 19:49:41.337 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 19:49:41.340 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 53.1994ms
2025-05-29 19:49:41.343 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-29 19:49:41.345 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 179ms
2025-05-29 19:49:41.349 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 188.0615ms
2025-05-29 19:49:41.365 +08:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-29 19:49:41.374 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 19:49:41.377 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 55.9818ms
2025-05-29 19:49:41.380 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 19:49:41.381 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 192ms
2025-05-29 19:49:41.385 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 206.5945ms
2025-05-29 19:49:46.380 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 19:49:46.383 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 19:49:46.384 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-29 19:49:46.385 +08:00 [INF] 请求方法: GET
2025-05-29 19:49:46.386 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 19:49:46.388 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 19:49:46.389 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 19:49:46.390 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 19:49:46.392 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 19:49:46.393 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDIzOGM0OTItMTUxZS00YWQ4LWI4NWUtMWEwMjRkMThmNTRiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTk0NDAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.B4RbAMptSPVkxCqYb5SppL3YICC0D5Snf5qI1vNv2xQ
2025-05-29 19:49:46.394 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 19:49:46.395 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 19:49:46.397 +08:00 [INF] 请求头: traceparent = 00-6c3b1b56eae092ca361eb5697d3c916e-f5663dac6f9cb75a-00
2025-05-29 19:49:46.398 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 19:49:46.399 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 19:49:46.400 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 19:49:46.402 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 19:49:46.403 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 19:49:46.404 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 19:49:46.405 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 19:49:46.407 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 19:49:46.408 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 19:49:46.406 +08:00 [INF] 请求方法: GET
2025-05-29 19:49:46.409 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 19:49:46.411 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 19:49:46.410 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 19:49:46.412 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 19:49:46.413 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 19:49:46.414 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 19:49:46.414 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 19:49:46.415 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 19:49:46.416 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 19:49:46.417 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:49:46.418 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 19:49:46.419 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 19:49:46.420 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDIzOGM0OTItMTUxZS00YWQ4LWI4NWUtMWEwMjRkMThmNTRiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTk0NDAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.B4RbAMptSPVkxCqYb5SppL3YICC0D5Snf5qI1vNv2xQ
2025-05-29 19:49:46.421 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 19:49:46.422 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 19:49:46.423 +08:00 [INF] JWT Claim: jti = d238c492-151e-4ad8-b85e-1a024d18f54b
2025-05-29 19:49:46.424 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 19:49:46.426 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 19:49:46.427 +08:00 [INF] 请求头: traceparent = 00-a84460f0f9e89d46f31b734cf1e6611d-287ac72317e88063-00
2025-05-29 19:49:46.428 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 19:49:46.429 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 19:49:46.430 +08:00 [INF] JWT Claim: exp = 1748519440
2025-05-29 19:49:46.432 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 19:49:46.431 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 19:49:46.433 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 19:49:46.434 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 19:49:46.435 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 19:49:46.436 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 19:49:46.437 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDIzOGM0OTItMTUxZS00YWQ4LWI4NWUtMWEwMjRkMThmNTRiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTk0NDAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.B4RbAMptSPVkxCqYb5SppL3YICC0D5Snf5qI1vNv2xQ]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-6c3b1b56eae092ca361eb5697d3c916e-f5663dac6f9cb75a-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 19:49:46.438 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 19:49:46.445 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:49:46.446 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 19:49:46.447 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-29 19:49:46.448 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 19:49:46.449 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 19:49:46.450 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 19:49:46.452 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 19:49:46.454 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 19:49:46.454 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 19:49:46.455 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 19:49:46.458 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:49:46.459 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 19:49:46.460 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 19:49:46.460 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 19:49:46.462 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-29 19:49:46.463 +08:00 [INF] JWT Claim: jti = d238c492-151e-4ad8-b85e-1a024d18f54b
2025-05-29 19:49:46.464 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 19:49:46.465 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 19:49:46.467 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 15.608ms
2025-05-29 19:49:46.468 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 19:49:46.469 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-29 19:49:46.470 +08:00 [INF] JWT Claim: exp = 1748519440
2025-05-29 19:49:46.471 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 87ms
2025-05-29 19:49:46.472 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 19:49:46.474 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 94.1621ms
2025-05-29 19:49:46.475 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 19:49:46.480 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 19:49:46.481 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDIzOGM0OTItMTUxZS00YWQ4LWI4NWUtMWEwMjRkMThmNTRiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTk0NDAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.B4RbAMptSPVkxCqYb5SppL3YICC0D5Snf5qI1vNv2xQ]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-a84460f0f9e89d46f31b734cf1e6611d-287ac72317e88063-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 19:49:46.488 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:49:46.489 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 19:49:46.490 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 19:49:46.495 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-29 19:49:46.498 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 19:49:46.499 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 7.0673ms
2025-05-29 19:49:46.501 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 19:49:46.502 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 99ms
2025-05-29 19:49:46.504 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 104.3647ms
2025-05-29 19:50:06.220 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 19:50:06.224 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 19:50:06.225 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-29 19:50:06.226 +08:00 [INF] 请求方法: GET
2025-05-29 19:50:06.227 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 19:50:06.228 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 19:50:06.229 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 19:50:06.231 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 19:50:06.232 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 19:50:06.233 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDIzOGM0OTItMTUxZS00YWQ4LWI4NWUtMWEwMjRkMThmNTRiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTk0NDAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.B4RbAMptSPVkxCqYb5SppL3YICC0D5Snf5qI1vNv2xQ
2025-05-29 19:50:06.234 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 19:50:06.235 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 19:50:06.238 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 19:50:06.239 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 19:50:06.240 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 19:50:06.241 +08:00 [INF] 请求头: traceparent = 00-bb11fb423f9ce0dff8fd5378c61f435d-fda4d0a7ba681263-00
2025-05-29 19:50:06.242 +08:00 [INF] 请求方法: GET
2025-05-29 19:50:06.243 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 19:50:06.244 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 19:50:06.245 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 19:50:06.247 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 19:50:06.248 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 19:50:06.249 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 19:50:06.250 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 19:50:06.252 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 19:50:06.253 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 19:50:06.254 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 19:50:06.256 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 19:50:06.257 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDIzOGM0OTItMTUxZS00YWQ4LWI4NWUtMWEwMjRkMThmNTRiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTk0NDAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.B4RbAMptSPVkxCqYb5SppL3YICC0D5Snf5qI1vNv2xQ
2025-05-29 19:50:06.258 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 19:50:06.259 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 19:50:06.260 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 19:50:06.261 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 19:50:06.262 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 19:50:06.264 +08:00 [INF] 请求头: traceparent = 00-1cb23029e1c3e8621a487f0fbfe9a2bb-0fc1e5fca11f925e-00
2025-05-29 19:50:06.264 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 19:50:06.266 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 19:50:06.267 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 19:50:06.268 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 19:50:06.269 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:50:06.270 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 19:50:06.271 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 19:50:06.272 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 19:50:06.273 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 19:50:06.275 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 19:50:06.276 +08:00 [INF] JWT Claim: jti = d238c492-151e-4ad8-b85e-1a024d18f54b
2025-05-29 19:50:06.277 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 19:50:06.278 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 19:50:06.279 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 19:50:06.281 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 19:50:06.282 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 19:50:06.283 +08:00 [INF] JWT Claim: exp = 1748519440
2025-05-29 19:50:06.284 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 19:50:06.285 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 19:50:06.286 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 19:50:06.287 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 19:50:06.288 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 19:50:06.289 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 19:50:06.290 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:50:06.291 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDIzOGM0OTItMTUxZS00YWQ4LWI4NWUtMWEwMjRkMThmNTRiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTk0NDAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.B4RbAMptSPVkxCqYb5SppL3YICC0D5Snf5qI1vNv2xQ]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-bb11fb423f9ce0dff8fd5378c61f435d-fda4d0a7ba681263-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 19:50:06.292 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 19:50:06.300 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:50:06.301 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 19:50:06.302 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-29 19:50:06.303 +08:00 [INF] JWT Claim: jti = d238c492-151e-4ad8-b85e-1a024d18f54b
2025-05-29 19:50:06.304 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 19:50:06.305 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 19:50:06.308 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 19:50:06.313 +08:00 [INF] JWT Claim: exp = 1748519440
2025-05-29 19:50:06.314 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 19:50:06.315 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 19:50:06.316 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 19:50:06.317 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 19:50:06.317 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDIzOGM0OTItMTUxZS00YWQ4LWI4NWUtMWEwMjRkMThmNTRiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTk0NDAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.B4RbAMptSPVkxCqYb5SppL3YICC0D5Snf5qI1vNv2xQ]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-1cb23029e1c3e8621a487f0fbfe9a2bb-0fc1e5fca11f925e-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 19:50:06.323 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 19:50:06.329 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:50:06.331 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-29 19:50:06.332 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 19:50:06.333 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 19:50:06.334 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 19:50:06.336 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 28.6661ms
2025-05-29 19:50:06.342 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-29 19:50:06.343 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-29 19:50:06.347 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 19:50:06.347 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 123ms
2025-05-29 19:50:06.349 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 11.0595ms
2025-05-29 19:50:06.351 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 131.4778ms
2025-05-29 19:50:06.352 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 19:50:06.358 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 120ms
2025-05-29 19:50:06.360 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 126.4111ms
2025-05-29 19:50:15.753 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 19:50:15.757 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 19:50:15.758 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 19:50:15.759 +08:00 [INF] 请求方法: GET
2025-05-29 19:50:15.760 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 19:50:15.761 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 19:50:15.763 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 19:50:15.764 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 19:50:15.766 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 19:50:15.768 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDIzOGM0OTItMTUxZS00YWQ4LWI4NWUtMWEwMjRkMThmNTRiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTk0NDAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.B4RbAMptSPVkxCqYb5SppL3YICC0D5Snf5qI1vNv2xQ
2025-05-29 19:50:15.769 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 19:50:15.771 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 19:50:15.773 +08:00 [INF] 请求头: traceparent = 00-7cacb053e631da25504b791b4d38f51c-f48d98c312ea8df8-00
2025-05-29 19:50:15.775 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 19:50:15.776 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 19:50:15.778 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 19:50:15.779 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 19:50:15.781 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 19:50:15.782 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 19:50:15.784 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 19:50:15.785 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 19:50:15.786 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 19:50:15.788 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 19:50:15.789 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 19:50:15.790 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:50:15.791 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 19:50:15.792 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 19:50:15.794 +08:00 [INF] JWT Claim: jti = d238c492-151e-4ad8-b85e-1a024d18f54b
2025-05-29 19:50:15.795 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 19:50:15.796 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 19:50:15.798 +08:00 [INF] JWT Claim: exp = 1748519440
2025-05-29 19:50:15.799 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 19:50:15.801 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 19:50:15.802 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 19:50:15.803 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDIzOGM0OTItMTUxZS00YWQ4LWI4NWUtMWEwMjRkMThmNTRiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTk0NDAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.B4RbAMptSPVkxCqYb5SppL3YICC0D5Snf5qI1vNv2xQ]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-7cacb053e631da25504b791b4d38f51c-f48d98c312ea8df8-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 19:50:15.812 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:50:15.813 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 19:50:15.815 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 19:50:15.822 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-29 19:50:15.826 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 19:50:15.828 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 10.839ms
2025-05-29 19:50:15.830 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 19:50:15.832 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 74ms
2025-05-29 19:50:15.834 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 81.754ms
2025-05-29 19:50:15.971 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 19:50:15.973 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 19:50:15.974 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-29 19:50:15.975 +08:00 [INF] 请求方法: GET
2025-05-29 19:50:15.976 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 19:50:15.977 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 19:50:15.978 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 19:50:15.979 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 19:50:15.980 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 19:50:15.982 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDIzOGM0OTItMTUxZS00YWQ4LWI4NWUtMWEwMjRkMThmNTRiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTk0NDAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.B4RbAMptSPVkxCqYb5SppL3YICC0D5Snf5qI1vNv2xQ
2025-05-29 19:50:15.983 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 19:50:15.984 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 19:50:15.985 +08:00 [INF] 请求头: traceparent = 00-43edcc355c2880c56da09ba1520f11d3-ed5a339205fbf5ef-00
2025-05-29 19:50:15.986 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 19:50:15.987 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 19:50:15.989 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 19:50:15.990 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 19:50:15.991 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 19:50:15.992 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 19:50:15.993 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 19:50:15.995 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 19:50:15.996 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 19:50:15.997 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 19:50:15.998 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 19:50:15.999 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:50:16.000 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 19:50:16.001 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 19:50:16.002 +08:00 [INF] JWT Claim: jti = d238c492-151e-4ad8-b85e-1a024d18f54b
2025-05-29 19:50:16.004 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 19:50:16.005 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 19:50:16.007 +08:00 [INF] JWT Claim: exp = 1748519440
2025-05-29 19:50:16.008 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 19:50:16.010 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 19:50:16.011 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 19:50:16.013 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZDIzOGM0OTItMTUxZS00YWQ4LWI4NWUtMWEwMjRkMThmNTRiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MTk0NDAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.B4RbAMptSPVkxCqYb5SppL3YICC0D5Snf5qI1vNv2xQ]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-43edcc355c2880c56da09ba1520f11d3-ed5a339205fbf5ef-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 19:50:16.020 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:50:16.022 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-29 19:50:16.023 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 19:50:16.028 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 19:50:16.033 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 19:50:16.035 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-29 19:50:16.036 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 19:50:16.038 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 12.8321ms
2025-05-29 19:50:16.039 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-29 19:50:16.040 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 67ms
2025-05-29 19:50:16.042 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 71.6257ms
2025-05-29 19:51:20.385 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 19:51:20.391 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 19:51:20.392 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 19:51:20.393 +08:00 [INF] 请求方法: GET
2025-05-29 19:51:20.394 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 19:51:20.396 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 19:51:20.397 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 19:51:20.398 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 19:51:20.400 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 19:51:20.401 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODU0NjdmZTQtNzMxOC00ZWZhLWFkMDItYWM3ZjVkZDA5ZWY5IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MjAwODAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.8L9MqbXM9sSMUcj48Oj5gC-oMnOOvyUs_8vtBL3i2Co
2025-05-29 19:51:20.402 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 19:51:20.404 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 19:51:20.406 +08:00 [INF] 请求头: traceparent = 00-ae0719dc0217bf872cb82e1a30022fb0-e1381ff740e2c8e2-00
2025-05-29 19:51:20.407 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 19:51:20.408 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 19:51:20.409 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 19:51:20.410 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 19:51:20.412 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 19:51:20.413 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 19:51:20.415 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 19:51:20.416 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 19:51:20.417 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 19:51:20.418 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 19:51:20.419 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 19:51:20.420 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:51:20.422 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 19:51:20.423 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 19:51:20.424 +08:00 [INF] JWT Claim: jti = 85467fe4-7318-4efa-ad02-ac7f5dd09ef9
2025-05-29 19:51:20.426 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 19:51:20.427 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 19:51:20.428 +08:00 [INF] JWT Claim: exp = 1748520080
2025-05-29 19:51:20.430 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 19:51:20.431 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 19:51:20.432 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 19:51:20.433 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODU0NjdmZTQtNzMxOC00ZWZhLWFkMDItYWM3ZjVkZDA5ZWY5IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MjAwODAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.8L9MqbXM9sSMUcj48Oj5gC-oMnOOvyUs_8vtBL3i2Co]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-ae0719dc0217bf872cb82e1a30022fb0-e1381ff740e2c8e2-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 19:51:20.441 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:51:20.443 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 19:51:20.444 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 19:51:20.452 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-29 19:51:20.455 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 19:51:20.458 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 11.8426ms
2025-05-29 19:51:20.459 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 19:51:20.460 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 69ms
2025-05-29 19:51:20.463 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 78.5094ms
2025-05-29 19:51:20.544 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 19:51:20.548 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 19:51:20.548 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-29 19:51:20.549 +08:00 [INF] 请求方法: GET
2025-05-29 19:51:20.550 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 19:51:20.551 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 19:51:20.552 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 19:51:20.553 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 19:51:20.555 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 19:51:20.556 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODU0NjdmZTQtNzMxOC00ZWZhLWFkMDItYWM3ZjVkZDA5ZWY5IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MjAwODAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.8L9MqbXM9sSMUcj48Oj5gC-oMnOOvyUs_8vtBL3i2Co
2025-05-29 19:51:20.557 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 19:51:20.558 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 19:51:20.559 +08:00 [INF] 请求头: traceparent = 00-9d06faf1164ab897fd6925790827fe1f-b7e89c2ac7c5da46-00
2025-05-29 19:51:20.560 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 19:51:20.561 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 19:51:20.562 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 19:51:20.563 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 19:51:20.564 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 19:51:20.565 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 19:51:20.566 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 19:51:20.567 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 19:51:20.568 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 19:51:20.569 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 19:51:20.570 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 19:51:20.571 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:51:20.572 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 19:51:20.573 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 19:51:20.574 +08:00 [INF] JWT Claim: jti = 85467fe4-7318-4efa-ad02-ac7f5dd09ef9
2025-05-29 19:51:20.575 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 19:51:20.576 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 19:51:20.577 +08:00 [INF] JWT Claim: exp = 1748520080
2025-05-29 19:51:20.579 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 19:51:20.580 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 19:51:20.581 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 19:51:20.582 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODU0NjdmZTQtNzMxOC00ZWZhLWFkMDItYWM3ZjVkZDA5ZWY5IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MjAwODAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.8L9MqbXM9sSMUcj48Oj5gC-oMnOOvyUs_8vtBL3i2Co]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-9d06faf1164ab897fd6925790827fe1f-b7e89c2ac7c5da46-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 19:51:20.589 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:51:20.590 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-29 19:51:20.591 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 19:51:20.596 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 19:51:20.602 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 19:51:20.604 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-29 19:51:20.605 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 19:51:20.607 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 14.2463ms
2025-05-29 19:51:20.608 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-29 19:51:20.610 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 62ms
2025-05-29 19:51:20.612 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 68.2385ms
2025-05-29 19:52:49.327 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 19:52:49.332 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 19:52:49.333 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-29 19:52:49.335 +08:00 [INF] 请求方法: GET
2025-05-29 19:52:49.336 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 19:52:49.338 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 19:52:49.340 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 19:52:49.344 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 19:52:49.352 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 19:52:49.353 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 19:52:49.360 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODU0NjdmZTQtNzMxOC00ZWZhLWFkMDItYWM3ZjVkZDA5ZWY5IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MjAwODAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.8L9MqbXM9sSMUcj48Oj5gC-oMnOOvyUs_8vtBL3i2Co
2025-05-29 19:52:49.364 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 19:52:49.365 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 19:52:49.366 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 19:52:49.367 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 19:52:49.368 +08:00 [INF] 请求方法: GET
2025-05-29 19:52:49.370 +08:00 [INF] 请求头: traceparent = 00-ec4120810d5e0dd4adb5e25cd163a08e-4e5bfa0e69c67948-00
2025-05-29 19:52:49.372 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 19:52:49.373 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 19:52:49.374 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 19:52:49.376 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 19:52:49.377 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 19:52:49.378 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 19:52:49.380 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 19:52:49.381 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 19:52:49.382 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 19:52:49.383 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 19:52:49.385 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODU0NjdmZTQtNzMxOC00ZWZhLWFkMDItYWM3ZjVkZDA5ZWY5IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MjAwODAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.8L9MqbXM9sSMUcj48Oj5gC-oMnOOvyUs_8vtBL3i2Co
2025-05-29 19:52:49.386 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 19:52:49.388 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 19:52:49.389 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 19:52:49.390 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 19:52:49.391 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 19:52:49.393 +08:00 [INF] 请求头: traceparent = 00-d1399068dd9fe49d5f374882f0cd7cda-3d50469079ce539f-00
2025-05-29 19:52:49.394 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 19:52:49.396 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 19:52:49.396 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 19:52:49.398 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 19:52:49.399 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 19:52:49.400 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 19:52:49.401 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:52:49.402 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 19:52:49.403 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 19:52:49.404 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 19:52:49.405 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 19:52:49.407 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 19:52:49.408 +08:00 [INF] JWT Claim: jti = 85467fe4-7318-4efa-ad02-ac7f5dd09ef9
2025-05-29 19:52:49.409 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 19:52:49.411 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 19:52:49.413 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 19:52:49.414 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 19:52:49.416 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 19:52:49.417 +08:00 [INF] JWT Claim: exp = 1748520080
2025-05-29 19:52:49.418 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 19:52:49.420 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 19:52:49.421 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 19:52:49.422 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 19:52:49.423 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 19:52:49.422 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:52:49.424 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODU0NjdmZTQtNzMxOC00ZWZhLWFkMDItYWM3ZjVkZDA5ZWY5IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MjAwODAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.8L9MqbXM9sSMUcj48Oj5gC-oMnOOvyUs_8vtBL3i2Co]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-ec4120810d5e0dd4adb5e25cd163a08e-4e5bfa0e69c67948-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 19:52:49.425 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 19:52:49.433 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:52:49.433 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 19:52:49.435 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-29 19:52:49.436 +08:00 [INF] JWT Claim: jti = 85467fe4-7318-4efa-ad02-ac7f5dd09ef9
2025-05-29 19:52:49.437 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 19:52:49.438 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 19:52:49.442 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 19:52:49.445 +08:00 [INF] JWT Claim: exp = 1748520080
2025-05-29 19:52:49.447 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 19:52:49.459 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 19:52:49.461 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 19:52:49.462 +08:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 19:52:49.462 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODU0NjdmZTQtNzMxOC00ZWZhLWFkMDItYWM3ZjVkZDA5ZWY5IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MjAwODAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.8L9MqbXM9sSMUcj48Oj5gC-oMnOOvyUs_8vtBL3i2Co]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-d1399068dd9fe49d5f374882f0cd7cda-3d50469079ce539f-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 19:52:49.475 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:52:49.477 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 19:52:49.479 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 19:52:49.487 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-29 19:52:49.488 +08:00 [INF] Executed DbCommand (22ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 19:52:49.490 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 19:52:49.492 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-29 19:52:49.494 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 12.7988ms
2025-05-29 19:52:49.496 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 19:52:49.497 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 19:52:49.499 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 59.1286ms
2025-05-29 19:52:49.501 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 136ms
2025-05-29 19:52:49.502 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-29 19:52:49.506 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 152.2773ms
2025-05-29 19:52:49.507 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 174ms
2025-05-29 19:52:49.516 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 188.1113ms
2025-05-29 19:53:22.640 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 19:53:22.643 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 19:53:22.644 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 19:53:22.645 +08:00 [INF] 请求方法: GET
2025-05-29 19:53:22.646 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 19:53:22.648 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 19:53:22.649 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 19:53:22.650 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 19:53:22.652 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 19:53:22.653 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODU0NjdmZTQtNzMxOC00ZWZhLWFkMDItYWM3ZjVkZDA5ZWY5IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MjAwODAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.8L9MqbXM9sSMUcj48Oj5gC-oMnOOvyUs_8vtBL3i2Co
2025-05-29 19:53:22.654 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 19:53:22.655 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 19:53:22.657 +08:00 [INF] 请求头: traceparent = 00-75cc45feeb604c03852e9912525898fa-b79762ee81747308-00
2025-05-29 19:53:22.658 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 19:53:22.659 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 19:53:22.660 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 19:53:22.661 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 19:53:22.663 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 19:53:22.664 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 19:53:22.665 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 19:53:22.666 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 19:53:22.667 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 19:53:22.668 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 19:53:22.669 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 19:53:22.670 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:53:22.671 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 19:53:22.672 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 19:53:22.673 +08:00 [INF] JWT Claim: jti = 85467fe4-7318-4efa-ad02-ac7f5dd09ef9
2025-05-29 19:53:22.675 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 19:53:22.676 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 19:53:22.677 +08:00 [INF] JWT Claim: exp = 1748520080
2025-05-29 19:53:22.679 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 19:53:22.680 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 19:53:22.681 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 19:53:22.682 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODU0NjdmZTQtNzMxOC00ZWZhLWFkMDItYWM3ZjVkZDA5ZWY5IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MjAwODAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.8L9MqbXM9sSMUcj48Oj5gC-oMnOOvyUs_8vtBL3i2Co]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-75cc45feeb604c03852e9912525898fa-b79762ee81747308-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 19:53:22.690 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:53:22.691 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 19:53:22.692 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 19:53:22.702 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-29 19:53:22.705 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 19:53:22.706 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 12.4455ms
2025-05-29 19:53:22.708 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 19:53:22.709 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 65ms
2025-05-29 19:53:22.711 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 70.8236ms
2025-05-29 19:53:22.785 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 19:53:22.789 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 19:53:22.790 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-29 19:53:22.791 +08:00 [INF] 请求方法: GET
2025-05-29 19:53:22.792 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 19:53:22.793 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 19:53:22.794 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 19:53:22.796 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 19:53:22.797 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 19:53:22.798 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODU0NjdmZTQtNzMxOC00ZWZhLWFkMDItYWM3ZjVkZDA5ZWY5IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MjAwODAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.8L9MqbXM9sSMUcj48Oj5gC-oMnOOvyUs_8vtBL3i2Co
2025-05-29 19:53:22.800 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 19:53:22.801 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 19:53:22.803 +08:00 [INF] 请求头: traceparent = 00-d6defb4ce4491b26f1948e92cdebc5f3-fce0e23b0eff05e5-00
2025-05-29 19:53:22.804 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 19:53:22.806 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 19:53:22.807 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 19:53:22.808 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 19:53:22.810 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 19:53:22.811 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 19:53:22.813 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 19:53:22.814 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 19:53:22.815 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 19:53:22.816 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 19:53:22.817 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 19:53:22.818 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:53:22.819 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 19:53:22.820 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 19:53:22.821 +08:00 [INF] JWT Claim: jti = 85467fe4-7318-4efa-ad02-ac7f5dd09ef9
2025-05-29 19:53:22.822 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 19:53:22.823 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 19:53:22.824 +08:00 [INF] JWT Claim: exp = 1748520080
2025-05-29 19:53:22.825 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 19:53:22.827 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 19:53:22.828 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 19:53:22.829 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODU0NjdmZTQtNzMxOC00ZWZhLWFkMDItYWM3ZjVkZDA5ZWY5IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MjAwODAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.8L9MqbXM9sSMUcj48Oj5gC-oMnOOvyUs_8vtBL3i2Co]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-d6defb4ce4491b26f1948e92cdebc5f3-fce0e23b0eff05e5-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 19:53:22.835 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:53:22.837 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-29 19:53:22.838 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 19:53:22.843 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 19:53:22.848 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 19:53:22.850 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-29 19:53:22.851 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 19:53:22.853 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 13.6731ms
2025-05-29 19:53:22.855 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-29 19:53:22.856 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 66ms
2025-05-29 19:53:22.858 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 72.4738ms
2025-05-29 19:53:36.897 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 19:53:36.901 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 19:53:36.902 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-29 19:53:36.904 +08:00 [INF] 请求方法: GET
2025-05-29 19:53:36.905 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 19:53:36.907 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 19:53:36.908 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 19:53:36.910 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 19:53:36.912 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 19:53:36.913 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODU0NjdmZTQtNzMxOC00ZWZhLWFkMDItYWM3ZjVkZDA5ZWY5IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MjAwODAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.8L9MqbXM9sSMUcj48Oj5gC-oMnOOvyUs_8vtBL3i2Co
2025-05-29 19:53:36.915 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 19:53:36.917 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 19:53:36.917 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 19:53:36.919 +08:00 [INF] 请求头: traceparent = 00-8a43ef3770f31dd592b79e890b02f3f5-15c1dffa18d512f6-00
2025-05-29 19:53:36.922 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 19:53:36.923 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 19:53:36.924 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 19:53:36.926 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 19:53:36.926 +08:00 [INF] 请求方法: GET
2025-05-29 19:53:36.928 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 19:53:36.929 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 19:53:36.931 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 19:53:36.932 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 19:53:36.934 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 19:53:36.935 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 19:53:36.937 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 19:53:36.938 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 19:53:36.939 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 19:53:36.941 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 19:53:36.942 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 19:53:36.943 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODU0NjdmZTQtNzMxOC00ZWZhLWFkMDItYWM3ZjVkZDA5ZWY5IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MjAwODAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.8L9MqbXM9sSMUcj48Oj5gC-oMnOOvyUs_8vtBL3i2Co
2025-05-29 19:53:36.944 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 19:53:36.945 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 19:53:36.946 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 19:53:36.948 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 19:53:36.949 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 19:53:36.950 +08:00 [INF] 请求头: traceparent = 00-c3be455dcdd00d8b7590dba0ea48f3cc-95874e0f8df4f5c0-00
2025-05-29 19:53:36.950 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:53:36.952 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 19:53:36.953 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 19:53:36.954 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 19:53:36.955 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 19:53:36.957 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 19:53:36.958 +08:00 [INF] JWT Claim: jti = 85467fe4-7318-4efa-ad02-ac7f5dd09ef9
2025-05-29 19:53:36.959 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 19:53:36.961 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 19:53:36.962 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 19:53:36.964 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 19:53:36.965 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 19:53:36.966 +08:00 [INF] JWT Claim: exp = 1748520080
2025-05-29 19:53:36.968 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 19:53:36.969 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 19:53:36.970 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 19:53:36.971 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 19:53:36.972 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 19:53:36.974 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 19:53:36.975 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 19:53:36.976 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODU0NjdmZTQtNzMxOC00ZWZhLWFkMDItYWM3ZjVkZDA5ZWY5IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MjAwODAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.8L9MqbXM9sSMUcj48Oj5gC-oMnOOvyUs_8vtBL3i2Co]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-8a43ef3770f31dd592b79e890b02f3f5-15c1dffa18d512f6-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 19:53:36.977 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 19:53:36.984 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:53:36.984 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:53:36.985 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-29 19:53:36.986 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 19:53:36.987 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 19:53:36.989 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 19:53:36.992 +08:00 [INF] JWT Claim: jti = 85467fe4-7318-4efa-ad02-ac7f5dd09ef9
2025-05-29 19:53:36.995 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 19:53:36.996 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 19:53:36.997 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 19:53:37.000 +08:00 [INF] JWT Claim: exp = 1748520080
2025-05-29 19:53:37.001 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 19:53:37.001 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 19:53:37.002 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 19:53:37.005 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-29 19:53:37.005 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 19:53:37.006 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 19:53:37.007 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODU0NjdmZTQtNzMxOC00ZWZhLWFkMDItYWM3ZjVkZDA5ZWY5IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MjAwODAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.8L9MqbXM9sSMUcj48Oj5gC-oMnOOvyUs_8vtBL3i2Co]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-c3be455dcdd00d8b7590dba0ea48f3cc-95874e0f8df4f5c0-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 19:53:37.008 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 17.2292ms
2025-05-29 19:53:37.014 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:53:37.015 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-29 19:53:37.016 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 19:53:37.017 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 116ms
2025-05-29 19:53:37.018 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 19:53:37.020 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 123.0912ms
2025-05-29 19:53:37.027 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-29 19:53:37.043 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 19:53:37.045 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 23.2579ms
2025-05-29 19:53:37.047 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 19:53:37.048 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 125ms
2025-05-29 19:53:37.050 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 132.2866ms
2025-05-29 19:55:15.083 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 19:55:15.093 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 19:55:15.095 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 19:55:15.096 +08:00 [INF] 请求方法: GET
2025-05-29 19:55:15.097 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 19:55:15.099 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 19:55:15.100 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 19:55:15.102 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 19:55:15.103 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 19:55:15.105 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODU0NjdmZTQtNzMxOC00ZWZhLWFkMDItYWM3ZjVkZDA5ZWY5IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MjAwODAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.8L9MqbXM9sSMUcj48Oj5gC-oMnOOvyUs_8vtBL3i2Co
2025-05-29 19:55:15.107 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 19:55:15.108 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 19:55:15.110 +08:00 [INF] 请求头: traceparent = 00-7e108e03efa1432e9427593d0978043c-2220ad1c4ce71f33-00
2025-05-29 19:55:15.111 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 19:55:15.112 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 19:55:15.114 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 19:55:15.115 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 19:55:15.117 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 19:55:15.118 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 19:55:15.119 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 19:55:15.121 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 19:55:15.122 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 19:55:15.123 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 19:55:15.124 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 19:55:15.125 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:55:15.126 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 19:55:15.127 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 19:55:15.129 +08:00 [INF] JWT Claim: jti = 85467fe4-7318-4efa-ad02-ac7f5dd09ef9
2025-05-29 19:55:15.130 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 19:55:15.132 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 19:55:15.133 +08:00 [INF] JWT Claim: exp = 1748520080
2025-05-29 19:55:15.134 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 19:55:15.136 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 19:55:15.137 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 19:55:15.138 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODU0NjdmZTQtNzMxOC00ZWZhLWFkMDItYWM3ZjVkZDA5ZWY5IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MjAwODAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.8L9MqbXM9sSMUcj48Oj5gC-oMnOOvyUs_8vtBL3i2Co]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-7e108e03efa1432e9427593d0978043c-2220ad1c4ce71f33-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 19:55:15.146 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:55:15.147 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 19:55:15.149 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 19:55:15.156 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-29 19:55:15.159 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 19:55:15.161 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 9.7702ms
2025-05-29 19:55:15.162 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 19:55:15.163 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 69ms
2025-05-29 19:55:15.166 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 82.6634ms
2025-05-29 19:55:15.221 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 19:55:15.225 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 19:55:15.226 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-29 19:55:15.228 +08:00 [INF] 请求方法: GET
2025-05-29 19:55:15.228 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 19:55:15.230 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 19:55:15.231 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 19:55:15.233 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 19:55:15.234 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 19:55:15.236 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODU0NjdmZTQtNzMxOC00ZWZhLWFkMDItYWM3ZjVkZDA5ZWY5IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MjAwODAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.8L9MqbXM9sSMUcj48Oj5gC-oMnOOvyUs_8vtBL3i2Co
2025-05-29 19:55:15.237 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 19:55:15.239 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 19:55:15.241 +08:00 [INF] 请求头: traceparent = 00-d646d0691c19429edc6893c70a01697a-6231dd7edb479716-00
2025-05-29 19:55:15.242 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 19:55:15.244 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 19:55:15.245 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 19:55:15.247 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 19:55:15.249 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 19:55:15.251 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 19:55:15.252 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 19:55:15.254 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 19:55:15.256 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 19:55:15.257 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 19:55:15.258 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 19:55:15.260 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:55:15.261 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 19:55:15.262 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 19:55:15.263 +08:00 [INF] JWT Claim: jti = 85467fe4-7318-4efa-ad02-ac7f5dd09ef9
2025-05-29 19:55:15.265 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 19:55:15.267 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 19:55:15.268 +08:00 [INF] JWT Claim: exp = 1748520080
2025-05-29 19:55:15.269 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 19:55:15.270 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 19:55:15.271 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 19:55:15.272 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODU0NjdmZTQtNzMxOC00ZWZhLWFkMDItYWM3ZjVkZDA5ZWY5IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MjAwODAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.8L9MqbXM9sSMUcj48Oj5gC-oMnOOvyUs_8vtBL3i2Co]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-d646d0691c19429edc6893c70a01697a-6231dd7edb479716-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 19:55:15.279 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:55:15.280 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-29 19:55:15.282 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 19:55:15.287 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 19:55:15.293 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 19:55:15.295 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-29 19:55:15.296 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 19:55:15.298 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 14.8747ms
2025-05-29 19:55:15.300 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-29 19:55:15.301 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 76ms
2025-05-29 19:55:15.304 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 82.6357ms
2025-05-29 19:55:25.641 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 19:55:25.644 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 19:55:25.645 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-29 19:55:25.646 +08:00 [INF] 请求方法: GET
2025-05-29 19:55:25.648 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 19:55:25.649 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 19:55:25.651 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 19:55:25.652 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 19:55:25.654 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 19:55:25.655 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODU0NjdmZTQtNzMxOC00ZWZhLWFkMDItYWM3ZjVkZDA5ZWY5IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MjAwODAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.8L9MqbXM9sSMUcj48Oj5gC-oMnOOvyUs_8vtBL3i2Co
2025-05-29 19:55:25.657 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 19:55:25.659 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 19:55:25.660 +08:00 [INF] 请求头: traceparent = 00-d1a50ca58ed416fbe6ea097794c60520-a6ebc2198bfa6e71-00
2025-05-29 19:55:25.661 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 19:55:25.663 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 19:55:25.664 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 19:55:25.666 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 19:55:25.668 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 19:55:25.669 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 19:55:25.671 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 19:55:25.673 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 19:55:25.674 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 19:55:25.675 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 19:55:25.676 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 19:55:25.677 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:55:25.679 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 19:55:25.680 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 19:55:25.682 +08:00 [INF] JWT Claim: jti = 85467fe4-7318-4efa-ad02-ac7f5dd09ef9
2025-05-29 19:55:25.683 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 19:55:25.685 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 19:55:25.686 +08:00 [INF] JWT Claim: exp = 1748520080
2025-05-29 19:55:25.688 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 19:55:25.690 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 19:55:25.691 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 19:55:25.692 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODU0NjdmZTQtNzMxOC00ZWZhLWFkMDItYWM3ZjVkZDA5ZWY5IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MjAwODAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.8L9MqbXM9sSMUcj48Oj5gC-oMnOOvyUs_8vtBL3i2Co]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-d1a50ca58ed416fbe6ea097794c60520-a6ebc2198bfa6e71-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 19:55:25.702 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:55:25.703 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-29 19:55:25.705 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 19:55:25.714 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 19:55:25.722 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 19:55:25.726 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-29 19:55:25.728 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 19:55:25.731 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 22.9522ms
2025-05-29 19:55:25.733 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-29 19:55:25.734 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 90ms
2025-05-29 19:55:25.737 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 96.6317ms
2025-05-29 19:55:25.824 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 19:55:25.827 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 19:55:25.828 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 19:55:25.829 +08:00 [INF] 请求方法: GET
2025-05-29 19:55:25.830 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 19:55:25.831 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 19:55:25.833 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 19:55:25.834 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 19:55:25.835 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 19:55:25.836 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODU0NjdmZTQtNzMxOC00ZWZhLWFkMDItYWM3ZjVkZDA5ZWY5IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MjAwODAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.8L9MqbXM9sSMUcj48Oj5gC-oMnOOvyUs_8vtBL3i2Co
2025-05-29 19:55:25.837 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 19:55:25.838 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 19:55:25.839 +08:00 [INF] 请求头: traceparent = 00-00312ca9ab05213e8cb3bc31d2c7bf7c-fadd1811d4fa5cb6-00
2025-05-29 19:55:25.841 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 19:55:25.842 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 19:55:25.843 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 19:55:25.844 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 19:55:25.845 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 19:55:25.846 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 19:55:25.847 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 19:55:25.849 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 19:55:25.850 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 19:55:25.851 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 19:55:25.852 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 19:55:25.853 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:55:25.854 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 19:55:25.855 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 19:55:25.857 +08:00 [INF] JWT Claim: jti = 85467fe4-7318-4efa-ad02-ac7f5dd09ef9
2025-05-29 19:55:25.858 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 19:55:25.860 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 19:55:25.861 +08:00 [INF] JWT Claim: exp = 1748520080
2025-05-29 19:55:25.863 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 19:55:25.864 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 19:55:25.866 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 19:55:25.867 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODU0NjdmZTQtNzMxOC00ZWZhLWFkMDItYWM3ZjVkZDA5ZWY5IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MjAwODAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.8L9MqbXM9sSMUcj48Oj5gC-oMnOOvyUs_8vtBL3i2Co]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-00312ca9ab05213e8cb3bc31d2c7bf7c-fadd1811d4fa5cb6-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 19:55:25.876 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:55:25.878 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 19:55:25.879 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 19:55:25.888 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-29 19:55:25.892 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 19:55:25.894 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 11.8512ms
2025-05-29 19:55:25.896 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 19:55:25.898 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 70ms
2025-05-29 19:55:25.901 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 76.6024ms
2025-05-29 19:56:46.053 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 19:56:46.055 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 19:56:46.057 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 19:56:46.060 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 19:56:46.061 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-29 19:56:46.062 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 19:56:46.063 +08:00 [INF] 请求方法: GET
2025-05-29 19:56:46.064 +08:00 [INF] 请求方法: GET
2025-05-29 19:56:46.065 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 19:56:46.066 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 19:56:46.067 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 19:56:46.068 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 19:56:46.069 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 19:56:46.070 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 19:56:46.071 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 19:56:46.073 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 19:56:46.074 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 19:56:46.075 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 19:56:46.076 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODU0NjdmZTQtNzMxOC00ZWZhLWFkMDItYWM3ZjVkZDA5ZWY5IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MjAwODAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.8L9MqbXM9sSMUcj48Oj5gC-oMnOOvyUs_8vtBL3i2Co
2025-05-29 19:56:46.077 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODU0NjdmZTQtNzMxOC00ZWZhLWFkMDItYWM3ZjVkZDA5ZWY5IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MjAwODAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.8L9MqbXM9sSMUcj48Oj5gC-oMnOOvyUs_8vtBL3i2Co
2025-05-29 19:56:46.078 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 19:56:46.079 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 19:56:46.080 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 19:56:46.081 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 19:56:46.082 +08:00 [INF] 请求头: traceparent = 00-2fab9ba83060949c009de7c125a5bdf3-c36eec7b8aef840a-00
2025-05-29 19:56:46.084 +08:00 [INF] 请求头: traceparent = 00-f1fc5ef053db775449762421e6781557-a17481b279f9945f-00
2025-05-29 19:56:46.085 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 19:56:46.086 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 19:56:46.087 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 19:56:46.088 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 19:56:46.089 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 19:56:46.090 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 19:56:46.091 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 19:56:46.092 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 19:56:46.093 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 19:56:46.094 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 19:56:46.095 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 19:56:46.097 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 19:56:46.099 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 19:56:46.100 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 19:56:46.101 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 19:56:46.102 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 19:56:46.103 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 19:56:46.104 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 19:56:46.105 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 19:56:46.106 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 19:56:46.107 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 19:56:46.107 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 19:56:46.108 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:56:46.109 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:56:46.110 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 19:56:46.111 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 19:56:46.112 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 19:56:46.114 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 19:56:46.114 +08:00 [INF] JWT Claim: jti = 85467fe4-7318-4efa-ad02-ac7f5dd09ef9
2025-05-29 19:56:46.116 +08:00 [INF] JWT Claim: jti = 85467fe4-7318-4efa-ad02-ac7f5dd09ef9
2025-05-29 19:56:46.117 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 19:56:46.118 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 19:56:46.119 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 19:56:46.121 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 19:56:46.122 +08:00 [INF] JWT Claim: exp = 1748520080
2025-05-29 19:56:46.123 +08:00 [INF] JWT Claim: exp = 1748520080
2025-05-29 19:56:46.124 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 19:56:46.126 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 19:56:46.128 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 19:56:46.127 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 19:56:46.129 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 19:56:46.131 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 19:56:46.131 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODU0NjdmZTQtNzMxOC00ZWZhLWFkMDItYWM3ZjVkZDA5ZWY5IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MjAwODAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.8L9MqbXM9sSMUcj48Oj5gC-oMnOOvyUs_8vtBL3i2Co]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-f1fc5ef053db775449762421e6781557-a17481b279f9945f-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 19:56:46.132 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODU0NjdmZTQtNzMxOC00ZWZhLWFkMDItYWM3ZjVkZDA5ZWY5IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MjAwODAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.8L9MqbXM9sSMUcj48Oj5gC-oMnOOvyUs_8vtBL3i2Co]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-2fab9ba83060949c009de7c125a5bdf3-c36eec7b8aef840a-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 19:56:46.140 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:56:46.147 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:56:46.148 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 19:56:46.149 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-29 19:56:46.150 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 19:56:46.150 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 19:56:46.158 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-29 19:56:46.164 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 19:56:46.165 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 13.3604ms
2025-05-29 19:56:46.167 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 19:56:46.168 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 107ms
2025-05-29 19:56:46.171 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 19:56:46.172 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 116.7505ms
2025-05-29 19:56:46.177 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 19:56:46.180 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-29 19:56:46.182 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 19:56:46.183 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 27.6278ms
2025-05-29 19:56:46.184 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-29 19:56:46.185 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 127ms
2025-05-29 19:56:46.187 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 134.6044ms
2025-05-29 19:56:50.393 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 19:56:50.396 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 19:56:50.397 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 19:56:50.398 +08:00 [INF] 请求方法: GET
2025-05-29 19:56:50.400 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 19:56:50.401 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 19:56:50.402 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 19:56:50.404 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 19:56:50.405 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 19:56:50.407 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODU0NjdmZTQtNzMxOC00ZWZhLWFkMDItYWM3ZjVkZDA5ZWY5IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MjAwODAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.8L9MqbXM9sSMUcj48Oj5gC-oMnOOvyUs_8vtBL3i2Co
2025-05-29 19:56:50.409 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 19:56:50.410 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 19:56:50.412 +08:00 [INF] 请求头: traceparent = 00-6e2739d462f47c81821471ecad3ed6a9-5d722fbb2633d657-00
2025-05-29 19:56:50.414 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 19:56:50.415 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 19:56:50.417 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 19:56:50.419 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 19:56:50.420 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 19:56:50.420 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 19:56:50.423 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 19:56:50.425 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 19:56:50.426 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-29 19:56:50.427 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 19:56:50.428 +08:00 [INF] 请求方法: GET
2025-05-29 19:56:50.429 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 19:56:50.430 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 19:56:50.431 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 19:56:50.432 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 19:56:50.433 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 19:56:50.434 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 19:56:50.434 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 19:56:50.435 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 19:56:50.436 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:56:50.438 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 19:56:50.439 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 19:56:50.440 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODU0NjdmZTQtNzMxOC00ZWZhLWFkMDItYWM3ZjVkZDA5ZWY5IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MjAwODAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.8L9MqbXM9sSMUcj48Oj5gC-oMnOOvyUs_8vtBL3i2Co
2025-05-29 19:56:50.441 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 19:56:50.442 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 19:56:50.444 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 19:56:50.443 +08:00 [INF] JWT Claim: jti = 85467fe4-7318-4efa-ad02-ac7f5dd09ef9
2025-05-29 19:56:50.445 +08:00 [INF] 请求头: traceparent = 00-dc3bf91ed57cc77b6210765e2801a347-2c70d9c15c502aa5-00
2025-05-29 19:56:50.446 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 19:56:50.448 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 19:56:50.449 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 19:56:50.451 +08:00 [INF] JWT Claim: exp = 1748520080
2025-05-29 19:56:50.452 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 19:56:50.453 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 19:56:50.454 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 19:56:50.450 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 19:56:50.455 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODU0NjdmZTQtNzMxOC00ZWZhLWFkMDItYWM3ZjVkZDA5ZWY5IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MjAwODAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.8L9MqbXM9sSMUcj48Oj5gC-oMnOOvyUs_8vtBL3i2Co]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-6e2739d462f47c81821471ecad3ed6a9-5d722fbb2633d657-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 19:56:50.456 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 19:56:50.464 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:56:50.465 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 19:56:50.466 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 19:56:50.468 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 19:56:50.469 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 19:56:50.470 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 19:56:50.474 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 19:56:50.479 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-29 19:56:50.480 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 19:56:50.492 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 19:56:50.493 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 19:56:50.495 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 21.9836ms
2025-05-29 19:56:50.496 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 19:56:50.498 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 19:56:50.499 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 19:56:50.500 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 103ms
2025-05-29 19:56:50.501 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:56:50.504 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 110.8422ms
2025-05-29 19:56:50.505 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 19:56:50.512 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 19:56:50.514 +08:00 [INF] JWT Claim: jti = 85467fe4-7318-4efa-ad02-ac7f5dd09ef9
2025-05-29 19:56:50.516 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 19:56:50.517 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 19:56:50.519 +08:00 [INF] JWT Claim: exp = 1748520080
2025-05-29 19:56:50.521 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 19:56:50.523 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 19:56:50.524 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 19:56:50.525 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODU0NjdmZTQtNzMxOC00ZWZhLWFkMDItYWM3ZjVkZDA5ZWY5IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MjAwODAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.8L9MqbXM9sSMUcj48Oj5gC-oMnOOvyUs_8vtBL3i2Co]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-dc3bf91ed57cc77b6210765e2801a347-2c70d9c15c502aa5-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 19:56:50.536 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:56:50.537 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-29 19:56:50.539 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 19:56:50.545 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 19:56:50.550 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 19:56:50.553 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-29 19:56:50.555 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 19:56:50.558 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 16.6706ms
2025-05-29 19:56:50.560 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-29 19:56:50.562 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 138ms
2025-05-29 19:56:50.565 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 145.8594ms
2025-05-29 19:56:56.324 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - null 0
2025-05-29 19:56:56.327 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 19:56:56.328 +08:00 [INF] 请求路径: /api/Property/GetPropertyStats
2025-05-29 19:56:56.329 +08:00 [INF] 请求方法: GET
2025-05-29 19:56:56.330 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 19:56:56.332 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 19:56:56.333 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 19:56:56.335 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 19:56:56.336 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 19:56:56.338 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODU0NjdmZTQtNzMxOC00ZWZhLWFkMDItYWM3ZjVkZDA5ZWY5IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MjAwODAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.8L9MqbXM9sSMUcj48Oj5gC-oMnOOvyUs_8vtBL3i2Co
2025-05-29 19:56:56.340 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 19:56:56.341 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 19:56:56.342 +08:00 [INF] 请求头: traceparent = 00-c49e5d5681ee272818d405520290f3a7-c5b2430a3e743117-00
2025-05-29 19:56:56.344 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 19:56:56.345 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 19:56:56.347 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 19:56:56.348 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 19:56:56.350 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 19:56:56.351 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 19:56:56.353 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 19:56:56.354 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 19:56:56.355 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 19:56:56.356 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 19:56:56.358 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 19:56:56.359 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:56:56.360 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 19:56:56.362 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 19:56:56.363 +08:00 [INF] JWT Claim: jti = 85467fe4-7318-4efa-ad02-ac7f5dd09ef9
2025-05-29 19:56:56.365 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 19:56:56.366 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 19:56:56.368 +08:00 [INF] JWT Claim: exp = 1748520080
2025-05-29 19:56:56.369 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 19:56:56.371 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 19:56:56.372 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 19:56:56.373 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODU0NjdmZTQtNzMxOC00ZWZhLWFkMDItYWM3ZjVkZDA5ZWY5IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MjAwODAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.8L9MqbXM9sSMUcj48Oj5gC-oMnOOvyUs_8vtBL3i2Co]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-c49e5d5681ee272818d405520290f3a7-c5b2430a3e743117-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 19:56:56.382 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:56:56.384 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 19:56:56.385 +08:00 [INF] Route matched with {action = "GetPropertyStats", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto]]] GetPropertyStats() on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 19:56:56.397 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[Area], [p].[Bathrooms], [p].[CreateTime], [p].[Decoration], [p].[Description], [p].[Floor], [p].[Orientation], [p].[OwnerId], [p].[Price], [p].[Rooms], [p].[Status], [p].[Title], [p].[TotalFloors], [p].[Type], [p].[UpdateTime]
FROM [Properties] AS [p]
2025-05-29 19:56:56.401 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.PropertyService.Dtos.PropertyStatsDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 19:56:56.403 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService) in 14.9423ms
2025-05-29 19:56:56.405 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetPropertyStats (RealEstateSolution.PropertyService)'
2025-05-29 19:56:56.406 +08:00 [INF] 请求 GET /api/Property/GetPropertyStats 完成，状态码: 200，耗时: 79ms
2025-05-29 19:56:56.409 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetPropertyStats - 200 null application/json; charset=utf-8 85.2506ms
2025-05-29 19:56:56.619 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - null 0
2025-05-29 19:56:56.623 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 19:56:56.624 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-29 19:56:56.626 +08:00 [INF] 请求方法: GET
2025-05-29 19:56:56.627 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 19:56:56.628 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 19:56:56.630 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 19:56:56.631 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 19:56:56.633 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 19:56:56.634 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODU0NjdmZTQtNzMxOC00ZWZhLWFkMDItYWM3ZjVkZDA5ZWY5IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MjAwODAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.8L9MqbXM9sSMUcj48Oj5gC-oMnOOvyUs_8vtBL3i2Co
2025-05-29 19:56:56.636 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 19:56:56.638 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 19:56:56.640 +08:00 [INF] 请求头: traceparent = 00-a2dbcfd8a8e31f9bed59feb604a2a52f-80ce89b0f04ceb66-00
2025-05-29 19:56:56.641 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 19:56:56.643 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 19:56:56.644 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 19:56:56.645 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 19:56:56.647 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 19:56:56.648 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 19:56:56.650 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 19:56:56.651 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 19:56:56.653 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 19:56:56.654 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 19:56:56.655 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 19:56:56.656 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:56:56.658 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 19:56:56.660 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 19:56:56.661 +08:00 [INF] JWT Claim: jti = 85467fe4-7318-4efa-ad02-ac7f5dd09ef9
2025-05-29 19:56:56.663 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 19:56:56.665 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 19:56:56.667 +08:00 [INF] JWT Claim: exp = 1748520080
2025-05-29 19:56:56.668 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 19:56:56.670 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 19:56:56.672 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 19:56:56.673 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODU0NjdmZTQtNzMxOC00ZWZhLWFkMDItYWM3ZjVkZDA5ZWY5IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MjAwODAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.8L9MqbXM9sSMUcj48Oj5gC-oMnOOvyUs_8vtBL3i2Co]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-a2dbcfd8a8e31f9bed59feb604a2a52f-80ce89b0f04ceb66-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 19:56:56.685 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:56:56.687 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-29 19:56:56.689 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 19:56:56.696 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 19:56:56.704 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 19:56:56.708 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-29 19:56:56.709 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 19:56:56.712 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 19.8486ms
2025-05-29 19:56:56.714 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-29 19:56:56.716 +08:00 [INF] 请求 GET /api/Property/GetProperties?pageIndex=1&pageSize=5 完成，状态码: 200，耗时: 92ms
2025-05-29 19:56:56.719 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 100.3486ms
2025-05-29 19:56:58.563 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - null 0
2025-05-29 19:56:58.566 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-29 19:56:58.567 +08:00 [INF] 请求路径: /api/Property/GetProperties
2025-05-29 19:56:58.568 +08:00 [INF] 请求方法: GET
2025-05-29 19:56:58.569 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-29 19:56:58.570 +08:00 [INF] 请求头: Host = localhost:5001
2025-05-29 19:56:58.571 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-29 19:56:58.573 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-29 19:56:58.574 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-29 19:56:58.575 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODU0NjdmZTQtNzMxOC00ZWZhLWFkMDItYWM3ZjVkZDA5ZWY5IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MjAwODAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.8L9MqbXM9sSMUcj48Oj5gC-oMnOOvyUs_8vtBL3i2Co
2025-05-29 19:56:58.576 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-29 19:56:58.577 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-29 19:56:58.578 +08:00 [INF] 请求头: traceparent = 00-8ad0b6ac4c0d22b359f6782961468256-3f5b20df2905bb96-00
2025-05-29 19:56:58.580 +08:00 [INF] 请求头: Content-Length = 0
2025-05-29 19:56:58.581 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-29 19:56:58.582 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-29 19:56:58.583 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-29 19:56:58.585 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-29 19:56:58.586 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-29 19:56:58.587 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-29 19:56:58.588 +08:00 [INF] 请求头: priority = u=1, i
2025-05-29 19:56:58.590 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-29 19:56:58.590 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-29 19:56:58.591 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-29 19:56:58.592 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:56:58.593 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-29 19:56:58.594 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-29 19:56:58.596 +08:00 [INF] JWT Claim: jti = 85467fe4-7318-4efa-ad02-ac7f5dd09ef9
2025-05-29 19:56:58.597 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-29 19:56:58.598 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-29 19:56:58.600 +08:00 [INF] JWT Claim: exp = 1748520080
2025-05-29 19:56:58.601 +08:00 [INF] JWT Claim: iss = ls
2025-05-29 19:56:58.602 +08:00 [INF] JWT Claim: aud = cold
2025-05-29 19:56:58.603 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-29 19:56:58.604 +08:00 [INF] 接收请求头：["[Accept, application/json, text/plain, */*]","[Host, localhost:5001]","[User-Agent, Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0]","[Accept-Encoding, gzip, deflate, br, zstd]","[Accept-Language, zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6]","[Authorization, Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODU0NjdmZTQtNzMxOC00ZWZhLWFkMDItYWM3ZjVkZDA5ZWY5IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1MjAwODAsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.8L9MqbXM9sSMUcj48Oj5gC-oMnOOvyUs_8vtBL3i2Co]","[Origin, http://localhost:3000]","[Referer, http://localhost:3000/]","[traceparent, 00-8ad0b6ac4c0d22b359f6782961468256-3f5b20df2905bb96-00]","[Content-Length, 0]","[sec-ch-ua-platform, \"Windows\"]","[sec-ch-ua, \"Not(A:Brand\";v=\"99\", \"Microsoft Edge\";v=\"133\", \"Chromium\";v=\"133\"]","[sec-ch-ua-mobile, ?0]","[sec-fetch-site, cross-site]","[sec-fetch-mode, cors]","[sec-fetch-dest, empty]","[priority, u=1, i]"]
2025-05-29 19:56:58.611 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-29 19:56:58.612 +08:00 [INF] Executing endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-29 19:56:58.613 +08:00 [INF] Route matched with {action = "GetProperties", controller = "Property"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.PropertyService.Dtos.PropertyDto]]]] GetProperties(RealEstateSolution.PropertyService.Dtos.PropertyQueryDto) on controller RealEstateSolution.PropertyService.Controllers.PropertyController (RealEstateSolution.PropertyService).
2025-05-29 19:56:58.620 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Properties] AS [p]
2025-05-29 19:56:58.625 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Type], [p].[Title], [p].[Description], [p].[Price], [p].[Area], [p].[Address], [p].[Bathrooms], [p].[Floor], [p].[TotalFloors], [p].[Orientation], [p].[Decoration], [p].[Status], [p].[CreateTime], [p].[UpdateTime], [p].[OwnerId], [p].[Rooms]
FROM [Properties] AS [p]
ORDER BY [p].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-29 19:56:58.628 +08:00 [INF] 查询房源列表完成，共找到 21 条记录
2025-05-29 19:56:58.629 +08:00 [INF] Executing OkObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.PropertyService.Dtos.PropertyDto, RealEstateSolution.PropertyService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-29 19:56:58.631 +08:00 [INF] Executed action RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService) in 15.86ms
2025-05-29 19:56:58.633 +08:00 [INF] Executed endpoint 'RealEstateSolution.PropertyService.Controllers.PropertyController.GetProperties (RealEstateSolution.PropertyService)'
2025-05-29 19:56:58.634 +08:00 [INF] 请求 GET /api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 完成，状态码: 200，耗时: 67ms
2025-05-29 19:56:58.636 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Property/GetProperties?keyword=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 72.7986ms
