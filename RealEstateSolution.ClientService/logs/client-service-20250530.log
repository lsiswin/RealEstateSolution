2025-05-30 09:32:29.176 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-30 09:32:29.947 +08:00 [INF] Now listening on: https://localhost:5003
2025-05-30 09:32:30.223 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 09:32:30.227 +08:00 [INF] Hosting environment: Development
2025-05-30 09:32:30.230 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.ClientService
2025-05-30 09:32:33.831 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5003/_framework/aspnetcore-browser-refresh.js - null null
2025-05-30 09:32:33.830 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5003/_vs/browserLink - null null
2025-05-30 09:32:33.914 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5003/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 85.2378ms
2025-05-30 09:32:34.060 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5003/_vs/browserLink - 200 null text/javascript; charset=UTF-8 233.3966ms
2025-05-30 09:32:34.545 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/v1/swagger.json - null null
2025-05-30 09:32:34.627 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 82.927ms
2025-05-30 09:33:25.109 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 09:33:25.159 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 09:33:25.174 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:33:25.174 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:33:25.176 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 09:33:25.176 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 09:33:25.177 +08:00 [INF] 请求方法: GET
2025-05-30 09:33:25.179 +08:00 [INF] 请求方法: GET
2025-05-30 09:33:25.180 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:33:25.181 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:33:25.182 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 09:33:25.183 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 09:33:25.184 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:33:25.186 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:33:25.187 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:33:25.188 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:33:25.189 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:33:25.191 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:33:25.192 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDkzOTRjMmEtMDM3MS00ZDVhLWJiYjQtODY2MjBhZGM1N2JjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Njk0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Ju-b6mUgivQu1d15RK5lbgC1hMb7uHOAv7UBDp3AuYI
2025-05-30 09:33:25.193 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDkzOTRjMmEtMDM3MS00ZDVhLWJiYjQtODY2MjBhZGM1N2JjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Njk0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Ju-b6mUgivQu1d15RK5lbgC1hMb7uHOAv7UBDp3AuYI
2025-05-30 09:33:25.195 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:33:25.196 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:33:25.197 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:33:25.198 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:33:25.200 +08:00 [INF] 请求头: traceparent = 00-586fb16efe2bf124eba6092e76b3cc00-15d318fd9200e091-00
2025-05-30 09:33:25.201 +08:00 [INF] 请求头: traceparent = 00-8f04667a559e026825f360134ecf86ce-387531f6c60df453-00
2025-05-30 09:33:25.202 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:33:25.203 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:33:25.205 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:33:25.206 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:33:25.207 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:33:25.209 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:33:25.210 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:33:25.211 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:33:25.212 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:33:25.213 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:33:25.214 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:33:25.215 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:33:25.216 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:33:25.218 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:33:25.219 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:33:25.220 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:33:25.221 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:33:25.222 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:33:25.223 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:33:25.224 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:33:25.272 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:33:25.272 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:33:25.274 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:33:25.275 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:33:25.276 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:33:25.277 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:33:25.278 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:33:25.279 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:33:25.280 +08:00 [INF] JWT Claim: jti = 09394c2a-0371-4d5a-bbb4-86620adc57bc
2025-05-30 09:33:25.282 +08:00 [INF] JWT Claim: jti = 09394c2a-0371-4d5a-bbb4-86620adc57bc
2025-05-30 09:33:25.283 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:33:25.284 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:33:25.286 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:33:25.287 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:33:25.288 +08:00 [INF] JWT Claim: exp = 1748569404
2025-05-30 09:33:25.289 +08:00 [INF] JWT Claim: exp = 1748569404
2025-05-30 09:33:25.290 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:33:25.291 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:33:25.293 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:33:25.294 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:33:25.296 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:33:25.297 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:33:25.389 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:33:25.389 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:33:25.455 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 09:33:25.455 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 09:33:25.487 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 09:33:25.489 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 09:33:26.295 +08:00 [WRN] No store type was specified for the decimal property 'MaxArea' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 09:33:26.297 +08:00 [WRN] No store type was specified for the decimal property 'MaxPrice' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 09:33:26.298 +08:00 [WRN] No store type was specified for the decimal property 'MinArea' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 09:33:26.299 +08:00 [WRN] No store type was specified for the decimal property 'MinPrice' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 09:33:26.300 +08:00 [WRN] No store type was specified for the decimal property 'Area' on entity type 'Property'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 09:33:26.301 +08:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Property'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 09:33:26.487 +08:00 [INF] 获取客户统计数据
2025-05-30 09:33:26.514 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 09:33:27.162 +08:00 [INF] Executed DbCommand (59ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
2025-05-30 09:33:27.162 +08:00 [INF] Executed DbCommand (59ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 09:33:27.255 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 09:33:27.276 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 1782.4174ms
2025-05-30 09:33:27.279 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 09:33:27.279 +08:00 [INF] Executed DbCommand (39ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 09:33:27.289 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 09:33:27.290 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 200 null application/json; charset=utf-8 2130.9506ms
2025-05-30 09:33:27.323 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 1830.7477ms
2025-05-30 09:33:27.326 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 09:33:27.328 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 2219.0645ms
2025-05-30 09:38:23.251 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 09:38:23.255 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:38:23.256 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 09:38:23.257 +08:00 [INF] 请求方法: GET
2025-05-30 09:38:23.258 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:38:23.259 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 09:38:23.260 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:38:23.261 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:38:23.262 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:38:23.264 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDkzOTRjMmEtMDM3MS00ZDVhLWJiYjQtODY2MjBhZGM1N2JjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Njk0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Ju-b6mUgivQu1d15RK5lbgC1hMb7uHOAv7UBDp3AuYI
2025-05-30 09:38:23.265 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:38:23.266 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:38:23.267 +08:00 [INF] 请求头: traceparent = 00-3981899e5aff516785d9d2feba7a0f94-5e2c1090c546a06d-00
2025-05-30 09:38:23.268 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:38:23.270 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:38:23.271 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:38:23.272 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:38:23.273 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:38:23.274 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:38:23.275 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:38:23.277 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:38:23.278 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:38:23.278 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:38:23.279 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:38:23.280 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:38:23.282 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:38:23.283 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:38:23.285 +08:00 [INF] JWT Claim: jti = 09394c2a-0371-4d5a-bbb4-86620adc57bc
2025-05-30 09:38:23.286 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:38:23.287 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:38:23.288 +08:00 [INF] JWT Claim: exp = 1748569404
2025-05-30 09:38:23.289 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:38:23.291 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:38:23.292 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:38:23.295 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:38:23.300 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 09:38:23.301 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 09:38:23.354 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 09:38:23.375 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 09:38:23.390 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 09:38:23.392 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 09:38:23.394 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 91.443ms
2025-05-30 09:38:23.396 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 09:38:23.397 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 145.8554ms
2025-05-30 09:38:23.415 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 09:38:23.419 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:38:23.420 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 09:38:23.421 +08:00 [INF] 请求方法: GET
2025-05-30 09:38:23.422 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:38:23.423 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 09:38:23.424 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:38:23.426 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:38:23.427 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:38:23.428 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDkzOTRjMmEtMDM3MS00ZDVhLWJiYjQtODY2MjBhZGM1N2JjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Njk0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Ju-b6mUgivQu1d15RK5lbgC1hMb7uHOAv7UBDp3AuYI
2025-05-30 09:38:23.429 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:38:23.430 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:38:23.432 +08:00 [INF] 请求头: traceparent = 00-ab6dcddfcf15a1cdd3614ee0b1348638-834833d149009749-00
2025-05-30 09:38:23.433 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:38:23.435 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:38:23.436 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:38:23.437 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:38:23.439 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:38:23.441 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:38:23.443 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:38:23.444 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:38:23.445 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:38:23.445 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:38:23.446 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:38:23.447 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:38:23.448 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:38:23.449 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:38:23.451 +08:00 [INF] JWT Claim: jti = 09394c2a-0371-4d5a-bbb4-86620adc57bc
2025-05-30 09:38:23.452 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:38:23.453 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:38:23.454 +08:00 [INF] JWT Claim: exp = 1748569404
2025-05-30 09:38:23.455 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:38:23.456 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:38:23.458 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:38:23.459 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:38:23.460 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 09:38:23.461 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 09:38:23.463 +08:00 [INF] 获取客户统计数据
2025-05-30 09:38:23.468 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
2025-05-30 09:38:23.471 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 09:38:23.472 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 9.7875ms
2025-05-30 09:38:23.474 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 09:38:23.476 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 200 null application/json; charset=utf-8 60.2908ms
2025-05-30 09:41:28.006 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 09:41:28.020 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:41:28.022 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 09:41:28.023 +08:00 [INF] 请求方法: GET
2025-05-30 09:41:28.024 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:41:28.026 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 09:41:28.033 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 09:41:28.041 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:41:28.042 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:41:28.043 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 09:41:28.044 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:41:28.046 +08:00 [INF] 请求方法: GET
2025-05-30 09:41:28.047 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:41:28.049 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:41:28.051 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDkzOTRjMmEtMDM3MS00ZDVhLWJiYjQtODY2MjBhZGM1N2JjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Njk0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Ju-b6mUgivQu1d15RK5lbgC1hMb7uHOAv7UBDp3AuYI
2025-05-30 09:41:28.052 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 09:41:28.054 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:41:28.055 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:41:28.057 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:41:28.058 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:41:28.059 +08:00 [INF] 请求头: traceparent = 00-6d718d6959ed211160d5d35c08ebc5d8-ea57577b03efb6a3-00
2025-05-30 09:41:28.060 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:41:28.062 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:41:28.063 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDkzOTRjMmEtMDM3MS00ZDVhLWJiYjQtODY2MjBhZGM1N2JjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Njk0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Ju-b6mUgivQu1d15RK5lbgC1hMb7uHOAv7UBDp3AuYI
2025-05-30 09:41:28.065 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:41:28.066 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:41:28.067 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:41:28.069 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:41:28.070 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:41:28.071 +08:00 [INF] 请求头: traceparent = 00-63d8fc2155113868efc642a69ec24fb2-2349c69e89bbe1b1-00
2025-05-30 09:41:28.073 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:41:28.074 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:41:28.075 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:41:28.077 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:41:28.078 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:41:28.080 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:41:28.081 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:41:28.083 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:41:28.084 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:41:28.085 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:41:28.086 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:41:28.087 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:41:28.089 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:41:28.090 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:41:28.091 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:41:28.092 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:41:28.093 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:41:28.095 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:41:28.096 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:41:28.097 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:41:28.098 +08:00 [INF] JWT Claim: jti = 09394c2a-0371-4d5a-bbb4-86620adc57bc
2025-05-30 09:41:28.099 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:41:28.100 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:41:28.101 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:41:28.103 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:41:28.104 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:41:28.105 +08:00 [INF] JWT Claim: exp = 1748569404
2025-05-30 09:41:28.107 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:41:28.108 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:41:28.109 +08:00 [INF] JWT Claim: jti = 09394c2a-0371-4d5a-bbb4-86620adc57bc
2025-05-30 09:41:28.110 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:41:28.112 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:41:28.113 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:41:28.114 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:41:28.115 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:41:28.116 +08:00 [INF] JWT Claim: exp = 1748569404
2025-05-30 09:41:28.117 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 09:41:28.119 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:41:28.120 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 09:41:28.121 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:41:28.125 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:41:28.125 +08:00 [INF] 获取客户统计数据
2025-05-30 09:41:28.126 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:41:28.129 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 09:41:28.132 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 09:41:28.136 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 09:41:28.137 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
2025-05-30 09:41:28.155 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 09:41:28.157 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 34.1131ms
2025-05-30 09:41:28.159 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 09:41:28.161 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 200 null application/json; charset=utf-8 155.3543ms
2025-05-30 09:41:28.171 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 09:41:28.181 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 09:41:28.185 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 09:41:28.187 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 52.6242ms
2025-05-30 09:41:28.188 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 09:41:28.190 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 164.076ms
2025-05-30 09:41:30.102 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=10 - null 0
2025-05-30 09:41:30.105 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:41:30.106 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 09:41:30.107 +08:00 [INF] 请求方法: GET
2025-05-30 09:41:30.108 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:41:30.110 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 09:41:30.111 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:41:30.112 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:41:30.113 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:41:30.115 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDkzOTRjMmEtMDM3MS00ZDVhLWJiYjQtODY2MjBhZGM1N2JjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Njk0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Ju-b6mUgivQu1d15RK5lbgC1hMb7uHOAv7UBDp3AuYI
2025-05-30 09:41:30.116 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:41:30.117 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:41:30.119 +08:00 [INF] 请求头: traceparent = 00-c4858c425b706e72a7d359d8287a2595-893ccfad34052fb2-00
2025-05-30 09:41:30.120 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:41:30.121 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:41:30.123 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:41:30.124 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:41:30.125 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:41:30.127 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:41:30.128 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:41:30.129 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:41:30.131 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:41:30.132 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:41:30.133 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:41:30.134 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:41:30.135 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:41:30.136 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:41:30.138 +08:00 [INF] JWT Claim: jti = 09394c2a-0371-4d5a-bbb4-86620adc57bc
2025-05-30 09:41:30.139 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:41:30.140 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:41:30.142 +08:00 [INF] JWT Claim: exp = 1748569404
2025-05-30 09:41:30.143 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:41:30.144 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:41:30.145 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:41:30.147 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:41:30.148 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 09:41:30.149 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 09:41:30.153 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":10,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 09:41:30.162 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 09:41:30.169 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 09:41:30.171 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 09:41:30.174 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 22.5466ms
2025-05-30 09:41:30.176 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 09:41:30.177 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 75.4854ms
2025-05-30 09:52:20.599 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 09:52:20.602 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:52:20.603 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 09:52:20.605 +08:00 [INF] 请求方法: GET
2025-05-30 09:52:20.606 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:52:20.607 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 09:52:20.608 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:52:20.610 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:52:20.611 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:52:20.612 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDMyY2ZmYzEtYjBmZC00ZTZmLTg3Y2ItZmQ2ODhmN2JhNTI2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzA1MzksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9._LCxjRInKEVJ_OUZCOqla-rRKgEyrL7TkAQ0DokPK78
2025-05-30 09:52:20.613 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:52:20.615 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:52:20.616 +08:00 [INF] 请求头: traceparent = 00-96aa859110e4e06c07f63860d5a6f6e0-e46ca165942402d4-00
2025-05-30 09:52:20.617 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:52:20.618 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:52:20.620 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:52:20.621 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:52:20.622 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:52:20.623 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:52:20.624 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:52:20.625 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:52:20.627 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:52:20.628 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:52:20.628 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:52:20.629 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:52:20.631 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:52:20.632 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:52:20.633 +08:00 [INF] JWT Claim: jti = 032cffc1-b0fd-4e6f-87cb-fd688f7ba526
2025-05-30 09:52:20.634 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:52:20.635 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:52:20.637 +08:00 [INF] JWT Claim: exp = 1748570539
2025-05-30 09:52:20.638 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:52:20.639 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:52:20.640 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:52:20.641 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:52:20.642 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 09:52:20.643 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 09:52:20.646 +08:00 [INF] 获取客户统计数据
2025-05-30 09:52:20.680 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
2025-05-30 09:52:20.683 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 09:52:20.685 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 39.3127ms
2025-05-30 09:52:20.686 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 09:52:20.687 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 200 null application/json; charset=utf-8 88.509ms
2025-05-30 09:52:20.794 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 09:52:20.798 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:52:20.799 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 09:52:20.800 +08:00 [INF] 请求方法: GET
2025-05-30 09:52:20.801 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:52:20.803 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 09:52:20.805 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:52:20.806 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:52:20.808 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:52:20.810 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDMyY2ZmYzEtYjBmZC00ZTZmLTg3Y2ItZmQ2ODhmN2JhNTI2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzA1MzksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9._LCxjRInKEVJ_OUZCOqla-rRKgEyrL7TkAQ0DokPK78
2025-05-30 09:52:20.811 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:52:20.813 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:52:20.814 +08:00 [INF] 请求头: traceparent = 00-2a6050c3d96ec34034aacddf68cf1815-7f23660c072aa403-00
2025-05-30 09:52:20.816 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:52:20.818 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:52:20.819 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:52:20.821 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:52:20.823 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:52:20.824 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:52:20.826 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:52:20.828 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:52:20.829 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:52:20.830 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:52:20.832 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:52:20.833 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:52:20.835 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:52:20.837 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:52:20.838 +08:00 [INF] JWT Claim: jti = 032cffc1-b0fd-4e6f-87cb-fd688f7ba526
2025-05-30 09:52:20.839 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:52:20.841 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:52:20.843 +08:00 [INF] JWT Claim: exp = 1748570539
2025-05-30 09:52:20.844 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:52:20.846 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:52:20.847 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:52:20.848 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:52:20.850 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 09:52:20.851 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 09:52:20.855 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 09:52:20.868 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 09:52:20.883 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 09:52:20.886 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 09:52:20.888 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 33.9292ms
2025-05-30 09:52:20.890 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 09:52:20.892 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 97.4101ms
2025-05-30 09:52:58.468 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 09:52:58.476 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:52:58.477 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 09:52:58.479 +08:00 [INF] 请求方法: GET
2025-05-30 09:52:58.481 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:52:58.489 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 09:52:58.497 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:52:58.498 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:52:58.501 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:52:58.503 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 09:52:58.503 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDMyY2ZmYzEtYjBmZC00ZTZmLTg3Y2ItZmQ2ODhmN2JhNTI2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzA1MzksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9._LCxjRInKEVJ_OUZCOqla-rRKgEyrL7TkAQ0DokPK78
2025-05-30 09:52:58.507 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:52:58.508 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:52:58.509 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 09:52:58.510 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:52:58.511 +08:00 [INF] 请求方法: GET
2025-05-30 09:52:58.513 +08:00 [INF] 请求头: traceparent = 00-acf0dcbb44af0e71ad16b767e72475de-9811924651c5678c-00
2025-05-30 09:52:58.514 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:52:58.515 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:52:58.517 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 09:52:58.518 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:52:58.520 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:52:58.521 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:52:58.522 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:52:58.523 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:52:58.525 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:52:58.526 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:52:58.527 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDMyY2ZmYzEtYjBmZC00ZTZmLTg3Y2ItZmQ2ODhmN2JhNTI2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzA1MzksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9._LCxjRInKEVJ_OUZCOqla-rRKgEyrL7TkAQ0DokPK78
2025-05-30 09:52:58.528 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:52:58.530 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:52:58.531 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:52:58.532 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:52:58.534 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:52:58.536 +08:00 [INF] 请求头: traceparent = 00-c3ffd1d83a20e6192273a01b88e7ad18-51a33798506e64fb-00
2025-05-30 09:52:58.538 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:52:58.539 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:52:58.540 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:52:58.541 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:52:58.542 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:52:58.544 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:52:58.545 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:52:58.546 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:52:58.547 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:52:58.548 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:52:58.550 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:52:58.551 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:52:58.552 +08:00 [INF] JWT Claim: jti = 032cffc1-b0fd-4e6f-87cb-fd688f7ba526
2025-05-30 09:52:58.554 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:52:58.555 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:52:58.556 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:52:58.557 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:52:58.559 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:52:58.560 +08:00 [INF] JWT Claim: exp = 1748570539
2025-05-30 09:52:58.561 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:52:58.562 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:52:58.563 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:52:58.564 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:52:58.565 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:52:58.566 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:52:58.567 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:52:58.568 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:52:58.569 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:52:58.570 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 09:52:58.571 +08:00 [INF] JWT Claim: jti = 032cffc1-b0fd-4e6f-87cb-fd688f7ba526
2025-05-30 09:52:58.572 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 09:52:58.573 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:52:58.576 +08:00 [INF] 获取客户统计数据
2025-05-30 09:52:58.577 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:52:58.582 +08:00 [INF] JWT Claim: exp = 1748570539
2025-05-30 09:52:58.584 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:52:58.586 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:52:58.587 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:52:58.588 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
2025-05-30 09:52:58.588 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:52:58.591 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 09:52:58.591 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 09:52:58.593 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 17.5552ms
2025-05-30 09:52:58.594 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 09:52:58.595 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 09:52:58.599 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 200 null application/json; charset=utf-8 130.4632ms
2025-05-30 09:52:58.600 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 09:52:58.613 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 09:52:58.619 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 09:52:58.622 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 09:52:58.624 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 26.9994ms
2025-05-30 09:52:58.626 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 09:52:58.627 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 124.4667ms
2025-05-30 09:57:46.310 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=10 - null 0
2025-05-30 09:57:46.320 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:57:46.321 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 09:57:46.322 +08:00 [INF] 请求方法: GET
2025-05-30 09:57:46.323 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:57:46.324 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 09:57:46.325 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:57:46.327 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:57:46.328 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:57:46.329 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDMyY2ZmYzEtYjBmZC00ZTZmLTg3Y2ItZmQ2ODhmN2JhNTI2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzA1MzksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9._LCxjRInKEVJ_OUZCOqla-rRKgEyrL7TkAQ0DokPK78
2025-05-30 09:57:46.330 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:57:46.331 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:57:46.332 +08:00 [INF] 请求头: traceparent = 00-add253ba9d1ee13682fd2e8c3f7b8cf4-c77d03981825d84a-00
2025-05-30 09:57:46.333 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:57:46.334 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:57:46.335 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:57:46.337 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:57:46.338 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:57:46.339 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:57:46.340 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:57:46.341 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:57:46.342 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:57:46.343 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:57:46.344 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:57:46.345 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:57:46.346 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:57:46.348 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:57:46.349 +08:00 [INF] JWT Claim: jti = 032cffc1-b0fd-4e6f-87cb-fd688f7ba526
2025-05-30 09:57:46.350 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:57:46.351 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:57:46.352 +08:00 [INF] JWT Claim: exp = 1748570539
2025-05-30 09:57:46.353 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:57:46.355 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:57:46.356 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:57:46.357 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:57:46.358 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 09:57:46.360 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 09:57:46.363 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":10,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 09:57:46.378 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 09:57:46.385 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 09:57:46.387 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 09:57:46.390 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 28.4279ms
2025-05-30 09:57:46.391 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 09:57:46.393 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 83.1158ms
2025-05-30 09:57:50.516 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=10 - null 0
2025-05-30 09:57:50.518 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:57:50.519 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 09:57:50.519 +08:00 [INF] 请求方法: GET
2025-05-30 09:57:50.520 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:57:50.521 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 09:57:50.522 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:57:50.523 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:57:50.524 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:57:50.525 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDMyY2ZmYzEtYjBmZC00ZTZmLTg3Y2ItZmQ2ODhmN2JhNTI2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzA1MzksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9._LCxjRInKEVJ_OUZCOqla-rRKgEyrL7TkAQ0DokPK78
2025-05-30 09:57:50.526 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:57:50.527 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:57:50.528 +08:00 [INF] 请求头: traceparent = 00-99d9b5f3cf74dea67a1a226bfc152358-1b18456cb429c127-00
2025-05-30 09:57:50.529 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:57:50.530 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:57:50.531 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:57:50.533 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:57:50.534 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:57:50.535 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:57:50.537 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:57:50.538 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:57:50.539 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:57:50.541 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:57:50.542 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:57:50.543 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:57:50.544 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:57:50.545 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:57:50.546 +08:00 [INF] JWT Claim: jti = 032cffc1-b0fd-4e6f-87cb-fd688f7ba526
2025-05-30 09:57:50.548 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:57:50.549 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:57:50.550 +08:00 [INF] JWT Claim: exp = 1748570539
2025-05-30 09:57:50.552 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:57:50.553 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:57:50.554 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:57:50.555 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:57:50.557 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 09:57:50.558 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 09:57:50.561 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":10,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 09:57:50.576 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 09:57:50.581 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 09:57:50.584 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 09:57:50.586 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 25.9378ms
2025-05-30 09:57:50.588 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 09:57:50.589 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 73.2603ms
2025-05-30 09:57:51.094 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=10 - null 0
2025-05-30 09:57:51.097 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:57:51.098 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 09:57:51.099 +08:00 [INF] 请求方法: GET
2025-05-30 09:57:51.100 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:57:51.101 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 09:57:51.102 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:57:51.103 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:57:51.104 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:57:51.106 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDMyY2ZmYzEtYjBmZC00ZTZmLTg3Y2ItZmQ2ODhmN2JhNTI2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzA1MzksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9._LCxjRInKEVJ_OUZCOqla-rRKgEyrL7TkAQ0DokPK78
2025-05-30 09:57:51.107 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:57:51.108 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:57:51.109 +08:00 [INF] 请求头: traceparent = 00-a0e1299d8856d450e3d5e3685013157e-3d6dea2b753d7224-00
2025-05-30 09:57:51.110 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:57:51.112 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:57:51.113 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:57:51.114 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:57:51.115 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:57:51.117 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:57:51.118 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:57:51.119 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:57:51.120 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:57:51.121 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:57:51.122 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:57:51.123 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:57:51.125 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:57:51.126 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:57:51.127 +08:00 [INF] JWT Claim: jti = 032cffc1-b0fd-4e6f-87cb-fd688f7ba526
2025-05-30 09:57:51.128 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:57:51.129 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:57:51.131 +08:00 [INF] JWT Claim: exp = 1748570539
2025-05-30 09:57:51.132 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:57:51.133 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:57:51.134 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:57:51.135 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:57:51.136 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 09:57:51.137 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 09:57:51.140 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":10,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 09:57:54.445 +08:00 [INF] Executed DbCommand (3,297ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 09:57:54.452 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 09:57:54.454 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 09:57:54.457 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 3317.5218ms
2025-05-30 09:57:54.459 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 09:57:54.460 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 3366.0682ms
2025-05-30 09:57:55.734 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=10 - null 0
2025-05-30 09:57:55.737 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:57:55.737 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 09:57:55.739 +08:00 [INF] 请求方法: GET
2025-05-30 09:57:55.740 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:57:55.741 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 09:57:55.742 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:57:55.744 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:57:55.745 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:57:55.746 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDMyY2ZmYzEtYjBmZC00ZTZmLTg3Y2ItZmQ2ODhmN2JhNTI2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzA1MzksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9._LCxjRInKEVJ_OUZCOqla-rRKgEyrL7TkAQ0DokPK78
2025-05-30 09:57:55.747 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:57:55.748 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:57:55.749 +08:00 [INF] 请求头: traceparent = 00-d81aaea153b462ec40adb849241b1c2e-f3b97ef6c25b7c44-00
2025-05-30 09:57:55.751 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:57:55.752 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:57:55.753 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:57:55.754 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:57:55.755 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:57:55.757 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:57:55.758 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:57:55.759 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:57:55.760 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:57:55.761 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:57:55.762 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:57:55.763 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:57:55.764 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:57:55.765 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:57:55.766 +08:00 [INF] JWT Claim: jti = 032cffc1-b0fd-4e6f-87cb-fd688f7ba526
2025-05-30 09:57:55.767 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:57:55.768 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:57:55.769 +08:00 [INF] JWT Claim: exp = 1748570539
2025-05-30 09:57:55.770 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:57:55.771 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:57:55.772 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:57:55.773 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:57:55.774 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 09:57:55.775 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 09:57:55.778 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":10,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 09:57:55.785 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 09:57:55.790 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 09:57:55.792 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 09:57:55.793 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 16.5337ms
2025-05-30 09:57:55.795 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 09:57:55.796 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 61.8612ms
2025-05-30 09:58:02.773 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=10 - null 0
2025-05-30 09:58:02.777 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:58:02.777 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 09:58:02.778 +08:00 [INF] 请求方法: GET
2025-05-30 09:58:02.780 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:58:02.781 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 09:58:02.782 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:58:02.783 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:58:02.785 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:58:02.786 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDMyY2ZmYzEtYjBmZC00ZTZmLTg3Y2ItZmQ2ODhmN2JhNTI2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzA1MzksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9._LCxjRInKEVJ_OUZCOqla-rRKgEyrL7TkAQ0DokPK78
2025-05-30 09:58:02.787 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:58:02.789 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:58:02.790 +08:00 [INF] 请求头: traceparent = 00-018698eb3d78cae3b5e1ec8f2ecd63c4-d892d20b2e565756-00
2025-05-30 09:58:02.791 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:58:02.792 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:58:02.793 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:58:02.794 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:58:02.795 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:58:02.797 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:58:02.798 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:58:02.799 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:58:02.800 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:58:02.801 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:58:02.802 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:58:02.803 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:58:02.804 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:58:02.805 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:58:02.806 +08:00 [INF] JWT Claim: jti = 032cffc1-b0fd-4e6f-87cb-fd688f7ba526
2025-05-30 09:58:02.808 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:58:02.809 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:58:02.810 +08:00 [INF] JWT Claim: exp = 1748570539
2025-05-30 09:58:02.811 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:58:02.812 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:58:02.813 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:58:02.815 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:58:02.816 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 09:58:02.817 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 09:58:02.819 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":10,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 09:58:02.829 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 09:58:02.841 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 09:58:02.844 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 09:58:02.845 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 26.8094ms
2025-05-30 09:58:02.847 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 09:58:02.849 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 75.3886ms
2025-05-30 09:58:40.384 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=10 - null 0
2025-05-30 09:58:40.395 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:58:40.396 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 09:58:40.397 +08:00 [INF] 请求方法: GET
2025-05-30 09:58:40.398 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:58:40.400 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 09:58:40.401 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:58:40.402 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:58:40.403 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:58:40.404 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDMyY2ZmYzEtYjBmZC00ZTZmLTg3Y2ItZmQ2ODhmN2JhNTI2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzA1MzksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9._LCxjRInKEVJ_OUZCOqla-rRKgEyrL7TkAQ0DokPK78
2025-05-30 09:58:40.406 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:58:40.407 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:58:40.408 +08:00 [INF] 请求头: traceparent = 00-85a938af491d90756d7496bdd1c42b0d-94ef1151b8245366-00
2025-05-30 09:58:40.409 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:58:40.410 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:58:40.411 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:58:40.412 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:58:40.413 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:58:40.414 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:58:40.415 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:58:40.416 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:58:40.417 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:58:40.418 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:58:40.419 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:58:40.420 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:58:40.421 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:58:40.422 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:58:40.423 +08:00 [INF] JWT Claim: jti = 032cffc1-b0fd-4e6f-87cb-fd688f7ba526
2025-05-30 09:58:40.424 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:58:40.425 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:58:40.426 +08:00 [INF] JWT Claim: exp = 1748570539
2025-05-30 09:58:40.427 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:58:40.428 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:58:40.430 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:58:40.431 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:58:40.432 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 09:58:40.434 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 09:58:40.436 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":10,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 09:58:40.444 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 09:58:40.448 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 09:58:40.450 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 09:58:40.451 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 15.3295ms
2025-05-30 09:58:40.452 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 09:58:40.453 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 68.9101ms
2025-05-30 09:58:59.431 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=10 - null 0
2025-05-30 09:58:59.435 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 09:58:59.436 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 09:58:59.437 +08:00 [INF] 请求方法: GET
2025-05-30 09:58:59.438 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 09:58:59.440 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 09:58:59.442 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 09:58:59.443 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 09:58:59.444 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 09:58:59.445 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDMyY2ZmYzEtYjBmZC00ZTZmLTg3Y2ItZmQ2ODhmN2JhNTI2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzA1MzksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9._LCxjRInKEVJ_OUZCOqla-rRKgEyrL7TkAQ0DokPK78
2025-05-30 09:58:59.447 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 09:58:59.449 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 09:58:59.451 +08:00 [INF] 请求头: traceparent = 00-df1c54d3034da1eedcbcb60541e48e39-3d8c76ade44e9a92-00
2025-05-30 09:58:59.452 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 09:58:59.453 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 09:58:59.455 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 09:58:59.456 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 09:58:59.458 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 09:58:59.459 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 09:58:59.460 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 09:58:59.461 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 09:58:59.462 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 09:58:59.463 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 09:58:59.464 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 09:58:59.465 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:58:59.467 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 09:58:59.468 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 09:58:59.469 +08:00 [INF] JWT Claim: jti = 032cffc1-b0fd-4e6f-87cb-fd688f7ba526
2025-05-30 09:58:59.470 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 09:58:59.471 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 09:58:59.473 +08:00 [INF] JWT Claim: exp = 1748570539
2025-05-30 09:58:59.474 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 09:58:59.475 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 09:58:59.476 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 09:58:59.478 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 09:58:59.479 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 09:58:59.480 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 09:58:59.483 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":10,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 09:58:59.499 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 09:58:59.503 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 09:58:59.506 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 09:58:59.508 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 25.6009ms
2025-05-30 09:58:59.510 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 09:58:59.511 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 80.1038ms
2025-05-30 10:00:49.201 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=10 - null 0
2025-05-30 10:00:49.204 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:00:49.205 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 10:00:49.205 +08:00 [INF] 请求方法: GET
2025-05-30 10:00:49.206 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:00:49.207 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 10:00:49.208 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:00:49.209 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:00:49.210 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:00:49.211 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMDMyY2ZmYzEtYjBmZC00ZTZmLTg3Y2ItZmQ2ODhmN2JhNTI2IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzA1MzksImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9._LCxjRInKEVJ_OUZCOqla-rRKgEyrL7TkAQ0DokPK78
2025-05-30 10:00:49.212 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:00:49.213 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:00:49.214 +08:00 [INF] 请求头: traceparent = 00-f11ce71d52b477336f79feef669a51e6-51b1b11437291cb6-00
2025-05-30 10:00:49.215 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:00:49.216 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:00:49.217 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:00:49.218 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:00:49.219 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:00:49.220 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:00:49.221 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:00:49.222 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:00:49.223 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:00:49.224 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:00:49.225 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:00:49.226 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:00:49.227 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:00:49.228 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:00:49.229 +08:00 [INF] JWT Claim: jti = 032cffc1-b0fd-4e6f-87cb-fd688f7ba526
2025-05-30 10:00:49.230 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:00:49.231 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:00:49.231 +08:00 [INF] JWT Claim: exp = 1748570539
2025-05-30 10:00:49.232 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:00:49.234 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:00:49.235 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:00:49.236 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:00:49.237 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 10:00:49.238 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 10:00:49.241 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":10,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 10:00:49.249 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 10:00:49.252 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:00:49.254 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:00:49.255 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 15.5452ms
2025-05-30 10:00:49.257 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 10:00:49.258 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 56.229ms
2025-05-30 10:06:44.770 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 10:06:44.773 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:06:44.775 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 10:06:44.776 +08:00 [INF] 请求方法: GET
2025-05-30 10:06:44.778 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:06:44.779 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 10:06:44.781 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:06:44.782 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:06:44.783 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:06:44.784 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTM1YTQ2OTItOTQzMC00ZjA4LWI2NTMtNTM5ZjM4MTM1YmZiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzE0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PO8NkALp-LO02iacPup4fjAkqAqH95LvUmVBWuvLV34
2025-05-30 10:06:44.786 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:06:44.787 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:06:44.788 +08:00 [INF] 请求头: traceparent = 00-69c42f4b43d497ba3de53ff8a5eed493-e6c31ff83206a3db-00
2025-05-30 10:06:44.789 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:06:44.790 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:06:44.791 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:06:44.793 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:06:44.794 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:06:44.796 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:06:44.797 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:06:44.798 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:06:44.799 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:06:44.800 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:06:44.801 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:06:44.802 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:06:44.803 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:06:44.804 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:06:44.806 +08:00 [INF] JWT Claim: jti = 535a4692-9430-4f08-b653-539f38135bfb
2025-05-30 10:06:44.807 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:06:44.808 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:06:44.810 +08:00 [INF] JWT Claim: exp = 1748571404
2025-05-30 10:06:44.811 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:06:44.812 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:06:44.813 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:06:44.814 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:06:44.815 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 10:06:44.817 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 10:06:44.821 +08:00 [INF] 获取客户统计数据
2025-05-30 10:06:44.834 +08:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
2025-05-30 10:06:44.837 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:06:44.839 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 19.101ms
2025-05-30 10:06:44.840 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 10:06:44.841 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 200 null application/json; charset=utf-8 71.0097ms
2025-05-30 10:06:44.933 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 10:06:44.936 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:06:44.937 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 10:06:44.938 +08:00 [INF] 请求方法: GET
2025-05-30 10:06:44.939 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:06:44.940 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 10:06:44.942 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:06:44.943 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:06:44.944 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:06:44.946 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTM1YTQ2OTItOTQzMC00ZjA4LWI2NTMtNTM5ZjM4MTM1YmZiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzE0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PO8NkALp-LO02iacPup4fjAkqAqH95LvUmVBWuvLV34
2025-05-30 10:06:44.947 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:06:44.948 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:06:44.949 +08:00 [INF] 请求头: traceparent = 00-656a1923060e66a48683ee2fef6cbe45-8d8687e3ef3f6d7a-00
2025-05-30 10:06:44.951 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:06:44.952 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:06:44.953 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:06:44.954 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:06:44.955 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:06:44.956 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:06:44.957 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:06:44.958 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:06:44.959 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:06:44.960 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:06:44.961 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:06:44.962 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:06:44.963 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:06:44.964 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:06:44.965 +08:00 [INF] JWT Claim: jti = 535a4692-9430-4f08-b653-539f38135bfb
2025-05-30 10:06:44.966 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:06:44.967 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:06:44.968 +08:00 [INF] JWT Claim: exp = 1748571404
2025-05-30 10:06:44.969 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:06:44.970 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:06:44.971 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:06:44.972 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:06:44.973 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 10:06:44.974 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 10:06:44.977 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 10:06:44.985 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 10:06:44.989 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:06:44.991 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:06:44.993 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 16.5166ms
2025-05-30 10:06:44.994 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 10:06:44.996 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 62.2505ms
2025-05-30 10:16:31.030 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=10 - null 0
2025-05-30 10:16:31.038 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:16:31.041 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 10:16:31.044 +08:00 [INF] 请求方法: GET
2025-05-30 10:16:31.046 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:16:31.052 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 10:16:31.056 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:16:31.063 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:16:31.066 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:16:31.070 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTM1YTQ2OTItOTQzMC00ZjA4LWI2NTMtNTM5ZjM4MTM1YmZiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzE0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PO8NkALp-LO02iacPup4fjAkqAqH95LvUmVBWuvLV34
2025-05-30 10:16:31.077 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:16:31.079 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:16:31.083 +08:00 [INF] 请求头: traceparent = 00-f3adcde27a150946d6f99c3a4353f657-78b6d60d4499ccc1-00
2025-05-30 10:16:31.087 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:16:31.090 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:16:31.093 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:16:31.096 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:16:31.100 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:16:31.103 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:16:31.105 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:16:31.109 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:16:31.112 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:16:31.114 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:16:31.118 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:16:31.120 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:16:31.124 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:16:31.127 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:16:31.130 +08:00 [INF] JWT Claim: jti = 535a4692-9430-4f08-b653-539f38135bfb
2025-05-30 10:16:31.133 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:16:31.136 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:16:31.138 +08:00 [INF] JWT Claim: exp = 1748571404
2025-05-30 10:16:31.141 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:16:31.144 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:16:31.147 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:16:31.150 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:16:31.155 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 10:16:31.160 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 10:16:31.169 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":10,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 10:16:31.245 +08:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 10:16:31.259 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:16:31.263 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:16:31.266 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 98.5ms
2025-05-30 10:16:31.268 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 10:16:31.272 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 242.1332ms
2025-05-30 10:16:35.055 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 10:16:35.067 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:16:35.071 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 10:16:35.072 +08:00 [INF] 请求方法: GET
2025-05-30 10:16:35.076 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:16:35.080 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 10:16:35.183 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:16:35.252 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:16:35.279 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 10:16:35.281 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:16:35.289 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:16:35.291 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTM1YTQ2OTItOTQzMC00ZjA4LWI2NTMtNTM5ZjM4MTM1YmZiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzE0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PO8NkALp-LO02iacPup4fjAkqAqH95LvUmVBWuvLV34
2025-05-30 10:16:35.295 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 10:16:35.297 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:16:35.299 +08:00 [INF] 请求方法: GET
2025-05-30 10:16:35.301 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:16:35.306 +08:00 [INF] 请求头: traceparent = 00-265426168cd4cf6f1dfbebe8224f5376-87830d01e8d98a20-00
2025-05-30 10:16:35.305 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:16:35.308 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:16:35.311 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 10:16:35.313 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:16:35.315 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:16:35.319 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:16:35.325 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:16:35.322 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:16:35.331 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:16:35.329 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:16:35.335 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTM1YTQ2OTItOTQzMC00ZjA4LWI2NTMtNTM5ZjM4MTM1YmZiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzE0MDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.PO8NkALp-LO02iacPup4fjAkqAqH95LvUmVBWuvLV34
2025-05-30 10:16:35.402 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:16:35.410 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:16:35.430 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:16:35.433 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:16:35.438 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:16:35.452 +08:00 [INF] 请求头: traceparent = 00-2cecb139013ff56c72388321934ea1e6-4c94be78e309aab8-00
2025-05-30 10:16:35.486 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:16:35.476 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:16:35.505 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:16:35.510 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:16:35.508 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:16:35.516 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:16:35.521 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:16:35.520 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:16:35.523 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:16:35.525 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:16:35.528 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:16:35.531 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:16:35.534 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:16:35.540 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:16:35.536 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:16:35.542 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:16:35.544 +08:00 [INF] JWT Claim: jti = 535a4692-9430-4f08-b653-539f38135bfb
2025-05-30 10:16:35.546 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:16:35.548 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:16:35.550 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:16:35.553 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:16:35.556 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:16:35.558 +08:00 [INF] JWT Claim: exp = 1748571404
2025-05-30 10:16:35.561 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:16:35.563 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:16:35.566 +08:00 [INF] JWT Claim: jti = 535a4692-9430-4f08-b653-539f38135bfb
2025-05-30 10:16:35.568 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:16:35.571 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:16:35.574 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:16:35.577 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:16:35.579 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:16:35.583 +08:00 [INF] JWT Claim: exp = 1748571404
2025-05-30 10:16:35.585 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 10:16:35.587 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:16:35.589 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 10:16:35.592 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:16:35.597 +08:00 [INF] 获取客户统计数据
2025-05-30 10:16:35.598 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:16:35.609 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
2025-05-30 10:16:35.610 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:16:35.614 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:16:35.616 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 10:16:35.618 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 22.044ms
2025-05-30 10:16:35.622 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 10:16:35.625 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 10:16:35.642 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 10:16:35.645 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 200 null application/json; charset=utf-8 590.3495ms
2025-05-30 10:16:35.725 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 10:16:35.772 +08:00 [INF] Executed DbCommand (26ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:16:35.781 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:16:35.786 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 145.8573ms
2025-05-30 10:16:35.790 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 10:16:35.798 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 519.0303ms
2025-05-30 10:17:08.249 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 10:17:08.275 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:17:08.281 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 10:17:08.288 +08:00 [INF] 请求方法: GET
2025-05-30 10:17:08.292 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:17:08.300 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 10:17:08.328 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:17:08.340 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:17:08.347 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:17:08.352 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNjFmNjk4NDktYThkMy00MzFmLWFmOTEtYjhhOTI1NWQxYzAzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzIwMjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ksdrBl7e_OO3Fj8kcTVPqfmIWMVZyBHI64dKY1Wtglo
2025-05-30 10:17:08.357 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:17:08.360 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:17:08.366 +08:00 [INF] 请求头: traceparent = 00-52054a6c58a49c6c77563bea22b759e2-c935f4c05ffeebb5-00
2025-05-30 10:17:08.367 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 10:17:08.369 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:17:08.374 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:17:08.376 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:17:08.377 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 10:17:08.380 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:17:08.381 +08:00 [INF] 请求方法: GET
2025-05-30 10:17:08.383 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:17:08.384 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:17:08.388 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:17:08.389 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 10:17:08.391 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:17:08.393 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:17:08.394 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:17:08.396 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:17:08.398 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:17:08.400 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:17:08.403 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNjFmNjk4NDktYThkMy00MzFmLWFmOTEtYjhhOTI1NWQxYzAzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzIwMjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ksdrBl7e_OO3Fj8kcTVPqfmIWMVZyBHI64dKY1Wtglo
2025-05-30 10:17:08.402 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:17:08.405 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:17:08.407 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:17:08.408 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:17:08.410 +08:00 [INF] 请求头: traceparent = 00-e1195b49ec40eba10edad9268e22c7cf-78ebf4f20ac0abb4-00
2025-05-30 10:17:08.412 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:17:08.409 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:17:08.414 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:17:08.415 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:17:08.417 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:17:08.418 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:17:08.420 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:17:08.422 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:17:08.424 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:17:08.426 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:17:08.426 +08:00 [INF] JWT Claim: jti = 61f69849-a8d3-431f-af91-b8a9255d1c03
2025-05-30 10:17:08.429 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:17:08.430 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:17:08.431 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:17:08.433 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:17:08.434 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:17:08.435 +08:00 [INF] JWT Claim: exp = 1748572027
2025-05-30 10:17:08.437 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:17:08.438 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:17:08.442 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:17:08.440 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:17:08.444 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:17:08.446 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:17:08.450 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:17:08.447 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:17:08.460 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:17:08.463 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 10:17:08.466 +08:00 [INF] JWT Claim: jti = 61f69849-a8d3-431f-af91-b8a9255d1c03
2025-05-30 10:17:08.472 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:17:08.468 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 10:17:08.473 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:17:08.479 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 10:17:08.481 +08:00 [INF] JWT Claim: exp = 1748572027
2025-05-30 10:17:08.499 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:17:08.502 +08:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 10:17:08.553 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:17:08.560 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:17:08.564 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:17:08.566 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 10:17:08.566 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:17:08.568 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 10:17:08.576 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:17:08.578 +08:00 [INF] 获取客户统计数据
2025-05-30 10:17:08.582 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 105.7245ms
2025-05-30 10:17:08.589 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
2025-05-30 10:17:08.590 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 10:17:08.592 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:17:08.594 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 345.6452ms
2025-05-30 10:17:08.598 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 21.5522ms
2025-05-30 10:17:08.642 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 10:17:08.659 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 200 null application/json; charset=utf-8 291.5048ms
2025-05-30 10:17:22.416 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 10:17:22.426 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:17:22.430 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 10:17:22.439 +08:00 [INF] 请求方法: GET
2025-05-30 10:17:22.440 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:17:22.442 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 10:17:22.445 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:17:22.448 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:17:22.451 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:17:22.455 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNjFmNjk4NDktYThkMy00MzFmLWFmOTEtYjhhOTI1NWQxYzAzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzIwMjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ksdrBl7e_OO3Fj8kcTVPqfmIWMVZyBHI64dKY1Wtglo
2025-05-30 10:17:22.460 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:17:22.466 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:17:22.468 +08:00 [INF] 请求头: traceparent = 00-d3dbb816793db5864fc83196ecba4ad7-e6108937d7b10f1e-00
2025-05-30 10:17:22.471 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:17:22.473 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:17:22.475 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:17:22.478 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:17:22.479 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:17:22.481 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:17:22.483 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:17:22.485 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:17:22.488 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:17:22.489 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:17:22.491 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:17:22.493 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:17:22.495 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:17:22.497 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:17:22.500 +08:00 [INF] JWT Claim: jti = 61f69849-a8d3-431f-af91-b8a9255d1c03
2025-05-30 10:17:22.503 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:17:22.505 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:17:22.507 +08:00 [INF] JWT Claim: exp = 1748572027
2025-05-30 10:17:22.509 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:17:22.511 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:17:22.513 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:17:22.515 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:17:22.517 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 10:17:22.520 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 10:17:22.547 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 10:17:22.588 +08:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 10:17:22.598 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:17:22.607 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:17:22.610 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 86.5104ms
2025-05-30 10:17:22.615 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 10:17:22.618 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 201.8928ms
2025-05-30 10:17:22.750 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 10:17:22.761 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:17:22.763 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 10:17:22.765 +08:00 [INF] 请求方法: GET
2025-05-30 10:17:22.768 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:17:22.773 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 10:17:22.777 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:17:22.782 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:17:22.785 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:17:22.789 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNjFmNjk4NDktYThkMy00MzFmLWFmOTEtYjhhOTI1NWQxYzAzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzIwMjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ksdrBl7e_OO3Fj8kcTVPqfmIWMVZyBHI64dKY1Wtglo
2025-05-30 10:17:22.794 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:17:22.797 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:17:22.801 +08:00 [INF] 请求头: traceparent = 00-d6e60d311adba8b1f4e019584f75e079-3fc48b9cf0710a57-00
2025-05-30 10:17:22.805 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:17:22.807 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:17:22.810 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:17:22.814 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:17:22.817 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:17:22.819 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:17:22.823 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:17:22.826 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:17:22.830 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:17:22.832 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:17:22.835 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:17:22.837 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:17:22.840 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:17:22.844 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:17:22.849 +08:00 [INF] JWT Claim: jti = 61f69849-a8d3-431f-af91-b8a9255d1c03
2025-05-30 10:17:22.852 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:17:22.858 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:17:22.861 +08:00 [INF] JWT Claim: exp = 1748572027
2025-05-30 10:17:22.865 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:17:22.868 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:17:22.872 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:17:22.875 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:17:22.878 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 10:17:22.881 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 10:17:22.890 +08:00 [INF] 获取客户统计数据
2025-05-30 10:17:22.899 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
2025-05-30 10:17:22.909 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:17:22.914 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 26.7739ms
2025-05-30 10:17:22.918 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 10:17:22.921 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 200 null application/json; charset=utf-8 171.2763ms
2025-05-30 10:19:23.514 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 10:19:23.528 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:19:23.530 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 10:19:23.541 +08:00 [INF] 请求方法: GET
2025-05-30 10:19:23.548 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:19:23.553 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 10:19:23.556 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:19:23.558 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:19:23.561 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:19:23.563 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNjFmNjk4NDktYThkMy00MzFmLWFmOTEtYjhhOTI1NWQxYzAzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzIwMjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ksdrBl7e_OO3Fj8kcTVPqfmIWMVZyBHI64dKY1Wtglo
2025-05-30 10:19:23.566 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:19:23.569 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:19:23.573 +08:00 [INF] 请求头: traceparent = 00-323e9ead665a673200e41221f37035f8-14cfc603f72f9285-00
2025-05-30 10:19:23.577 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:19:23.578 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:19:23.579 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:19:23.581 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:19:23.584 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:19:23.588 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 10:19:23.589 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:19:23.593 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:19:23.597 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:19:23.598 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 10:19:23.600 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:19:23.601 +08:00 [INF] 请求方法: GET
2025-05-30 10:19:23.604 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:19:23.608 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:19:23.609 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:19:23.614 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 10:19:23.621 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:19:23.617 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:19:23.625 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:19:23.628 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:19:23.629 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:19:23.631 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:19:23.633 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNjFmNjk4NDktYThkMy00MzFmLWFmOTEtYjhhOTI1NWQxYzAzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzIwMjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ksdrBl7e_OO3Fj8kcTVPqfmIWMVZyBHI64dKY1Wtglo
2025-05-30 10:19:23.636 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:19:23.637 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:19:23.639 +08:00 [INF] JWT Claim: jti = 61f69849-a8d3-431f-af91-b8a9255d1c03
2025-05-30 10:19:23.642 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:19:23.644 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:19:23.645 +08:00 [INF] 请求头: traceparent = 00-12f43ea547ea7fbb67723fa90ce4e15e-72afa67785788d81-00
2025-05-30 10:19:23.650 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:19:23.647 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:19:23.652 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:19:23.654 +08:00 [INF] JWT Claim: exp = 1748572027
2025-05-30 10:19:23.656 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:19:23.657 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:19:23.660 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:19:23.659 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:19:23.661 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:19:23.663 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:19:23.664 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:19:23.665 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:19:23.666 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 10:19:23.671 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 10:19:23.668 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:19:23.674 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:19:23.676 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 10:19:23.677 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:19:23.686 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:19:23.687 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:19:23.687 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:19:23.689 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:19:23.690 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:19:23.692 +08:00 [INF] JWT Claim: jti = 61f69849-a8d3-431f-af91-b8a9255d1c03
2025-05-30 10:19:23.692 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:19:23.694 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:19:23.695 +08:00 [INF] JWT Claim: exp = 1748572027
2025-05-30 10:19:23.696 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:19:23.698 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:19:23.699 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:19:23.700 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:19:23.700 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 10:19:23.701 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 10:19:23.704 +08:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 10:19:23.705 +08:00 [INF] 获取客户统计数据
2025-05-30 10:19:23.716 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:19:23.725 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:19:23.728 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 54.8366ms
2025-05-30 10:19:23.733 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 10:19:23.741 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
2025-05-30 10:19:23.741 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 227.2288ms
2025-05-30 10:19:23.745 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:19:23.763 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 59.2792ms
2025-05-30 10:19:23.768 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 10:19:23.771 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 200 null application/json; charset=utf-8 183.1147ms
2025-05-30 10:20:29.332 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=10 - null 0
2025-05-30 10:20:29.347 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:20:29.350 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 10:20:29.351 +08:00 [INF] 请求方法: GET
2025-05-30 10:20:29.353 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:20:29.356 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 10:20:29.360 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:20:29.363 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:20:29.367 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:20:29.371 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNjFmNjk4NDktYThkMy00MzFmLWFmOTEtYjhhOTI1NWQxYzAzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzIwMjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ksdrBl7e_OO3Fj8kcTVPqfmIWMVZyBHI64dKY1Wtglo
2025-05-30 10:20:29.377 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:20:29.380 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:20:29.384 +08:00 [INF] 请求头: traceparent = 00-92f290d41c57d5bf7ebd07df5bbc9479-c30d29777961e7e3-00
2025-05-30 10:20:29.387 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:20:29.391 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:20:29.394 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:20:29.398 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:20:29.403 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:20:29.407 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:20:29.411 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:20:29.413 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:20:29.416 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:20:29.419 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:20:29.420 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:20:29.423 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:20:29.425 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:20:29.427 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:20:29.429 +08:00 [INF] JWT Claim: jti = 61f69849-a8d3-431f-af91-b8a9255d1c03
2025-05-30 10:20:29.432 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:20:29.434 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:20:29.438 +08:00 [INF] JWT Claim: exp = 1748572027
2025-05-30 10:20:29.440 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:20:29.442 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:20:29.444 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:20:29.446 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:20:29.448 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 10:20:29.450 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 10:20:29.455 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":10,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 10:20:29.478 +08:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 10:20:29.487 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:20:29.495 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:20:29.499 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 46.0263ms
2025-05-30 10:20:29.502 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 10:20:29.505 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 173.2863ms
2025-05-30 10:20:34.411 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=10 - null 0
2025-05-30 10:20:34.416 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:20:34.418 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 10:20:34.420 +08:00 [INF] 请求方法: GET
2025-05-30 10:20:34.422 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:20:34.424 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 10:20:34.426 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:20:34.427 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:20:34.430 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:20:34.432 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNjFmNjk4NDktYThkMy00MzFmLWFmOTEtYjhhOTI1NWQxYzAzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzIwMjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ksdrBl7e_OO3Fj8kcTVPqfmIWMVZyBHI64dKY1Wtglo
2025-05-30 10:20:34.434 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:20:34.436 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:20:34.439 +08:00 [INF] 请求头: traceparent = 00-ccf896258a882605aef67ddd509892a7-86e7dfafeb8a27db-00
2025-05-30 10:20:34.441 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:20:34.443 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:20:34.445 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:20:34.447 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:20:34.450 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:20:34.452 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:20:34.454 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:20:34.456 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:20:34.458 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:20:34.460 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:20:34.462 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:20:34.464 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:20:34.467 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:20:34.468 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:20:34.470 +08:00 [INF] JWT Claim: jti = 61f69849-a8d3-431f-af91-b8a9255d1c03
2025-05-30 10:20:34.473 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:20:34.474 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:20:34.476 +08:00 [INF] JWT Claim: exp = 1748572027
2025-05-30 10:20:34.479 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:20:34.482 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:20:34.484 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:20:34.487 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:20:34.489 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 10:20:34.492 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 10:20:34.498 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":10,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 10:20:34.515 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 10:20:34.531 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:20:34.537 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:20:34.540 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 43.7992ms
2025-05-30 10:20:34.542 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 10:20:34.544 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 133.574ms
2025-05-30 10:20:39.185 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=10 - null 0
2025-05-30 10:20:39.190 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:20:39.192 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 10:20:39.193 +08:00 [INF] 请求方法: GET
2025-05-30 10:20:39.195 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:20:39.197 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 10:20:39.200 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:20:39.202 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:20:39.206 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:20:39.215 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNjFmNjk4NDktYThkMy00MzFmLWFmOTEtYjhhOTI1NWQxYzAzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzIwMjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ksdrBl7e_OO3Fj8kcTVPqfmIWMVZyBHI64dKY1Wtglo
2025-05-30 10:20:39.222 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:20:39.226 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:20:39.229 +08:00 [INF] 请求头: traceparent = 00-be893030098594245c38e4e51e51a048-5ff92b159f3dea0b-00
2025-05-30 10:20:39.233 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:20:39.236 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:20:39.240 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:20:39.244 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:20:39.249 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:20:39.253 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:20:39.258 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:20:39.261 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:20:39.269 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:20:39.276 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:20:39.280 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:20:39.285 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:20:39.293 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:20:39.300 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:20:39.305 +08:00 [INF] JWT Claim: jti = 61f69849-a8d3-431f-af91-b8a9255d1c03
2025-05-30 10:20:39.311 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:20:39.315 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:20:39.319 +08:00 [INF] JWT Claim: exp = 1748572027
2025-05-30 10:20:39.324 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:20:39.328 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:20:39.332 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:20:39.336 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:20:39.341 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 10:20:39.345 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 10:20:39.351 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":10,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 10:20:39.373 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 10:20:39.387 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:20:39.395 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:20:39.400 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 50.5547ms
2025-05-30 10:20:39.404 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 10:20:39.406 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 221.5055ms
2025-05-30 10:21:06.824 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=10 - null 0
2025-05-30 10:21:06.837 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:21:06.838 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 10:21:06.840 +08:00 [INF] 请求方法: GET
2025-05-30 10:21:06.841 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:21:06.843 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 10:21:06.845 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:21:06.847 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:21:06.851 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:21:06.853 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNjFmNjk4NDktYThkMy00MzFmLWFmOTEtYjhhOTI1NWQxYzAzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzIwMjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ksdrBl7e_OO3Fj8kcTVPqfmIWMVZyBHI64dKY1Wtglo
2025-05-30 10:21:06.855 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:21:06.857 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:21:06.859 +08:00 [INF] 请求头: traceparent = 00-937470574d44ca8b13ed41c79ea77cd1-5ef69985ce3295b4-00
2025-05-30 10:21:06.862 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:21:06.864 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:21:06.866 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:21:06.868 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:21:06.870 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:21:06.872 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:21:06.874 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:21:06.876 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:21:06.878 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:21:06.879 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:21:06.881 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:21:06.883 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:21:06.885 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:21:06.887 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:21:06.889 +08:00 [INF] JWT Claim: jti = 61f69849-a8d3-431f-af91-b8a9255d1c03
2025-05-30 10:21:06.891 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:21:06.893 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:21:06.895 +08:00 [INF] JWT Claim: exp = 1748572027
2025-05-30 10:21:06.898 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:21:06.900 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:21:06.902 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:21:06.903 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:21:06.905 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 10:21:06.908 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 10:21:06.913 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":10,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 10:21:06.928 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 10:21:06.937 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:21:06.941 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:21:06.944 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 33.0506ms
2025-05-30 10:21:06.946 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 10:21:06.949 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 124.3742ms
2025-05-30 10:22:04.956 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=10 - null 0
2025-05-30 10:22:04.968 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:22:04.969 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 10:22:04.970 +08:00 [INF] 请求方法: GET
2025-05-30 10:22:04.972 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:22:04.975 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 10:22:04.979 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:22:04.982 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:22:04.986 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:22:04.988 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNjFmNjk4NDktYThkMy00MzFmLWFmOTEtYjhhOTI1NWQxYzAzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzIwMjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.ksdrBl7e_OO3Fj8kcTVPqfmIWMVZyBHI64dKY1Wtglo
2025-05-30 10:22:04.990 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:22:04.998 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:22:05.004 +08:00 [INF] 请求头: traceparent = 00-8fdf9fb64df399ada8090d4c578ce632-5b24f2101e5568f4-00
2025-05-30 10:22:05.006 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:22:05.009 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:22:05.012 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:22:05.030 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:22:05.032 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:22:05.034 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:22:05.039 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:22:05.042 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:22:05.046 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:22:05.048 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:22:05.050 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:22:05.051 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:22:05.054 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:22:05.056 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:22:05.059 +08:00 [INF] JWT Claim: jti = 61f69849-a8d3-431f-af91-b8a9255d1c03
2025-05-30 10:22:05.061 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:22:05.064 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:22:05.067 +08:00 [INF] JWT Claim: exp = 1748572027
2025-05-30 10:22:05.070 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:22:05.074 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:22:05.077 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:22:05.079 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:22:05.084 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 10:22:05.087 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 10:22:05.095 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":10,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 10:22:05.111 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 10:22:05.120 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:22:05.125 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:22:05.130 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 35.9613ms
2025-05-30 10:22:05.133 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 10:22:05.136 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 180.296ms
2025-05-30 10:37:48.910 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 10:37:48.910 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 10:37:48.950 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:37:48.953 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:37:48.954 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 10:37:48.955 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 10:37:48.957 +08:00 [INF] 请求方法: GET
2025-05-30 10:37:48.959 +08:00 [INF] 请求方法: GET
2025-05-30 10:37:48.960 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:37:48.967 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:37:48.969 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 10:37:48.973 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 10:37:48.975 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:37:48.977 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:37:48.979 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:37:48.981 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:37:48.983 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:37:48.985 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:37:48.987 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTA3NWM4NTktNjE3ZS00ZWEzLTliNGItOGVmNTgxNTI5NGFlIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzMyNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.TbVkAUYApR_IH2mIeW5NFXXKML3yCzKTKAPOzPwRZn8
2025-05-30 10:37:48.989 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTA3NWM4NTktNjE3ZS00ZWEzLTliNGItOGVmNTgxNTI5NGFlIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzMyNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.TbVkAUYApR_IH2mIeW5NFXXKML3yCzKTKAPOzPwRZn8
2025-05-30 10:37:48.992 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:37:48.995 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:37:48.997 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:37:49.000 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:37:49.001 +08:00 [INF] 请求头: traceparent = 00-19edc1b9303222e16d889620db1ee4b4-10e92bd6ada86352-00
2025-05-30 10:37:49.003 +08:00 [INF] 请求头: traceparent = 00-e77df2e6bdf72c60f96782bbde2fbba7-c6c1de3a0fc4ac72-00
2025-05-30 10:37:49.005 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:37:49.007 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:37:49.010 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:37:49.012 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:37:49.014 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:37:49.017 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:37:49.019 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:37:49.021 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:37:49.023 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:37:49.026 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:37:49.029 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:37:49.032 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:37:49.034 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:37:49.037 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:37:49.039 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:37:49.042 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:37:49.043 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:37:49.046 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:37:49.048 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:37:49.050 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:37:49.052 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:37:49.053 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:37:49.055 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:37:49.057 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:37:49.059 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:37:49.060 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:37:49.062 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:37:49.067 +08:00 [INF] JWT Claim: jti = 5075c859-617e-4ea3-9b4b-8ef5815294ae
2025-05-30 10:37:49.064 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:37:49.069 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:37:49.072 +08:00 [INF] JWT Claim: jti = 5075c859-617e-4ea3-9b4b-8ef5815294ae
2025-05-30 10:37:49.075 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:37:49.077 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:37:49.079 +08:00 [INF] JWT Claim: exp = 1748573267
2025-05-30 10:37:49.083 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:37:49.085 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:37:49.086 +08:00 [INF] JWT Claim: exp = 1748573267
2025-05-30 10:37:49.091 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:37:49.094 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:37:49.096 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:37:49.099 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:37:49.102 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:37:49.103 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:37:49.107 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 10:37:49.110 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:37:49.113 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 10:37:49.114 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 10:37:49.124 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 10:37:49.125 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 10:37:49.130 +08:00 [INF] 获取客户统计数据
2025-05-30 10:37:49.212 +08:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 10:37:49.212 +08:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
2025-05-30 10:37:49.221 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:37:49.224 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 96.3376ms
2025-05-30 10:37:49.227 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 10:37:49.227 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:37:49.229 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 200 null application/json; charset=utf-8 318.6971ms
2025-05-30 10:37:49.240 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:37:49.253 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 135.222ms
2025-05-30 10:37:49.255 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 10:37:49.257 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 346.5103ms
2025-05-30 10:38:04.437 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=10 - null 0
2025-05-30 10:38:04.441 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:38:04.443 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 10:38:04.445 +08:00 [INF] 请求方法: GET
2025-05-30 10:38:04.471 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:38:04.473 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 10:38:04.475 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:38:04.477 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:38:04.480 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:38:04.481 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTA3NWM4NTktNjE3ZS00ZWEzLTliNGItOGVmNTgxNTI5NGFlIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzMyNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.TbVkAUYApR_IH2mIeW5NFXXKML3yCzKTKAPOzPwRZn8
2025-05-30 10:38:04.484 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:38:04.487 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:38:04.488 +08:00 [INF] 请求头: traceparent = 00-d7e22df9220c5e3064e95f36396237c7-2d6130d2cb4d849f-00
2025-05-30 10:38:04.490 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:38:04.491 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:38:04.495 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:38:04.497 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:38:04.499 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:38:04.501 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:38:04.502 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:38:04.503 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:38:04.505 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:38:04.506 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:38:04.508 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:38:04.511 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:38:04.513 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:38:04.515 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:38:04.516 +08:00 [INF] JWT Claim: jti = 5075c859-617e-4ea3-9b4b-8ef5815294ae
2025-05-30 10:38:04.517 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:38:04.519 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:38:04.521 +08:00 [INF] JWT Claim: exp = 1748573267
2025-05-30 10:38:04.523 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:38:04.525 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:38:04.526 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:38:04.527 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:38:04.528 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 10:38:04.529 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 10:38:04.534 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":10,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 10:38:04.548 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 10:38:04.560 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:38:04.567 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:38:04.571 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 38.8829ms
2025-05-30 10:38:04.574 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 10:38:04.578 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 141.1927ms
2025-05-30 10:38:07.202 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=10 - null 0
2025-05-30 10:38:07.213 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:38:07.216 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 10:38:07.220 +08:00 [INF] 请求方法: GET
2025-05-30 10:38:07.222 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:38:07.228 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 10:38:07.232 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:38:07.236 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:38:07.241 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:38:07.246 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTA3NWM4NTktNjE3ZS00ZWEzLTliNGItOGVmNTgxNTI5NGFlIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzMyNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.TbVkAUYApR_IH2mIeW5NFXXKML3yCzKTKAPOzPwRZn8
2025-05-30 10:38:07.250 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:38:07.257 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:38:07.261 +08:00 [INF] 请求头: traceparent = 00-63f85e73935d23c72ee119585a00a514-3c4c50b72df0264d-00
2025-05-30 10:38:07.263 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:38:07.264 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:38:07.265 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:38:07.270 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:38:07.272 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:38:07.277 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:38:07.281 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:38:07.286 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:38:07.288 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:38:07.290 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:38:07.292 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:38:07.296 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:38:07.299 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:38:07.302 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:38:07.305 +08:00 [INF] JWT Claim: jti = 5075c859-617e-4ea3-9b4b-8ef5815294ae
2025-05-30 10:38:07.307 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:38:07.313 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:38:07.316 +08:00 [INF] JWT Claim: exp = 1748573267
2025-05-30 10:38:07.320 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:38:07.325 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:38:07.329 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:38:07.331 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:38:07.333 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 10:38:07.336 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 10:38:07.339 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":10,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 10:38:07.356 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 10:38:07.364 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:38:07.369 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:38:07.372 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 34.3237ms
2025-05-30 10:38:07.375 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 10:38:07.378 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 175.8863ms
2025-05-30 10:39:28.108 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=10 - null 0
2025-05-30 10:39:28.124 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:39:28.126 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 10:39:28.128 +08:00 [INF] 请求方法: GET
2025-05-30 10:39:28.131 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:39:28.135 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 10:39:28.139 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:39:28.145 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:39:28.149 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:39:28.151 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTA3NWM4NTktNjE3ZS00ZWEzLTliNGItOGVmNTgxNTI5NGFlIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzMyNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.TbVkAUYApR_IH2mIeW5NFXXKML3yCzKTKAPOzPwRZn8
2025-05-30 10:39:28.158 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:39:28.162 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:39:28.166 +08:00 [INF] 请求头: traceparent = 00-7fe60d3c82ab62001f70094e6d6a5acf-b06908b982d640e1-00
2025-05-30 10:39:28.168 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:39:28.171 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:39:28.173 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:39:28.175 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:39:28.178 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:39:28.179 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:39:28.182 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:39:28.185 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:39:28.198 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:39:28.201 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:39:28.203 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:39:28.208 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:39:28.210 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:39:28.213 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:39:28.215 +08:00 [INF] JWT Claim: jti = 5075c859-617e-4ea3-9b4b-8ef5815294ae
2025-05-30 10:39:28.217 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:39:28.219 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:39:28.221 +08:00 [INF] JWT Claim: exp = 1748573267
2025-05-30 10:39:28.224 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:39:28.226 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:39:28.229 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:39:28.231 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:39:28.233 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 10:39:28.235 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 10:39:28.242 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":10,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 10:39:28.263 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 10:39:28.271 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:39:28.276 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:39:28.278 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 40.1243ms
2025-05-30 10:39:28.281 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 10:39:28.283 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 178.6336ms
2025-05-30 10:39:50.271 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=10 - null 0
2025-05-30 10:39:50.282 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:39:50.284 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 10:39:50.286 +08:00 [INF] 请求方法: GET
2025-05-30 10:39:50.289 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:39:50.291 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 10:39:50.294 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:39:50.296 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:39:50.300 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:39:50.302 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTA3NWM4NTktNjE3ZS00ZWEzLTliNGItOGVmNTgxNTI5NGFlIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzMyNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.TbVkAUYApR_IH2mIeW5NFXXKML3yCzKTKAPOzPwRZn8
2025-05-30 10:39:50.305 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:39:50.306 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:39:50.308 +08:00 [INF] 请求头: traceparent = 00-de2976a0ca0ec7c1974005a0704aaa8e-0d7ecfa4fd152f9f-00
2025-05-30 10:39:50.310 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:39:50.313 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:39:50.314 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:39:50.316 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:39:50.318 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:39:50.320 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:39:50.323 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:39:50.325 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:39:50.327 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:39:50.331 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:39:50.332 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:39:50.333 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:39:50.335 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:39:50.337 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:39:50.338 +08:00 [INF] JWT Claim: jti = 5075c859-617e-4ea3-9b4b-8ef5815294ae
2025-05-30 10:39:50.340 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:39:50.343 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:39:50.345 +08:00 [INF] JWT Claim: exp = 1748573267
2025-05-30 10:39:50.346 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:39:50.348 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:39:50.350 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:39:50.352 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:39:50.353 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 10:39:50.355 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 10:39:50.357 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":10,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 10:39:50.377 +08:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 10:39:50.384 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:39:50.388 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:39:50.390 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 34.3259ms
2025-05-30 10:39:50.394 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 10:39:50.395 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 124.1709ms
2025-05-30 10:40:13.524 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=10 - null 0
2025-05-30 10:40:13.545 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:40:13.546 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 10:40:13.548 +08:00 [INF] 请求方法: GET
2025-05-30 10:40:13.549 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:40:13.552 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 10:40:13.554 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:40:13.557 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:40:13.564 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:40:13.566 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTA3NWM4NTktNjE3ZS00ZWEzLTliNGItOGVmNTgxNTI5NGFlIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzMyNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.TbVkAUYApR_IH2mIeW5NFXXKML3yCzKTKAPOzPwRZn8
2025-05-30 10:40:13.573 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:40:13.578 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:40:13.580 +08:00 [INF] 请求头: traceparent = 00-1ec43a98f4abae4961f9352253cbdacf-aa56aac2c5eee7bf-00
2025-05-30 10:40:13.581 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:40:13.582 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:40:13.586 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:40:13.587 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:40:13.590 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:40:13.593 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:40:13.595 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:40:13.597 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:40:13.602 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:40:13.604 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:40:13.605 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:40:13.607 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:40:13.612 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:40:13.617 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:40:13.619 +08:00 [INF] JWT Claim: jti = 5075c859-617e-4ea3-9b4b-8ef5815294ae
2025-05-30 10:40:13.624 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:40:13.627 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:40:13.630 +08:00 [INF] JWT Claim: exp = 1748573267
2025-05-30 10:40:13.632 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:40:13.634 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:40:13.635 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:40:13.637 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:40:13.638 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 10:40:13.638 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 10:40:13.647 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":10,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 10:40:13.663 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 10:40:13.680 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:40:13.689 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:40:13.690 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 46.5523ms
2025-05-30 10:40:13.695 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 10:40:13.697 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 173.0169ms
2025-05-30 10:40:30.539 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=10 - null 0
2025-05-30 10:40:30.558 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:40:30.562 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 10:40:30.568 +08:00 [INF] 请求方法: GET
2025-05-30 10:40:30.571 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:40:30.576 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 10:40:30.579 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:40:30.580 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:40:30.582 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:40:30.587 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTA3NWM4NTktNjE3ZS00ZWEzLTliNGItOGVmNTgxNTI5NGFlIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzMyNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.TbVkAUYApR_IH2mIeW5NFXXKML3yCzKTKAPOzPwRZn8
2025-05-30 10:40:30.588 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:40:30.589 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:40:30.593 +08:00 [INF] 请求头: traceparent = 00-6c57683d0d228e78515bb553f47a2a31-e9ca864bf1b9b3fb-00
2025-05-30 10:40:30.596 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:40:30.597 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:40:30.599 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:40:30.618 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:40:30.620 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:40:30.622 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:40:30.629 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:40:30.632 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:40:30.644 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:40:30.646 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:40:30.652 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:40:30.652 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:40:30.653 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:40:30.654 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:40:30.655 +08:00 [INF] JWT Claim: jti = 5075c859-617e-4ea3-9b4b-8ef5815294ae
2025-05-30 10:40:30.656 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:40:30.657 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:40:30.661 +08:00 [INF] JWT Claim: exp = 1748573267
2025-05-30 10:40:30.664 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:40:30.668 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:40:30.669 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:40:30.672 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:40:30.675 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 10:40:30.677 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 10:40:30.700 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":10,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 10:40:30.713 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 10:40:30.719 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:40:30.723 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:40:30.726 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 45.2241ms
2025-05-30 10:40:30.729 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 10:40:30.731 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 191.8923ms
2025-05-30 10:40:48.518 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=10 - null 0
2025-05-30 10:40:48.523 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:40:48.526 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 10:40:48.528 +08:00 [INF] 请求方法: GET
2025-05-30 10:40:48.529 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:40:48.531 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 10:40:48.536 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:40:48.538 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:40:48.539 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:40:48.544 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTA3NWM4NTktNjE3ZS00ZWEzLTliNGItOGVmNTgxNTI5NGFlIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzMyNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.TbVkAUYApR_IH2mIeW5NFXXKML3yCzKTKAPOzPwRZn8
2025-05-30 10:40:48.547 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:40:48.551 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:40:48.553 +08:00 [INF] 请求头: traceparent = 00-ce7a751e92d040ad5f2edf7681c4f22e-d02faeb38a1b7ddc-00
2025-05-30 10:40:48.556 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:40:48.561 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:40:48.564 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:40:48.568 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:40:48.570 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:40:48.573 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:40:48.577 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:40:48.579 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:40:48.581 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:40:48.583 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:40:48.585 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:40:48.587 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:40:48.589 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:40:48.592 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:40:48.594 +08:00 [INF] JWT Claim: jti = 5075c859-617e-4ea3-9b4b-8ef5815294ae
2025-05-30 10:40:48.597 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:40:48.602 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:40:48.605 +08:00 [INF] JWT Claim: exp = 1748573267
2025-05-30 10:40:48.607 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:40:48.612 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:40:48.615 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:40:48.619 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:40:48.621 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 10:40:48.624 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 10:40:48.630 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":10,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 10:40:48.657 +08:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 10:40:48.670 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:40:48.675 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:40:48.679 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 50.6027ms
2025-05-30 10:40:48.686 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 10:40:48.688 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 170.015ms
2025-05-30 10:41:26.195 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=10 - null 0
2025-05-30 10:41:26.209 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:41:26.211 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 10:41:26.212 +08:00 [INF] 请求方法: GET
2025-05-30 10:41:26.213 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:41:26.217 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 10:41:26.219 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:41:26.221 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:41:26.223 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:41:26.226 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTA3NWM4NTktNjE3ZS00ZWEzLTliNGItOGVmNTgxNTI5NGFlIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzMyNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.TbVkAUYApR_IH2mIeW5NFXXKML3yCzKTKAPOzPwRZn8
2025-05-30 10:41:26.228 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:41:26.230 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:41:26.233 +08:00 [INF] 请求头: traceparent = 00-c250f47f964cd035b9ea0c1080111192-8614f990f9c2854c-00
2025-05-30 10:41:26.235 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:41:26.238 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:41:26.241 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:41:26.244 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:41:26.248 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:41:26.252 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:41:26.255 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:41:26.258 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:41:26.260 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:41:26.262 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:41:26.265 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:41:26.268 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:41:26.270 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:41:26.275 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:41:26.278 +08:00 [INF] JWT Claim: jti = 5075c859-617e-4ea3-9b4b-8ef5815294ae
2025-05-30 10:41:26.284 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:41:26.287 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:41:26.292 +08:00 [INF] JWT Claim: exp = 1748573267
2025-05-30 10:41:26.295 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:41:26.300 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:41:26.303 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:41:26.304 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:41:26.307 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 10:41:26.310 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 10:41:26.317 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":10,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 10:41:26.335 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 10:41:26.347 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:41:26.352 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:41:26.355 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 40.4123ms
2025-05-30 10:41:26.359 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 10:41:26.361 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 166.443ms
2025-05-30 10:41:27.868 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 10:41:27.898 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:41:27.902 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 10:41:27.905 +08:00 [INF] 请求方法: GET
2025-05-30 10:41:27.912 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:41:27.914 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 10:41:27.920 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:41:27.922 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:41:27.923 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:41:27.947 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTA3NWM4NTktNjE3ZS00ZWEzLTliNGItOGVmNTgxNTI5NGFlIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzMyNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.TbVkAUYApR_IH2mIeW5NFXXKML3yCzKTKAPOzPwRZn8
2025-05-30 10:41:27.953 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:41:27.957 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:41:27.961 +08:00 [INF] 请求头: traceparent = 00-51bdeb71d8248646de6381d992faf673-a0b7f78868f0dc8c-00
2025-05-30 10:41:27.963 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:41:27.964 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:41:27.970 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:41:27.972 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:41:27.973 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:41:27.977 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:41:27.979 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:41:27.981 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:41:27.983 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:41:27.986 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:41:27.987 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:41:27.988 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:41:27.989 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:41:27.994 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:41:27.996 +08:00 [INF] JWT Claim: jti = 5075c859-617e-4ea3-9b4b-8ef5815294ae
2025-05-30 10:41:27.998 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:41:28.001 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:41:28.003 +08:00 [INF] JWT Claim: exp = 1748573267
2025-05-30 10:41:28.005 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:41:28.007 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:41:28.009 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:41:28.011 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:41:28.013 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 10:41:28.016 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 10:41:28.020 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 10:41:28.109 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 10:41:28.120 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:41:28.136 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 10:41:28.137 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:41:28.144 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:41:28.148 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 10:41:28.150 +08:00 [INF] 请求方法: GET
2025-05-30 10:41:28.147 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 128.1848ms
2025-05-30 10:41:28.151 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:41:28.152 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 10:41:28.154 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 10:41:28.155 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 287.0673ms
2025-05-30 10:41:28.158 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:41:28.176 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:41:28.184 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:41:28.187 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTA3NWM4NTktNjE3ZS00ZWEzLTliNGItOGVmNTgxNTI5NGFlIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzMyNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.TbVkAUYApR_IH2mIeW5NFXXKML3yCzKTKAPOzPwRZn8
2025-05-30 10:41:28.189 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:41:28.191 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:41:28.194 +08:00 [INF] 请求头: traceparent = 00-ca2d8c248497ce9cf9c293bee16518dc-8741d218ccb3749c-00
2025-05-30 10:41:28.197 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:41:28.200 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:41:28.202 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:41:28.204 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:41:28.211 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:41:28.213 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:41:28.220 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:41:28.222 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:41:28.223 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:41:28.228 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:41:28.230 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:41:28.234 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:41:28.236 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:41:28.238 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:41:28.239 +08:00 [INF] JWT Claim: jti = 5075c859-617e-4ea3-9b4b-8ef5815294ae
2025-05-30 10:41:28.243 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:41:28.245 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:41:28.247 +08:00 [INF] JWT Claim: exp = 1748573267
2025-05-30 10:41:28.251 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:41:28.256 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:41:28.260 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:41:28.261 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:41:28.263 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 10:41:28.265 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 10:41:28.270 +08:00 [INF] 获取客户统计数据
2025-05-30 10:41:28.279 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
2025-05-30 10:41:28.287 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:41:28.292 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 22.7916ms
2025-05-30 10:41:28.299 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 10:41:28.305 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 200 null application/json; charset=utf-8 168.6253ms
2025-05-30 10:41:30.238 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 10:41:30.259 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:41:30.263 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 10:41:30.267 +08:00 [INF] 请求方法: GET
2025-05-30 10:41:30.273 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:41:30.287 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 10:41:30.293 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:41:30.297 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:41:30.303 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:41:30.305 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTA3NWM4NTktNjE3ZS00ZWEzLTliNGItOGVmNTgxNTI5NGFlIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzMyNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.TbVkAUYApR_IH2mIeW5NFXXKML3yCzKTKAPOzPwRZn8
2025-05-30 10:41:30.307 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:41:30.313 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:41:30.318 +08:00 [INF] 请求头: traceparent = 00-6fef457a183fa7c4bfd24d0029f54f39-38bcc9efbb27952b-00
2025-05-30 10:41:30.335 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:41:30.346 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:41:30.388 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:41:30.392 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:41:30.396 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:41:30.404 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:41:30.413 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:41:30.420 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:41:30.423 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:41:30.427 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:41:30.431 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:41:30.435 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:41:30.438 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:41:30.444 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:41:30.447 +08:00 [INF] JWT Claim: jti = 5075c859-617e-4ea3-9b4b-8ef5815294ae
2025-05-30 10:41:30.455 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:41:30.460 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:41:30.464 +08:00 [INF] JWT Claim: exp = 1748573267
2025-05-30 10:41:30.469 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:41:30.472 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:41:30.474 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:41:30.476 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:41:30.479 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 10:41:30.484 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 10:41:30.495 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 10:41:30.511 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 10:41:30.519 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:41:30.528 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:41:30.535 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 41.609ms
2025-05-30 10:41:30.539 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 10:41:30.543 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 304.9952ms
2025-05-30 10:41:30.579 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 10:41:30.590 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:41:30.594 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 10:41:30.596 +08:00 [INF] 请求方法: GET
2025-05-30 10:41:30.597 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:41:30.600 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 10:41:30.602 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:41:30.605 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:41:30.612 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:41:30.618 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTA3NWM4NTktNjE3ZS00ZWEzLTliNGItOGVmNTgxNTI5NGFlIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzMyNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.TbVkAUYApR_IH2mIeW5NFXXKML3yCzKTKAPOzPwRZn8
2025-05-30 10:41:30.622 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:41:30.629 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:41:30.631 +08:00 [INF] 请求头: traceparent = 00-d9b5a6492ca294f4ce2fbe8452e8810f-e0bbc37f9909eec6-00
2025-05-30 10:41:30.635 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:41:30.637 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:41:30.642 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:41:30.646 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:41:30.649 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:41:30.652 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:41:30.656 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:41:30.665 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:41:30.668 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:41:30.670 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:41:30.672 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:41:30.675 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:41:30.678 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:41:30.680 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:41:30.686 +08:00 [INF] JWT Claim: jti = 5075c859-617e-4ea3-9b4b-8ef5815294ae
2025-05-30 10:41:30.689 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:41:30.692 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:41:30.694 +08:00 [INF] JWT Claim: exp = 1748573267
2025-05-30 10:41:30.696 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:41:30.698 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:41:30.700 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:41:30.702 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:41:30.704 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 10:41:30.705 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 10:41:30.711 +08:00 [INF] 获取客户统计数据
2025-05-30 10:41:30.715 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
2025-05-30 10:41:30.723 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:41:30.726 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 16.5392ms
2025-05-30 10:41:30.729 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 10:41:30.730 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 200 null application/json; charset=utf-8 151.2299ms
2025-05-30 10:41:51.671 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 10:41:51.690 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:41:51.692 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 10:41:51.693 +08:00 [INF] 请求方法: GET
2025-05-30 10:41:51.694 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:41:51.698 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 10:41:51.703 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:41:51.706 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:41:51.712 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:41:51.717 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTA3NWM4NTktNjE3ZS00ZWEzLTliNGItOGVmNTgxNTI5NGFlIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzMyNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.TbVkAUYApR_IH2mIeW5NFXXKML3yCzKTKAPOzPwRZn8
2025-05-30 10:41:51.720 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:41:51.722 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 10:41:51.726 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:41:51.740 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:41:51.742 +08:00 [INF] 请求头: traceparent = 00-d5fe8d3341822b3d94c91781d67c555e-4ef2f22e79f695a3-00
2025-05-30 10:41:51.744 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 10:41:51.746 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:41:51.747 +08:00 [INF] 请求方法: GET
2025-05-30 10:41:51.749 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:41:51.750 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:41:51.752 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:41:51.757 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:41:51.754 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 10:41:51.759 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:41:51.761 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:41:51.764 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:41:51.766 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:41:51.768 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:41:51.770 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:41:51.773 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:41:51.774 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTA3NWM4NTktNjE3ZS00ZWEzLTliNGItOGVmNTgxNTI5NGFlIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzMyNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.TbVkAUYApR_IH2mIeW5NFXXKML3yCzKTKAPOzPwRZn8
2025-05-30 10:41:51.777 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:41:51.779 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:41:51.781 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:41:51.785 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:41:51.787 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:41:51.790 +08:00 [INF] 请求头: traceparent = 00-eb14bf0c00369c0cdb60b5ddcfaa1a64-3c2c7ca35b670e47-00
2025-05-30 10:41:51.791 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:41:51.794 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:41:51.797 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:41:51.799 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:41:51.802 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:41:51.805 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:41:51.807 +08:00 [INF] JWT Claim: jti = 5075c859-617e-4ea3-9b4b-8ef5815294ae
2025-05-30 10:41:51.809 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:41:51.812 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:41:51.814 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:41:51.816 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:41:51.819 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:41:51.821 +08:00 [INF] JWT Claim: exp = 1748573267
2025-05-30 10:41:51.823 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:41:51.825 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:41:51.828 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:41:51.830 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:41:51.833 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:41:51.835 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:41:51.836 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:41:51.839 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:41:51.840 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:41:51.842 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 10:41:51.844 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:41:51.847 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 10:41:51.850 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:41:51.856 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 10:41:51.857 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:41:51.875 +08:00 [INF] JWT Claim: jti = 5075c859-617e-4ea3-9b4b-8ef5815294ae
2025-05-30 10:41:51.878 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:41:51.880 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:41:51.883 +08:00 [INF] JWT Claim: exp = 1748573267
2025-05-30 10:41:51.883 +08:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 10:41:51.886 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:41:51.895 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:41:51.896 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:41:51.898 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:41:51.901 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:41:51.903 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:41:51.906 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 52.0252ms
2025-05-30 10:41:51.909 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 10:41:51.912 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 10:41:51.914 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 10:41:51.915 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 244.4834ms
2025-05-30 10:41:51.920 +08:00 [INF] 获取客户统计数据
2025-05-30 10:41:51.935 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
2025-05-30 10:41:51.938 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:41:51.941 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 21.665ms
2025-05-30 10:41:51.943 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 10:41:51.946 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 200 null application/json; charset=utf-8 223.3292ms
2025-05-30 10:43:20.498 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 10:43:20.524 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 10:43:20.528 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:43:20.584 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:43:20.586 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 10:43:20.587 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 10:43:20.588 +08:00 [INF] 请求方法: GET
2025-05-30 10:43:20.591 +08:00 [INF] 请求方法: GET
2025-05-30 10:43:20.594 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:43:20.595 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:43:20.597 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 10:43:20.599 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 10:43:20.600 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:43:20.603 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:43:20.605 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:43:20.607 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:43:20.609 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:43:20.610 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:43:20.612 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTA3NWM4NTktNjE3ZS00ZWEzLTliNGItOGVmNTgxNTI5NGFlIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzMyNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.TbVkAUYApR_IH2mIeW5NFXXKML3yCzKTKAPOzPwRZn8
2025-05-30 10:43:20.635 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTA3NWM4NTktNjE3ZS00ZWEzLTliNGItOGVmNTgxNTI5NGFlIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzMyNjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.TbVkAUYApR_IH2mIeW5NFXXKML3yCzKTKAPOzPwRZn8
2025-05-30 10:43:20.638 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:43:20.648 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:43:20.657 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:43:20.670 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:43:20.671 +08:00 [INF] 请求头: traceparent = 00-bb718292b8e5954c680c66625f5c30e2-30ab58048f2eab03-00
2025-05-30 10:43:20.680 +08:00 [INF] 请求头: traceparent = 00-c96d2858c87e18546ee5ab11bdffd861-7be3b9b3d0c9cb0b-00
2025-05-30 10:43:20.683 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:43:20.686 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:43:20.688 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:43:20.691 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:43:20.693 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:43:20.695 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:43:20.697 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:43:20.699 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:43:20.701 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:43:20.703 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:43:20.705 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:43:20.707 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:43:20.708 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:43:20.711 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:43:20.713 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:43:20.715 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:43:20.716 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:43:20.718 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:43:20.719 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:43:20.721 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:43:20.722 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:43:20.724 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:43:20.724 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:43:20.725 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:43:20.726 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:43:20.728 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:43:20.730 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:43:20.734 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:43:20.735 +08:00 [INF] JWT Claim: jti = 5075c859-617e-4ea3-9b4b-8ef5815294ae
2025-05-30 10:43:20.739 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:43:20.737 +08:00 [INF] JWT Claim: jti = 5075c859-617e-4ea3-9b4b-8ef5815294ae
2025-05-30 10:43:20.743 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:43:20.746 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:43:20.749 +08:00 [INF] JWT Claim: exp = 1748573267
2025-05-30 10:43:20.752 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:43:20.755 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:43:20.757 +08:00 [INF] JWT Claim: exp = 1748573267
2025-05-30 10:43:20.759 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:43:20.762 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:43:20.764 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:43:20.767 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:43:20.768 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:43:20.776 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:43:20.777 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 10:43:20.779 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:43:20.781 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 10:43:20.784 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 10:43:20.788 +08:00 [INF] 获取客户统计数据
2025-05-30 10:43:20.790 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 10:43:20.798 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 10:43:20.832 +08:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 10:43:20.832 +08:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
2025-05-30 10:43:20.842 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:43:20.844 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:43:20.848 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:43:20.851 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 64.6166ms
2025-05-30 10:43:20.854 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 56.8998ms
2025-05-30 10:43:20.856 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 10:43:20.859 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 10:43:20.862 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 200 null application/json; charset=utf-8 363.5643ms
2025-05-30 10:43:20.865 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 341.7587ms
2025-05-30 10:43:47.038 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 10:43:47.077 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:43:47.083 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 10:43:47.087 +08:00 [INF] 请求方法: GET
2025-05-30 10:43:47.088 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:43:47.089 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 10:43:47.093 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:43:47.096 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:43:47.099 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:43:47.101 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOTEyZmMyZTUtNjg5OS00YzE0LTk0NWYtODc2ZDYzMTljY2NmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzM2MjYsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.yhLnt9Dn8bdSqKzIWrKlrACkeYOu6kMPzS4Kx4UCdaQ
2025-05-30 10:43:47.104 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:43:47.109 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:43:47.113 +08:00 [INF] 请求头: traceparent = 00-e9042a1c6920c0229d88c510b82bc3d8-c2f1abdba1db7006-00
2025-05-30 10:43:47.116 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:43:47.119 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:43:47.121 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:43:47.127 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:43:47.129 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:43:47.134 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:43:47.138 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:43:47.145 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:43:47.151 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:43:47.153 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:43:47.155 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:43:47.162 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:43:47.165 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:43:47.169 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:43:47.174 +08:00 [INF] JWT Claim: jti = 912fc2e5-6899-4c14-945f-876d6319cccf
2025-05-30 10:43:47.178 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:43:47.182 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:43:47.186 +08:00 [INF] JWT Claim: exp = 1748573626
2025-05-30 10:43:47.191 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:43:47.194 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:43:47.196 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:43:47.199 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:43:47.202 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 10:43:47.204 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 10:43:47.212 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 10:43:47.230 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 10:43:47.238 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:43:47.246 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:43:47.249 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 40.8961ms
2025-05-30 10:43:47.252 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 10:43:47.254 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 216.6556ms
2025-05-30 10:43:47.388 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 10:43:47.400 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:43:47.403 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 10:43:47.407 +08:00 [INF] 请求方法: GET
2025-05-30 10:43:47.410 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:43:47.435 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 10:43:47.436 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:43:47.441 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:43:47.444 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:43:47.446 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOTEyZmMyZTUtNjg5OS00YzE0LTk0NWYtODc2ZDYzMTljY2NmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzM2MjYsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.yhLnt9Dn8bdSqKzIWrKlrACkeYOu6kMPzS4Kx4UCdaQ
2025-05-30 10:43:47.449 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:43:47.452 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:43:47.458 +08:00 [INF] 请求头: traceparent = 00-2ea31551848daa0bc60916145989a556-9abd3a26368f2621-00
2025-05-30 10:43:47.459 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:43:47.461 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:43:47.462 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:43:47.464 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:43:47.465 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:43:47.466 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:43:47.467 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:43:47.468 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:43:47.470 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:43:47.471 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:43:47.472 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:43:47.475 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:43:47.477 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:43:47.478 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:43:47.480 +08:00 [INF] JWT Claim: jti = 912fc2e5-6899-4c14-945f-876d6319cccf
2025-05-30 10:43:47.480 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:43:47.484 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:43:47.492 +08:00 [INF] JWT Claim: exp = 1748573626
2025-05-30 10:43:47.494 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:43:47.495 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:43:47.495 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:43:47.496 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:43:47.497 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 10:43:47.498 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 10:43:47.502 +08:00 [INF] 获取客户统计数据
2025-05-30 10:43:47.506 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
2025-05-30 10:43:47.531 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:43:47.534 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 32.5422ms
2025-05-30 10:43:47.536 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 10:43:47.539 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 200 null application/json; charset=utf-8 150.4068ms
2025-05-30 10:45:10.176 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-30 10:45:10.452 +08:00 [INF] Now listening on: https://localhost:5003
2025-05-30 10:45:10.578 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 10:45:10.580 +08:00 [INF] Hosting environment: Development
2025-05-30 10:45:10.586 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.ClientService
2025-05-30 10:45:12.283 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5003/_framework/aspnetcore-browser-refresh.js - null null
2025-05-30 10:45:12.284 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5003/_vs/browserLink - null null
2025-05-30 10:45:12.355 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5003/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 72.4677ms
2025-05-30 10:45:12.559 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5003/_vs/browserLink - 200 null text/javascript; charset=UTF-8 279.6199ms
2025-05-30 10:45:12.837 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/v1/swagger.json - null null
2025-05-30 10:45:12.906 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 69.1171ms
2025-05-30 10:45:26.179 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 10:45:26.179 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 10:45:26.241 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:45:26.241 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:45:26.244 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 10:45:26.244 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 10:45:26.245 +08:00 [INF] 请求方法: GET
2025-05-30 10:45:26.246 +08:00 [INF] 请求方法: GET
2025-05-30 10:45:26.248 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:45:26.248 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:45:26.250 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 10:45:26.253 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 10:45:26.254 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:45:26.255 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:45:26.257 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:45:26.258 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:45:26.260 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:45:26.263 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:45:26.264 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOTEyZmMyZTUtNjg5OS00YzE0LTk0NWYtODc2ZDYzMTljY2NmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzM2MjYsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.yhLnt9Dn8bdSqKzIWrKlrACkeYOu6kMPzS4Kx4UCdaQ
2025-05-30 10:45:26.265 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOTEyZmMyZTUtNjg5OS00YzE0LTk0NWYtODc2ZDYzMTljY2NmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzM2MjYsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.yhLnt9Dn8bdSqKzIWrKlrACkeYOu6kMPzS4Kx4UCdaQ
2025-05-30 10:45:26.267 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:45:26.268 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:45:26.270 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:45:26.271 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:45:26.272 +08:00 [INF] 请求头: traceparent = 00-a999995a2687d5d2f009bf1f8f2e3f47-f1d860e38a6e966e-00
2025-05-30 10:45:26.273 +08:00 [INF] 请求头: traceparent = 00-8bff40ea9b2db3d237fcadc8b85f3096-d1e017a83d0f1385-00
2025-05-30 10:45:26.275 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:45:26.277 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:45:26.279 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:45:26.280 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:45:26.281 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:45:26.282 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:45:26.284 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:45:26.285 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:45:26.287 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:45:26.288 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:45:26.290 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:45:26.291 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:45:26.293 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:45:26.294 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:45:26.296 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:45:26.298 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:45:26.299 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:45:26.301 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:45:26.302 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:45:26.303 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:45:26.345 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:45:26.345 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:45:26.347 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:45:26.348 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:45:26.350 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:45:26.349 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:45:26.352 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:45:26.353 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:45:26.354 +08:00 [INF] JWT Claim: jti = 912fc2e5-6899-4c14-945f-876d6319cccf
2025-05-30 10:45:26.356 +08:00 [INF] JWT Claim: jti = 912fc2e5-6899-4c14-945f-876d6319cccf
2025-05-30 10:45:26.357 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:45:26.359 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:45:26.361 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:45:26.362 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:45:26.363 +08:00 [INF] JWT Claim: exp = 1748573626
2025-05-30 10:45:26.364 +08:00 [INF] JWT Claim: exp = 1748573626
2025-05-30 10:45:26.366 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:45:26.367 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:45:26.369 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:45:26.370 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:45:26.372 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:45:26.373 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:45:26.440 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:45:26.441 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:45:26.465 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 10:45:26.465 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 10:45:26.492 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 10:45:26.495 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 10:45:27.120 +08:00 [WRN] No store type was specified for the decimal property 'MaxArea' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 10:45:27.123 +08:00 [WRN] No store type was specified for the decimal property 'MaxPrice' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 10:45:27.126 +08:00 [WRN] No store type was specified for the decimal property 'MinArea' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 10:45:27.129 +08:00 [WRN] No store type was specified for the decimal property 'MinPrice' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 10:45:27.130 +08:00 [WRN] No store type was specified for the decimal property 'Area' on entity type 'Property'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 10:45:27.132 +08:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Property'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 10:45:27.281 +08:00 [INF] 获取客户统计数据
2025-05-30 10:45:27.314 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 10:45:28.148 +08:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
2025-05-30 10:45:28.148 +08:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 10:45:28.239 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:45:28.253 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 1754.1264ms
2025-05-30 10:45:28.255 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 10:45:28.267 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 200 null application/json; charset=utf-8 2087.1937ms
2025-05-30 10:45:28.305 +08:00 [INF] Executed DbCommand (60ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:45:28.319 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:45:28.347 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 1848.3269ms
2025-05-30 10:45:28.354 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 10:45:28.364 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 2184.2405ms
2025-05-30 10:46:19.351 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 10:46:19.375 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 10:46:19.375 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:46:19.378 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:46:19.379 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 10:46:19.379 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 10:46:19.381 +08:00 [INF] 请求方法: GET
2025-05-30 10:46:19.382 +08:00 [INF] 请求方法: GET
2025-05-30 10:46:19.383 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:46:19.384 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:46:19.385 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 10:46:19.387 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 10:46:19.388 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:46:19.389 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:46:19.390 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:46:19.391 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:46:19.393 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:46:19.394 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:46:19.395 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzc0ZTk4NWItN2I3NS00MDEwLWI1MmEtMWZhNTU4NGFiYzJmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzM3NzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.YL3yNApWAMqxeTGFukWO4E_30wLf5GlsYYktbzjMQTk
2025-05-30 10:46:19.398 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzc0ZTk4NWItN2I3NS00MDEwLWI1MmEtMWZhNTU4NGFiYzJmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzM3NzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.YL3yNApWAMqxeTGFukWO4E_30wLf5GlsYYktbzjMQTk
2025-05-30 10:46:19.399 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:46:19.401 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:46:19.402 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:46:19.403 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:46:19.405 +08:00 [INF] 请求头: traceparent = 00-aa6c78d7323b4e513d45a9c83d649762-b7286dd158ee3809-00
2025-05-30 10:46:19.406 +08:00 [INF] 请求头: traceparent = 00-7c2fbebe371bff99ac08cff3552366d8-0d1f191c266cb1e2-00
2025-05-30 10:46:19.407 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:46:19.408 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:46:19.409 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:46:19.411 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:46:19.412 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:46:19.413 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:46:19.415 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:46:19.416 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:46:19.417 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:46:19.419 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:46:19.420 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:46:19.422 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:46:19.421 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:46:19.424 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:46:19.426 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:46:19.427 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:46:19.428 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:46:19.429 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:46:19.430 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:46:19.432 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:46:19.432 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:46:19.433 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:46:19.434 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:46:19.435 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:46:19.436 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:46:19.437 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:46:19.438 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:46:19.439 +08:00 [INF] JWT Claim: jti = 374e985b-7b75-4010-b52a-1fa5584abc2f
2025-05-30 10:46:19.440 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:46:19.441 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:46:19.442 +08:00 [INF] JWT Claim: jti = 374e985b-7b75-4010-b52a-1fa5584abc2f
2025-05-30 10:46:19.444 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:46:19.445 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:46:19.446 +08:00 [INF] JWT Claim: exp = 1748573778
2025-05-30 10:46:19.447 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:46:19.449 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:46:19.450 +08:00 [INF] JWT Claim: exp = 1748573778
2025-05-30 10:46:19.451 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:46:19.452 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:46:19.453 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:46:19.454 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:46:19.456 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:46:19.457 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:46:19.457 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:46:19.461 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 10:46:19.461 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 10:46:19.462 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 10:46:19.463 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 10:46:19.505 +08:00 [INF] 获取客户统计数据
2025-05-30 10:46:19.506 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 10:46:19.513 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
2025-05-30 10:46:19.519 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:46:19.519 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 10:46:19.520 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 53.4942ms
2025-05-30 10:46:19.523 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 10:46:19.525 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 200 null application/json; charset=utf-8 174.4055ms
2025-05-30 10:46:19.527 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:46:19.531 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:46:19.533 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 68.1554ms
2025-05-30 10:46:19.535 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 10:46:19.536 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 160.8592ms
2025-05-30 10:46:43.151 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 10:46:43.167 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:46:43.169 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 10:46:43.173 +08:00 [INF] 请求方法: GET
2025-05-30 10:46:43.176 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:46:43.181 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 10:46:43.181 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 10:46:43.198 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:46:43.201 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:46:43.203 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 10:46:43.206 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:46:43.209 +08:00 [INF] 请求方法: GET
2025-05-30 10:46:43.216 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:46:43.214 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:46:43.224 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzc0ZTk4NWItN2I3NS00MDEwLWI1MmEtMWZhNTU4NGFiYzJmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzM3NzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.YL3yNApWAMqxeTGFukWO4E_30wLf5GlsYYktbzjMQTk
2025-05-30 10:46:43.220 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 10:46:43.229 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:46:43.232 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:46:43.235 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:46:43.240 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:46:43.245 +08:00 [INF] 请求头: traceparent = 00-6a6760150b157e591b0c9d71089c419b-edc151d72881bcf9-00
2025-05-30 10:46:43.249 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:46:43.255 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:46:43.258 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzc0ZTk4NWItN2I3NS00MDEwLWI1MmEtMWZhNTU4NGFiYzJmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzM3NzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.YL3yNApWAMqxeTGFukWO4E_30wLf5GlsYYktbzjMQTk
2025-05-30 10:46:43.265 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:46:43.269 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:46:43.271 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:46:43.274 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:46:43.277 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:46:43.280 +08:00 [INF] 请求头: traceparent = 00-07fbb46edece4effcd47cf1d4ec1bbab-3c117e2e900a58ba-00
2025-05-30 10:46:43.282 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:46:43.286 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:46:43.289 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:46:43.292 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:46:43.294 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:46:43.296 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:46:43.299 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:46:43.303 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:46:43.306 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:46:43.308 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:46:43.310 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:46:43.312 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:46:43.314 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:46:43.316 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:46:43.318 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:46:43.321 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:46:43.323 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:46:43.325 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:46:43.331 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:46:43.328 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:46:43.333 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:46:43.337 +08:00 [INF] JWT Claim: jti = 374e985b-7b75-4010-b52a-1fa5584abc2f
2025-05-30 10:46:43.339 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:46:43.341 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:46:43.344 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:46:43.348 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:46:43.350 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:46:43.352 +08:00 [INF] JWT Claim: exp = 1748573778
2025-05-30 10:46:43.355 +08:00 [INF] JWT Claim: jti = 374e985b-7b75-4010-b52a-1fa5584abc2f
2025-05-30 10:46:43.358 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:46:43.361 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:46:43.364 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:46:43.366 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:46:43.369 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:46:43.372 +08:00 [INF] JWT Claim: exp = 1748573778
2025-05-30 10:46:43.375 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:46:43.378 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:46:43.374 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:46:43.381 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:46:43.384 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 10:46:43.385 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:46:43.387 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 10:46:43.390 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 10:46:43.396 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 10:46:43.398 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 10:46:43.400 +08:00 [INF] 获取客户统计数据
2025-05-30 10:46:43.421 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 10:46:43.429 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
2025-05-30 10:46:43.441 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:46:43.445 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:46:43.449 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:46:43.453 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 54.0892ms
2025-05-30 10:46:43.457 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 63.02ms
2025-05-30 10:46:43.460 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 10:46:43.462 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 10:46:43.465 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 200 null application/json; charset=utf-8 283.6427ms
2025-05-30 10:46:43.469 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 317.7492ms
2025-05-30 10:47:37.229 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 10:47:37.234 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:47:37.252 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 10:47:37.253 +08:00 [INF] 请求方法: GET
2025-05-30 10:47:37.257 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:47:37.257 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 10:47:37.258 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:47:37.259 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:47:37.259 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:47:37.263 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzc0ZTk4NWItN2I3NS00MDEwLWI1MmEtMWZhNTU4NGFiYzJmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzM3NzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.YL3yNApWAMqxeTGFukWO4E_30wLf5GlsYYktbzjMQTk
2025-05-30 10:47:37.264 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:47:37.266 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:47:37.267 +08:00 [INF] 请求头: traceparent = 00-41e95cd3038f9fa12c032753fa42c8b5-65323ba7cbf7a2ef-00
2025-05-30 10:47:37.273 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:47:37.276 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:47:37.278 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:47:37.279 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:47:37.281 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:47:37.282 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:47:37.346 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:47:37.359 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:47:37.362 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:47:37.362 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:47:37.367 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:47:37.371 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:47:37.398 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:47:37.401 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:47:37.403 +08:00 [INF] JWT Claim: jti = 374e985b-7b75-4010-b52a-1fa5584abc2f
2025-05-30 10:47:37.414 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:47:37.419 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:47:37.425 +08:00 [INF] JWT Claim: exp = 1748573778
2025-05-30 10:47:37.428 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:47:37.429 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:47:37.433 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:47:37.436 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:47:37.441 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 10:47:37.443 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 10:47:37.450 +08:00 [INF] 获取客户统计数据
2025-05-30 10:47:37.487 +08:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
2025-05-30 10:47:37.511 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:47:37.520 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 74.1467ms
2025-05-30 10:47:37.579 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 10:47:37.584 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 200 null application/json; charset=utf-8 354.6845ms
2025-05-30 10:47:37.773 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 10:47:37.794 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:47:37.795 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 10:47:37.799 +08:00 [INF] 请求方法: GET
2025-05-30 10:47:37.800 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:47:37.803 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 10:47:37.807 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:47:37.809 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:47:37.811 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:47:37.814 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzc0ZTk4NWItN2I3NS00MDEwLWI1MmEtMWZhNTU4NGFiYzJmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzM3NzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.YL3yNApWAMqxeTGFukWO4E_30wLf5GlsYYktbzjMQTk
2025-05-30 10:47:37.817 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:47:37.818 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:47:37.820 +08:00 [INF] 请求头: traceparent = 00-30204c06704167baee688ae20b80f44c-a57aabed74f5f7f5-00
2025-05-30 10:47:37.823 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:47:37.825 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:47:37.827 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:47:37.831 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:47:37.833 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:47:37.837 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:47:37.842 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:47:37.844 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:47:37.847 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:47:37.850 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:47:37.852 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:47:37.861 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:47:37.865 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:47:37.869 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:47:37.873 +08:00 [INF] JWT Claim: jti = 374e985b-7b75-4010-b52a-1fa5584abc2f
2025-05-30 10:47:37.877 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:47:37.879 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:47:37.883 +08:00 [INF] JWT Claim: exp = 1748573778
2025-05-30 10:47:37.886 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:47:37.896 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:47:37.899 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:47:37.901 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:47:37.920 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 10:47:37.925 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 10:47:37.931 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 10:47:37.949 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 10:47:37.968 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:47:37.974 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:47:37.978 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 49.8139ms
2025-05-30 10:47:37.981 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 10:47:37.983 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 210.6289ms
2025-05-30 10:50:03.295 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=10 - null 0
2025-05-30 10:50:03.308 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 10:50:03.309 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 10:50:03.310 +08:00 [INF] 请求方法: GET
2025-05-30 10:50:03.311 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 10:50:03.314 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 10:50:03.315 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 10:50:03.316 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 10:50:03.317 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 10:50:03.318 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzc0ZTk4NWItN2I3NS00MDEwLWI1MmEtMWZhNTU4NGFiYzJmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzM3NzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.YL3yNApWAMqxeTGFukWO4E_30wLf5GlsYYktbzjMQTk
2025-05-30 10:50:03.319 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 10:50:03.320 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 10:50:03.322 +08:00 [INF] 请求头: traceparent = 00-691948482aa3ae5e165e56f0191b7970-24c23e7895a51c82-00
2025-05-30 10:50:03.324 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 10:50:03.326 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 10:50:03.327 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 10:50:03.329 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 10:50:03.331 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 10:50:03.333 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 10:50:03.335 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 10:50:03.337 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 10:50:03.338 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 10:50:03.339 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 10:50:03.341 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 10:50:03.342 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:50:03.343 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 10:50:03.344 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 10:50:03.346 +08:00 [INF] JWT Claim: jti = 374e985b-7b75-4010-b52a-1fa5584abc2f
2025-05-30 10:50:03.347 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 10:50:03.349 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 10:50:03.351 +08:00 [INF] JWT Claim: exp = 1748573778
2025-05-30 10:50:03.353 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 10:50:03.356 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 10:50:03.357 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 10:50:03.359 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 10:50:03.361 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 10:50:03.364 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 10:50:03.369 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":10,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 10:50:03.409 +08:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 10:50:03.418 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 10:50:03.423 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 10:50:03.426 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 59.8031ms
2025-05-30 10:50:03.430 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 10:50:03.431 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 136.2083ms
2025-05-30 11:10:05.280 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 11:10:05.284 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:10:05.285 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 11:10:05.286 +08:00 [INF] 请求方法: GET
2025-05-30 11:10:05.287 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:10:05.289 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 11:10:05.290 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:10:05.291 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:10:05.293 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:10:05.294 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODNiZmFmMGMtMTgzOS00ZTJkLTk4NWUtMzkyMjE2NWI3M2UwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzUyMDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.O7CYBadBlv-OjUg-0xLRjoMj-dNWszlDiIzW5alBUq8
2025-05-30 11:10:05.296 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:10:05.297 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:10:05.299 +08:00 [INF] 请求头: traceparent = 00-47e9f5f097eb5adb24dad46b1b5ec651-153f8a0bac767f1c-00
2025-05-30 11:10:05.300 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:10:05.302 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:10:05.303 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:10:05.305 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:10:05.307 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:10:05.308 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:10:05.309 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:10:05.311 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:10:05.313 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:10:05.314 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:10:05.315 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:10:05.316 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:10:05.318 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:10:05.320 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:10:05.321 +08:00 [INF] JWT Claim: jti = 83bfaf0c-1839-4e2d-985e-3922165b73e0
2025-05-30 11:10:05.323 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:10:05.324 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:10:05.325 +08:00 [INF] JWT Claim: exp = 1748575204
2025-05-30 11:10:05.327 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:10:05.329 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:10:05.330 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:10:05.332 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:10:05.333 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 11:10:05.335 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 11:10:05.338 +08:00 [INF] 获取客户统计数据
2025-05-30 11:10:05.367 +08:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
2025-05-30 11:10:05.371 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:10:05.374 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 36.8348ms
2025-05-30 11:10:05.375 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 11:10:05.377 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 200 null application/json; charset=utf-8 97.0215ms
2025-05-30 11:10:05.450 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 11:10:05.454 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:10:05.456 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 11:10:05.457 +08:00 [INF] 请求方法: GET
2025-05-30 11:10:05.458 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:10:05.459 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 11:10:05.461 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:10:05.463 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:10:05.464 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:10:05.466 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODNiZmFmMGMtMTgzOS00ZTJkLTk4NWUtMzkyMjE2NWI3M2UwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzUyMDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.O7CYBadBlv-OjUg-0xLRjoMj-dNWszlDiIzW5alBUq8
2025-05-30 11:10:05.468 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:10:05.469 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:10:05.471 +08:00 [INF] 请求头: traceparent = 00-c236eee9735b89c7c5dccf2d52a9d0b4-bef34905d058f9f1-00
2025-05-30 11:10:05.472 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:10:05.473 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:10:05.475 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:10:05.476 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:10:05.478 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:10:05.479 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:10:05.481 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:10:05.482 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:10:05.483 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:10:05.484 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:10:05.485 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:10:05.487 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:10:05.488 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:10:05.489 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:10:05.491 +08:00 [INF] JWT Claim: jti = 83bfaf0c-1839-4e2d-985e-3922165b73e0
2025-05-30 11:10:05.492 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:10:05.494 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:10:05.495 +08:00 [INF] JWT Claim: exp = 1748575204
2025-05-30 11:10:05.496 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:10:05.498 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:10:05.499 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:10:05.500 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:10:05.501 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 11:10:05.503 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 11:10:05.507 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 11:10:05.517 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 11:10:05.529 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 11:10:05.531 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:10:05.534 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 28.44ms
2025-05-30 11:10:05.535 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 11:10:05.537 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 86.8648ms
2025-05-30 11:10:08.795 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=10 - null 0
2025-05-30 11:10:08.798 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:10:08.799 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 11:10:08.800 +08:00 [INF] 请求方法: GET
2025-05-30 11:10:08.801 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:10:08.803 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 11:10:08.804 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:10:08.805 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:10:08.807 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:10:08.808 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODNiZmFmMGMtMTgzOS00ZTJkLTk4NWUtMzkyMjE2NWI3M2UwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzUyMDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.O7CYBadBlv-OjUg-0xLRjoMj-dNWszlDiIzW5alBUq8
2025-05-30 11:10:08.809 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:10:08.811 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:10:08.812 +08:00 [INF] 请求头: traceparent = 00-1698586432303c54793c233791d86dea-fd5e057bf8eb545c-00
2025-05-30 11:10:08.813 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:10:08.814 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:10:08.816 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:10:08.817 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:10:08.818 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:10:08.820 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:10:08.821 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:10:08.822 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:10:08.823 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:10:08.824 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:10:08.825 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:10:08.826 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:10:08.827 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:10:08.829 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:10:08.830 +08:00 [INF] JWT Claim: jti = 83bfaf0c-1839-4e2d-985e-3922165b73e0
2025-05-30 11:10:08.831 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:10:08.832 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:10:08.833 +08:00 [INF] JWT Claim: exp = 1748575204
2025-05-30 11:10:08.835 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:10:08.836 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:10:08.837 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:10:08.839 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:10:08.840 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 11:10:08.841 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 11:10:08.845 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":10,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 11:10:08.854 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 11:10:08.859 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 11:10:08.862 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:10:08.864 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 21.1705ms
2025-05-30 11:10:08.866 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 11:10:08.868 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 72.517ms
2025-05-30 11:10:15.214 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 11:10:15.217 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:10:15.219 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 11:10:15.221 +08:00 [INF] 请求方法: GET
2025-05-30 11:10:15.223 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:10:15.225 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 11:10:15.226 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:10:15.228 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:10:15.230 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:10:15.231 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODNiZmFmMGMtMTgzOS00ZTJkLTk4NWUtMzkyMjE2NWI3M2UwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzUyMDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.O7CYBadBlv-OjUg-0xLRjoMj-dNWszlDiIzW5alBUq8
2025-05-30 11:10:15.232 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 11:10:15.233 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:10:15.236 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:10:15.238 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:10:15.239 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 11:10:15.240 +08:00 [INF] 请求头: traceparent = 00-e97a71686ef03ec06844bcf20e5dd76d-b3ca0e02006c0de3-00
2025-05-30 11:10:15.241 +08:00 [INF] 请求方法: GET
2025-05-30 11:10:15.243 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:10:15.244 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:10:15.246 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:10:15.247 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 11:10:15.249 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:10:15.250 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:10:15.252 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:10:15.253 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:10:15.255 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:10:15.256 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:10:15.258 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:10:15.259 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODNiZmFmMGMtMTgzOS00ZTJkLTk4NWUtMzkyMjE2NWI3M2UwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzUyMDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.O7CYBadBlv-OjUg-0xLRjoMj-dNWszlDiIzW5alBUq8
2025-05-30 11:10:15.261 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:10:15.262 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:10:15.264 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:10:15.265 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:10:15.266 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:10:15.268 +08:00 [INF] 请求头: traceparent = 00-5c53325723b917d24df5dd98a45fd400-105f866e6050b2b0-00
2025-05-30 11:10:15.269 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:10:15.271 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:10:15.272 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:10:15.273 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:10:15.275 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:10:15.276 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:10:15.278 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:10:15.280 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:10:15.281 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:10:15.283 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:10:15.284 +08:00 [INF] JWT Claim: jti = 83bfaf0c-1839-4e2d-985e-3922165b73e0
2025-05-30 11:10:15.286 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:10:15.287 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:10:15.289 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:10:15.291 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:10:15.292 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:10:15.294 +08:00 [INF] JWT Claim: exp = 1748575204
2025-05-30 11:10:15.295 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:10:15.297 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:10:15.298 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:10:15.299 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:10:15.300 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:10:15.302 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:10:15.304 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:10:15.305 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:10:15.306 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:10:15.307 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 11:10:15.309 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:10:15.310 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 11:10:15.312 +08:00 [INF] JWT Claim: jti = 83bfaf0c-1839-4e2d-985e-3922165b73e0
2025-05-30 11:10:15.315 +08:00 [INF] 获取客户统计数据
2025-05-30 11:10:15.315 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:10:15.320 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:10:15.323 +08:00 [INF] JWT Claim: exp = 1748575204
2025-05-30 11:10:15.324 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:10:15.326 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:10:15.327 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
2025-05-30 11:10:15.327 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:10:15.330 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:10:15.331 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:10:15.333 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 18.6606ms
2025-05-30 11:10:15.334 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 11:10:15.335 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 11:10:15.337 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 11:10:15.338 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 200 null application/json; charset=utf-8 124.0572ms
2025-05-30 11:10:15.341 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 11:10:15.357 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 11:10:15.364 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 11:10:15.367 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:10:15.369 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 28.8931ms
2025-05-30 11:10:15.371 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 11:10:15.372 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 139.9219ms
2025-05-30 11:10:53.490 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 11:10:53.496 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:10:53.496 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 11:10:53.498 +08:00 [INF] 请求方法: GET
2025-05-30 11:10:53.499 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:10:53.500 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 11:10:53.501 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:10:53.503 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:10:53.504 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:10:53.505 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODNiZmFmMGMtMTgzOS00ZTJkLTk4NWUtMzkyMjE2NWI3M2UwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzUyMDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.O7CYBadBlv-OjUg-0xLRjoMj-dNWszlDiIzW5alBUq8
2025-05-30 11:10:53.507 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:10:53.508 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:10:53.509 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 11:10:53.510 +08:00 [INF] 请求头: traceparent = 00-59f064d51c6535cc5b7a6722eeb2ca25-7e65eb4cfdea51e4-00
2025-05-30 11:10:53.513 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:10:53.514 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:10:53.515 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 11:10:53.516 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:10:53.517 +08:00 [INF] 请求方法: GET
2025-05-30 11:10:53.519 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:10:53.520 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:10:53.521 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:10:53.522 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 11:10:53.523 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:10:53.524 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:10:53.525 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:10:53.526 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:10:53.528 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:10:53.529 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:10:53.530 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:10:53.531 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODNiZmFmMGMtMTgzOS00ZTJkLTk4NWUtMzkyMjE2NWI3M2UwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzUyMDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.O7CYBadBlv-OjUg-0xLRjoMj-dNWszlDiIzW5alBUq8
2025-05-30 11:10:53.532 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:10:53.533 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:10:53.534 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:10:53.535 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:10:53.536 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:10:53.537 +08:00 [INF] 请求头: traceparent = 00-453a4d3525ed7d0340d737e7997f4d72-2916ba1e9ef0c972-00
2025-05-30 11:10:53.538 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:10:53.539 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:10:53.540 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:10:53.541 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:10:53.542 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:10:53.543 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:10:53.544 +08:00 [INF] JWT Claim: jti = 83bfaf0c-1839-4e2d-985e-3922165b73e0
2025-05-30 11:10:53.545 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:10:53.546 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:10:53.547 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:10:53.549 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:10:53.550 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:10:53.551 +08:00 [INF] JWT Claim: exp = 1748575204
2025-05-30 11:10:53.552 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:10:53.553 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:10:53.554 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:10:53.556 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:10:53.557 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:10:53.558 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:10:53.558 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:10:53.559 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:10:53.560 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:10:53.561 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 11:10:53.562 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:10:53.563 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 11:10:53.564 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:10:53.566 +08:00 [INF] 获取客户统计数据
2025-05-30 11:10:53.566 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:10:53.569 +08:00 [INF] JWT Claim: jti = 83bfaf0c-1839-4e2d-985e-3922165b73e0
2025-05-30 11:10:53.571 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:10:53.572 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:10:53.573 +08:00 [INF] JWT Claim: exp = 1748575204
2025-05-30 11:10:53.574 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:10:53.576 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:10:53.577 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:10:53.578 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
2025-05-30 11:10:53.578 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:10:53.580 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:10:53.581 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 11:10:53.583 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 17.1459ms
2025-05-30 11:10:53.584 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 11:10:53.585 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 11:10:53.588 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 11:10:53.588 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 200 null application/json; charset=utf-8 100.7788ms
2025-05-30 11:10:53.598 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 11:10:53.608 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 11:10:53.611 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:10:53.613 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 26.0628ms
2025-05-30 11:10:53.615 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 11:10:53.616 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 106.6147ms
2025-05-30 11:11:30.895 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 11:11:30.906 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:11:30.907 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 11:11:30.909 +08:00 [INF] 请求方法: GET
2025-05-30 11:11:30.910 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:11:30.911 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 11:11:30.913 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:11:30.914 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:11:30.916 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:11:30.917 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODNiZmFmMGMtMTgzOS00ZTJkLTk4NWUtMzkyMjE2NWI3M2UwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzUyMDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.O7CYBadBlv-OjUg-0xLRjoMj-dNWszlDiIzW5alBUq8
2025-05-30 11:11:30.919 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:11:30.921 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:11:30.922 +08:00 [INF] 请求头: traceparent = 00-53f7cc51519b9cccdcd2155a16970405-bec5e26e9836a6e7-00
2025-05-30 11:11:30.923 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:11:30.926 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:11:30.928 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:11:30.930 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:11:30.931 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:11:30.933 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:11:30.935 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:11:30.936 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:11:30.938 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:11:30.939 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:11:30.940 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:11:30.941 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:11:30.943 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:11:30.944 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:11:30.946 +08:00 [INF] JWT Claim: jti = 83bfaf0c-1839-4e2d-985e-3922165b73e0
2025-05-30 11:11:30.947 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:11:30.948 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:11:30.950 +08:00 [INF] JWT Claim: exp = 1748575204
2025-05-30 11:11:30.951 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:11:30.953 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:11:30.954 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:11:30.956 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:11:30.957 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 11:11:30.959 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 11:11:30.963 +08:00 [INF] 获取客户统计数据
2025-05-30 11:11:30.973 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
2025-05-30 11:11:30.977 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:11:30.979 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 17.2906ms
2025-05-30 11:11:30.981 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 11:11:30.983 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 200 null application/json; charset=utf-8 87.4839ms
2025-05-30 11:11:31.061 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 11:11:31.064 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:11:31.065 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 11:11:31.066 +08:00 [INF] 请求方法: GET
2025-05-30 11:11:31.067 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:11:31.069 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 11:11:31.070 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:11:31.072 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:11:31.073 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:11:31.075 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODNiZmFmMGMtMTgzOS00ZTJkLTk4NWUtMzkyMjE2NWI3M2UwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzUyMDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.O7CYBadBlv-OjUg-0xLRjoMj-dNWszlDiIzW5alBUq8
2025-05-30 11:11:31.077 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:11:31.078 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:11:31.080 +08:00 [INF] 请求头: traceparent = 00-1b73cd2de3e7ff73297a48cba8aef48b-e7a760d90d7a9d97-00
2025-05-30 11:11:31.081 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:11:31.083 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:11:31.084 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:11:31.086 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:11:31.088 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:11:31.089 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:11:31.091 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:11:31.092 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:11:31.094 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:11:31.095 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:11:31.096 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:11:31.097 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:11:31.099 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:11:31.100 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:11:31.102 +08:00 [INF] JWT Claim: jti = 83bfaf0c-1839-4e2d-985e-3922165b73e0
2025-05-30 11:11:31.103 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:11:31.105 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:11:31.106 +08:00 [INF] JWT Claim: exp = 1748575204
2025-05-30 11:11:31.107 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:11:31.108 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:11:31.110 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:11:31.112 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:11:31.113 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 11:11:31.114 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 11:11:31.118 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 11:11:31.129 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 11:11:31.141 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 11:11:31.145 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:11:31.147 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 30.5476ms
2025-05-30 11:11:31.149 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 11:11:31.150 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 89.1238ms
2025-05-30 11:12:38.023 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 11:12:38.027 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:12:38.028 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 11:12:38.029 +08:00 [INF] 请求方法: GET
2025-05-30 11:12:38.030 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:12:38.032 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 11:12:38.033 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:12:38.035 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:12:38.042 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:12:38.043 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 11:12:38.043 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODNiZmFmMGMtMTgzOS00ZTJkLTk4NWUtMzkyMjE2NWI3M2UwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzUyMDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.O7CYBadBlv-OjUg-0xLRjoMj-dNWszlDiIzW5alBUq8
2025-05-30 11:12:38.046 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:12:38.047 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:12:38.048 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 11:12:38.049 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:12:38.049 +08:00 [INF] 请求方法: GET
2025-05-30 11:12:38.051 +08:00 [INF] 请求头: traceparent = 00-e9e537351b9e2d1517be8a15483f0f38-834b25e6099583a2-00
2025-05-30 11:12:38.052 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:12:38.053 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:12:38.054 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 11:12:38.055 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:12:38.056 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:12:38.057 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:12:38.057 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:12:38.059 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:12:38.060 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:12:38.062 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODNiZmFmMGMtMTgzOS00ZTJkLTk4NWUtMzkyMjE2NWI3M2UwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzUyMDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.O7CYBadBlv-OjUg-0xLRjoMj-dNWszlDiIzW5alBUq8
2025-05-30 11:12:38.061 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:12:38.063 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:12:38.064 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:12:38.065 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:12:38.066 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:12:38.067 +08:00 [INF] 请求头: traceparent = 00-a37b6e657d0016437b873aebc3650f42-5e305b4ceea38102-00
2025-05-30 11:12:38.068 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:12:38.070 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:12:38.069 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:12:38.071 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:12:38.072 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:12:38.073 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:12:38.074 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:12:38.075 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:12:38.076 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:12:38.077 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:12:38.078 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:12:38.079 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:12:38.081 +08:00 [INF] JWT Claim: jti = 83bfaf0c-1839-4e2d-985e-3922165b73e0
2025-05-30 11:12:38.080 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:12:38.082 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:12:38.083 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:12:38.084 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:12:38.085 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:12:38.086 +08:00 [INF] JWT Claim: exp = 1748575204
2025-05-30 11:12:38.087 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:12:38.088 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:12:38.089 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:12:38.090 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:12:38.091 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:12:38.092 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:12:38.093 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:12:38.094 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:12:38.096 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:12:38.097 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 11:12:38.098 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:12:38.098 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 11:12:38.099 +08:00 [INF] JWT Claim: jti = 83bfaf0c-1839-4e2d-985e-3922165b73e0
2025-05-30 11:12:38.102 +08:00 [INF] 获取客户统计数据
2025-05-30 11:12:38.102 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:12:38.105 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:12:38.106 +08:00 [INF] JWT Claim: exp = 1748575204
2025-05-30 11:12:38.108 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:12:38.109 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:12:38.110 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:12:38.111 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
2025-05-30 11:12:38.111 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:12:38.113 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:12:38.114 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 11:12:38.115 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 13.4698ms
2025-05-30 11:12:38.116 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 11:12:38.117 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 11:12:38.120 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 11:12:38.120 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 200 null application/json; charset=utf-8 96.8404ms
2025-05-30 11:12:38.132 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 11:12:38.144 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 11:12:38.146 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:12:38.148 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 28.4526ms
2025-05-30 11:12:38.149 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 11:12:38.150 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 107.249ms
2025-05-30 11:13:06.753 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 11:13:06.763 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:13:06.764 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 11:13:06.765 +08:00 [INF] 请求方法: GET
2025-05-30 11:13:06.766 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:13:06.768 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 11:13:06.769 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:13:06.770 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:13:06.771 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 11:13:06.778 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:13:06.782 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:13:06.783 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODNiZmFmMGMtMTgzOS00ZTJkLTk4NWUtMzkyMjE2NWI3M2UwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzUyMDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.O7CYBadBlv-OjUg-0xLRjoMj-dNWszlDiIzW5alBUq8
2025-05-30 11:13:06.784 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 11:13:06.786 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:13:06.788 +08:00 [INF] 请求方法: GET
2025-05-30 11:13:06.789 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:13:06.791 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:13:06.792 +08:00 [INF] 请求头: traceparent = 00-5fcdc901ae6f591c3730511a32491abb-9e12bfbb48a9a9f0-00
2025-05-30 11:13:06.794 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 11:13:06.796 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:13:06.797 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:13:06.799 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:13:06.801 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:13:06.803 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:13:06.804 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:13:06.805 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:13:06.806 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODNiZmFmMGMtMTgzOS00ZTJkLTk4NWUtMzkyMjE2NWI3M2UwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzUyMDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.O7CYBadBlv-OjUg-0xLRjoMj-dNWszlDiIzW5alBUq8
2025-05-30 11:13:06.807 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:13:06.809 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:13:06.811 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:13:06.812 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:13:06.813 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:13:06.814 +08:00 [INF] 请求头: traceparent = 00-387132cd28e4279f700f4239139d4663-00f6a774813decbf-00
2025-05-30 11:13:06.816 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:13:06.817 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:13:06.819 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:13:06.820 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:13:06.821 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:13:06.822 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:13:06.823 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:13:06.824 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:13:06.825 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:13:06.827 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:13:06.828 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:13:06.829 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:13:06.830 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:13:06.832 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:13:06.833 +08:00 [INF] JWT Claim: jti = 83bfaf0c-1839-4e2d-985e-3922165b73e0
2025-05-30 11:13:06.835 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:13:06.836 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:13:06.838 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:13:06.839 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:13:06.840 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:13:06.841 +08:00 [INF] JWT Claim: exp = 1748575204
2025-05-30 11:13:06.842 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:13:06.844 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:13:06.845 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:13:06.846 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:13:06.847 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:13:06.848 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:13:06.849 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:13:06.851 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:13:06.852 +08:00 [INF] JWT Claim: jti = 83bfaf0c-1839-4e2d-985e-3922165b73e0
2025-05-30 11:13:06.853 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 11:13:06.854 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:13:06.856 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 11:13:06.857 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:13:06.860 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 11:13:06.860 +08:00 [INF] JWT Claim: exp = 1748575204
2025-05-30 11:13:06.869 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:13:06.870 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 11:13:06.877 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:13:06.881 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:13:06.881 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 11:13:06.882 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:13:06.884 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:13:06.885 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 11:13:06.887 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 28.0953ms
2025-05-30 11:13:06.888 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 11:13:06.889 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 11:13:06.892 +08:00 [INF] 获取客户统计数据
2025-05-30 11:13:06.893 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 139.158ms
2025-05-30 11:13:06.897 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
2025-05-30 11:13:06.904 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:13:06.906 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 14.6236ms
2025-05-30 11:13:06.908 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 11:13:06.910 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 200 null application/json; charset=utf-8 139.0048ms
2025-05-30 11:13:23.517 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 11:13:23.521 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:13:23.522 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 11:13:23.524 +08:00 [INF] 请求方法: GET
2025-05-30 11:13:23.525 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:13:23.527 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 11:13:23.529 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:13:23.531 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:13:23.532 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:13:23.534 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODNiZmFmMGMtMTgzOS00ZTJkLTk4NWUtMzkyMjE2NWI3M2UwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzUyMDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.O7CYBadBlv-OjUg-0xLRjoMj-dNWszlDiIzW5alBUq8
2025-05-30 11:13:23.536 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:13:23.538 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:13:23.540 +08:00 [INF] 请求头: traceparent = 00-33f504c0c3bab042bc89aa7c35683b14-810644f95e700569-00
2025-05-30 11:13:23.543 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:13:23.545 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:13:23.547 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:13:23.549 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:13:23.551 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:13:23.553 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:13:23.555 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:13:23.557 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:13:23.559 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:13:23.560 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:13:23.562 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:13:23.563 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:13:23.565 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:13:23.567 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:13:23.569 +08:00 [INF] JWT Claim: jti = 83bfaf0c-1839-4e2d-985e-3922165b73e0
2025-05-30 11:13:23.572 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:13:23.574 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:13:23.577 +08:00 [INF] JWT Claim: exp = 1748575204
2025-05-30 11:13:23.579 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:13:23.581 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:13:23.582 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:13:23.585 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:13:23.588 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 11:13:23.590 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 11:13:23.597 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 11:13:23.610 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 11:13:23.619 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 11:13:23.622 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:13:23.624 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 28.4192ms
2025-05-30 11:13:23.626 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 11:13:23.628 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 111.5405ms
2025-05-30 11:13:23.753 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 11:13:23.757 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:13:23.758 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 11:13:23.759 +08:00 [INF] 请求方法: GET
2025-05-30 11:13:23.760 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:13:23.762 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 11:13:23.763 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:13:23.765 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:13:23.766 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:13:23.768 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODNiZmFmMGMtMTgzOS00ZTJkLTk4NWUtMzkyMjE2NWI3M2UwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzUyMDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.O7CYBadBlv-OjUg-0xLRjoMj-dNWszlDiIzW5alBUq8
2025-05-30 11:13:23.769 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:13:23.771 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:13:23.772 +08:00 [INF] 请求头: traceparent = 00-0476703e144d4b91c0ad35cbd88c7873-4a0e92ccd297a926-00
2025-05-30 11:13:23.774 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:13:23.775 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:13:23.777 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:13:23.779 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:13:23.780 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:13:23.781 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:13:23.783 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:13:23.784 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:13:23.785 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:13:23.786 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:13:23.787 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:13:23.788 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:13:23.789 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:13:23.791 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:13:23.792 +08:00 [INF] JWT Claim: jti = 83bfaf0c-1839-4e2d-985e-3922165b73e0
2025-05-30 11:13:23.793 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:13:23.795 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:13:23.796 +08:00 [INF] JWT Claim: exp = 1748575204
2025-05-30 11:13:23.797 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:13:23.798 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:13:23.799 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:13:23.800 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:13:23.802 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 11:13:23.803 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 11:13:23.805 +08:00 [INF] 获取客户统计数据
2025-05-30 11:13:23.808 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
2025-05-30 11:13:23.812 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:13:23.813 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 8.7273ms
2025-05-30 11:13:23.815 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 11:13:23.817 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 200 null application/json; charset=utf-8 63.8292ms
2025-05-30 11:13:49.991 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 11:13:50.000 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:13:50.001 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 11:13:50.002 +08:00 [INF] 请求方法: GET
2025-05-30 11:13:50.004 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:13:50.005 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 11:13:50.007 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:13:50.008 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:13:50.010 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 11:13:50.010 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:13:50.013 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:13:50.015 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODNiZmFmMGMtMTgzOS00ZTJkLTk4NWUtMzkyMjE2NWI3M2UwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzUyMDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.O7CYBadBlv-OjUg-0xLRjoMj-dNWszlDiIzW5alBUq8
2025-05-30 11:13:50.016 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 11:13:50.017 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:13:50.018 +08:00 [INF] 请求方法: GET
2025-05-30 11:13:50.019 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:13:50.020 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:13:50.021 +08:00 [INF] 请求头: traceparent = 00-2373dbbf5f6685aa036f4adab613e6c8-4a1ebd50a396bd0f-00
2025-05-30 11:13:50.022 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 11:13:50.024 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:13:50.025 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:13:50.027 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:13:50.028 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:13:50.029 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:13:50.030 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:13:50.031 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:13:50.032 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODNiZmFmMGMtMTgzOS00ZTJkLTk4NWUtMzkyMjE2NWI3M2UwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzUyMDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.O7CYBadBlv-OjUg-0xLRjoMj-dNWszlDiIzW5alBUq8
2025-05-30 11:13:50.033 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:13:50.035 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:13:50.036 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:13:50.037 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:13:50.038 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:13:50.039 +08:00 [INF] 请求头: traceparent = 00-f57351cf4135017eebf745fa0d915a8a-8f2e44298ce14c37-00
2025-05-30 11:13:50.040 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:13:50.042 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:13:50.043 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:13:50.044 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:13:50.045 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:13:50.046 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:13:50.047 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:13:50.048 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:13:50.049 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:13:50.050 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:13:50.051 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:13:50.052 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:13:50.053 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:13:50.055 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:13:50.056 +08:00 [INF] JWT Claim: jti = 83bfaf0c-1839-4e2d-985e-3922165b73e0
2025-05-30 11:13:50.057 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:13:50.058 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:13:50.060 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:13:50.061 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:13:50.062 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:13:50.063 +08:00 [INF] JWT Claim: exp = 1748575204
2025-05-30 11:13:50.064 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:13:50.065 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:13:50.065 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:13:50.067 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:13:50.068 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:13:50.069 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:13:50.070 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:13:50.071 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:13:50.072 +08:00 [INF] JWT Claim: jti = 83bfaf0c-1839-4e2d-985e-3922165b73e0
2025-05-30 11:13:50.074 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 11:13:50.075 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:13:50.076 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 11:13:50.078 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:13:50.080 +08:00 [INF] 获取客户统计数据
2025-05-30 11:13:50.080 +08:00 [INF] JWT Claim: exp = 1748575204
2025-05-30 11:13:50.084 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:13:50.085 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:13:50.087 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:13:50.088 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:13:50.089 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 11:13:50.091 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 11:13:50.092 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
2025-05-30 11:13:50.094 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 11:13:50.096 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:13:50.105 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 25.2828ms
2025-05-30 11:13:50.105 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 11:13:50.112 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 11:13:50.116 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 200 null application/json; charset=utf-8 124.2065ms
2025-05-30 11:13:50.117 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 11:13:50.123 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:13:50.125 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 32.2934ms
2025-05-30 11:13:50.127 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 11:13:50.130 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 119.538ms
2025-05-30 11:16:25.392 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 11:16:25.396 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:16:25.397 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 11:16:25.398 +08:00 [INF] 请求方法: GET
2025-05-30 11:16:25.399 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:16:25.400 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 11:16:25.402 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:16:25.403 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:16:25.404 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:16:25.405 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODNiZmFmMGMtMTgzOS00ZTJkLTk4NWUtMzkyMjE2NWI3M2UwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzUyMDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.O7CYBadBlv-OjUg-0xLRjoMj-dNWszlDiIzW5alBUq8
2025-05-30 11:16:25.409 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:16:25.417 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:16:25.418 +08:00 [INF] 请求头: traceparent = 00-71f6c6e8c8966ca69ee5814ccc633316-598f2091e8bf772c-00
2025-05-30 11:16:25.425 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 11:16:25.426 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:16:25.434 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:16:25.435 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:16:25.436 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 11:16:25.438 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:16:25.439 +08:00 [INF] 请求方法: GET
2025-05-30 11:16:25.442 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:16:25.443 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:16:25.445 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:16:25.448 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:16:25.446 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 11:16:25.450 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:16:25.451 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:16:25.452 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:16:25.453 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:16:25.455 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:16:25.456 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:16:25.457 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:16:25.459 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODNiZmFmMGMtMTgzOS00ZTJkLTk4NWUtMzkyMjE2NWI3M2UwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzUyMDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.O7CYBadBlv-OjUg-0xLRjoMj-dNWszlDiIzW5alBUq8
2025-05-30 11:16:25.460 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:16:25.461 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:16:25.462 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:16:25.463 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:16:25.464 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:16:25.466 +08:00 [INF] 请求头: traceparent = 00-cbde2237e898ee822713026cc30c0d18-ab50374d46dc5d5d-00
2025-05-30 11:16:25.467 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:16:25.469 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:16:25.470 +08:00 [INF] JWT Claim: jti = 83bfaf0c-1839-4e2d-985e-3922165b73e0
2025-05-30 11:16:25.471 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:16:25.473 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:16:25.474 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:16:25.476 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:16:25.477 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:16:25.488 +08:00 [INF] JWT Claim: exp = 1748575204
2025-05-30 11:16:25.491 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:16:25.492 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:16:25.494 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:16:25.496 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:16:25.497 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:16:25.499 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:16:25.501 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:16:25.503 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:16:25.504 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:16:25.506 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 11:16:25.507 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:16:25.509 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 11:16:25.510 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:16:25.514 +08:00 [INF] 获取客户统计数据
2025-05-30 11:16:25.514 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:16:25.518 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:16:25.521 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:16:25.522 +08:00 [INF] JWT Claim: jti = 83bfaf0c-1839-4e2d-985e-3922165b73e0
2025-05-30 11:16:25.524 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:16:25.526 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:16:25.527 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
2025-05-30 11:16:25.528 +08:00 [INF] JWT Claim: exp = 1748575204
2025-05-30 11:16:25.531 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:16:25.533 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:16:25.536 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 22.8568ms
2025-05-30 11:16:25.537 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:16:25.539 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 11:16:25.542 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:16:25.544 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 200 null application/json; charset=utf-8 151.5939ms
2025-05-30 11:16:25.545 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:16:25.553 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 11:16:25.555 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 11:16:25.560 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 11:16:25.576 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 11:16:25.582 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 11:16:25.585 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:16:25.586 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 27.5432ms
2025-05-30 11:16:25.588 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 11:16:25.589 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 163.6628ms
2025-05-30 11:16:45.246 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 11:16:45.251 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:16:45.252 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 11:16:45.253 +08:00 [INF] 请求方法: GET
2025-05-30 11:16:45.255 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:16:45.257 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 11:16:45.259 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:16:45.261 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:16:45.262 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:16:45.264 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODNiZmFmMGMtMTgzOS00ZTJkLTk4NWUtMzkyMjE2NWI3M2UwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzUyMDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.O7CYBadBlv-OjUg-0xLRjoMj-dNWszlDiIzW5alBUq8
2025-05-30 11:16:45.267 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:16:45.269 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:16:45.271 +08:00 [INF] 请求头: traceparent = 00-9558e2d8134a228ed62bce99387a5afe-bac4b556fbb62a81-00
2025-05-30 11:16:45.273 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:16:45.275 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:16:45.277 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:16:45.279 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:16:45.281 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:16:45.283 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:16:45.284 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:16:45.286 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:16:45.287 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:16:45.289 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:16:45.290 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:16:45.291 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:16:45.293 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:16:45.295 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:16:45.296 +08:00 [INF] JWT Claim: jti = 83bfaf0c-1839-4e2d-985e-3922165b73e0
2025-05-30 11:16:45.298 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:16:45.300 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:16:45.301 +08:00 [INF] JWT Claim: exp = 1748575204
2025-05-30 11:16:45.303 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:16:45.305 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:16:45.307 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:16:45.308 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:16:45.310 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 11:16:45.311 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 11:16:45.314 +08:00 [INF] 获取客户统计数据
2025-05-30 11:16:45.319 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
2025-05-30 11:16:45.325 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:16:45.327 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 13.255ms
2025-05-30 11:16:45.329 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 11:16:45.330 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 200 null application/json; charset=utf-8 84.3777ms
2025-05-30 11:16:45.478 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 11:16:45.481 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:16:45.482 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 11:16:45.483 +08:00 [INF] 请求方法: GET
2025-05-30 11:16:45.484 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:16:45.485 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 11:16:45.487 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:16:45.488 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:16:45.489 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:16:45.491 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODNiZmFmMGMtMTgzOS00ZTJkLTk4NWUtMzkyMjE2NWI3M2UwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzUyMDQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.O7CYBadBlv-OjUg-0xLRjoMj-dNWszlDiIzW5alBUq8
2025-05-30 11:16:45.492 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:16:45.493 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:16:45.495 +08:00 [INF] 请求头: traceparent = 00-530383b743eff084f642930a8846ed25-d91229216a3a1a45-00
2025-05-30 11:16:45.496 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:16:45.497 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:16:45.498 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:16:45.500 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:16:45.501 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:16:45.502 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:16:45.504 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:16:45.505 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:16:45.506 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:16:45.507 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:16:45.508 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:16:45.509 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:16:45.510 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:16:45.511 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:16:45.512 +08:00 [INF] JWT Claim: jti = 83bfaf0c-1839-4e2d-985e-3922165b73e0
2025-05-30 11:16:45.513 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:16:45.515 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:16:45.516 +08:00 [INF] JWT Claim: exp = 1748575204
2025-05-30 11:16:45.517 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:16:45.518 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:16:45.520 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:16:45.521 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:16:45.523 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 11:16:45.524 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 11:16:45.527 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 11:16:45.535 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 11:16:45.542 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 11:16:45.545 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:16:45.546 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 20.1043ms
2025-05-30 11:16:45.548 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 11:16:45.550 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 72.0244ms
2025-05-30 11:32:43.842 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 11:32:43.846 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:32:43.847 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 11:32:43.848 +08:00 [INF] 请求方法: GET
2025-05-30 11:32:43.849 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:32:43.850 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 11:32:43.851 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:32:43.852 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:32:43.854 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:32:43.855 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2I4ZmExMzAtZjcwMC00NmJhLTliZDEtZTU3NTdhMmJlZGZhIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzY1NjMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.8w3dn2Gs0dcK4ebcTL6T-Zo-dClzJwZ0FcbBUuI6IOg
2025-05-30 11:32:43.857 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:32:43.858 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:32:43.859 +08:00 [INF] 请求头: traceparent = 00-3d41f7c64d20ff3d8e12f73ec217f95f-830d759da3e8968f-00
2025-05-30 11:32:43.861 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:32:43.863 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:32:43.865 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:32:43.867 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:32:43.868 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:32:43.870 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:32:43.871 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:32:43.872 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:32:43.874 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:32:43.875 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:32:43.876 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:32:43.877 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:32:43.879 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:32:43.880 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:32:43.881 +08:00 [INF] JWT Claim: jti = cb8fa130-f700-46ba-9bd1-e5757a2bedfa
2025-05-30 11:32:43.882 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:32:43.883 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:32:43.884 +08:00 [INF] JWT Claim: exp = 1748576563
2025-05-30 11:32:43.886 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:32:43.887 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:32:43.888 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:32:43.889 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:32:43.890 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 11:32:43.892 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 11:32:43.896 +08:00 [INF] 获取客户统计数据
2025-05-30 11:32:43.952 +08:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
2025-05-30 11:32:43.955 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:32:43.957 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 63.8094ms
2025-05-30 11:32:43.959 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 11:32:43.961 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 200 null application/json; charset=utf-8 118.471ms
2025-05-30 11:32:43.992 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 11:32:43.995 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:32:43.996 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 11:32:43.997 +08:00 [INF] 请求方法: GET
2025-05-30 11:32:43.998 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:32:44.000 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 11:32:44.002 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:32:44.003 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:32:44.004 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:32:44.005 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2I4ZmExMzAtZjcwMC00NmJhLTliZDEtZTU3NTdhMmJlZGZhIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzY1NjMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.8w3dn2Gs0dcK4ebcTL6T-Zo-dClzJwZ0FcbBUuI6IOg
2025-05-30 11:32:44.007 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:32:44.008 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:32:44.010 +08:00 [INF] 请求头: traceparent = 00-0208274417e50c420e94d544a9d71a58-e7662e1eca206474-00
2025-05-30 11:32:44.011 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:32:44.012 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:32:44.013 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:32:44.014 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:32:44.016 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:32:44.017 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:32:44.018 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:32:44.019 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:32:44.020 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:32:44.021 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:32:44.022 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:32:44.023 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:32:44.024 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:32:44.025 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:32:44.026 +08:00 [INF] JWT Claim: jti = cb8fa130-f700-46ba-9bd1-e5757a2bedfa
2025-05-30 11:32:44.027 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:32:44.028 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:32:44.029 +08:00 [INF] JWT Claim: exp = 1748576563
2025-05-30 11:32:44.031 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:32:44.032 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:32:44.033 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:32:44.035 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:32:44.036 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 11:32:44.037 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 11:32:44.040 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 11:32:44.049 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 11:32:44.060 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 11:32:44.066 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:32:44.068 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 29.1015ms
2025-05-30 11:32:44.069 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 11:32:44.071 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 78.8778ms
2025-05-30 11:35:15.790 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-30 11:35:16.489 +08:00 [INF] Now listening on: https://localhost:5003
2025-05-30 11:35:17.584 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 11:35:17.592 +08:00 [INF] Hosting environment: Development
2025-05-30 11:35:17.597 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.ClientService
2025-05-30 11:35:20.553 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5003/_framework/aspnetcore-browser-refresh.js - null null
2025-05-30 11:35:20.590 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5003/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 39.3385ms
2025-05-30 11:35:20.676 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5003/_vs/browserLink - null null
2025-05-30 11:35:20.842 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5003/_vs/browserLink - 200 null text/javascript; charset=UTF-8 166.7186ms
2025-05-30 11:35:21.419 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/v1/swagger.json - null null
2025-05-30 11:35:21.535 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 115.8284ms
2025-05-30 11:35:46.663 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 11:35:46.663 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 11:35:46.730 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:35:46.730 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:35:46.734 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 11:35:46.734 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 11:35:46.736 +08:00 [INF] 请求方法: GET
2025-05-30 11:35:46.738 +08:00 [INF] 请求方法: GET
2025-05-30 11:35:46.740 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:35:46.741 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:35:46.743 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 11:35:46.745 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 11:35:46.747 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:35:46.750 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:35:46.752 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:35:46.754 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:35:46.756 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:35:46.758 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:35:46.760 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2I4ZmExMzAtZjcwMC00NmJhLTliZDEtZTU3NTdhMmJlZGZhIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzY1NjMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.8w3dn2Gs0dcK4ebcTL6T-Zo-dClzJwZ0FcbBUuI6IOg
2025-05-30 11:35:46.763 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2I4ZmExMzAtZjcwMC00NmJhLTliZDEtZTU3NTdhMmJlZGZhIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzY1NjMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.8w3dn2Gs0dcK4ebcTL6T-Zo-dClzJwZ0FcbBUuI6IOg
2025-05-30 11:35:46.766 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:35:46.768 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:35:46.770 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:35:46.772 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:35:46.774 +08:00 [INF] 请求头: traceparent = 00-bdb407e2c069bd8dda9ad8f11aed1ffc-77e111a57c0b62e9-00
2025-05-30 11:35:46.777 +08:00 [INF] 请求头: traceparent = 00-780deea6fb07f379d7d0972556da1e80-7db690b0397183ce-00
2025-05-30 11:35:46.779 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:35:46.781 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:35:46.784 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:35:46.786 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:35:46.788 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:35:46.790 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:35:46.793 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:35:46.795 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:35:46.797 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:35:46.800 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:35:46.802 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:35:46.804 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:35:46.806 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:35:46.808 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:35:46.810 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:35:46.812 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:35:46.815 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:35:46.817 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:35:46.819 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:35:46.820 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:35:46.883 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:35:46.883 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:35:46.885 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:35:46.886 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:35:46.888 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:35:46.891 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:35:46.893 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:35:46.894 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:35:46.897 +08:00 [INF] JWT Claim: jti = cb8fa130-f700-46ba-9bd1-e5757a2bedfa
2025-05-30 11:35:46.899 +08:00 [INF] JWT Claim: jti = cb8fa130-f700-46ba-9bd1-e5757a2bedfa
2025-05-30 11:35:46.901 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:35:46.903 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:35:46.905 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:35:46.908 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:35:46.910 +08:00 [INF] JWT Claim: exp = 1748576563
2025-05-30 11:35:46.912 +08:00 [INF] JWT Claim: exp = 1748576563
2025-05-30 11:35:46.915 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:35:46.917 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:35:46.919 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:35:46.921 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:35:46.923 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:35:46.925 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:35:47.064 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:35:47.064 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:35:47.124 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 11:35:47.124 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 11:35:47.180 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 11:35:47.181 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 11:35:48.574 +08:00 [WRN] No store type was specified for the decimal property 'MaxArea' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 11:35:48.578 +08:00 [WRN] No store type was specified for the decimal property 'MaxPrice' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 11:35:48.580 +08:00 [WRN] No store type was specified for the decimal property 'MinArea' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 11:35:48.583 +08:00 [WRN] No store type was specified for the decimal property 'MinPrice' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 11:35:48.586 +08:00 [WRN] No store type was specified for the decimal property 'Area' on entity type 'Property'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 11:35:48.588 +08:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Property'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 11:35:48.887 +08:00 [INF] 获取客户统计数据
2025-05-30 11:35:48.944 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 11:35:50.077 +08:00 [INF] Executed DbCommand (73ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
2025-05-30 11:35:50.077 +08:00 [INF] Executed DbCommand (73ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 11:35:50.229 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:35:50.264 +08:00 [INF] Executed DbCommand (44ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 11:35:50.274 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:35:50.278 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 3088.2055ms
2025-05-30 11:35:50.282 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 11:35:50.295 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 499 null application/json; charset=utf-8 3631.8099ms
2025-05-30 11:35:50.328 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 3138.4927ms
2025-05-30 11:35:50.331 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 11:35:50.334 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 499 null application/json; charset=utf-8 3670.6415ms
2025-05-30 11:35:50.390 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 11:35:50.396 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:35:50.398 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 11:35:50.398 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 11:35:50.403 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:35:50.404 +08:00 [INF] 请求方法: GET
2025-05-30 11:35:50.405 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 11:35:50.407 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:35:50.409 +08:00 [INF] 请求方法: GET
2025-05-30 11:35:50.411 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 11:35:50.412 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:35:50.414 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:35:50.416 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 11:35:50.418 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:35:50.420 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:35:50.422 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:35:50.424 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:35:50.426 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2I4ZmExMzAtZjcwMC00NmJhLTliZDEtZTU3NTdhMmJlZGZhIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzY1NjMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.8w3dn2Gs0dcK4ebcTL6T-Zo-dClzJwZ0FcbBUuI6IOg
2025-05-30 11:35:50.428 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:35:50.430 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:35:50.433 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2I4ZmExMzAtZjcwMC00NmJhLTliZDEtZTU3NTdhMmJlZGZhIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzY1NjMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.8w3dn2Gs0dcK4ebcTL6T-Zo-dClzJwZ0FcbBUuI6IOg
2025-05-30 11:35:50.435 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:35:50.438 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:35:50.440 +08:00 [INF] 请求头: traceparent = 00-a494bcfdd45286c32f7624a9d52c9379-37ae440517330e91-00
2025-05-30 11:35:50.442 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:35:50.444 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:35:50.446 +08:00 [INF] 请求头: traceparent = 00-341b89fb0fb3f25624f91ff78b874691-1f224ec01bf7521a-00
2025-05-30 11:35:50.448 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:35:50.450 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:35:50.452 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:35:50.454 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:35:50.456 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:35:50.458 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:35:50.460 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:35:50.462 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:35:50.464 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:35:50.466 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:35:50.468 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:35:50.470 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:35:50.471 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:35:50.474 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:35:50.475 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:35:50.477 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:35:50.479 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:35:50.481 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:35:50.484 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:35:50.499 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:35:50.499 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:35:50.509 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:35:50.510 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:35:50.512 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:35:50.515 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:35:50.517 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:35:50.519 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:35:50.522 +08:00 [INF] JWT Claim: jti = cb8fa130-f700-46ba-9bd1-e5757a2bedfa
2025-05-30 11:35:50.524 +08:00 [INF] JWT Claim: jti = cb8fa130-f700-46ba-9bd1-e5757a2bedfa
2025-05-30 11:35:50.526 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:35:50.528 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:35:50.531 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:35:50.533 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:35:50.535 +08:00 [INF] JWT Claim: exp = 1748576563
2025-05-30 11:35:50.537 +08:00 [INF] JWT Claim: exp = 1748576563
2025-05-30 11:35:50.539 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:35:50.541 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:35:50.542 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:35:50.544 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:35:50.546 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:35:50.548 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:35:50.553 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:35:50.553 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:35:50.559 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 11:35:50.559 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 11:35:50.561 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 11:35:50.563 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 11:35:50.666 +08:00 [INF] 获取客户统计数据
2025-05-30 11:35:50.668 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 11:35:50.672 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
2025-05-30 11:35:50.685 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:35:50.687 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 11:35:50.694 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 124.6029ms
2025-05-30 11:35:50.697 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 11:35:50.700 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 200 null application/json; charset=utf-8 302.2906ms
2025-05-30 11:35:50.700 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 11:35:50.712 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:35:50.715 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 149.2144ms
2025-05-30 11:35:50.718 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 11:35:50.720 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 331.217ms
2025-05-30 11:37:04.736 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-30 11:37:05.074 +08:00 [INF] Now listening on: https://localhost:5003
2025-05-30 11:37:05.237 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 11:37:05.240 +08:00 [INF] Hosting environment: Development
2025-05-30 11:37:05.241 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.ClientService
2025-05-30 11:37:07.240 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5003/_framework/aspnetcore-browser-refresh.js - null null
2025-05-30 11:37:07.309 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5003/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 71.3156ms
2025-05-30 11:37:08.053 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5003/_vs/browserLink - null null
2025-05-30 11:37:08.330 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5003/_vs/browserLink - 200 null text/javascript; charset=UTF-8 281.0351ms
2025-05-30 11:37:09.405 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/v1/swagger.json - null null
2025-05-30 11:37:09.503 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 97.495ms
2025-05-30 11:37:33.508 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 11:37:33.508 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 11:37:33.550 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:37:33.550 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:37:33.553 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 11:37:33.553 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 11:37:33.554 +08:00 [INF] 请求方法: GET
2025-05-30 11:37:33.555 +08:00 [INF] 请求方法: GET
2025-05-30 11:37:33.556 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:37:33.557 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:37:33.558 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 11:37:33.559 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 11:37:33.560 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:37:33.561 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:37:33.563 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:37:33.564 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:37:33.565 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:37:33.566 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:37:33.567 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2I4ZmExMzAtZjcwMC00NmJhLTliZDEtZTU3NTdhMmJlZGZhIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzY1NjMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.8w3dn2Gs0dcK4ebcTL6T-Zo-dClzJwZ0FcbBUuI6IOg
2025-05-30 11:37:33.569 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2I4ZmExMzAtZjcwMC00NmJhLTliZDEtZTU3NTdhMmJlZGZhIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzY1NjMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.8w3dn2Gs0dcK4ebcTL6T-Zo-dClzJwZ0FcbBUuI6IOg
2025-05-30 11:37:33.570 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:37:33.571 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:37:33.572 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:37:33.573 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:37:33.575 +08:00 [INF] 请求头: traceparent = 00-9917c1226b96d1e59349d804505e5dc7-1c814c6edfc24bb6-00
2025-05-30 11:37:33.576 +08:00 [INF] 请求头: traceparent = 00-816e3009a3e453b69199e0db0d6fe6b4-0117e19cd6852530-00
2025-05-30 11:37:33.577 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:37:33.578 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:37:33.580 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:37:33.580 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:37:33.581 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:37:33.582 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:37:33.583 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:37:33.585 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:37:33.586 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:37:33.587 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:37:33.588 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:37:33.589 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:37:33.590 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:37:33.591 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:37:33.592 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:37:33.593 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:37:33.595 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:37:33.596 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:37:33.597 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:37:33.597 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:37:33.633 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:37:33.633 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:37:33.634 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:37:33.635 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:37:33.636 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:37:33.637 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:37:33.639 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:37:33.640 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:37:33.641 +08:00 [INF] JWT Claim: jti = cb8fa130-f700-46ba-9bd1-e5757a2bedfa
2025-05-30 11:37:33.642 +08:00 [INF] JWT Claim: jti = cb8fa130-f700-46ba-9bd1-e5757a2bedfa
2025-05-30 11:37:33.643 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:37:33.644 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:37:33.646 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:37:33.647 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:37:33.648 +08:00 [INF] JWT Claim: exp = 1748576563
2025-05-30 11:37:33.649 +08:00 [INF] JWT Claim: exp = 1748576563
2025-05-30 11:37:33.650 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:37:33.651 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:37:33.652 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:37:33.653 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:37:33.655 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:37:33.656 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:37:33.725 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:37:33.726 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:37:33.756 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 11:37:33.756 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 11:37:33.780 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 11:37:33.780 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 11:37:34.605 +08:00 [WRN] No store type was specified for the decimal property 'MaxArea' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 11:37:34.609 +08:00 [WRN] No store type was specified for the decimal property 'MaxPrice' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 11:37:34.613 +08:00 [WRN] No store type was specified for the decimal property 'MinArea' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 11:37:34.618 +08:00 [WRN] No store type was specified for the decimal property 'MinPrice' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 11:37:34.622 +08:00 [WRN] No store type was specified for the decimal property 'Area' on entity type 'Property'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 11:37:34.625 +08:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Property'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 11:37:34.806 +08:00 [INF] 获取客户统计数据
2025-05-30 11:37:34.839 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 11:37:35.547 +08:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 11:37:35.547 +08:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
2025-05-30 11:37:35.633 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:37:35.659 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 1871.6652ms
2025-05-30 11:37:35.661 +08:00 [INF] Executed DbCommand (31ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 11:37:35.662 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 11:37:35.667 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:37:35.676 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 200 null application/json; charset=utf-8 2167.7578ms
2025-05-30 11:37:35.702 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 1918.7746ms
2025-05-30 11:37:35.704 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 11:37:35.707 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 2199.2601ms
2025-05-30 11:37:43.484 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 11:37:43.490 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:37:43.491 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 11:37:43.493 +08:00 [INF] 请求方法: GET
2025-05-30 11:37:43.495 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:37:43.497 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 11:37:43.498 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:37:43.500 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:37:43.502 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:37:43.504 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOTliYmI3MGItMjBhZS00ZWVmLTg5NTItYWNiNWQwYzI4YWEzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzY4NjIsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.1LQoQa-xw65YwXVMOhLzbswR-4hilzsevZiYSzMxqB4
2025-05-30 11:37:43.505 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:37:43.507 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:37:43.509 +08:00 [INF] 请求头: traceparent = 00-9f504b436ece514872e3b370a4ac9a71-4fa10a507233d5c8-00
2025-05-30 11:37:43.511 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:37:43.512 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:37:43.514 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:37:43.515 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:37:43.517 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:37:43.518 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:37:43.520 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:37:43.522 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:37:43.523 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:37:43.524 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:37:43.525 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:37:43.527 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:37:43.528 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:37:43.530 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:37:43.531 +08:00 [INF] JWT Claim: jti = 99bbb70b-20ae-4eef-8952-acb5d0c28aa3
2025-05-30 11:37:43.533 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:37:43.534 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:37:43.536 +08:00 [INF] JWT Claim: exp = 1748576862
2025-05-30 11:37:43.537 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:37:43.539 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:37:43.540 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:37:43.546 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:37:43.550 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 11:37:43.552 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 11:37:43.616 +08:00 [INF] 获取客户统计数据
2025-05-30 11:37:43.628 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
2025-05-30 11:37:43.632 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:37:43.635 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 81.1085ms
2025-05-30 11:37:43.637 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 11:37:43.640 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 200 null application/json; charset=utf-8 155.7157ms
2025-05-30 11:37:43.772 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 11:37:43.776 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:37:43.777 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 11:37:43.779 +08:00 [INF] 请求方法: GET
2025-05-30 11:37:43.780 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:37:43.782 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 11:37:43.783 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:37:43.785 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:37:43.787 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:37:43.788 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOTliYmI3MGItMjBhZS00ZWVmLTg5NTItYWNiNWQwYzI4YWEzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzY4NjIsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.1LQoQa-xw65YwXVMOhLzbswR-4hilzsevZiYSzMxqB4
2025-05-30 11:37:43.790 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:37:43.792 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:37:43.794 +08:00 [INF] 请求头: traceparent = 00-5ad5f85ecb2b00bfa3cf164145f583eb-301c63d0503d76c0-00
2025-05-30 11:37:43.796 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:37:43.798 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:37:43.799 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:37:43.801 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:37:43.803 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:37:43.805 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:37:43.808 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:37:43.809 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:37:43.811 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:37:43.812 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:37:43.814 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:37:43.815 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:37:43.817 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:37:43.819 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:37:43.821 +08:00 [INF] JWT Claim: jti = 99bbb70b-20ae-4eef-8952-acb5d0c28aa3
2025-05-30 11:37:43.823 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:37:43.825 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:37:43.827 +08:00 [INF] JWT Claim: exp = 1748576862
2025-05-30 11:37:43.829 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:37:43.831 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:37:43.833 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:37:43.835 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:37:43.838 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 11:37:43.840 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 11:37:43.848 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 11:37:43.868 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 11:37:43.878 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 11:37:43.882 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:37:43.884 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 40.2635ms
2025-05-30 11:37:43.887 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 11:37:43.889 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 116.76ms
2025-05-30 11:37:48.613 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 11:37:48.617 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:37:48.618 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 11:37:48.619 +08:00 [INF] 请求方法: GET
2025-05-30 11:37:48.620 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:37:48.622 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 11:37:48.624 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:37:48.625 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:37:48.628 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:37:48.629 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOTMyMmFlOGQtYWEzOS00ZjgzLTk2NmEtNDc5NDA0MDkyZjU4IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzY4NjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.GWR5gykNgdbKVKGFj-OpIBVqHFmfffmbOAVgJB28awM
2025-05-30 11:37:48.631 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:37:48.632 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:37:48.634 +08:00 [INF] 请求头: traceparent = 00-5f04949c2c404d2e8b1ff3540f8bb487-54a56a56b1b27852-00
2025-05-30 11:37:48.636 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:37:48.637 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:37:48.639 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:37:48.640 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:37:48.642 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:37:48.644 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:37:48.645 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:37:48.647 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:37:48.649 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:37:48.650 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:37:48.652 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:37:48.653 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:37:48.655 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:37:48.656 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:37:48.658 +08:00 [INF] JWT Claim: jti = 9322ae8d-aa39-4f83-966a-479404092f58
2025-05-30 11:37:48.659 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:37:48.661 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:37:48.663 +08:00 [INF] JWT Claim: exp = 1748576867
2025-05-30 11:37:48.665 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:37:48.666 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:37:48.668 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:37:48.670 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:37:48.672 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 11:37:48.673 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 11:37:48.679 +08:00 [INF] 获取客户统计数据
2025-05-30 11:37:48.687 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
2025-05-30 11:37:48.691 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:37:48.695 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 17.563ms
2025-05-30 11:37:48.697 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 11:37:48.699 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 200 null application/json; charset=utf-8 86.017ms
2025-05-30 11:37:48.817 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 11:37:48.821 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:37:48.823 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 11:37:48.825 +08:00 [INF] 请求方法: GET
2025-05-30 11:37:48.826 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:37:48.829 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 11:37:48.831 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:37:48.833 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:37:48.835 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:37:48.837 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOTMyMmFlOGQtYWEzOS00ZjgzLTk2NmEtNDc5NDA0MDkyZjU4IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzY4NjcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.GWR5gykNgdbKVKGFj-OpIBVqHFmfffmbOAVgJB28awM
2025-05-30 11:37:48.840 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:37:48.842 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:37:48.844 +08:00 [INF] 请求头: traceparent = 00-cc3d07c335ca334d4fc56eb43c8279a2-e67eb1f4581e3e26-00
2025-05-30 11:37:48.846 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:37:48.848 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:37:48.850 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:37:48.853 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:37:48.856 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:37:48.858 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:37:48.860 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:37:48.863 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:37:48.865 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:37:48.866 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:37:48.868 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:37:48.870 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:37:48.872 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:37:48.874 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:37:48.876 +08:00 [INF] JWT Claim: jti = 9322ae8d-aa39-4f83-966a-479404092f58
2025-05-30 11:37:48.878 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:37:48.880 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:37:48.882 +08:00 [INF] JWT Claim: exp = 1748576867
2025-05-30 11:37:48.884 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:37:48.886 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:37:48.888 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:37:48.890 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:37:48.892 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 11:37:48.894 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 11:37:48.899 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 11:37:48.912 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 11:37:48.922 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 11:37:48.926 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:37:48.929 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 31.7787ms
2025-05-30 11:37:48.931 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 11:37:48.933 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 116.8814ms
2025-05-30 11:38:39.832 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 11:38:39.838 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:38:39.839 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 11:38:39.840 +08:00 [INF] 请求方法: GET
2025-05-30 11:38:39.841 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:38:39.842 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 11:38:39.844 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:38:39.845 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:38:39.847 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:38:39.848 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOGIwYjM5OWYtMzdkOC00ZWU3LWI5Y2EtNzFlYTc3NTE3N2JhIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzY5MTgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.aiG-Bg7jJQ2Xe7e-trT7pv9KyVEiR55T1f8HiVh75XY
2025-05-30 11:38:39.849 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:38:39.850 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:38:39.858 +08:00 [INF] 请求头: traceparent = 00-297ec2b053abbf12a6fc71a9719e87ab-b8ce7a06933e54d3-00
2025-05-30 11:38:39.867 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:38:39.870 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 11:38:39.872 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:38:39.874 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:38:39.875 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:38:39.876 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 11:38:39.877 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:38:39.878 +08:00 [INF] 请求方法: GET
2025-05-30 11:38:39.879 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:38:39.880 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:38:39.881 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:38:39.882 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 11:38:39.883 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:38:39.885 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:38:39.884 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:38:39.886 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:38:39.887 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:38:39.888 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:38:39.889 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:38:39.890 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:38:39.891 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOGIwYjM5OWYtMzdkOC00ZWU3LWI5Y2EtNzFlYTc3NTE3N2JhIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzY5MTgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.aiG-Bg7jJQ2Xe7e-trT7pv9KyVEiR55T1f8HiVh75XY
2025-05-30 11:38:39.892 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:38:39.893 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:38:39.894 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:38:39.895 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:38:39.896 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:38:39.898 +08:00 [INF] 请求头: traceparent = 00-4ba7ed17ceced0fcaf13d8c0bfd94ed2-5009c367c8b38afa-00
2025-05-30 11:38:39.899 +08:00 [INF] JWT Claim: jti = 8b0b399f-37d8-4ee7-b9ca-71ea775177ba
2025-05-30 11:38:39.900 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:38:39.901 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:38:39.902 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:38:39.903 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:38:39.905 +08:00 [INF] JWT Claim: exp = 1748576918
2025-05-30 11:38:39.904 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:38:39.906 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:38:39.908 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:38:39.909 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:38:39.910 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:38:39.911 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:38:39.912 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:38:39.913 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:38:39.914 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:38:39.915 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 11:38:39.916 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:38:39.917 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 11:38:39.918 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:38:39.921 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:38:39.921 +08:00 [INF] 获取客户统计数据
2025-05-30 11:38:39.922 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:38:39.924 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:38:39.926 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:38:39.927 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
2025-05-30 11:38:39.927 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:38:39.930 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:38:39.930 +08:00 [INF] JWT Claim: jti = 8b0b399f-37d8-4ee7-b9ca-71ea775177ba
2025-05-30 11:38:39.933 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:38:39.932 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 11.5699ms
2025-05-30 11:38:39.934 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:38:39.935 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 11:38:39.937 +08:00 [INF] JWT Claim: exp = 1748576918
2025-05-30 11:38:39.938 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 200 null application/json; charset=utf-8 105.396ms
2025-05-30 11:38:39.939 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:38:39.944 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:38:39.945 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:38:39.947 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:38:39.948 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 11:38:39.949 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 11:38:39.953 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 11:38:39.964 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 11:38:39.971 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 11:38:39.974 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:38:39.976 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 24.3884ms
2025-05-30 11:38:39.978 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 11:38:39.980 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 109.6142ms
2025-05-30 11:38:58.828 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 11:38:58.831 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:38:58.832 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 11:38:58.834 +08:00 [INF] 请求方法: GET
2025-05-30 11:38:58.835 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:38:58.836 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 11:38:58.838 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:38:58.839 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:38:58.840 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:38:58.842 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMTUxM2I1NjItMTFiNC00MWNlLWIzOGQtMDE2MzcwODMxZGM0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzY5MzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.oTBDTrQP01SM7rvacED_eZKrAsQ20nZnVH6NAbeDj9A
2025-05-30 11:38:58.844 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:38:58.845 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:38:58.846 +08:00 [INF] 请求头: traceparent = 00-bf9904290d1403e26b1579ba8c181895-d1ee08d146434317-00
2025-05-30 11:38:58.848 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:38:58.849 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:38:58.850 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:38:58.852 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:38:58.853 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:38:58.855 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:38:58.856 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:38:58.857 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:38:58.859 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:38:58.860 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:38:58.861 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:38:58.862 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:38:58.863 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:38:58.865 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:38:58.866 +08:00 [INF] JWT Claim: jti = 1513b562-11b4-41ce-b38d-016370831dc4
2025-05-30 11:38:58.867 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:38:58.869 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:38:58.870 +08:00 [INF] JWT Claim: exp = 1748576938
2025-05-30 11:38:58.872 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:38:58.873 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:38:58.875 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:38:58.876 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:38:58.877 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 11:38:58.879 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 11:38:58.883 +08:00 [INF] 获取客户统计数据
2025-05-30 11:38:58.890 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
2025-05-30 11:38:58.894 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:38:58.896 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 13.8529ms
2025-05-30 11:38:58.897 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 11:38:58.899 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 200 null application/json; charset=utf-8 71.1404ms
2025-05-30 11:38:59.076 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 11:38:59.081 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:38:59.082 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 11:38:59.083 +08:00 [INF] 请求方法: GET
2025-05-30 11:38:59.085 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:38:59.087 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 11:38:59.089 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:38:59.090 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:38:59.092 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:38:59.094 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMTUxM2I1NjItMTFiNC00MWNlLWIzOGQtMDE2MzcwODMxZGM0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzY5MzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.oTBDTrQP01SM7rvacED_eZKrAsQ20nZnVH6NAbeDj9A
2025-05-30 11:38:59.096 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:38:59.098 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:38:59.100 +08:00 [INF] 请求头: traceparent = 00-dd58eb3a622b8c6cce0e21965a6825f2-c1fc1d8853caae98-00
2025-05-30 11:38:59.101 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:38:59.103 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:38:59.105 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:38:59.106 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:38:59.108 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:38:59.109 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:38:59.111 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:38:59.113 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:38:59.114 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:38:59.115 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:38:59.117 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:38:59.118 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:38:59.120 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:38:59.121 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:38:59.123 +08:00 [INF] JWT Claim: jti = 1513b562-11b4-41ce-b38d-016370831dc4
2025-05-30 11:38:59.124 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:38:59.126 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:38:59.127 +08:00 [INF] JWT Claim: exp = 1748576938
2025-05-30 11:38:59.129 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:38:59.131 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:38:59.132 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:38:59.133 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:38:59.134 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 11:38:59.136 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 11:38:59.139 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 11:38:59.150 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 11:38:59.156 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 11:38:59.159 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:38:59.161 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 23.0204ms
2025-05-30 11:38:59.163 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 11:38:59.165 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 89.0481ms
2025-05-30 11:39:00.964 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=10 - null 0
2025-05-30 11:39:00.970 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:39:00.972 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 11:39:00.974 +08:00 [INF] 请求方法: GET
2025-05-30 11:39:00.976 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:39:00.978 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 11:39:00.980 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:39:00.982 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:39:00.985 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:39:00.987 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMTUxM2I1NjItMTFiNC00MWNlLWIzOGQtMDE2MzcwODMxZGM0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1NzY5MzgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.oTBDTrQP01SM7rvacED_eZKrAsQ20nZnVH6NAbeDj9A
2025-05-30 11:39:00.989 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:39:00.991 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:39:00.994 +08:00 [INF] 请求头: traceparent = 00-a6f02f8b1851ed3a5ee13c03c829cb7c-53e2554e3a64a098-00
2025-05-30 11:39:00.996 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:39:00.998 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:39:01.000 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:39:01.002 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:39:01.004 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:39:01.006 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:39:01.008 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:39:01.011 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:39:01.013 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:39:01.014 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:39:01.016 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:39:01.018 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:39:01.020 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:39:01.022 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:39:01.024 +08:00 [INF] JWT Claim: jti = 1513b562-11b4-41ce-b38d-016370831dc4
2025-05-30 11:39:01.026 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:39:01.029 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:39:01.031 +08:00 [INF] JWT Claim: exp = 1748576938
2025-05-30 11:39:01.033 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:39:01.036 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:39:01.039 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:39:01.040 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:39:01.043 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 11:39:01.046 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 11:39:01.051 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":10,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 11:39:01.068 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 11:39:01.077 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 11:39:01.082 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:39:01.086 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 36.3444ms
2025-05-30 11:39:01.088 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 11:39:01.090 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 125.8233ms
2025-05-30 11:46:46.161 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 11:46:46.165 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:46:46.168 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 11:46:46.176 +08:00 [INF] 请求方法: GET
2025-05-30 11:46:46.177 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:46:46.180 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 11:46:46.183 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 11:46:46.188 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:46:46.190 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:46:46.191 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 11:46:46.192 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:46:46.194 +08:00 [INF] 请求方法: GET
2025-05-30 11:46:46.195 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:46:46.197 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:46:46.198 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOGY0NWE5ZDYtZTJjMC00YTFjLTlhOTMtODFlZDEwODUxNTM5IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzc0MDUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.zLR9LcZkkaV2ge3VZWZ2QqV2VVxCDLtEaY1nHmESsqs
2025-05-30 11:46:46.200 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 11:46:46.202 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:46:46.204 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:46:46.206 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:46:46.207 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:46:46.209 +08:00 [INF] 请求头: traceparent = 00-56d40f4842d9bc2a9e2534bc53b30e69-3ac8d0a5c234a696-00
2025-05-30 11:46:46.211 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:46:46.212 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:46:46.214 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOGY0NWE5ZDYtZTJjMC00YTFjLTlhOTMtODFlZDEwODUxNTM5IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzc0MDUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.zLR9LcZkkaV2ge3VZWZ2QqV2VVxCDLtEaY1nHmESsqs
2025-05-30 11:46:46.216 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:46:46.217 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:46:46.218 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:46:46.219 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:46:46.221 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:46:46.222 +08:00 [INF] 请求头: traceparent = 00-dc1ff0127a6dca7e9c747da1f2841475-b10c333b82ebb9a9-00
2025-05-30 11:46:46.224 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:46:46.225 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:46:46.226 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:46:46.227 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:46:46.228 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:46:46.229 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:46:46.231 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:46:46.230 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:46:46.232 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:46:46.233 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:46:46.234 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:46:46.235 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:46:46.236 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:46:46.237 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:46:46.238 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:46:46.239 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:46:46.240 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:46:46.241 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:46:46.243 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:46:46.244 +08:00 [INF] JWT Claim: jti = 8f45a9d6-e2c0-4a1c-9a93-81ed10851539
2025-05-30 11:46:46.242 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:46:46.245 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:46:46.245 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:46:46.247 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:46:46.247 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:46:46.248 +08:00 [INF] JWT Claim: exp = 1748577405
2025-05-30 11:46:46.250 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:46:46.251 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:46:46.252 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:46:46.249 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:46:46.253 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:46:46.254 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:46:46.256 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 11:46:46.257 +08:00 [INF] JWT Claim: jti = 8f45a9d6-e2c0-4a1c-9a93-81ed10851539
2025-05-30 11:46:46.258 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 11:46:46.259 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:46:46.262 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 11:46:46.262 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:46:46.270 +08:00 [INF] JWT Claim: exp = 1748577405
2025-05-30 11:46:46.276 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:46:46.277 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:46:46.279 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:46:46.280 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:46:46.282 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 11:46:46.286 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 11:46:46.289 +08:00 [INF] 获取客户统计数据
2025-05-30 11:46:46.293 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 11:46:46.302 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 11:46:46.304 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
2025-05-30 11:46:46.307 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:46:46.310 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:46:46.312 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 51.2975ms
2025-05-30 11:46:46.314 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 26.0718ms
2025-05-30 11:46:46.316 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 11:46:46.317 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 11:46:46.319 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 158.2095ms
2025-05-30 11:46:46.320 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 200 null application/json; charset=utf-8 139.9654ms
2025-05-30 11:47:02.221 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 11:47:02.225 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:47:02.226 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 11:47:02.227 +08:00 [INF] 请求方法: GET
2025-05-30 11:47:02.228 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:47:02.229 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 11:47:02.231 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:47:02.233 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:47:02.234 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:47:02.236 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOThhMWNlYzMtOTcwNS00YWZkLTlmMjAtNjJlNzQ4Y2VlYmY5IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzc0MjEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.QmvH1Apv5zhX7CwgYK4lnqWrbuNnDFlTZTlrLmF-ork
2025-05-30 11:47:02.237 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:47:02.239 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:47:02.240 +08:00 [INF] 请求头: traceparent = 00-a7a2510f7e1b14189693a7e45c613339-dcd9175978d1fa48-00
2025-05-30 11:47:02.242 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:47:02.243 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:47:02.245 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:47:02.246 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:47:02.248 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:47:02.250 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:47:02.251 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:47:02.253 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:47:02.254 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:47:02.256 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:47:02.257 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:47:02.258 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:47:02.259 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:47:02.260 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:47:02.261 +08:00 [INF] JWT Claim: jti = 98a1cec3-9705-4afd-9f20-62e748ceebf9
2025-05-30 11:47:02.263 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:47:02.265 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:47:02.266 +08:00 [INF] JWT Claim: exp = 1748577421
2025-05-30 11:47:02.267 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:47:02.268 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:47:02.271 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:47:02.273 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:47:02.275 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 11:47:02.276 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 11:47:02.280 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 11:47:02.295 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 11:47:02.302 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 11:47:02.306 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:47:02.308 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 29.3345ms
2025-05-30 11:47:02.309 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 11:47:02.311 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 90.3514ms
2025-05-30 11:47:02.465 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 11:47:02.469 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:47:02.470 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 11:47:02.471 +08:00 [INF] 请求方法: GET
2025-05-30 11:47:02.472 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:47:02.473 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 11:47:02.474 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:47:02.475 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:47:02.477 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:47:02.478 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOThhMWNlYzMtOTcwNS00YWZkLTlmMjAtNjJlNzQ4Y2VlYmY5IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzc0MjEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.QmvH1Apv5zhX7CwgYK4lnqWrbuNnDFlTZTlrLmF-ork
2025-05-30 11:47:02.479 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:47:02.480 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:47:02.482 +08:00 [INF] 请求头: traceparent = 00-6dc5278e8b7cefb24fc04b70f80c4752-139d163d9edf6b17-00
2025-05-30 11:47:02.483 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:47:02.484 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:47:02.485 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:47:02.486 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:47:02.487 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:47:02.489 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:47:02.490 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:47:02.492 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:47:02.493 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:47:02.494 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:47:02.494 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:47:02.495 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:47:02.497 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:47:02.498 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:47:02.499 +08:00 [INF] JWT Claim: jti = 98a1cec3-9705-4afd-9f20-62e748ceebf9
2025-05-30 11:47:02.500 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:47:02.501 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:47:02.503 +08:00 [INF] JWT Claim: exp = 1748577421
2025-05-30 11:47:02.504 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:47:02.505 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:47:02.506 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:47:02.507 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:47:02.508 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 11:47:02.509 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 11:47:02.511 +08:00 [INF] 获取客户统计数据
2025-05-30 11:47:02.519 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
2025-05-30 11:47:02.523 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:47:02.525 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 13.8132ms
2025-05-30 11:47:02.527 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 11:47:02.529 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 200 null application/json; charset=utf-8 63.9657ms
2025-05-30 11:47:15.513 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 11:47:15.515 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 11:47:15.517 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:47:15.520 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:47:15.520 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 11:47:15.521 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 11:47:15.523 +08:00 [INF] 请求方法: GET
2025-05-30 11:47:15.524 +08:00 [INF] 请求方法: GET
2025-05-30 11:47:15.525 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:47:15.526 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:47:15.527 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 11:47:15.528 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 11:47:15.529 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:47:15.530 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:47:15.532 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:47:15.533 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:47:15.534 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:47:15.535 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:47:15.536 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzVjNzE2YmUtZjYzYi00NzVhLWE4ZTEtNjI4MWQ0Zjg3YmZjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzc0MzUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.MTA1xpuOwQ4n-sRq-LjMY_H10bQavegNhy28csvJPas
2025-05-30 11:47:15.538 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzVjNzE2YmUtZjYzYi00NzVhLWE4ZTEtNjI4MWQ0Zjg3YmZjIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzc0MzUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.MTA1xpuOwQ4n-sRq-LjMY_H10bQavegNhy28csvJPas
2025-05-30 11:47:15.539 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:47:15.541 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:47:15.542 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:47:15.544 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:47:15.545 +08:00 [INF] 请求头: traceparent = 00-2847b92094f7eec9dbb746190e19520e-f230a7e5b57b0991-00
2025-05-30 11:47:15.546 +08:00 [INF] 请求头: traceparent = 00-8ffc4f507f8dfd93f9e97b04dd53906b-39dce56bdad425df-00
2025-05-30 11:47:15.548 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:47:15.549 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:47:15.551 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:47:15.552 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:47:15.554 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:47:15.555 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:47:15.557 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:47:15.558 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:47:15.560 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:47:15.561 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:47:15.563 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:47:15.564 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:47:15.565 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:47:15.567 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:47:15.568 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:47:15.569 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:47:15.570 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:47:15.572 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:47:15.573 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:47:15.574 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:47:15.575 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:47:15.576 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:47:15.577 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:47:15.578 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:47:15.580 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:47:15.581 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:47:15.583 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:47:15.584 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:47:15.585 +08:00 [INF] JWT Claim: jti = 35c716be-f63b-475a-a8e1-6281d4f87bfc
2025-05-30 11:47:15.586 +08:00 [INF] JWT Claim: jti = 35c716be-f63b-475a-a8e1-6281d4f87bfc
2025-05-30 11:47:15.588 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:47:15.589 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:47:15.591 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:47:15.592 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:47:15.594 +08:00 [INF] JWT Claim: exp = 1748577435
2025-05-30 11:47:15.595 +08:00 [INF] JWT Claim: exp = 1748577435
2025-05-30 11:47:15.596 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:47:15.598 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:47:15.599 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:47:15.600 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:47:15.602 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:47:15.603 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:47:15.604 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:47:15.606 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:47:15.607 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 11:47:15.608 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 11:47:15.609 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 11:47:15.610 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 11:47:15.613 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 11:47:15.615 +08:00 [INF] 获取客户统计数据
2025-05-30 11:47:15.628 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 11:47:15.631 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
2025-05-30 11:47:15.637 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:47:15.637 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 11:47:15.639 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 24.758ms
2025-05-30 11:47:15.642 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:47:15.643 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 11:47:15.645 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 32.929ms
2025-05-30 11:47:15.646 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 200 null application/json; charset=utf-8 130.3949ms
2025-05-30 11:47:15.648 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 11:47:15.654 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 140.7167ms
2025-05-30 11:49:36.813 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-30 11:49:37.443 +08:00 [INF] Now listening on: https://localhost:5003
2025-05-30 11:49:37.882 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 11:49:37.888 +08:00 [INF] Hosting environment: Development
2025-05-30 11:49:37.893 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.ClientService
2025-05-30 11:49:39.614 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5003/_framework/aspnetcore-browser-refresh.js - null null
2025-05-30 11:49:39.931 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5003/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 318.7554ms
2025-05-30 11:49:40.571 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5003/_vs/browserLink - null null
2025-05-30 11:49:40.909 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5003/_vs/browserLink - 200 null text/javascript; charset=UTF-8 339.8718ms
2025-05-30 11:49:41.333 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/v1/swagger.json - null null
2025-05-30 11:49:41.585 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 251.1158ms
2025-05-30 11:50:02.436 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 11:50:02.459 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 11:50:02.508 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:50:02.508 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:50:02.512 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 11:50:02.512 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 11:50:02.513 +08:00 [INF] 请求方法: GET
2025-05-30 11:50:02.515 +08:00 [INF] 请求方法: GET
2025-05-30 11:50:02.517 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:50:02.517 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:50:02.519 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 11:50:02.521 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 11:50:02.523 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:50:02.525 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:50:02.527 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:50:02.529 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:50:02.531 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:50:02.533 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:50:02.534 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMjFkYzA1MjYtZmYxOS00ZTI5LThlNWMtOTI5OThmMTM2OGRhIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzc2MDEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.DLrbDiLxi48wUnP_ebrJK2p2UaD1MgEGoj-ZPRzFse0
2025-05-30 11:50:02.536 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMjFkYzA1MjYtZmYxOS00ZTI5LThlNWMtOTI5OThmMTM2OGRhIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzc2MDEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.DLrbDiLxi48wUnP_ebrJK2p2UaD1MgEGoj-ZPRzFse0
2025-05-30 11:50:02.538 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:50:02.540 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:50:02.542 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:50:02.544 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:50:02.546 +08:00 [INF] 请求头: traceparent = 00-78c286c6605f8f2feddc81d9966995d0-c56047b3a0f55634-00
2025-05-30 11:50:02.548 +08:00 [INF] 请求头: traceparent = 00-d2671ec27df0a372431235a77958ccd4-cdaf57da2778d345-00
2025-05-30 11:50:02.550 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:50:02.552 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:50:02.555 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:50:02.556 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:50:02.558 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:50:02.560 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:50:02.562 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:50:02.564 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:50:02.566 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:50:02.568 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:50:02.570 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:50:02.572 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:50:02.574 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:50:02.576 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:50:02.578 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:50:02.580 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:50:02.582 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:50:02.583 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:50:02.585 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:50:02.586 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:50:02.647 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:50:02.647 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:50:02.649 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:50:02.651 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:50:02.653 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:50:02.654 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:50:02.656 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:50:02.658 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:50:02.660 +08:00 [INF] JWT Claim: jti = 21dc0526-ff19-4e29-8e5c-92998f1368da
2025-05-30 11:50:02.662 +08:00 [INF] JWT Claim: jti = 21dc0526-ff19-4e29-8e5c-92998f1368da
2025-05-30 11:50:02.664 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:50:02.666 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:50:02.668 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:50:02.670 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:50:02.672 +08:00 [INF] JWT Claim: exp = 1748577601
2025-05-30 11:50:02.674 +08:00 [INF] JWT Claim: exp = 1748577601
2025-05-30 11:50:02.676 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:50:02.679 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:50:02.681 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:50:02.683 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:50:02.685 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:50:02.687 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:50:02.832 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:50:02.832 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:50:02.879 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 11:50:02.879 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 11:50:02.915 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 11:50:02.918 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 11:50:03.996 +08:00 [WRN] No store type was specified for the decimal property 'MaxArea' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 11:50:03.999 +08:00 [WRN] No store type was specified for the decimal property 'MaxPrice' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 11:50:04.001 +08:00 [WRN] No store type was specified for the decimal property 'MinArea' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 11:50:04.003 +08:00 [WRN] No store type was specified for the decimal property 'MinPrice' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 11:50:04.005 +08:00 [WRN] No store type was specified for the decimal property 'Area' on entity type 'Property'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 11:50:04.006 +08:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Property'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 11:50:04.228 +08:00 [INF] 获取客户统计数据
2025-05-30 11:50:04.272 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 11:50:04.971 +08:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
2025-05-30 11:50:04.971 +08:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 11:50:05.099 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:50:05.127 +08:00 [INF] Executed DbCommand (36ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 11:50:05.133 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:50:05.133 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 2210.1752ms
2025-05-30 11:50:05.137 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 11:50:05.147 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 200 null application/json; charset=utf-8 2687.944ms
2025-05-30 11:50:05.166 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 2243.1714ms
2025-05-30 11:50:05.168 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 11:50:05.170 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 2733.9635ms
2025-05-30 11:50:23.123 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 11:50:23.126 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:50:23.127 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 11:50:23.128 +08:00 [INF] 请求方法: GET
2025-05-30 11:50:23.130 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:50:23.131 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 11:50:23.132 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:50:23.133 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:50:23.135 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:50:23.136 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZTgzMDVmNzYtOTEwYi00NDgzLWJmZDktYmMyNmM2NDA1MTU0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzc2MjIsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.78M2kpXAG7oxQJTIOgv1n84vS8q2FIHHzzRvca_SHZQ
2025-05-30 11:50:23.138 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:50:23.140 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:50:23.141 +08:00 [INF] 请求头: traceparent = 00-d243a0bd7ec12768d68fe83afb8c72b8-322cb71f8d0517f0-00
2025-05-30 11:50:23.142 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:50:23.143 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:50:23.145 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:50:23.146 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:50:23.148 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:50:23.149 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:50:23.150 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:50:23.152 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:50:23.153 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:50:23.154 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:50:23.156 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:50:23.157 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:50:23.158 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:50:23.160 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:50:23.161 +08:00 [INF] JWT Claim: jti = e8305f76-910b-4483-bfd9-bc26c6405154
2025-05-30 11:50:23.163 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:50:23.164 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:50:23.166 +08:00 [INF] JWT Claim: exp = 1748577622
2025-05-30 11:50:23.167 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:50:23.168 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:50:23.170 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:50:23.174 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:50:23.179 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 11:50:23.181 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 11:50:23.250 +08:00 [INF] 获取客户统计数据
2025-05-30 11:50:23.257 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
2025-05-30 11:50:23.263 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:50:23.265 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 82.6269ms
2025-05-30 11:50:23.267 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 11:50:23.269 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 200 null application/json; charset=utf-8 146.1859ms
2025-05-30 11:50:23.391 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 11:50:23.394 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:50:23.395 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 11:50:23.397 +08:00 [INF] 请求方法: GET
2025-05-30 11:50:23.398 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:50:23.399 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 11:50:23.401 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:50:23.403 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:50:23.404 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:50:23.406 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZTgzMDVmNzYtOTEwYi00NDgzLWJmZDktYmMyNmM2NDA1MTU0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzc2MjIsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.78M2kpXAG7oxQJTIOgv1n84vS8q2FIHHzzRvca_SHZQ
2025-05-30 11:50:23.407 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:50:23.408 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:50:23.410 +08:00 [INF] 请求头: traceparent = 00-1be743fd72d81e67417b5406032d2340-8880d6960ced484d-00
2025-05-30 11:50:23.411 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:50:23.413 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:50:23.415 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:50:23.416 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:50:23.417 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:50:23.419 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:50:23.420 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:50:23.422 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:50:23.423 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:50:23.424 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:50:23.425 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:50:23.427 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:50:23.428 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:50:23.429 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:50:23.431 +08:00 [INF] JWT Claim: jti = e8305f76-910b-4483-bfd9-bc26c6405154
2025-05-30 11:50:23.432 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:50:23.434 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:50:23.435 +08:00 [INF] JWT Claim: exp = 1748577622
2025-05-30 11:50:23.437 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:50:23.438 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:50:23.439 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:50:23.441 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:50:23.442 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 11:50:23.444 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 11:50:23.449 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 11:50:23.463 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 11:50:23.472 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 11:50:23.475 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:50:23.477 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 31.0936ms
2025-05-30 11:50:23.479 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 11:50:23.481 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 89.9357ms
2025-05-30 11:53:58.866 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-30 11:53:59.334 +08:00 [INF] Now listening on: https://localhost:5003
2025-05-30 11:53:59.516 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 11:53:59.518 +08:00 [INF] Hosting environment: Development
2025-05-30 11:53:59.520 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.ClientService
2025-05-30 11:54:01.205 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5003/_framework/aspnetcore-browser-refresh.js - null null
2025-05-30 11:54:01.247 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5003/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 44.2349ms
2025-05-30 11:54:01.518 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5003/_vs/browserLink - null null
2025-05-30 11:54:02.957 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5003/_vs/browserLink - 200 null text/javascript; charset=UTF-8 1439.9325ms
2025-05-30 11:54:04.116 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/v1/swagger.json - null null
2025-05-30 11:54:04.229 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 113.3125ms
2025-05-30 11:54:09.889 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 11:54:09.889 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 11:54:10.020 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:54:10.020 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:54:10.025 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 11:54:10.025 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 11:54:10.027 +08:00 [INF] 请求方法: GET
2025-05-30 11:54:10.029 +08:00 [INF] 请求方法: GET
2025-05-30 11:54:10.032 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:54:10.033 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:54:10.035 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 11:54:10.037 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 11:54:10.040 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:54:10.042 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:54:10.045 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:54:10.047 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:54:10.049 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:54:10.052 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:54:10.054 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZTgzMDVmNzYtOTEwYi00NDgzLWJmZDktYmMyNmM2NDA1MTU0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzc2MjIsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.78M2kpXAG7oxQJTIOgv1n84vS8q2FIHHzzRvca_SHZQ
2025-05-30 11:54:10.056 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZTgzMDVmNzYtOTEwYi00NDgzLWJmZDktYmMyNmM2NDA1MTU0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzc2MjIsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.78M2kpXAG7oxQJTIOgv1n84vS8q2FIHHzzRvca_SHZQ
2025-05-30 11:54:10.059 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:54:10.061 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:54:10.063 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:54:10.066 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:54:10.068 +08:00 [INF] 请求头: traceparent = 00-0c8c91f7f0e37c61a55c57b1b6e4bdc6-7bb35395f0eef115-00
2025-05-30 11:54:10.070 +08:00 [INF] 请求头: traceparent = 00-53062af0ee7627380e9dc1ab3ade8e31-583ff0d8b9fc12db-00
2025-05-30 11:54:10.073 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:54:10.075 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:54:10.079 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:54:10.081 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:54:10.084 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:54:10.087 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:54:10.090 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:54:10.092 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:54:10.095 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:54:10.098 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:54:10.101 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:54:10.103 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:54:10.106 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:54:10.109 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:54:10.112 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:54:10.114 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:54:10.116 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:54:10.118 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:54:10.120 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:54:10.121 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:54:10.211 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:54:10.211 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:54:10.214 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:54:10.216 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:54:10.218 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:54:10.220 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:54:10.222 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:54:10.225 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:54:10.227 +08:00 [INF] JWT Claim: jti = e8305f76-910b-4483-bfd9-bc26c6405154
2025-05-30 11:54:10.229 +08:00 [INF] JWT Claim: jti = e8305f76-910b-4483-bfd9-bc26c6405154
2025-05-30 11:54:10.232 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:54:10.234 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:54:10.236 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:54:10.238 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:54:10.241 +08:00 [INF] JWT Claim: exp = 1748577622
2025-05-30 11:54:10.243 +08:00 [INF] JWT Claim: exp = 1748577622
2025-05-30 11:54:10.245 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:54:10.247 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:54:10.249 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:54:10.251 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:54:10.254 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:54:10.256 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:54:10.415 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:54:10.415 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:54:10.460 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 11:54:10.460 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 11:54:10.511 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 11:54:10.515 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 11:54:12.059 +08:00 [WRN] No store type was specified for the decimal property 'MaxArea' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 11:54:12.062 +08:00 [WRN] No store type was specified for the decimal property 'MaxPrice' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 11:54:12.065 +08:00 [WRN] No store type was specified for the decimal property 'MinArea' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 11:54:12.068 +08:00 [WRN] No store type was specified for the decimal property 'MinPrice' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 11:54:12.071 +08:00 [WRN] No store type was specified for the decimal property 'Area' on entity type 'Property'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 11:54:12.074 +08:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Property'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 11:54:12.459 +08:00 [INF] 获取客户统计数据
2025-05-30 11:54:12.536 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 11:54:12.555 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 11:54:12.587 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:54:12.611 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 11:54:12.613 +08:00 [INF] 请求方法: GET
2025-05-30 11:54:12.616 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:54:12.619 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 11:54:12.622 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:54:12.624 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:54:12.628 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:54:12.631 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZTgzMDVmNzYtOTEwYi00NDgzLWJmZDktYmMyNmM2NDA1MTU0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzc2MjIsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.78M2kpXAG7oxQJTIOgv1n84vS8q2FIHHzzRvca_SHZQ
2025-05-30 11:54:12.634 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:54:12.637 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:54:12.639 +08:00 [INF] 请求头: traceparent = 00-e43e26cb2e1b360ac41c3dad8866f914-dd73edc90519224f-00
2025-05-30 11:54:12.642 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:54:12.645 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:54:12.648 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:54:12.651 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:54:12.654 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:54:12.657 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:54:12.661 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:54:12.664 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:54:12.668 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:54:12.670 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:54:12.673 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:54:12.676 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:54:12.679 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:54:12.683 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:54:12.686 +08:00 [INF] JWT Claim: jti = e8305f76-910b-4483-bfd9-bc26c6405154
2025-05-30 11:54:12.689 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:54:12.693 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:54:12.697 +08:00 [INF] JWT Claim: exp = 1748577622
2025-05-30 11:54:12.701 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:54:12.708 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:54:12.711 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:54:12.719 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:54:12.729 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 11:54:12.733 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 11:54:12.873 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 11:54:13.066 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 11:54:13.073 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:54:13.075 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 11:54:13.078 +08:00 [INF] 请求方法: GET
2025-05-30 11:54:13.081 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:54:13.084 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 11:54:13.087 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:54:13.091 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:54:13.094 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:54:13.097 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZTgzMDVmNzYtOTEwYi00NDgzLWJmZDktYmMyNmM2NDA1MTU0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzc2MjIsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.78M2kpXAG7oxQJTIOgv1n84vS8q2FIHHzzRvca_SHZQ
2025-05-30 11:54:13.101 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:54:13.105 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:54:13.108 +08:00 [INF] 请求头: traceparent = 00-33e72f032d8c6c95caaa8db35b408f7e-1d655dcbe8ef6554-00
2025-05-30 11:54:13.111 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:54:13.115 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:54:13.118 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:54:13.121 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:54:13.125 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:54:13.128 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:54:13.132 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:54:13.135 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:54:13.138 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:54:13.140 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:54:13.143 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:54:13.145 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:54:13.149 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:54:13.153 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:54:13.156 +08:00 [INF] JWT Claim: jti = e8305f76-910b-4483-bfd9-bc26c6405154
2025-05-30 11:54:13.159 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:54:13.162 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:54:13.165 +08:00 [INF] JWT Claim: exp = 1748577622
2025-05-30 11:54:13.168 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:54:13.191 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:54:13.194 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:54:13.197 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:54:13.205 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 11:54:13.219 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 11:54:13.226 +08:00 [INF] 获取客户统计数据
2025-05-30 11:54:13.933 +08:00 [INF] Executed DbCommand (100ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
2025-05-30 11:54:13.933 +08:00 [INF] Executed DbCommand (100ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
2025-05-30 11:54:13.933 +08:00 [INF] Executed DbCommand (100ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 11:54:13.933 +08:00 [INF] Executed DbCommand (95ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 11:54:14.100 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:54:14.100 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:54:14.129 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 900.4688ms
2025-05-30 11:54:14.129 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 3610.9197ms
2025-05-30 11:54:14.130 +08:00 [INF] Executed DbCommand (56ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 11:54:14.130 +08:00 [INF] Executed DbCommand (56ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 11:54:14.133 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 11:54:14.135 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 11:54:14.144 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:54:14.144 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:54:14.158 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 200 null application/json; charset=utf-8 1091.4834ms
2025-05-30 11:54:14.158 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 499 null application/json; charset=utf-8 4268.6184ms
2025-05-30 11:54:14.197 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 1457.892ms
2025-05-30 11:54:14.198 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 3677.7685ms
2025-05-30 11:54:14.200 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 11:54:14.202 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 11:54:14.204 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 1649.6535ms
2025-05-30 11:54:14.207 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 499 null application/json; charset=utf-8 4317.706ms
2025-05-30 11:54:16.847 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=10 - null 0
2025-05-30 11:54:16.851 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 11:54:16.852 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 11:54:16.853 +08:00 [INF] 请求方法: GET
2025-05-30 11:54:16.854 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 11:54:16.856 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 11:54:16.857 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 11:54:16.858 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 11:54:16.860 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 11:54:16.861 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiZTgzMDVmNzYtOTEwYi00NDgzLWJmZDktYmMyNmM2NDA1MTU0IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzc2MjIsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.78M2kpXAG7oxQJTIOgv1n84vS8q2FIHHzzRvca_SHZQ
2025-05-30 11:54:16.862 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 11:54:16.864 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 11:54:16.865 +08:00 [INF] 请求头: traceparent = 00-decb685d64b0fe822ba535cb9d000bdc-1fa63de1b2ed2fb3-00
2025-05-30 11:54:16.866 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 11:54:16.867 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 11:54:16.869 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 11:54:16.870 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 11:54:16.871 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 11:54:16.873 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 11:54:16.874 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 11:54:16.875 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 11:54:16.876 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 11:54:16.877 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 11:54:16.878 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 11:54:16.879 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:54:16.881 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 11:54:16.883 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 11:54:16.884 +08:00 [INF] JWT Claim: jti = e8305f76-910b-4483-bfd9-bc26c6405154
2025-05-30 11:54:16.886 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 11:54:16.887 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 11:54:16.889 +08:00 [INF] JWT Claim: exp = 1748577622
2025-05-30 11:54:16.890 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 11:54:16.891 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 11:54:16.893 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 11:54:16.894 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 11:54:16.895 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 11:54:16.897 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 11:54:16.901 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":10,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 11:54:16.913 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 11:54:16.919 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 11:54:16.922 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 11:54:16.924 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 24.8497ms
2025-05-30 11:54:16.926 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 11:54:16.928 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 80.5171ms
2025-05-30 12:00:49.282 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-30 12:00:49.640 +08:00 [INF] Now listening on: https://localhost:5003
2025-05-30 12:00:49.816 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 12:00:49.820 +08:00 [INF] Hosting environment: Development
2025-05-30 12:00:49.824 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.ClientService
2025-05-30 12:00:52.852 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5003/_framework/aspnetcore-browser-refresh.js - null null
2025-05-30 12:00:52.852 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5003/_vs/browserLink - null null
2025-05-30 12:00:52.936 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5003/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 86.4761ms
2025-05-30 12:00:53.035 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5003/_vs/browserLink - 200 null text/javascript; charset=UTF-8 186.621ms
2025-05-30 12:00:53.700 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/v1/swagger.json - null null
2025-05-30 12:00:53.798 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 98.009ms
2025-05-30 12:12:38.651 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 12:12:38.651 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 12:12:38.686 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 12:12:38.686 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 12:12:38.688 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 12:12:38.688 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 12:12:38.689 +08:00 [INF] 请求方法: GET
2025-05-30 12:12:38.690 +08:00 [INF] 请求方法: GET
2025-05-30 12:12:38.691 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 12:12:38.692 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 12:12:38.693 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 12:12:38.694 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 12:12:38.695 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 12:12:38.696 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 12:12:38.697 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 12:12:38.698 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 12:12:38.699 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 12:12:38.700 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 12:12:38.701 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiN2VkNTU0YjYtZDcyNS00ZGY0LWFlZjctOWVhNzY1Y2M1MWFlIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzg5NTcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.VxNE7A29hV5W46r9r5Ot9e7rVUMv4L_SY2Z2LqKpKLQ
2025-05-30 12:12:38.702 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiN2VkNTU0YjYtZDcyNS00ZGY0LWFlZjctOWVhNzY1Y2M1MWFlIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzg5NTcsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.VxNE7A29hV5W46r9r5Ot9e7rVUMv4L_SY2Z2LqKpKLQ
2025-05-30 12:12:38.703 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 12:12:38.704 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 12:12:38.705 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 12:12:38.706 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 12:12:38.707 +08:00 [INF] 请求头: traceparent = 00-b3348a3f098dd092efb7d389b2a3ba81-9d6614cf422909de-00
2025-05-30 12:12:38.708 +08:00 [INF] 请求头: traceparent = 00-9a23bb3b048a8872b605f60d71825979-ace9315bcc9eab2e-00
2025-05-30 12:12:38.709 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 12:12:38.710 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 12:12:38.712 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 12:12:38.712 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 12:12:38.714 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 12:12:38.715 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 12:12:38.716 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 12:12:38.717 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 12:12:38.718 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 12:12:38.719 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 12:12:38.720 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 12:12:38.721 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 12:12:38.722 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 12:12:38.723 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 12:12:38.724 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 12:12:38.725 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 12:12:38.726 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 12:12:38.727 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 12:12:38.728 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 12:12:38.729 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 12:12:38.758 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 12:12:38.758 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 12:12:38.759 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 12:12:38.760 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 12:12:38.761 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 12:12:38.762 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 12:12:38.764 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 12:12:38.765 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 12:12:38.766 +08:00 [INF] JWT Claim: jti = 7ed554b6-d725-4df4-aef7-9ea765cc51ae
2025-05-30 12:12:38.767 +08:00 [INF] JWT Claim: jti = 7ed554b6-d725-4df4-aef7-9ea765cc51ae
2025-05-30 12:12:38.768 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 12:12:38.769 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 12:12:38.770 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 12:12:38.771 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 12:12:38.772 +08:00 [INF] JWT Claim: exp = 1748578957
2025-05-30 12:12:38.773 +08:00 [INF] JWT Claim: exp = 1748578957
2025-05-30 12:12:38.774 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 12:12:38.776 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 12:12:38.777 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 12:12:38.778 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 12:12:38.779 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 12:12:38.780 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 12:12:38.843 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 12:12:38.843 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 12:12:38.865 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 12:12:38.865 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 12:12:38.883 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 12:12:38.884 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 12:12:39.351 +08:00 [WRN] No store type was specified for the decimal property 'MaxArea' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 12:12:39.353 +08:00 [WRN] No store type was specified for the decimal property 'MaxPrice' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 12:12:39.355 +08:00 [WRN] No store type was specified for the decimal property 'MinArea' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 12:12:39.357 +08:00 [WRN] No store type was specified for the decimal property 'MinPrice' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 12:12:39.358 +08:00 [WRN] No store type was specified for the decimal property 'Area' on entity type 'Property'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 12:12:39.359 +08:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Property'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 12:12:39.474 +08:00 [INF] 获取客户统计数据
2025-05-30 12:12:39.507 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 12:12:39.951 +08:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 12:12:39.951 +08:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
2025-05-30 12:12:40.011 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 12:12:40.029 +08:00 [INF] Executed DbCommand (21ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 12:12:40.031 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 1143.3264ms
2025-05-30 12:12:40.033 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 12:12:40.034 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 12:12:40.040 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 200 null application/json; charset=utf-8 1389.2401ms
2025-05-30 12:12:40.057 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 1170.3303ms
2025-05-30 12:12:40.059 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 12:12:40.060 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 1408.7957ms
2025-05-30 12:27:30.875 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-30 12:27:31.860 +08:00 [INF] Now listening on: https://localhost:5003
2025-05-30 12:27:32.241 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 12:27:32.248 +08:00 [INF] Hosting environment: Development
2025-05-30 12:27:32.251 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.ClientService
2025-05-30 12:27:33.850 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5003/_framework/aspnetcore-browser-refresh.js - null null
2025-05-30 12:27:33.916 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5003/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 69.6226ms
2025-05-30 12:27:34.190 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5003/_vs/browserLink - null null
2025-05-30 12:27:34.441 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5003/_vs/browserLink - 200 null text/javascript; charset=UTF-8 251.9799ms
2025-05-30 12:27:34.893 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/v1/swagger.json - null null
2025-05-30 12:27:35.092 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 199.4285ms
2025-05-30 12:27:52.102 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 12:27:52.102 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 12:27:52.157 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 12:27:52.158 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 12:27:52.161 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 12:27:52.161 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 12:27:52.162 +08:00 [INF] 请求方法: GET
2025-05-30 12:27:52.163 +08:00 [INF] 请求方法: GET
2025-05-30 12:27:52.165 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 12:27:52.166 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 12:27:52.168 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 12:27:52.171 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 12:27:52.172 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 12:27:52.173 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 12:27:52.175 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 12:27:52.177 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 12:27:52.179 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 12:27:52.180 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 12:27:52.181 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODQ2Njg5NTQtZTBmMi00ZWY2LTlmOGYtOGRhOTJjZDllNDZmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzk4NzEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.lAoIAfJ6uBp9SIPe3_BU-CsurbR7-n3LKsx91ssN0KI
2025-05-30 12:27:52.183 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODQ2Njg5NTQtZTBmMi00ZWY2LTlmOGYtOGRhOTJjZDllNDZmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzk4NzEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.lAoIAfJ6uBp9SIPe3_BU-CsurbR7-n3LKsx91ssN0KI
2025-05-30 12:27:52.184 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 12:27:52.186 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 12:27:52.188 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 12:27:52.189 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 12:27:52.190 +08:00 [INF] 请求头: traceparent = 00-1a6757b701532c2bcf9bbdb1ac40f4aa-49592243fd4c5da4-00
2025-05-30 12:27:52.192 +08:00 [INF] 请求头: traceparent = 00-0eb218870dff282eedabaf35ed0f310c-0fc6a18750c0eb2e-00
2025-05-30 12:27:52.193 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 12:27:52.195 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 12:27:52.196 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 12:27:52.197 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 12:27:52.199 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 12:27:52.200 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 12:27:52.202 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 12:27:52.203 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 12:27:52.204 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 12:27:52.206 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 12:27:52.207 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 12:27:52.209 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 12:27:52.210 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 12:27:52.211 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 12:27:52.213 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 12:27:52.214 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 12:27:52.215 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 12:27:52.216 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 12:27:52.218 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 12:27:52.218 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 12:27:52.271 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 12:27:52.271 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 12:27:52.272 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 12:27:52.273 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 12:27:52.275 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 12:27:52.277 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 12:27:52.278 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 12:27:52.280 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 12:27:52.281 +08:00 [INF] JWT Claim: jti = 84668954-e0f2-4ef6-9f8f-8da92cd9e46f
2025-05-30 12:27:52.283 +08:00 [INF] JWT Claim: jti = 84668954-e0f2-4ef6-9f8f-8da92cd9e46f
2025-05-30 12:27:52.284 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 12:27:52.286 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 12:27:52.287 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 12:27:52.289 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 12:27:52.290 +08:00 [INF] JWT Claim: exp = 1748579871
2025-05-30 12:27:52.292 +08:00 [INF] JWT Claim: exp = 1748579871
2025-05-30 12:27:52.294 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 12:27:52.295 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 12:27:52.297 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 12:27:52.298 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 12:27:52.300 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 12:27:52.301 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 12:27:52.408 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 12:27:52.408 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 12:27:52.442 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 12:27:52.442 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 12:27:52.468 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 12:27:52.470 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 12:27:53.424 +08:00 [WRN] No store type was specified for the decimal property 'MaxArea' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 12:27:53.426 +08:00 [WRN] No store type was specified for the decimal property 'MaxPrice' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 12:27:53.428 +08:00 [WRN] No store type was specified for the decimal property 'MinArea' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 12:27:53.431 +08:00 [WRN] No store type was specified for the decimal property 'MinPrice' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 12:27:53.433 +08:00 [WRN] No store type was specified for the decimal property 'Area' on entity type 'Property'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 12:27:53.435 +08:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Property'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 12:27:53.680 +08:00 [INF] 获取客户统计数据
2025-05-30 12:27:53.728 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 12:27:54.531 +08:00 [INF] Executed DbCommand (63ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 12:27:54.531 +08:00 [INF] Executed DbCommand (63ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
2025-05-30 12:27:54.674 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 12:27:54.710 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 2233.88ms
2025-05-30 12:27:54.714 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 12:27:54.717 +08:00 [INF] Executed DbCommand (52ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 12:27:54.727 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 12:27:54.729 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 200 null application/json; charset=utf-8 2627.9409ms
2025-05-30 12:27:54.784 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 2309.9522ms
2025-05-30 12:27:54.787 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 12:27:54.790 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 2688.2093ms
2025-05-30 12:28:14.789 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 12:28:14.794 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 12:28:14.795 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 12:28:14.796 +08:00 [INF] 请求方法: GET
2025-05-30 12:28:14.797 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 12:28:14.799 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 12:28:14.801 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 12:28:14.803 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 12:28:14.809 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 12:28:14.814 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODQ2Njg5NTQtZTBmMi00ZWY2LTlmOGYtOGRhOTJjZDllNDZmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzk4NzEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.lAoIAfJ6uBp9SIPe3_BU-CsurbR7-n3LKsx91ssN0KI
2025-05-30 12:28:14.815 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 12:28:14.818 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 12:28:14.820 +08:00 [INF] 请求头: traceparent = 00-4491598b2e97e3c386d9ca64987cd9d2-468e9f76e0c205d4-00
2025-05-30 12:28:14.829 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 12:28:14.832 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 12:28:14.838 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 12:28:14.839 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 12:28:14.840 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 12:28:14.841 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 12:28:14.842 +08:00 [INF] 请求方法: GET
2025-05-30 12:28:14.843 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 12:28:14.844 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 12:28:14.845 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 12:28:14.847 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 12:28:14.848 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 12:28:14.849 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 12:28:14.851 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 12:28:14.852 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 12:28:14.853 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 12:28:14.855 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 12:28:14.856 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 12:28:14.857 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODQ2Njg5NTQtZTBmMi00ZWY2LTlmOGYtOGRhOTJjZDllNDZmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzk4NzEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.lAoIAfJ6uBp9SIPe3_BU-CsurbR7-n3LKsx91ssN0KI
2025-05-30 12:28:14.858 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 12:28:14.860 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 12:28:14.861 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 12:28:14.862 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 12:28:14.863 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 12:28:14.864 +08:00 [INF] 请求头: traceparent = 00-7b256987e798d021754224e2b3529f07-83ad412659d1bae6-00
2025-05-30 12:28:14.865 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 12:28:14.866 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 12:28:14.868 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 12:28:14.869 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 12:28:14.870 +08:00 [INF] JWT Claim: jti = 84668954-e0f2-4ef6-9f8f-8da92cd9e46f
2025-05-30 12:28:14.872 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 12:28:14.873 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 12:28:14.874 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 12:28:14.876 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 12:28:14.878 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 12:28:14.879 +08:00 [INF] JWT Claim: exp = 1748579871
2025-05-30 12:28:14.881 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 12:28:14.882 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 12:28:14.883 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 12:28:14.885 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 12:28:14.886 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 12:28:14.888 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 12:28:14.889 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 12:28:14.891 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 12:28:14.892 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 12:28:14.893 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 12:28:14.893 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 12:28:14.894 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 12:28:14.897 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 12:28:14.898 +08:00 [INF] JWT Claim: jti = 84668954-e0f2-4ef6-9f8f-8da92cd9e46f
2025-05-30 12:28:14.899 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 12:28:14.900 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 12:28:14.902 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 12:28:14.903 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 12:28:14.906 +08:00 [INF] JWT Claim: exp = 1748579871
2025-05-30 12:28:14.908 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 12:28:14.909 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 12:28:14.911 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 12:28:14.912 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 12:28:14.913 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 12:28:14.915 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 12:28:14.972 +08:00 [INF] 获取客户统计数据
2025-05-30 12:28:14.974 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 12:28:14.979 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
2025-05-30 12:28:14.989 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 12:28:14.990 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 12:28:14.992 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 86.9656ms
2025-05-30 12:28:14.996 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 12:28:14.998 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 200 null application/json; charset=utf-8 208.7093ms
2025-05-30 12:28:15.004 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 12:28:15.008 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 12:28:15.010 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 92.784ms
2025-05-30 12:28:15.012 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 12:28:15.014 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 184.8195ms
2025-05-30 12:28:23.867 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=10 - null 0
2025-05-30 12:28:23.871 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 12:28:23.872 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 12:28:23.873 +08:00 [INF] 请求方法: GET
2025-05-30 12:28:23.874 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 12:28:23.876 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 12:28:23.878 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 12:28:23.880 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 12:28:23.881 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 12:28:23.882 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiODQ2Njg5NTQtZTBmMi00ZWY2LTlmOGYtOGRhOTJjZDllNDZmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1Nzk4NzEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.lAoIAfJ6uBp9SIPe3_BU-CsurbR7-n3LKsx91ssN0KI
2025-05-30 12:28:23.884 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 12:28:23.885 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 12:28:23.887 +08:00 [INF] 请求头: traceparent = 00-ec36cb45604354394b887167671f5cbf-a9695d2229e89e03-00
2025-05-30 12:28:23.888 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 12:28:23.889 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 12:28:23.891 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 12:28:23.892 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 12:28:23.894 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 12:28:23.895 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 12:28:23.897 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 12:28:23.898 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 12:28:23.900 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 12:28:23.901 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 12:28:23.902 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 12:28:23.903 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 12:28:23.904 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 12:28:23.906 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 12:28:23.907 +08:00 [INF] JWT Claim: jti = 84668954-e0f2-4ef6-9f8f-8da92cd9e46f
2025-05-30 12:28:23.908 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 12:28:23.910 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 12:28:23.911 +08:00 [INF] JWT Claim: exp = 1748579871
2025-05-30 12:28:23.912 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 12:28:23.914 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 12:28:23.915 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 12:28:23.916 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 12:28:23.918 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 12:28:23.919 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 12:28:23.923 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":10,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 12:28:23.933 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 12:28:23.939 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 12:28:23.942 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 12:28:23.944 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 22.9601ms
2025-05-30 12:28:23.946 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 12:28:23.947 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 80.3638ms
2025-05-30 12:59:26.378 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-30 12:59:26.978 +08:00 [INF] Now listening on: https://localhost:5003
2025-05-30 12:59:27.215 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 12:59:27.222 +08:00 [INF] Hosting environment: Development
2025-05-30 12:59:27.225 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.ClientService
2025-05-30 12:59:27.936 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5003/_framework/aspnetcore-browser-refresh.js - null null
2025-05-30 12:59:27.984 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5003/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 50.58ms
2025-05-30 12:59:28.363 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5003/_vs/browserLink - null null
2025-05-30 12:59:28.842 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5003/_vs/browserLink - 200 null text/javascript; charset=UTF-8 480.0275ms
2025-05-30 12:59:29.105 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/v1/swagger.json - null null
2025-05-30 12:59:29.300 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 194.5536ms
2025-05-30 13:01:05.505 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 13:01:05.505 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 13:01:05.564 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:01:05.564 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:01:05.567 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 13:01:05.567 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 13:01:05.568 +08:00 [INF] 请求方法: GET
2025-05-30 13:01:05.569 +08:00 [INF] 请求方法: GET
2025-05-30 13:01:05.571 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:01:05.572 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:01:05.573 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 13:01:05.574 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 13:01:05.575 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:01:05.576 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:01:05.578 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:01:05.579 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:01:05.580 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:01:05.582 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:01:05.583 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOTFhOTBhMDktYzVmMy00ZjBhLTg0ODctZjA3ZGI5MWEzYjBiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODE4NjQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.yOfsgUvWiHhPvofwzifGyIrwpxAJ5_sAW4cX5oUaJHo
2025-05-30 13:01:05.584 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOTFhOTBhMDktYzVmMy00ZjBhLTg0ODctZjA3ZGI5MWEzYjBiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODE4NjQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.yOfsgUvWiHhPvofwzifGyIrwpxAJ5_sAW4cX5oUaJHo
2025-05-30 13:01:05.585 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:01:05.586 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:01:05.587 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:01:05.588 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:01:05.589 +08:00 [INF] 请求头: traceparent = 00-ee7642780b355279602de43dd99d5886-67614c302a9afcc1-00
2025-05-30 13:01:05.590 +08:00 [INF] 请求头: traceparent = 00-c3cf97d00d0d464fb909e18dfbded122-10c4a1f690169015-00
2025-05-30 13:01:05.591 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:01:05.592 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:01:05.594 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:01:05.595 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:01:05.596 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:01:05.597 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:01:05.598 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:01:05.600 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:01:05.601 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:01:05.602 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:01:05.604 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:01:05.605 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:01:05.606 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:01:05.607 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:01:05.608 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:01:05.609 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:01:05.611 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:01:05.612 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:01:05.613 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:01:05.614 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:01:05.660 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:01:05.660 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:01:05.662 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:01:05.663 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:01:05.664 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:01:05.665 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:01:05.667 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:01:05.668 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:01:05.669 +08:00 [INF] JWT Claim: jti = 91a90a09-c5f3-4f0a-8487-f07db91a3b0b
2025-05-30 13:01:05.671 +08:00 [INF] JWT Claim: jti = 91a90a09-c5f3-4f0a-8487-f07db91a3b0b
2025-05-30 13:01:05.672 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:01:05.673 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:01:05.675 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:01:05.677 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:01:05.678 +08:00 [INF] JWT Claim: exp = 1748581864
2025-05-30 13:01:05.679 +08:00 [INF] JWT Claim: exp = 1748581864
2025-05-30 13:01:05.681 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:01:05.682 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:01:05.683 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:01:05.685 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:01:05.686 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:01:05.687 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:01:05.784 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:01:05.784 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:01:05.823 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 13:01:05.823 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 13:01:05.844 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 13:01:05.847 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 13:01:06.555 +08:00 [WRN] No store type was specified for the decimal property 'MaxArea' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 13:01:06.557 +08:00 [WRN] No store type was specified for the decimal property 'MaxPrice' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 13:01:06.558 +08:00 [WRN] No store type was specified for the decimal property 'MinArea' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 13:01:06.560 +08:00 [WRN] No store type was specified for the decimal property 'MinPrice' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 13:01:06.562 +08:00 [WRN] No store type was specified for the decimal property 'Area' on entity type 'Property'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 13:01:06.563 +08:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Property'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 13:01:06.714 +08:00 [INF] 获取客户统计数据
2025-05-30 13:01:06.748 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 13:01:07.528 +08:00 [INF] Executed DbCommand (204ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 13:01:07.528 +08:00 [INF] Executed DbCommand (204ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
2025-05-30 13:01:07.616 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:01:07.632 +08:00 [INF] Executed DbCommand (34ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 13:01:07.634 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 1784.2638ms
2025-05-30 13:01:07.637 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 13:01:07.639 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:01:07.649 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 200 null application/json; charset=utf-8 2144.6593ms
2025-05-30 13:01:07.676 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 1826.6308ms
2025-05-30 13:01:07.679 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 13:01:07.681 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 2176.6524ms
2025-05-30 13:14:30.648 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-30 13:14:31.167 +08:00 [INF] Now listening on: https://localhost:5003
2025-05-30 13:14:31.412 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 13:14:31.417 +08:00 [INF] Hosting environment: Development
2025-05-30 13:14:31.419 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.ClientService
2025-05-30 13:14:33.116 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5003/_framework/aspnetcore-browser-refresh.js - null null
2025-05-30 13:14:33.197 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5003/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 79.2189ms
2025-05-30 13:14:33.412 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5003/_vs/browserLink - null null
2025-05-30 13:14:33.923 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5003/_vs/browserLink - 200 null text/javascript; charset=UTF-8 513.2135ms
2025-05-30 13:14:34.554 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/v1/swagger.json - null null
2025-05-30 13:14:34.625 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 70.5483ms
2025-05-30 13:15:06.712 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 13:15:06.712 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 13:15:06.758 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:15:06.758 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:15:06.759 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 13:15:06.759 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 13:15:06.760 +08:00 [INF] 请求方法: GET
2025-05-30 13:15:06.761 +08:00 [INF] 请求方法: GET
2025-05-30 13:15:06.763 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:15:06.763 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:15:06.765 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 13:15:06.766 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 13:15:06.767 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:15:06.768 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:15:06.769 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:15:06.770 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:15:06.771 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:15:06.772 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:15:06.773 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMjUwNjVlY2YtYzFiNS00ZmM2LWI3N2MtOGFiMmIzMTVhN2I4IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODI3MDUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.NFGr7-ad3vTcgUN1tndn3aNg7pCWMzFGAAGYrlB5DOA
2025-05-30 13:15:06.774 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMjUwNjVlY2YtYzFiNS00ZmM2LWI3N2MtOGFiMmIzMTVhN2I4IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODI3MDUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.NFGr7-ad3vTcgUN1tndn3aNg7pCWMzFGAAGYrlB5DOA
2025-05-30 13:15:06.775 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:15:06.776 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:15:06.777 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:15:06.779 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:15:06.781 +08:00 [INF] 请求头: traceparent = 00-2f8818002cd602a5b1fd7e67ed03a314-fad1eca03f9f64dc-00
2025-05-30 13:15:06.782 +08:00 [INF] 请求头: traceparent = 00-b21bf9fd43466ae47bacc3264f433b1a-cfdb919ee1af392f-00
2025-05-30 13:15:06.783 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:15:06.784 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:15:06.785 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:15:06.786 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:15:06.787 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:15:06.788 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:15:06.789 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:15:06.791 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:15:06.792 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:15:06.793 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:15:06.794 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:15:06.796 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:15:06.797 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:15:06.799 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:15:06.800 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:15:06.801 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:15:06.803 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:15:06.804 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:15:06.805 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:15:06.806 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:15:06.845 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:15:06.845 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:15:06.847 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:15:06.848 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:15:06.849 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:15:06.851 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:15:06.852 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:15:06.853 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:15:06.854 +08:00 [INF] JWT Claim: jti = 25065ecf-c1b5-4fc6-b77c-8ab2b315a7b8
2025-05-30 13:15:06.856 +08:00 [INF] JWT Claim: jti = 25065ecf-c1b5-4fc6-b77c-8ab2b315a7b8
2025-05-30 13:15:06.857 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:15:06.858 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:15:06.859 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:15:06.860 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:15:06.861 +08:00 [INF] JWT Claim: exp = 1748582705
2025-05-30 13:15:06.863 +08:00 [INF] JWT Claim: exp = 1748582705
2025-05-30 13:15:06.864 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:15:06.865 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:15:06.867 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:15:06.868 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:15:06.869 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:15:06.870 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:15:06.955 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:15:06.955 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:15:06.980 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 13:15:06.980 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 13:15:06.996 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 13:15:06.998 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 13:15:07.642 +08:00 [WRN] No store type was specified for the decimal property 'MaxArea' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 13:15:07.644 +08:00 [WRN] No store type was specified for the decimal property 'MaxPrice' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 13:15:07.646 +08:00 [WRN] No store type was specified for the decimal property 'MinArea' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 13:15:07.647 +08:00 [WRN] No store type was specified for the decimal property 'MinPrice' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 13:15:07.649 +08:00 [WRN] No store type was specified for the decimal property 'Area' on entity type 'Property'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 13:15:07.650 +08:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Property'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 13:15:07.800 +08:00 [INF] 获取客户统计数据
2025-05-30 13:15:07.827 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 13:15:08.769 +08:00 [INF] Executed DbCommand (315ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
2025-05-30 13:15:08.769 +08:00 [INF] Executed DbCommand (315ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 13:15:08.861 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:15:08.887 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 1885.4764ms
2025-05-30 13:15:08.890 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 13:15:08.898 +08:00 [INF] Executed DbCommand (33ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 13:15:08.900 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 200 null application/json; charset=utf-8 2187.7971ms
2025-05-30 13:15:08.904 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:15:08.934 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 1933.631ms
2025-05-30 13:15:08.936 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 13:15:08.938 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 2225.3113ms
2025-05-30 13:33:46.559 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-30 13:33:47.069 +08:00 [INF] Now listening on: https://localhost:5003
2025-05-30 13:33:47.407 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 13:33:47.481 +08:00 [INF] Hosting environment: Development
2025-05-30 13:33:47.486 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.ClientService
2025-05-30 13:33:48.876 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5003/_framework/aspnetcore-browser-refresh.js - null null
2025-05-30 13:33:48.952 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5003/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 78.2768ms
2025-05-30 13:33:49.266 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5003/_vs/browserLink - null null
2025-05-30 13:33:49.632 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5003/_vs/browserLink - 200 null text/javascript; charset=UTF-8 367.4592ms
2025-05-30 13:33:50.166 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/v1/swagger.json - null null
2025-05-30 13:33:50.364 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 197.022ms
2025-05-30 13:34:47.885 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 13:34:47.885 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 13:34:47.943 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:34:47.943 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:34:47.946 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 13:34:47.946 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 13:34:47.947 +08:00 [INF] 请求方法: GET
2025-05-30 13:34:47.948 +08:00 [INF] 请求方法: GET
2025-05-30 13:34:47.950 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:34:47.950 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:34:47.952 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 13:34:47.953 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 13:34:47.955 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:34:47.956 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:34:47.958 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:34:47.959 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:34:47.961 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:34:47.962 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:34:47.963 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdmNTY5NTMtYTE2Yy00ZDNhLTkzMTAtOTYxM2RhN2QxZDg1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODM4ODYsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.DF9mPzkoIU0znT0YA9YJFRYIQdtijFBxdCYj6Fzy15U
2025-05-30 13:34:47.965 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNTdmNTY5NTMtYTE2Yy00ZDNhLTkzMTAtOTYxM2RhN2QxZDg1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODM4ODYsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.DF9mPzkoIU0znT0YA9YJFRYIQdtijFBxdCYj6Fzy15U
2025-05-30 13:34:47.967 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:34:47.969 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:34:47.970 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:34:47.972 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:34:47.973 +08:00 [INF] 请求头: traceparent = 00-d3bd3d1019b961ed4e4ce05f0a1f624b-3e9b6fbd85bd4d91-00
2025-05-30 13:34:47.975 +08:00 [INF] 请求头: traceparent = 00-8e229640d84f294207eaa1cf3eb79d2f-30311f64ede86bd1-00
2025-05-30 13:34:47.977 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:34:47.978 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:34:47.980 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:34:47.981 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:34:47.983 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:34:47.985 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:34:47.987 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:34:47.988 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:34:47.990 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:34:47.991 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:34:47.993 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:34:47.995 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:34:47.996 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:34:47.997 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:34:47.999 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:34:48.000 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:34:48.002 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:34:48.003 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:34:48.004 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:34:48.005 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:34:48.072 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:34:48.072 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:34:48.074 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:34:48.074 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:34:48.076 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:34:48.078 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:34:48.079 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:34:48.081 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:34:48.082 +08:00 [INF] JWT Claim: jti = 57f56953-a16c-4d3a-9310-9613da7d1d85
2025-05-30 13:34:48.084 +08:00 [INF] JWT Claim: jti = 57f56953-a16c-4d3a-9310-9613da7d1d85
2025-05-30 13:34:48.085 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:34:48.087 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:34:48.088 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:34:48.090 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:34:48.091 +08:00 [INF] JWT Claim: exp = 1748583886
2025-05-30 13:34:48.093 +08:00 [INF] JWT Claim: exp = 1748583886
2025-05-30 13:34:48.094 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:34:48.096 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:34:48.098 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:34:48.099 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:34:48.101 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:34:48.102 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:34:48.205 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:34:48.205 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:34:48.238 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 13:34:48.238 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 13:34:48.269 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 13:34:48.271 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 13:34:49.235 +08:00 [WRN] No store type was specified for the decimal property 'MaxArea' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 13:34:49.237 +08:00 [WRN] No store type was specified for the decimal property 'MaxPrice' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 13:34:49.239 +08:00 [WRN] No store type was specified for the decimal property 'MinArea' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 13:34:49.240 +08:00 [WRN] No store type was specified for the decimal property 'MinPrice' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 13:34:49.242 +08:00 [WRN] No store type was specified for the decimal property 'Area' on entity type 'Property'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 13:34:49.244 +08:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Property'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 13:34:49.488 +08:00 [INF] 获取客户统计数据
2025-05-30 13:34:49.553 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 13:34:50.535 +08:00 [INF] Executed DbCommand (74ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
2025-05-30 13:34:50.535 +08:00 [INF] Executed DbCommand (74ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 13:34:50.663 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:34:50.693 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 2417.2659ms
2025-05-30 13:34:50.696 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 13:34:50.704 +08:00 [INF] Executed DbCommand (49ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 13:34:50.708 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 200 null application/json; charset=utf-8 2823.2846ms
2025-05-30 13:34:50.712 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:34:50.758 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 2483.6329ms
2025-05-30 13:34:50.761 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 13:34:50.763 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 2878.486ms
2025-05-30 13:44:56.622 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 13:44:56.628 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:44:56.630 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 13:44:56.631 +08:00 [INF] 请求方法: GET
2025-05-30 13:44:56.633 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:44:56.635 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 13:44:56.637 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:44:56.640 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:44:56.642 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:44:56.644 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNDI4N2U0MmYtYTY4ZC00MTgzLTg3NzgtNzJhY2YzMDgzMzFiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODQ0OTUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Mppf8HR7jbE7hhPiwKi8YH_ndwAiuzBkBrtC__tule8
2025-05-30 13:44:56.647 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:44:56.649 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:44:56.651 +08:00 [INF] 请求头: traceparent = 00-45f216b52440f5a3606cd82360caed4c-f5564e0d07d551f7-00
2025-05-30 13:44:56.654 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:44:56.656 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:44:56.658 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:44:56.660 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:44:56.663 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:44:56.665 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:44:56.667 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:44:56.669 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:44:56.672 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:44:56.674 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:44:56.676 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:44:56.677 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:44:56.680 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:44:56.683 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:44:56.685 +08:00 [INF] JWT Claim: jti = 4287e42f-a68d-4183-8778-72acf308331b
2025-05-30 13:44:56.687 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:44:56.689 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:44:56.692 +08:00 [INF] JWT Claim: exp = 1748584495
2025-05-30 13:44:56.694 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:44:56.696 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:44:56.698 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:44:56.705 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:44:56.714 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 13:44:56.717 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 13:44:56.827 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 13:44:56.888 +08:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 13:44:56.917 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 13:44:56.923 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:44:56.929 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 208.506ms
2025-05-30 13:44:56.932 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 13:44:56.932 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 13:44:56.934 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 311.6593ms
2025-05-30 13:44:56.939 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:44:56.949 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 13:44:56.951 +08:00 [INF] 请求方法: GET
2025-05-30 13:44:56.953 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:44:56.956 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 13:44:56.960 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:44:56.963 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:44:56.965 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:44:56.968 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNDI4N2U0MmYtYTY4ZC00MTgzLTg3NzgtNzJhY2YzMDgzMzFiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODQ0OTUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Mppf8HR7jbE7hhPiwKi8YH_ndwAiuzBkBrtC__tule8
2025-05-30 13:44:56.971 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:44:56.974 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:44:56.977 +08:00 [INF] 请求头: traceparent = 00-f54356fd618758b06e43ec5bd032bb02-c010326555fe7a32-00
2025-05-30 13:44:56.980 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:44:56.982 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:44:56.985 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:44:56.988 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:44:56.991 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:44:56.994 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:44:56.996 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:44:56.999 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:44:57.001 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:44:57.003 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:44:57.006 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:44:57.008 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:44:57.010 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:44:57.013 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:44:57.016 +08:00 [INF] JWT Claim: jti = 4287e42f-a68d-4183-8778-72acf308331b
2025-05-30 13:44:57.019 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:44:57.022 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:44:57.024 +08:00 [INF] JWT Claim: exp = 1748584495
2025-05-30 13:44:57.027 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:44:57.030 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:44:57.033 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:44:57.035 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:44:57.038 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 13:44:57.041 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 13:44:57.047 +08:00 [INF] 获取客户统计数据
2025-05-30 13:44:57.055 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
2025-05-30 13:44:57.061 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:44:57.064 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 19.7217ms
2025-05-30 13:44:57.067 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 13:44:57.069 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 200 null application/json; charset=utf-8 137.0206ms
2025-05-30 13:50:30.255 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 13:50:30.260 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:50:30.261 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 13:50:30.263 +08:00 [INF] 请求方法: GET
2025-05-30 13:50:30.264 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:50:30.265 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 13:50:30.267 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:50:30.269 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:50:30.271 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:50:30.273 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNDI4N2U0MmYtYTY4ZC00MTgzLTg3NzgtNzJhY2YzMDgzMzFiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODQ0OTUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Mppf8HR7jbE7hhPiwKi8YH_ndwAiuzBkBrtC__tule8
2025-05-30 13:50:30.275 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:50:30.277 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:50:30.279 +08:00 [INF] 请求头: traceparent = 00-1f56075336ebd345464cf4c4839b74f3-cbc525e9561c78b4-00
2025-05-30 13:50:30.281 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:50:30.283 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:50:30.286 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:50:30.289 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:50:30.291 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:50:30.294 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:50:30.296 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:50:30.298 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:50:30.314 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:50:30.319 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 13:50:30.320 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:50:30.323 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:50:30.324 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:50:30.325 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 13:50:30.326 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:50:30.327 +08:00 [INF] 请求方法: GET
2025-05-30 13:50:30.328 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:50:30.330 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:50:30.331 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:50:30.332 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 13:50:30.334 +08:00 [INF] JWT Claim: jti = 4287e42f-a68d-4183-8778-72acf308331b
2025-05-30 13:50:30.335 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:50:30.337 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:50:30.338 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:50:30.340 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:50:30.341 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:50:30.343 +08:00 [INF] JWT Claim: exp = 1748584495
2025-05-30 13:50:30.344 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNDI4N2U0MmYtYTY4ZC00MTgzLTg3NzgtNzJhY2YzMDgzMzFiIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODQ0OTUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Mppf8HR7jbE7hhPiwKi8YH_ndwAiuzBkBrtC__tule8
2025-05-30 13:50:30.345 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:50:30.347 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:50:30.348 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:50:30.352 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:50:30.353 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:50:30.355 +08:00 [INF] 请求头: traceparent = 00-98bb143333c5ce3498085add63a5c82b-5adf91b2c28e25a5-00
2025-05-30 13:50:30.357 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:50:30.357 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:50:30.359 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 13:50:30.360 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:50:30.362 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 13:50:30.363 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:50:30.367 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:50:30.368 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 13:50:30.368 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:50:30.377 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:50:30.381 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:50:30.383 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:50:30.384 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:50:30.386 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:50:30.387 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:50:30.388 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 13:50:30.388 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:50:30.392 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:50:30.394 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:50:30.395 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 13:50:30.396 +08:00 [INF] JWT Claim: jti = 4287e42f-a68d-4183-8778-72acf308331b
2025-05-30 13:50:30.399 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:50:30.400 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:50:30.403 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 37.5548ms
2025-05-30 13:50:30.404 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:50:30.406 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 13:50:30.407 +08:00 [INF] JWT Claim: exp = 1748584495
2025-05-30 13:50:30.409 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 153.7393ms
2025-05-30 13:50:30.410 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:50:30.417 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:50:30.419 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:50:30.421 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:50:30.423 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 13:50:30.425 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 13:50:30.429 +08:00 [INF] 获取客户统计数据
2025-05-30 13:50:30.435 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
2025-05-30 13:50:30.440 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:50:30.442 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 14.8235ms
2025-05-30 13:50:30.445 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 13:50:30.447 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 200 null application/json; charset=utf-8 127.4101ms
2025-05-30 13:55:06.376 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 13:55:06.381 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:55:06.383 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 13:55:06.385 +08:00 [INF] 请求方法: GET
2025-05-30 13:55:06.395 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:55:06.397 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 13:55:06.399 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:55:06.401 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:55:06.403 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:55:06.404 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 13:55:06.410 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNzU5MWE5MjktNzI2My00YjQxLWJkY2EtZjg3OWUyN2FlNWEwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODUxMDUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.pQ-HCsXmzkjNqVl5_Z6bmH1OXkviPYwM6zdqGSKrvMw
2025-05-30 13:55:06.414 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 13:55:06.415 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:55:06.416 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 13:55:06.417 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:55:06.418 +08:00 [INF] 请求方法: GET
2025-05-30 13:55:06.420 +08:00 [INF] 请求头: traceparent = 00-9a01d117befa9cdab48d99ae10639e0c-3a7e31ffd5990e92-00
2025-05-30 13:55:06.421 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 13:55:06.422 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:55:06.424 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 13:55:06.425 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:55:06.426 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 13:55:06.428 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:55:06.429 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 13:55:06.430 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:55:06.432 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 13:55:06.433 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:55:06.435 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNzU5MWE5MjktNzI2My00YjQxLWJkY2EtZjg3OWUyN2FlNWEwIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1ODUxMDUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.pQ-HCsXmzkjNqVl5_Z6bmH1OXkviPYwM6zdqGSKrvMw
2025-05-30 13:55:06.436 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:55:06.437 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 13:55:06.439 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:55:06.440 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 13:55:06.441 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:55:06.443 +08:00 [INF] 请求头: traceparent = 00-7680f306fed2336c4c862c8be1ec97ec-0544cfd9078c53ac-00
2025-05-30 13:55:06.444 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:55:06.445 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 13:55:06.446 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:55:06.448 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 13:55:06.449 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:55:06.450 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 13:55:06.451 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:55:06.452 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 13:55:06.454 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:55:06.455 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 13:55:06.457 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:55:06.458 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 13:55:06.460 +08:00 [INF] JWT Claim: jti = 7591a929-7263-4b41-bdca-f879e27ae5a0
2025-05-30 13:55:06.461 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 13:55:06.462 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:55:06.464 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 13:55:06.465 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:55:06.467 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 13:55:06.468 +08:00 [INF] JWT Claim: exp = 1748585105
2025-05-30 13:55:06.469 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 13:55:06.470 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:55:06.471 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 13:55:06.473 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:55:06.474 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:55:06.475 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:55:06.477 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 13:55:06.478 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:55:06.479 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 13:55:06.480 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 13:55:06.481 +08:00 [INF] JWT Claim: jti = 7591a929-7263-4b41-bdca-f879e27ae5a0
2025-05-30 13:55:06.483 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 13:55:06.484 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 13:55:06.487 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 13:55:06.488 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 13:55:06.488 +08:00 [INF] JWT Claim: exp = 1748585105
2025-05-30 13:55:06.497 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 13:55:06.500 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 13:55:06.501 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 13:55:06.503 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 13:55:06.504 +08:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 13:55:06.504 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 13:55:06.508 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 13:55:06.510 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 13:55:06.511 +08:00 [INF] 获取客户统计数据
2025-05-30 13:55:06.513 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:55:06.518 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
2025-05-30 13:55:06.518 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 31.8508ms
2025-05-30 13:55:06.521 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 13:55:06.522 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 13:55:06.524 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 13.3989ms
2025-05-30 13:55:06.525 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 148.6828ms
2025-05-30 13:55:06.526 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 13:55:06.532 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 200 null application/json; charset=utf-8 127.8651ms
2025-05-30 15:56:29.067 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 15:56:29.075 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 15:56:29.076 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 15:56:29.077 +08:00 [INF] 请求方法: GET
2025-05-30 15:56:29.079 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 15:56:29.080 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 15:56:29.082 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 15:56:29.084 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 15:56:29.085 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 15:56:29.087 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNzNjNTQ1MzYtNzZhNi00NjNjLTk2N2MtMmJmZDgzMWJhNjZkIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTIzODgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.FzTdHKtiS9Vsqf6LWEPtyPD3FGVM1DYtxGn6g__y7B4
2025-05-30 15:56:29.089 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 15:56:29.090 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 15:56:29.092 +08:00 [INF] 请求头: traceparent = 00-b6a687d5d16ac39f4da7a88a01a49cde-637e994c25dc8f8a-00
2025-05-30 15:56:29.093 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 15:56:29.095 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 15:56:29.096 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 15:56:29.098 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 15:56:29.099 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 15:56:29.101 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 15:56:29.102 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 15:56:29.103 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 15:56:29.105 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 15:56:29.106 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 15:56:29.107 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 15:56:29.108 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 15:56:29.110 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 15:56:29.111 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 15:56:29.113 +08:00 [INF] JWT Claim: jti = 73c54536-76a6-463c-967c-2bfd831ba66d
2025-05-30 15:56:29.114 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 15:56:29.115 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 15:56:29.117 +08:00 [INF] JWT Claim: exp = 1748592388
2025-05-30 15:56:29.118 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 15:56:29.119 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 15:56:29.121 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 15:56:29.123 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 15:56:29.125 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 15:56:29.128 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 15:56:29.138 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 15:56:29.193 +08:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 15:56:29.204 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 15:56:29.208 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 15:56:29.211 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 81.1508ms
2025-05-30 15:56:29.213 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 15:56:29.215 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 148.9259ms
2025-05-30 15:56:29.254 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 15:56:29.257 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 15:56:29.259 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 15:56:29.260 +08:00 [INF] 请求方法: GET
2025-05-30 15:56:29.261 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 15:56:29.263 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 15:56:29.264 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 15:56:29.266 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 15:56:29.268 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 15:56:29.270 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiNzNjNTQ1MzYtNzZhNi00NjNjLTk2N2MtMmJmZDgzMWJhNjZkIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTIzODgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.FzTdHKtiS9Vsqf6LWEPtyPD3FGVM1DYtxGn6g__y7B4
2025-05-30 15:56:29.272 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 15:56:29.273 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 15:56:29.275 +08:00 [INF] 请求头: traceparent = 00-e544fc6c328166f18141c33fe3f54508-a7626173e52723d7-00
2025-05-30 15:56:29.277 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 15:56:29.279 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 15:56:29.281 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 15:56:29.282 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 15:56:29.284 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 15:56:29.286 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 15:56:29.287 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 15:56:29.289 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 15:56:29.291 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 15:56:29.292 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 15:56:29.293 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 15:56:29.294 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 15:56:29.296 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 15:56:29.298 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 15:56:29.299 +08:00 [INF] JWT Claim: jti = 73c54536-76a6-463c-967c-2bfd831ba66d
2025-05-30 15:56:29.301 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 15:56:29.302 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 15:56:29.303 +08:00 [INF] JWT Claim: exp = 1748592388
2025-05-30 15:56:29.305 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 15:56:29.306 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 15:56:29.308 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 15:56:29.309 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 15:56:29.311 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 15:56:29.312 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 15:56:29.316 +08:00 [INF] 获取客户统计数据
2025-05-30 15:56:29.321 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
2025-05-30 15:56:29.325 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 15:56:29.327 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 12.619ms
2025-05-30 15:56:29.329 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 15:56:29.331 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 200 null application/json; charset=utf-8 76.7644ms
2025-05-30 16:07:53.785 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 16:07:53.785 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 16:07:53.790 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:07:53.790 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:07:53.791 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 16:07:53.791 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 16:07:53.792 +08:00 [INF] 请求方法: GET
2025-05-30 16:07:53.793 +08:00 [INF] 请求方法: GET
2025-05-30 16:07:53.794 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:07:53.795 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:07:53.796 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 16:07:53.797 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 16:07:53.798 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:07:53.799 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:07:53.800 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:07:53.801 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:07:53.802 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:07:53.803 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:07:53.804 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiYTc3ZDUzODEtZTFjMy00MGIzLTgyNTUtZDgyYmYwMGU1MDhmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTMwNzMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Oj1HAbQ7oR7OwHPkr6ZUgKP3c1EZ2iZdWzsNZxw6QEw
2025-05-30 16:07:53.805 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiYTc3ZDUzODEtZTFjMy00MGIzLTgyNTUtZDgyYmYwMGU1MDhmIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTMwNzMsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.Oj1HAbQ7oR7OwHPkr6ZUgKP3c1EZ2iZdWzsNZxw6QEw
2025-05-30 16:07:53.806 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:07:53.807 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:07:53.808 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:07:53.810 +08:00 [INF] 请求头: traceparent = 00-1ff94034bd2971c4f4610487c60040e3-544bf5b96c37d5b9-00
2025-05-30 16:07:53.809 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:07:53.811 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:07:53.812 +08:00 [INF] 请求头: traceparent = 00-d0703a2fe781e808ff72f211f47bf327-adbe1d9180de8fe8-00
2025-05-30 16:07:53.814 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:07:53.815 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:07:53.816 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:07:53.817 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:07:53.818 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:07:53.819 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:07:53.820 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:07:53.821 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:07:53.822 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:07:53.824 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:07:53.823 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:07:53.825 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:07:53.826 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:07:53.827 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:07:53.828 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:07:53.829 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:07:53.830 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:07:53.832 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:07:53.832 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:07:53.833 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:07:53.834 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:07:53.834 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:07:53.835 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:07:53.836 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:07:53.837 +08:00 [INF] JWT Claim: jti = a77d5381-e1c3-40b3-8255-d82bf00e508f
2025-05-30 16:07:53.838 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:07:53.839 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:07:53.840 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:07:53.841 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:07:53.842 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:07:53.843 +08:00 [INF] JWT Claim: exp = 1748593073
2025-05-30 16:07:53.844 +08:00 [INF] JWT Claim: jti = a77d5381-e1c3-40b3-8255-d82bf00e508f
2025-05-30 16:07:53.845 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:07:53.846 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:07:53.847 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:07:53.848 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:07:53.850 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:07:53.851 +08:00 [INF] JWT Claim: exp = 1748593073
2025-05-30 16:07:53.852 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:07:53.853 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:07:53.854 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:07:53.854 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:07:53.857 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 16:07:53.857 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:07:53.859 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 16:07:53.859 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 16:07:53.861 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 16:07:53.868 +08:00 [INF] 获取客户统计数据
2025-05-30 16:07:53.871 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 16:07:53.894 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 16:07:53.894 +08:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
2025-05-30 16:07:53.901 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:07:53.903 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 39.436ms
2025-05-30 16:07:53.904 +08:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 16:07:53.905 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 16:07:53.908 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:07:53.909 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 200 null application/json; charset=utf-8 124.6096ms
2025-05-30 16:07:53.911 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 51.1782ms
2025-05-30 16:07:53.917 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 16:07:53.919 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 134.3477ms
2025-05-30 16:17:55.850 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 16:17:55.855 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:17:55.856 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 16:17:55.857 +08:00 [INF] 请求方法: GET
2025-05-30 16:17:55.858 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:17:55.860 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 16:17:55.861 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:17:55.863 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:17:55.864 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:17:55.865 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMmM2YTk5ZjktYTdjZS00MmEyLTk1YzItZjcxYjZhZjY5MjM1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTM2NzUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.x1KnyaXAMMGryEOmw8DRviI9ojA4cownAX5I3JTXgdw
2025-05-30 16:17:55.866 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:17:55.868 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:17:55.869 +08:00 [INF] 请求头: traceparent = 00-987d84763022832453af1eeb4a9e2e8d-858ab4e1323e976d-00
2025-05-30 16:17:55.870 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:17:55.872 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:17:55.873 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:17:55.874 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:17:55.876 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:17:55.877 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:17:55.878 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:17:55.880 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:17:55.881 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:17:55.882 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:17:55.884 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:17:55.886 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:17:55.887 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:17:55.888 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:17:55.890 +08:00 [INF] JWT Claim: jti = 2c6a99f9-a7ce-42a2-95c2-f71b6af69235
2025-05-30 16:17:55.891 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:17:55.893 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:17:55.894 +08:00 [INF] JWT Claim: exp = 1748593675
2025-05-30 16:17:55.895 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:17:55.896 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:17:55.898 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:17:55.900 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:17:55.901 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 16:17:55.903 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 16:17:55.910 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 16:17:55.955 +08:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 16:17:55.964 +08:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 16:17:55.968 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:17:55.971 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 66.051ms
2025-05-30 16:17:55.972 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 16:17:55.974 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 124.3536ms
2025-05-30 16:17:56.001 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 16:17:56.004 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:17:56.005 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 16:17:56.006 +08:00 [INF] 请求方法: GET
2025-05-30 16:17:56.007 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:17:56.008 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 16:17:56.009 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:17:56.011 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:17:56.012 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:17:56.013 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMmM2YTk5ZjktYTdjZS00MmEyLTk1YzItZjcxYjZhZjY5MjM1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTM2NzUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.x1KnyaXAMMGryEOmw8DRviI9ojA4cownAX5I3JTXgdw
2025-05-30 16:17:56.015 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:17:56.016 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:17:56.018 +08:00 [INF] 请求头: traceparent = 00-6986676c69ea492db14db9d47a4a2f07-896759291888a46a-00
2025-05-30 16:17:56.019 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:17:56.021 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:17:56.023 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:17:56.024 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:17:56.026 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:17:56.027 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:17:56.028 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:17:56.030 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:17:56.031 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:17:56.032 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:17:56.033 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:17:56.034 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:17:56.036 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:17:56.038 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:17:56.039 +08:00 [INF] JWT Claim: jti = 2c6a99f9-a7ce-42a2-95c2-f71b6af69235
2025-05-30 16:17:56.040 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:17:56.042 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:17:56.043 +08:00 [INF] JWT Claim: exp = 1748593675
2025-05-30 16:17:56.044 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:17:56.045 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:17:56.046 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:17:56.047 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:17:56.048 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 16:17:56.049 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 16:17:56.052 +08:00 [INF] 获取客户统计数据
2025-05-30 16:17:56.062 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
2025-05-30 16:17:56.077 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:17:56.080 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 28.6958ms
2025-05-30 16:17:56.082 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 16:17:56.083 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 200 null application/json; charset=utf-8 82.1007ms
2025-05-30 16:21:13.728 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-30 16:21:14.639 +08:00 [INF] Now listening on: https://localhost:5003
2025-05-30 16:21:14.930 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 16:21:14.935 +08:00 [INF] Hosting environment: Development
2025-05-30 16:21:14.938 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.ClientService
2025-05-30 16:21:19.452 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5003/_framework/aspnetcore-browser-refresh.js - null null
2025-05-30 16:21:19.453 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5003/_vs/browserLink - null null
2025-05-30 16:21:19.549 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5003/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 98.4137ms
2025-05-30 16:21:19.657 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5003/_vs/browserLink - 200 null text/javascript; charset=UTF-8 208.4169ms
2025-05-30 16:21:20.927 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/v1/swagger.json - null null
2025-05-30 16:21:20.992 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 65.8372ms
2025-05-30 16:21:46.643 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 16:21:46.643 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 16:21:46.734 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:21:46.734 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:21:46.738 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 16:21:46.738 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 16:21:46.740 +08:00 [INF] 请求方法: GET
2025-05-30 16:21:46.742 +08:00 [INF] 请求方法: GET
2025-05-30 16:21:46.744 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:21:46.745 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:21:46.748 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 16:21:46.750 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 16:21:46.752 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:21:46.755 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:21:46.757 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:21:46.759 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:21:46.761 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:21:46.763 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:21:46.765 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMmM2YTk5ZjktYTdjZS00MmEyLTk1YzItZjcxYjZhZjY5MjM1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTM2NzUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.x1KnyaXAMMGryEOmw8DRviI9ojA4cownAX5I3JTXgdw
2025-05-30 16:21:46.767 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMmM2YTk5ZjktYTdjZS00MmEyLTk1YzItZjcxYjZhZjY5MjM1IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTM2NzUsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.x1KnyaXAMMGryEOmw8DRviI9ojA4cownAX5I3JTXgdw
2025-05-30 16:21:46.769 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:21:46.772 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:21:46.774 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:21:46.776 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:21:46.778 +08:00 [INF] 请求头: traceparent = 00-d8111b9cb52c0e24807c8ced97d79de2-bc0840a1f635fb2f-00
2025-05-30 16:21:46.780 +08:00 [INF] 请求头: traceparent = 00-94b60165f25b7d40f5ed73a7db7ab314-b716a488d092234e-00
2025-05-30 16:21:46.782 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:21:46.784 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:21:46.787 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:21:46.788 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:21:46.790 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:21:46.792 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:21:46.794 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:21:46.795 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:21:46.798 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:21:46.800 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:21:46.802 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:21:46.804 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:21:46.806 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:21:46.808 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:21:46.809 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:21:46.811 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:21:46.814 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:21:46.815 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:21:46.817 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:21:46.818 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:21:46.893 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:21:46.893 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:21:46.896 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:21:46.897 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:21:46.900 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:21:46.902 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:21:46.904 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:21:46.907 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:21:46.909 +08:00 [INF] JWT Claim: jti = 2c6a99f9-a7ce-42a2-95c2-f71b6af69235
2025-05-30 16:21:46.912 +08:00 [INF] JWT Claim: jti = 2c6a99f9-a7ce-42a2-95c2-f71b6af69235
2025-05-30 16:21:46.915 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:21:46.919 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:21:46.922 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:21:46.924 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:21:46.927 +08:00 [INF] JWT Claim: exp = 1748593675
2025-05-30 16:21:46.931 +08:00 [INF] JWT Claim: exp = 1748593675
2025-05-30 16:21:46.934 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:21:46.937 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:21:46.940 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:21:46.942 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:21:46.945 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:21:46.948 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:21:47.085 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:21:47.085 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:21:47.136 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 16:21:47.136 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 16:21:47.176 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 16:21:47.178 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 16:21:48.624 +08:00 [WRN] No store type was specified for the decimal property 'MaxArea' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 16:21:48.628 +08:00 [WRN] No store type was specified for the decimal property 'MaxPrice' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 16:21:48.630 +08:00 [WRN] No store type was specified for the decimal property 'MinArea' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 16:21:48.633 +08:00 [WRN] No store type was specified for the decimal property 'MinPrice' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 16:21:48.636 +08:00 [WRN] No store type was specified for the decimal property 'Area' on entity type 'Property'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 16:21:48.639 +08:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Property'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 16:21:48.887 +08:00 [INF] 获取客户统计数据
2025-05-30 16:21:48.946 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 16:21:49.959 +08:00 [INF] Executed DbCommand (62ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
2025-05-30 16:21:49.959 +08:00 [INF] Executed DbCommand (62ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 16:21:50.098 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:21:50.114 +08:00 [INF] Executed DbCommand (40ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 16:21:50.122 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 2934.1592ms
2025-05-30 16:21:50.123 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:21:50.125 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 16:21:50.145 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 200 null application/json; charset=utf-8 3502.469ms
2025-05-30 16:21:50.181 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 2991.5491ms
2025-05-30 16:21:50.186 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 16:21:50.189 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 3546.4392ms
2025-05-30 16:35:14.795 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-30 16:35:15.565 +08:00 [INF] Now listening on: https://localhost:5003
2025-05-30 16:35:15.866 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 16:35:15.869 +08:00 [INF] Hosting environment: Development
2025-05-30 16:35:15.872 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.ClientService
2025-05-30 16:35:17.720 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5003/_framework/aspnetcore-browser-refresh.js - null null
2025-05-30 16:35:17.876 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5003/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 167.9966ms
2025-05-30 16:35:18.356 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5003/_vs/browserLink - null null
2025-05-30 16:35:18.968 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5003/_vs/browserLink - 200 null text/javascript; charset=UTF-8 613.7716ms
2025-05-30 16:35:20.698 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/v1/swagger.json - null null
2025-05-30 16:35:20.831 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 132.6925ms
2025-05-30 16:36:22.174 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 16:36:22.174 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 16:36:22.260 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:36:22.260 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:36:22.263 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 16:36:22.263 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 16:36:22.264 +08:00 [INF] 请求方法: GET
2025-05-30 16:36:22.266 +08:00 [INF] 请求方法: GET
2025-05-30 16:36:22.268 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:36:22.268 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:36:22.270 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 16:36:22.271 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 16:36:22.273 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:36:22.275 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:36:22.276 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:36:22.278 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:36:22.279 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:36:22.281 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:36:22.283 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiM2JlM2U1MGUtNTI3Mi00NjVlLWFjNDEtMGRiOWFhNTYwYTZkIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTQ3ODEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.jbehdDARckc8kJ-585W1JPzhK9f1fGEV_8RZkZUBbxA
2025-05-30 16:36:22.285 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiM2JlM2U1MGUtNTI3Mi00NjVlLWFjNDEtMGRiOWFhNTYwYTZkIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTQ3ODEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.jbehdDARckc8kJ-585W1JPzhK9f1fGEV_8RZkZUBbxA
2025-05-30 16:36:22.287 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:36:22.289 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:36:22.290 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:36:22.292 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:36:22.294 +08:00 [INF] 请求头: traceparent = 00-94b1647e719dd887eba65fb5aff4caeb-eb99b2a09738760b-00
2025-05-30 16:36:22.295 +08:00 [INF] 请求头: traceparent = 00-dd174af228c1dd63eb0a445bb22642c1-387ea50e1d084f10-00
2025-05-30 16:36:22.298 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:36:22.299 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:36:22.302 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:36:22.303 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:36:22.304 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:36:22.306 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:36:22.308 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:36:22.310 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:36:22.312 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:36:22.314 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:36:22.316 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:36:22.318 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:36:22.320 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:36:22.322 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:36:22.324 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:36:22.325 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:36:22.327 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:36:22.329 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:36:22.330 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:36:22.332 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:36:22.410 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:36:22.410 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:36:22.412 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:36:22.413 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:36:22.415 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:36:22.417 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:36:22.419 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:36:22.421 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:36:22.423 +08:00 [INF] JWT Claim: jti = 3be3e50e-5272-465e-ac41-0db9aa560a6d
2025-05-30 16:36:22.425 +08:00 [INF] JWT Claim: jti = 3be3e50e-5272-465e-ac41-0db9aa560a6d
2025-05-30 16:36:22.427 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:36:22.429 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:36:22.431 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:36:22.433 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:36:22.435 +08:00 [INF] JWT Claim: exp = 1748594781
2025-05-30 16:36:22.436 +08:00 [INF] JWT Claim: exp = 1748594781
2025-05-30 16:36:22.438 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:36:22.440 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:36:22.443 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:36:22.445 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:36:22.446 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:36:22.449 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:36:22.580 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:36:22.580 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:36:22.635 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 16:36:22.635 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 16:36:22.667 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 16:36:22.670 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 16:36:23.784 +08:00 [WRN] No store type was specified for the decimal property 'MaxArea' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 16:36:23.788 +08:00 [WRN] No store type was specified for the decimal property 'MaxPrice' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 16:36:23.791 +08:00 [WRN] No store type was specified for the decimal property 'MinArea' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 16:36:23.793 +08:00 [WRN] No store type was specified for the decimal property 'MinPrice' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 16:36:23.796 +08:00 [WRN] No store type was specified for the decimal property 'Area' on entity type 'Property'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 16:36:23.799 +08:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Property'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 16:36:24.085 +08:00 [INF] 获取客户统计数据
2025-05-30 16:36:24.138 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 16:36:25.219 +08:00 [INF] Executed DbCommand (156ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
2025-05-30 16:36:25.219 +08:00 [INF] Executed DbCommand (156ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 16:36:25.368 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:36:25.409 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 2733.1364ms
2025-05-30 16:36:25.412 +08:00 [INF] Executed DbCommand (52ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 16:36:25.413 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 16:36:25.423 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:36:25.434 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 200 null application/json; charset=utf-8 3259.5271ms
2025-05-30 16:36:25.474 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 2799.1566ms
2025-05-30 16:36:25.476 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 16:36:25.479 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 3305.1175ms
2025-05-30 16:52:42.086 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-30 16:52:43.126 +08:00 [INF] Now listening on: https://localhost:5003
2025-05-30 16:52:43.347 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 16:52:43.351 +08:00 [INF] Hosting environment: Development
2025-05-30 16:52:43.354 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.ClientService
2025-05-30 16:52:45.960 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5003/_framework/aspnetcore-browser-refresh.js - null null
2025-05-30 16:52:46.044 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5003/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 85.8373ms
2025-05-30 16:52:46.504 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5003/_vs/browserLink - null null
2025-05-30 16:52:46.892 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5003/_vs/browserLink - 200 null text/javascript; charset=UTF-8 384.4675ms
2025-05-30 16:52:47.169 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/v1/swagger.json - null null
2025-05-30 16:52:47.368 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 199.5395ms
2025-05-30 16:53:15.591 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 16:53:15.591 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 16:53:15.665 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:53:15.665 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:53:15.668 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 16:53:15.668 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 16:53:15.670 +08:00 [INF] 请求方法: GET
2025-05-30 16:53:15.671 +08:00 [INF] 请求方法: GET
2025-05-30 16:53:15.673 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:53:15.673 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:53:15.674 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 16:53:15.676 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 16:53:15.677 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:53:15.679 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:53:15.680 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:53:15.681 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:53:15.682 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:53:15.683 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:53:15.685 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzcyYmUxMmMtNmJiOS00ZjY0LWFlZDYtYzM5ODM0M2M3YmEzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTU3OTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.qSD5aN5DyPNOWODw-CbKsdm7RzDBWN7bBUH0S58tu3c
2025-05-30 16:53:15.686 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzcyYmUxMmMtNmJiOS00ZjY0LWFlZDYtYzM5ODM0M2M3YmEzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTU3OTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.qSD5aN5DyPNOWODw-CbKsdm7RzDBWN7bBUH0S58tu3c
2025-05-30 16:53:15.687 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:53:15.688 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:53:15.689 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:53:15.691 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:53:15.692 +08:00 [INF] 请求头: traceparent = 00-aa320daf8ee1f1d56099989de188cfad-f2473d1b51c55d84-00
2025-05-30 16:53:15.693 +08:00 [INF] 请求头: traceparent = 00-1c1e7ad8e4bf11506edac697e891ca66-7a5f83479f577664-00
2025-05-30 16:53:15.695 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:53:15.696 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:53:15.697 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:53:15.698 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:53:15.699 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:53:15.700 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:53:15.702 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:53:15.703 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:53:15.704 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:53:15.705 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:53:15.707 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:53:15.708 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:53:15.709 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:53:15.711 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:53:15.712 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:53:15.713 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:53:15.715 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:53:15.716 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:53:15.717 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:53:15.718 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:53:15.765 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:53:15.765 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:53:15.766 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:53:15.767 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:53:15.768 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:53:15.770 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:53:15.771 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:53:15.772 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:53:15.774 +08:00 [INF] JWT Claim: jti = 372be12c-6bb9-4f64-aed6-c398343c7ba3
2025-05-30 16:53:15.775 +08:00 [INF] JWT Claim: jti = 372be12c-6bb9-4f64-aed6-c398343c7ba3
2025-05-30 16:53:15.776 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:53:15.777 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:53:15.778 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:53:15.780 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:53:15.781 +08:00 [INF] JWT Claim: exp = 1748595794
2025-05-30 16:53:15.782 +08:00 [INF] JWT Claim: exp = 1748595794
2025-05-30 16:53:15.783 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:53:15.785 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:53:15.786 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:53:15.787 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:53:15.789 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:53:15.790 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:53:15.895 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:53:15.895 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:53:15.934 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 16:53:15.934 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 16:53:15.958 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 16:53:15.959 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 16:53:16.806 +08:00 [WRN] No store type was specified for the decimal property 'MaxArea' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 16:53:16.810 +08:00 [WRN] No store type was specified for the decimal property 'MaxPrice' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 16:53:16.812 +08:00 [WRN] No store type was specified for the decimal property 'MinArea' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 16:53:16.813 +08:00 [WRN] No store type was specified for the decimal property 'MinPrice' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 16:53:16.815 +08:00 [WRN] No store type was specified for the decimal property 'Area' on entity type 'Property'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 16:53:16.816 +08:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Property'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 16:53:16.987 +08:00 [INF] 获取客户统计数据
2025-05-30 16:53:17.019 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 16:53:17.705 +08:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
2025-05-30 16:53:17.705 +08:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 16:53:17.800 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:53:17.828 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 1864.3289ms
2025-05-30 16:53:17.831 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 16:53:17.838 +08:00 [INF] Executed DbCommand (39ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 16:53:17.840 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 200 null application/json; charset=utf-8 2248.8602ms
2025-05-30 16:53:17.845 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:53:17.878 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 1913.9544ms
2025-05-30 16:53:17.881 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 16:53:17.883 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 2291.3815ms
2025-05-30 16:53:23.919 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 16:53:23.922 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:53:23.924 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 16:53:23.924 +08:00 [INF] 请求方法: GET
2025-05-30 16:53:23.925 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:53:23.927 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 16:53:23.929 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:53:23.930 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:53:23.931 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:53:23.933 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzcyYmUxMmMtNmJiOS00ZjY0LWFlZDYtYzM5ODM0M2M3YmEzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTU3OTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.qSD5aN5DyPNOWODw-CbKsdm7RzDBWN7bBUH0S58tu3c
2025-05-30 16:53:23.934 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:53:23.935 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:53:23.937 +08:00 [INF] 请求头: traceparent = 00-6503ef2db91351bd5d3b298507d2d9d2-9abfc0e9afb545bb-00
2025-05-30 16:53:23.938 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:53:23.939 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:53:23.941 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:53:23.942 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:53:23.944 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:53:23.945 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:53:23.946 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:53:23.948 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:53:23.949 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:53:23.950 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:53:23.951 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:53:23.953 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:53:23.954 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:53:23.955 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:53:23.957 +08:00 [INF] JWT Claim: jti = 372be12c-6bb9-4f64-aed6-c398343c7ba3
2025-05-30 16:53:23.958 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:53:23.960 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:53:23.961 +08:00 [INF] JWT Claim: exp = 1748595794
2025-05-30 16:53:23.963 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:53:23.965 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:53:23.966 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:53:23.970 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:53:23.974 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 16:53:23.975 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 16:53:24.041 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 16:53:24.056 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 16:53:24.068 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 16:53:24.071 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:53:24.073 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 95.8049ms
2025-05-30 16:53:24.075 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 16:53:24.077 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 158.4322ms
2025-05-30 16:53:24.175 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 16:53:24.179 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 16:53:24.180 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 16:53:24.181 +08:00 [INF] 请求方法: GET
2025-05-30 16:53:24.183 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 16:53:24.184 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 16:53:24.186 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 16:53:24.188 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 16:53:24.190 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 16:53:24.191 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzcyYmUxMmMtNmJiOS00ZjY0LWFlZDYtYzM5ODM0M2M3YmEzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTU3OTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.qSD5aN5DyPNOWODw-CbKsdm7RzDBWN7bBUH0S58tu3c
2025-05-30 16:53:24.193 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 16:53:24.195 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 16:53:24.197 +08:00 [INF] 请求头: traceparent = 00-0b2a687c6e7ed78b0a1f5cef7d9eb459-cdad9b46b00f67c1-00
2025-05-30 16:53:24.199 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 16:53:24.200 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 16:53:24.202 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 16:53:24.204 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 16:53:24.206 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 16:53:24.207 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 16:53:24.209 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 16:53:24.211 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 16:53:24.213 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 16:53:24.214 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 16:53:24.215 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 16:53:24.216 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:53:24.217 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 16:53:24.219 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 16:53:24.221 +08:00 [INF] JWT Claim: jti = 372be12c-6bb9-4f64-aed6-c398343c7ba3
2025-05-30 16:53:24.222 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 16:53:24.223 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 16:53:24.225 +08:00 [INF] JWT Claim: exp = 1748595794
2025-05-30 16:53:24.226 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 16:53:24.228 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 16:53:24.230 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 16:53:24.232 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 16:53:24.233 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 16:53:24.235 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 16:53:24.239 +08:00 [INF] 获取客户统计数据
2025-05-30 16:53:24.243 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
2025-05-30 16:53:24.249 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 16:53:24.252 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 14.2233ms
2025-05-30 16:53:24.254 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 16:53:24.255 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 200 null application/json; charset=utf-8 80.4196ms
2025-05-30 16:58:33.860 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-30 16:58:34.355 +08:00 [INF] Now listening on: https://localhost:5003
2025-05-30 16:58:34.526 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 16:58:34.529 +08:00 [INF] Hosting environment: Development
2025-05-30 16:58:34.531 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.ClientService
2025-05-30 16:58:36.008 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5003/_framework/aspnetcore-browser-refresh.js - null null
2025-05-30 16:58:36.069 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5003/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 62.6749ms
2025-05-30 16:58:37.057 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5003/_vs/browserLink - null null
2025-05-30 16:58:37.373 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5003/_vs/browserLink - 200 null text/javascript; charset=UTF-8 316.0882ms
2025-05-30 16:58:37.930 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/v1/swagger.json - null null
2025-05-30 16:58:38.095 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 165.2585ms
2025-05-30 17:01:41.420 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 17:01:41.420 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 17:01:41.487 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:01:41.487 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:01:41.490 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 17:01:41.490 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 17:01:41.491 +08:00 [INF] 请求方法: GET
2025-05-30 17:01:41.492 +08:00 [INF] 请求方法: GET
2025-05-30 17:01:41.494 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:01:41.495 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:01:41.496 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 17:01:41.497 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 17:01:41.499 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:01:41.500 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:01:41.501 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:01:41.503 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:01:41.504 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:01:41.506 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:01:41.507 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzcyYmUxMmMtNmJiOS00ZjY0LWFlZDYtYzM5ODM0M2M3YmEzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTU3OTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.qSD5aN5DyPNOWODw-CbKsdm7RzDBWN7bBUH0S58tu3c
2025-05-30 17:01:41.508 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzcyYmUxMmMtNmJiOS00ZjY0LWFlZDYtYzM5ODM0M2M3YmEzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTU3OTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.qSD5aN5DyPNOWODw-CbKsdm7RzDBWN7bBUH0S58tu3c
2025-05-30 17:01:41.510 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:01:41.511 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:01:41.513 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:01:41.514 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:01:41.516 +08:00 [INF] 请求头: traceparent = 00-befe34f3f71188361305842a76f453d1-5a9f3c56b17d4c8d-00
2025-05-30 17:01:41.517 +08:00 [INF] 请求头: traceparent = 00-2c6f23cedecb2f2fdd6c616295325df1-6982c6112a0c0079-00
2025-05-30 17:01:41.518 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 17:01:41.520 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 17:01:41.521 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:01:41.522 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:01:41.524 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:01:41.525 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:01:41.526 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:01:41.528 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:01:41.529 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:01:41.531 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:01:41.532 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:01:41.533 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:01:41.535 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:01:41.536 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:01:41.537 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:01:41.539 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:01:41.540 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:01:41.542 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:01:41.543 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:01:41.543 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:01:41.592 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:01:41.592 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:01:41.594 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:01:41.595 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:01:41.597 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:01:41.598 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:01:41.600 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:01:41.601 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:01:41.603 +08:00 [INF] JWT Claim: jti = 372be12c-6bb9-4f64-aed6-c398343c7ba3
2025-05-30 17:01:41.604 +08:00 [INF] JWT Claim: jti = 372be12c-6bb9-4f64-aed6-c398343c7ba3
2025-05-30 17:01:41.606 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:01:41.607 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:01:41.609 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:01:41.610 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:01:41.611 +08:00 [INF] JWT Claim: exp = 1748595794
2025-05-30 17:01:41.613 +08:00 [INF] JWT Claim: exp = 1748595794
2025-05-30 17:01:41.615 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:01:41.617 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:01:41.618 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:01:41.620 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:01:41.622 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:01:41.623 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:01:41.724 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:01:41.724 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:01:41.758 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 17:01:41.758 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 17:01:41.779 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 17:01:41.780 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 17:01:42.757 +08:00 [WRN] No store type was specified for the decimal property 'MaxArea' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 17:01:42.759 +08:00 [WRN] No store type was specified for the decimal property 'MaxPrice' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 17:01:42.762 +08:00 [WRN] No store type was specified for the decimal property 'MinArea' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 17:01:42.765 +08:00 [WRN] No store type was specified for the decimal property 'MinPrice' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 17:01:42.767 +08:00 [WRN] No store type was specified for the decimal property 'Area' on entity type 'Property'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 17:01:42.770 +08:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Property'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 17:01:43.171 +08:00 [INF] 获取客户统计数据
2025-05-30 17:01:43.236 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 17:01:44.044 +08:00 [INF] Executed DbCommand (59ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 17:01:44.044 +08:00 [INF] Executed DbCommand (59ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
2025-05-30 17:01:44.165 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 17:01:44.200 +08:00 [INF] Executed DbCommand (39ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 17:01:44.213 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 2422.7571ms
2025-05-30 17:01:44.214 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 17:01:44.220 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 17:01:44.236 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 200 null application/json; charset=utf-8 2816.4789ms
2025-05-30 17:01:44.266 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 2482.1062ms
2025-05-30 17:01:44.269 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 17:01:44.272 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 2851.9019ms
2025-05-30 17:01:44.771 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 17:01:44.777 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:01:44.779 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 17:01:44.781 +08:00 [INF] 请求方法: GET
2025-05-30 17:01:44.783 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:01:44.785 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 17:01:44.787 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:01:44.789 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:01:44.791 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:01:44.793 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzcyYmUxMmMtNmJiOS00ZjY0LWFlZDYtYzM5ODM0M2M3YmEzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTU3OTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.qSD5aN5DyPNOWODw-CbKsdm7RzDBWN7bBUH0S58tu3c
2025-05-30 17:01:44.796 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:01:44.798 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:01:44.800 +08:00 [INF] 请求头: traceparent = 00-26b7e87fbda07fb44ca40ce8ec3a5f69-0124baccb4dfff3d-00
2025-05-30 17:01:44.802 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 17:01:44.804 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:01:44.806 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:01:44.809 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:01:44.810 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:01:44.813 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:01:44.815 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:01:44.817 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:01:44.819 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:01:44.820 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:01:44.822 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:01:44.824 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:01:44.826 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:01:44.828 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:01:44.830 +08:00 [INF] JWT Claim: jti = 372be12c-6bb9-4f64-aed6-c398343c7ba3
2025-05-30 17:01:44.831 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:01:44.833 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:01:44.835 +08:00 [INF] JWT Claim: exp = 1748595794
2025-05-30 17:01:44.837 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:01:44.839 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:01:44.841 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:01:44.846 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:01:44.852 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 17:01:44.854 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 17:01:44.912 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 17:01:44.916 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:01:44.917 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 17:01:44.918 +08:00 [INF] 请求方法: GET
2025-05-30 17:01:44.919 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:01:44.921 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 17:01:44.923 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:01:44.924 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:01:44.926 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:01:44.927 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiMzcyYmUxMmMtNmJiOS00ZjY0LWFlZDYtYzM5ODM0M2M3YmEzIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTU3OTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.qSD5aN5DyPNOWODw-CbKsdm7RzDBWN7bBUH0S58tu3c
2025-05-30 17:01:44.929 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:01:44.931 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:01:44.932 +08:00 [INF] 获取客户统计数据
2025-05-30 17:01:44.932 +08:00 [INF] 请求头: traceparent = 00-bfe471e6973243e0ec98b7a296a51edc-599466b0c4823d22-00
2025-05-30 17:01:44.935 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 17:01:44.938 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:01:44.938 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
2025-05-30 17:01:44.941 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:01:44.945 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:01:44.945 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 17:01:44.946 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:01:44.949 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 90.7938ms
2025-05-30 17:01:44.950 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:01:44.952 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 17:01:44.953 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:01:44.955 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 200 null application/json; charset=utf-8 184.5577ms
2025-05-30 17:01:44.956 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:01:44.963 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:01:44.964 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:01:44.965 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:01:44.967 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:01:44.969 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:01:44.970 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:01:44.972 +08:00 [INF] JWT Claim: jti = 372be12c-6bb9-4f64-aed6-c398343c7ba3
2025-05-30 17:01:44.974 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:01:44.975 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:01:44.977 +08:00 [INF] JWT Claim: exp = 1748595794
2025-05-30 17:01:44.979 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:01:44.980 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:01:44.982 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:01:44.984 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:01:44.985 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 17:01:44.987 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 17:01:44.993 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 17:01:45.005 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 17:01:45.015 +08:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 17:01:45.019 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 17:01:45.022 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 32.7268ms
2025-05-30 17:01:45.024 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 17:01:45.026 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 113.6944ms
2025-05-30 17:04:16.315 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 17:04:16.323 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:04:16.325 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 17:04:16.327 +08:00 [INF] 请求方法: GET
2025-05-30 17:04:16.328 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:04:16.331 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 17:04:16.334 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:04:16.336 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:04:16.339 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:04:16.342 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2M0MjE3YjMtOGM3Yi00MTJhLThmMjgtNjg5ZDJiZjZhOGIyIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTY0NTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.yueiZA2M5TxaXDfhGSbp_0sU2QZVtPnMfjIYlbxnJkc
2025-05-30 17:04:16.346 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:04:16.349 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:04:16.352 +08:00 [INF] 请求头: traceparent = 00-012ad6a3095aa1404bd566e6aecb414f-654579e51638084a-00
2025-05-30 17:04:16.355 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 17:04:16.358 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:04:16.361 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:04:16.364 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:04:16.367 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:04:16.370 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:04:16.373 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:04:16.376 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:04:16.379 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:04:16.381 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:04:16.384 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:04:16.386 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:04:16.390 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:04:16.393 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:04:16.396 +08:00 [INF] JWT Claim: jti = cc4217b3-8c7b-412a-8f28-689d2bf6a8b2
2025-05-30 17:04:16.399 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:04:16.402 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:04:16.409 +08:00 [INF] JWT Claim: exp = 1748596454
2025-05-30 17:04:16.413 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:04:16.416 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:04:16.419 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:04:16.422 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:04:16.425 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 17:04:16.428 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 17:04:16.441 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 17:04:16.471 +08:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 17:04:16.491 +08:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 17:04:16.498 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 17:04:16.503 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 67.9119ms
2025-05-30 17:04:16.506 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 17:04:16.511 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 195.4416ms
2025-05-30 17:04:16.693 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 17:04:16.702 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:04:16.705 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 17:04:16.708 +08:00 [INF] 请求方法: GET
2025-05-30 17:04:16.711 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:04:16.715 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 17:04:16.718 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:04:16.722 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:04:16.727 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:04:16.731 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiY2M0MjE3YjMtOGM3Yi00MTJhLThmMjgtNjg5ZDJiZjZhOGIyIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTY0NTQsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.yueiZA2M5TxaXDfhGSbp_0sU2QZVtPnMfjIYlbxnJkc
2025-05-30 17:04:16.734 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:04:16.738 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:04:16.741 +08:00 [INF] 请求头: traceparent = 00-2f9bc57a0b5274a76e24ef52749a76fe-a43ac8a92de1763e-00
2025-05-30 17:04:16.745 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 17:04:16.748 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:04:16.752 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:04:16.755 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:04:16.759 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:04:16.763 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:04:16.766 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:04:16.769 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:04:16.773 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:04:16.775 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:04:16.778 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:04:16.781 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:04:16.784 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:04:16.789 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:04:16.792 +08:00 [INF] JWT Claim: jti = cc4217b3-8c7b-412a-8f28-689d2bf6a8b2
2025-05-30 17:04:16.796 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:04:16.799 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:04:16.802 +08:00 [INF] JWT Claim: exp = 1748596454
2025-05-30 17:04:16.806 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:04:16.809 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:04:16.812 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:04:16.815 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:04:16.819 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 17:04:16.823 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 17:04:16.831 +08:00 [INF] 获取客户统计数据
2025-05-30 17:04:16.840 +08:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
2025-05-30 17:04:16.849 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 17:04:16.853 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 24.756ms
2025-05-30 17:04:16.858 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 17:04:16.862 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 200 null application/json; charset=utf-8 168.5431ms
2025-05-30 17:14:31.041 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-30 17:14:31.701 +08:00 [INF] Now listening on: https://localhost:5003
2025-05-30 17:14:32.580 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 17:14:32.584 +08:00 [INF] Hosting environment: Development
2025-05-30 17:14:32.588 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.ClientService
2025-05-30 17:14:35.273 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5003/_vs/browserLink - null null
2025-05-30 17:14:35.273 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5003/_framework/aspnetcore-browser-refresh.js - null null
2025-05-30 17:14:35.450 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5003/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 156.8985ms
2025-05-30 17:14:35.543 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5003/_vs/browserLink - 200 null text/javascript; charset=UTF-8 278.0022ms
2025-05-30 17:14:36.226 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/v1/swagger.json - null null
2025-05-30 17:14:36.363 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 136.2102ms
2025-05-30 17:14:49.253 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 17:14:49.253 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 17:14:49.321 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:14:49.321 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:14:49.325 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 17:14:49.325 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 17:14:49.326 +08:00 [INF] 请求方法: GET
2025-05-30 17:14:49.327 +08:00 [INF] 请求方法: GET
2025-05-30 17:14:49.329 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:14:49.330 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:14:49.332 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 17:14:49.333 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 17:14:49.335 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:14:49.336 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:14:49.338 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:14:49.340 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:14:49.342 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:14:49.343 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:14:49.345 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiN2I0ZTczOGUtYTgzNC00NGY4LTkzMWQtZmE4M2NmNGNjMTZkIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTcwODgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.CS61lcwn8JzBO61YU-08VSmqpg-lpUrSLG6iiUuEczs
2025-05-30 17:14:49.347 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiN2I0ZTczOGUtYTgzNC00NGY4LTkzMWQtZmE4M2NmNGNjMTZkIiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTcwODgsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.CS61lcwn8JzBO61YU-08VSmqpg-lpUrSLG6iiUuEczs
2025-05-30 17:14:49.348 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:14:49.350 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:14:49.352 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:14:49.354 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:14:49.355 +08:00 [INF] 请求头: traceparent = 00-46e3103c89b6da6e074396572e4e4300-afd3394104c3614c-00
2025-05-30 17:14:49.357 +08:00 [INF] 请求头: traceparent = 00-b15930e07a2a7e3c02bdcef1728cc7a6-9cf2821b0afe4dd6-00
2025-05-30 17:14:49.359 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 17:14:49.360 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 17:14:49.362 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:14:49.364 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:14:49.365 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:14:49.367 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:14:49.369 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:14:49.371 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:14:49.372 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:14:49.374 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:14:49.376 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:14:49.377 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:14:49.379 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:14:49.381 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:14:49.383 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:14:49.385 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:14:49.387 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:14:49.388 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:14:49.390 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:14:49.391 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:14:49.455 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:14:49.455 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:14:49.457 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:14:49.458 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:14:49.460 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:14:49.462 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:14:49.464 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:14:49.466 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:14:49.468 +08:00 [INF] JWT Claim: jti = 7b4e738e-a834-44f8-931d-fa83cf4cc16d
2025-05-30 17:14:49.470 +08:00 [INF] JWT Claim: jti = 7b4e738e-a834-44f8-931d-fa83cf4cc16d
2025-05-30 17:14:49.472 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:14:49.474 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:14:49.476 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:14:49.477 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:14:49.479 +08:00 [INF] JWT Claim: exp = 1748597088
2025-05-30 17:14:49.481 +08:00 [INF] JWT Claim: exp = 1748597088
2025-05-30 17:14:49.483 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:14:49.485 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:14:49.487 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:14:49.489 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:14:49.491 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:14:49.493 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:14:49.618 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:14:49.618 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:14:49.657 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 17:14:49.657 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 17:14:49.699 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 17:14:49.701 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 17:14:50.699 +08:00 [WRN] No store type was specified for the decimal property 'MaxArea' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 17:14:50.702 +08:00 [WRN] No store type was specified for the decimal property 'MaxPrice' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 17:14:50.704 +08:00 [WRN] No store type was specified for the decimal property 'MinArea' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 17:14:50.707 +08:00 [WRN] No store type was specified for the decimal property 'MinPrice' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 17:14:50.709 +08:00 [WRN] No store type was specified for the decimal property 'Area' on entity type 'Property'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 17:14:50.711 +08:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Property'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 17:14:50.947 +08:00 [INF] 获取客户统计数据
2025-05-30 17:14:51.009 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 17:14:51.789 +08:00 [INF] Executed DbCommand (61ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
2025-05-30 17:14:51.789 +08:00 [INF] Executed DbCommand (61ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 17:14:51.930 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 17:14:51.951 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 2244.6355ms
2025-05-30 17:14:51.954 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 17:14:51.956 +08:00 [INF] Executed DbCommand (49ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[Phone], [c].[Email], [c].[Type], [c].[Status], [c].[Address], [c].[CreateTime], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-30 17:14:51.964 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 17:14:51.967 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 200 null application/json; charset=utf-8 2713.4749ms
2025-05-30 17:14:52.005 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 2298.1514ms
2025-05-30 17:14:52.007 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 17:14:52.010 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 2756.4156ms
2025-05-30 17:43:31.240 +08:00 [INF] User profile is available. Using 'C:\Users\lsisl\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-30 17:43:32.126 +08:00 [INF] Now listening on: https://localhost:5003
2025-05-30 17:43:32.687 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-30 17:43:32.698 +08:00 [INF] Hosting environment: Development
2025-05-30 17:43:32.706 +08:00 [INF] Content root path: D:\Cshrap\RealEstateSolution\RealEstateSolution.ClientService
2025-05-30 17:43:38.050 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5003/_vs/browserLink - null null
2025-05-30 17:43:38.054 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5003/_framework/aspnetcore-browser-refresh.js - null null
2025-05-30 17:43:38.371 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5003/_framework/aspnetcore-browser-refresh.js - 200 13800 application/javascript; charset=utf-8 325.0899ms
2025-05-30 17:43:38.612 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5003/_vs/browserLink - 200 null text/javascript; charset=UTF-8 564.7205ms
2025-05-30 17:43:40.335 +08:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/v1/swagger.json - null null
2025-05-30 17:43:40.450 +08:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 114.8924ms
2025-05-30 17:44:52.584 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - null 0
2025-05-30 17:44:52.632 +08:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - null 0
2025-05-30 17:44:52.697 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:44:52.697 +08:00 [INF] === UserContextMiddleware 开始处理请求 ===
2025-05-30 17:44:52.701 +08:00 [INF] 请求路径: /api/Client/GetClients
2025-05-30 17:44:52.701 +08:00 [INF] 请求路径: /api/Client/GetClientStats/stats
2025-05-30 17:44:52.702 +08:00 [INF] 请求方法: GET
2025-05-30 17:44:52.703 +08:00 [INF] 请求方法: GET
2025-05-30 17:44:52.705 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:44:52.706 +08:00 [INF] 请求头: Accept = application/json, text/plain, */*
2025-05-30 17:44:52.707 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 17:44:52.708 +08:00 [INF] 请求头: Host = localhost:5003
2025-05-30 17:44:52.709 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:44:52.711 +08:00 [INF] 请求头: User-Agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-05-30 17:44:52.712 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:44:52.714 +08:00 [INF] 请求头: Accept-Encoding = gzip, deflate, br, zstd
2025-05-30 17:44:52.715 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:44:52.717 +08:00 [INF] 请求头: Accept-Language = zh-CN, zh; q=0.9, en; q=0.8, en-GB; q=0.7, en-US; q=0.6
2025-05-30 17:44:52.718 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOTVmNzc4YjMtZDlkZi00NTVhLWEwZWEtYzNmOTE4ZWIyZDE4IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTg4OTEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.FpxFDq1XcwZoPISAtXsyVM9UbrQeYews2VaiidwuyCM
2025-05-30 17:44:52.719 +08:00 [INF] 请求头: Authorization = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjZiZWU0ZGY1LTY2ZDEtNGNmNS05NzRmLTg2YjFmZmNlZjhiMyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJhZG1pbiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImxzaXN3aW5AZ21haWwuY29tIiwianRpIjoiOTVmNzc4YjMtZDlkZi00NTVhLWEwZWEtYzNmOTE4ZWIyZDE4IiwiU2VjdXJpdHlTdGFtcCI6IklFWlBCS0dJSTRZT1RLSjNPSUQ1R1hMNFBMQkgzVVpXIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiYWRtaW4iLCJleHAiOjE3NDg1OTg4OTEsImlzcyI6ImxzIiwiYXVkIjoiY29sZCJ9.FpxFDq1XcwZoPISAtXsyVM9UbrQeYews2VaiidwuyCM
2025-05-30 17:44:52.721 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:44:52.723 +08:00 [INF] 请求头: Origin = http://localhost:3000
2025-05-30 17:44:52.724 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:44:52.726 +08:00 [INF] 请求头: Referer = http://localhost:3000/
2025-05-30 17:44:52.727 +08:00 [INF] 请求头: traceparent = 00-d88e9ed857437fb3f1abae1ef2bc1c45-4862a8eb9fdaf6de-00
2025-05-30 17:44:52.729 +08:00 [INF] 请求头: traceparent = 00-7bfa4ed47244200fa4682d36395ca64e-80f13e9e49247311-00
2025-05-30 17:44:52.730 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 17:44:52.732 +08:00 [INF] 请求头: Content-Length = 0
2025-05-30 17:44:52.734 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:44:52.735 +08:00 [INF] 请求头: sec-ch-ua-platform = "Windows"
2025-05-30 17:44:52.737 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:44:52.738 +08:00 [INF] 请求头: sec-ch-ua = "Not(A:Brand";v="99", "Microsoft Edge";v="133", "Chromium";v="133"
2025-05-30 17:44:52.739 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:44:52.741 +08:00 [INF] 请求头: sec-ch-ua-mobile = ?0
2025-05-30 17:44:52.742 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:44:52.744 +08:00 [INF] 请求头: sec-fetch-site = cross-site
2025-05-30 17:44:52.745 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:44:52.746 +08:00 [INF] 请求头: sec-fetch-mode = cors
2025-05-30 17:44:52.748 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:44:52.749 +08:00 [INF] 请求头: sec-fetch-dest = empty
2025-05-30 17:44:52.751 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:44:52.752 +08:00 [INF] 请求头: priority = u=1, i
2025-05-30 17:44:52.754 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:44:52.755 +08:00 [INF] 未从ApiGateway接收到X-User-Id头部
2025-05-30 17:44:52.757 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:44:52.758 +08:00 [INF] 检测到Authorization头部，将依赖JWT认证
2025-05-30 17:44:52.826 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:44:52.826 +08:00 [INF] JWT令牌解析成功，Claims数量: 9
2025-05-30 17:44:52.829 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:44:52.830 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:44:52.832 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:44:52.833 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name = admin
2025-05-30 17:44:52.835 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:44:52.836 +08:00 [INF] JWT Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = lsiswin@gmail.com
2025-05-30 17:44:52.838 +08:00 [INF] JWT Claim: jti = 95f778b3-d9df-455a-a0ea-c3f918eb2d18
2025-05-30 17:44:52.839 +08:00 [INF] JWT Claim: jti = 95f778b3-d9df-455a-a0ea-c3f918eb2d18
2025-05-30 17:44:52.841 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:44:52.842 +08:00 [INF] JWT Claim: SecurityStamp = IEZPBKGII4YOTKJ3OID5GXL4PLBH3UZW
2025-05-30 17:44:52.844 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:44:52.845 +08:00 [INF] JWT Claim: http://schemas.microsoft.com/ws/2008/06/identity/claims/role = admin
2025-05-30 17:44:52.846 +08:00 [INF] JWT Claim: exp = 1748598891
2025-05-30 17:44:52.848 +08:00 [INF] JWT Claim: exp = 1748598891
2025-05-30 17:44:52.849 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:44:52.851 +08:00 [INF] JWT Claim: iss = ls
2025-05-30 17:44:52.853 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:44:52.854 +08:00 [INF] JWT Claim: aud = cold
2025-05-30 17:44:52.855 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:44:52.857 +08:00 [INF] === UserContextMiddleware 处理完成 ===
2025-05-30 17:44:52.981 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:44:52.981 +08:00 [INF] 用户身份验证成功: 6bee4df5-66d1-4cf5-974f-86b1ffcef8b3
2025-05-30 17:44:53.025 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 17:44:53.025 +08:00 [INF] Executing endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 17:44:53.055 +08:00 [INF] Route matched with {action = "GetClientStats", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.ClientService.Dtos.ClientStatsDto]] GetClientStats() on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 17:44:53.057 +08:00 [INF] Route matched with {action = "GetClients", controller = "Client"}. Executing controller action with signature System.Threading.Tasks.Task`1[RealEstateSolution.Common.Utils.ApiResponse`1[RealEstateSolution.Common.Utils.PagedList`1[RealEstateSolution.ClientService.Dtos.ClientDto]]] GetClients(RealEstateSolution.ClientService.Dtos.ClientQueryDto) on controller RealEstateSolution.ClientService.Controllers.ClientController (RealEstateSolution.ClientService).
2025-05-30 17:44:54.024 +08:00 [WRN] No store type was specified for the decimal property 'MaxArea' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 17:44:54.025 +08:00 [WRN] No store type was specified for the decimal property 'MaxPrice' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 17:44:54.026 +08:00 [WRN] No store type was specified for the decimal property 'MinArea' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 17:44:54.028 +08:00 [WRN] No store type was specified for the decimal property 'MinPrice' on entity type 'ClientRequirements'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 17:44:54.029 +08:00 [WRN] No store type was specified for the decimal property 'Area' on entity type 'Property'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 17:44:54.031 +08:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Property'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-30 17:44:54.250 +08:00 [INF] 获取客户统计数据
2025-05-30 17:44:54.296 +08:00 [INF] 获取客户列表 - 查询参数:{"PageIndex":1,"PageSize":5,"Name":null,"Phone":null,"Email":null,"Type":null,"Status":null,"Keyword":null,"$type":"ClientQueryDto"}
2025-05-30 17:44:55.087 +08:00 [INF] Executed DbCommand (77ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
2025-05-30 17:44:55.087 +08:00 [INF] Executed DbCommand (77ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Address], [c].[CreateTime], [c].[Email], [c].[Name], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdateTime]
FROM [Clients] AS [c]
ORDER BY [c].[CreateTime] DESC
2025-05-30 17:44:55.175 +08:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
WHERE [c].[Status] = 2
2025-05-30 17:44:55.186 +08:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
WHERE [c].[Status] = 4
2025-05-30 17:44:55.194 +08:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Clients] AS [c]
WHERE [c].[Status] = 1
2025-05-30 17:44:55.209 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.ClientService.Dtos.ClientStatsDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 17:44:55.227 +08:00 [INF] Executing ObjectResult, writing value of type 'RealEstateSolution.Common.Utils.ApiResponse`1[[RealEstateSolution.Common.Utils.PagedList`1[[RealEstateSolution.ClientService.Dtos.ClientDto, RealEstateSolution.ClientService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], RealEstateSolution.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-30 17:44:55.233 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService) in 2169.9392ms
2025-05-30 17:44:55.236 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClientStats (RealEstateSolution.ClientService)'
2025-05-30 17:44:55.246 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClientStats/stats - 200 null application/json; charset=utf-8 2661.4213ms
2025-05-30 17:44:55.265 +08:00 [INF] Executed action RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService) in 2204.4324ms
2025-05-30 17:44:55.268 +08:00 [INF] Executed endpoint 'RealEstateSolution.ClientService.Controllers.ClientController.GetClients (RealEstateSolution.ClientService)'
2025-05-30 17:44:55.270 +08:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/api/Client/GetClients?name=&phone=&pageIndex=1&pageSize=5 - 200 null application/json; charset=utf-8 2637.7733ms
